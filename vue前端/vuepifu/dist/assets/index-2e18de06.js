var x8=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ixe=x8((er,mr)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function i(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=i(o);fetch(o.href,a)}})();function Aw(e,t){const i=Object.create(null),s=e.split(",");for(let o=0;o<s.length;o++)i[s[o]]=!0;return t?o=>!!i[o.toLowerCase()]:o=>!!i[o]}function Wt(e){if(Nt(e)){const t={};for(let i=0;i<e.length;i++){const s=e[i],o=un(s)?T8(s):Wt(s);if(o)for(const a in o)t[a]=o[a]}return t}else{if(un(e))return e;if(Pn(e))return e}}const M8=/;(?![^(]*\))/g,E8=/:([^]+)/,C8=/\/\*.*?\*\//gs;function T8(e){const t={};return e.replace(C8,"").split(M8).forEach(i=>{if(i){const s=i.split(E8);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function U(e){let t="";if(un(e))t=e;else if(Nt(e))for(let i=0;i<e.length;i++){const s=U(e[i]);s&&(t+=s+" ")}else if(Pn(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}function Eo(e){if(!e)return null;let{class:t,style:i}=e;return t&&!un(t)&&(e.class=U(t)),i&&(e.style=Wt(i)),e}const A8="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",R8=Aw(A8);function ak(e){return!!e||e===""}function k8(e,t){if(e.length!==t.length)return!1;let i=!0;for(let s=0;i&&s<e.length;s++)i=kd(e[s],t[s]);return i}function kd(e,t){if(e===t)return!0;let i=jc(e),s=jc(t);if(i||s)return i&&s?e.getTime()===t.getTime():!1;if(i=Bh(e),s=Bh(t),i||s)return e===t;if(i=Nt(e),s=Nt(t),i||s)return i&&s?k8(e,t):!1;if(i=Pn(e),s=Pn(t),i||s){if(!i||!s)return!1;const o=Object.keys(e).length,a=Object.keys(t).length;if(o!==a)return!1;for(const l in e){const u=e.hasOwnProperty(l),f=t.hasOwnProperty(l);if(u&&!f||!u&&f||!kd(e[l],t[l]))return!1}}return String(e)===String(t)}function lk(e,t){return e.findIndex(i=>kd(i,t))}const ft=e=>un(e)?e:e==null?"":Nt(e)||Pn(e)&&(e.toString===uk||!an(e.toString))?JSON.stringify(e,ck,2):String(e),ck=(e,t)=>t&&t.__v_isRef?ck(e,t.value):bd(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[s,o])=>(i[`${s} =>`]=o,i),{})}:i0(t)?{[`Set(${t.size})`]:[...t.values()]}:Pn(t)&&!Nt(t)&&!dk(t)?String(t):t,Qi={},yd=[],_i=()=>{},P8=()=>!1,I8=/^on[^a-z]/,n0=e=>I8.test(e),Rw=e=>e.startsWith("onUpdate:"),As=Object.assign,kw=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},L8=Object.prototype.hasOwnProperty,Gn=(e,t)=>L8.call(e,t),Nt=Array.isArray,bd=e=>_p(e)==="[object Map]",i0=e=>_p(e)==="[object Set]",jc=e=>_p(e)==="[object Date]",an=e=>typeof e=="function",un=e=>typeof e=="string",Bh=e=>typeof e=="symbol",Pn=e=>e!==null&&typeof e=="object",zh=e=>Pn(e)&&an(e.then)&&an(e.catch),uk=Object.prototype.toString,_p=e=>uk.call(e),jg=e=>_p(e).slice(8,-1),dk=e=>_p(e)==="[object Object]",Pw=e=>un(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Xg=Aw(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),s0=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},N8=/-(\w)/g,eo=s0(e=>e.replace(N8,(t,i)=>i?i.toUpperCase():"")),O8=/\B([A-Z])/g,zl=s0(e=>e.replace(O8,"-$1").toLowerCase()),wp=s0(e=>e.charAt(0).toUpperCase()+e.slice(1)),Yg=s0(e=>e?`on${wp(e)}`:""),$h=(e,t)=>!Object.is(e,t),Zg=(e,t)=>{for(let i=0;i<e.length;i++)e[i](t)},Rv=(e,t,i)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:i})},t1=e=>{const t=parseFloat(e);return isNaN(t)?e:t},D8=e=>{const t=un(e)?Number(e):NaN;return isNaN(t)?e:t};let kC;const F8=()=>kC||(kC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ir;class fk{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ir,!t&&Ir&&(this.index=(Ir.scopes||(Ir.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const i=Ir;try{return Ir=this,t()}finally{Ir=i}}}on(){Ir=this}off(){Ir=this.parent}stop(t){if(this._active){let i,s;for(i=0,s=this.effects.length;i<s;i++)this.effects[i].stop();for(i=0,s=this.cleanups.length;i<s;i++)this.cleanups[i]();if(this.scopes)for(i=0,s=this.scopes.length;i<s;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function B8(e){return new fk(e)}function z8(e,t=Ir){t&&t.active&&t.effects.push(e)}function hk(){return Ir}function pk(e){Ir&&Ir.cleanups.push(e)}const Iw=e=>{const t=new Set(e);return t.w=0,t.n=0,t},mk=e=>(e.w&Ll)>0,gk=e=>(e.n&Ll)>0,$8=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Ll},U8=e=>{const{deps:t}=e;if(t.length){let i=0;for(let s=0;s<t.length;s++){const o=t[s];mk(o)&&!gk(o)?o.delete(e):t[i++]=o,o.w&=~Ll,o.n&=~Ll}t.length=i}},kv=new WeakMap;let bh=0,Ll=1;const n1=30;let Mo;const $c=Symbol(""),i1=Symbol("");class Lw{constructor(t,i=null,s){this.fn=t,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,z8(this,s)}run(){if(!this.active)return this.fn();let t=Mo,i=Rl;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Mo,Mo=this,Rl=!0,Ll=1<<++bh,bh<=n1?$8(this):PC(this),this.fn()}finally{bh<=n1&&U8(this),Ll=1<<--bh,Mo=this.parent,Rl=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Mo===this?this.deferStop=!0:this.active&&(PC(this),this.onStop&&this.onStop(),this.active=!1)}}function PC(e){const{deps:t}=e;if(t.length){for(let i=0;i<t.length;i++)t[i].delete(e);t.length=0}}let Rl=!0;const vk=[];function tf(){vk.push(Rl),Rl=!1}function nf(){const e=vk.pop();Rl=e===void 0?!0:e}function br(e,t,i){if(Rl&&Mo){let s=kv.get(e);s||kv.set(e,s=new Map);let o=s.get(i);o||s.set(i,o=Iw()),yk(o)}}function yk(e,t){let i=!1;bh<=n1?gk(e)||(e.n|=Ll,i=!mk(e)):i=!e.has(Mo),i&&(e.add(Mo),Mo.deps.push(e))}function $a(e,t,i,s,o,a){const l=kv.get(e);if(!l)return;let u=[];if(t==="clear")u=[...l.values()];else if(i==="length"&&Nt(e)){const f=Number(s);l.forEach((p,g)=>{(g==="length"||g>=f)&&u.push(p)})}else switch(i!==void 0&&u.push(l.get(i)),t){case"add":Nt(e)?Pw(i)&&u.push(l.get("length")):(u.push(l.get($c)),bd(e)&&u.push(l.get(i1)));break;case"delete":Nt(e)||(u.push(l.get($c)),bd(e)&&u.push(l.get(i1)));break;case"set":bd(e)&&u.push(l.get($c));break}if(u.length===1)u[0]&&s1(u[0]);else{const f=[];for(const p of u)p&&f.push(...p);s1(Iw(f))}}function s1(e,t){const i=Nt(e)?e:[...e];for(const s of i)s.computed&&IC(s);for(const s of i)s.computed||IC(s)}function IC(e,t){(e!==Mo||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function V8(e,t){var i;return(i=kv.get(e))===null||i===void 0?void 0:i.get(t)}const H8=Aw("__proto__,__v_isRef,__isVue"),bk=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Bh)),W8=Nw(),G8=Nw(!1,!0),K8=Nw(!0),LC=q8();function q8(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...i){const s=hi(this);for(let a=0,l=this.length;a<l;a++)br(s,"get",a+"");const o=s[t](...i);return o===-1||o===!1?s[t](...i.map(hi)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...i){tf();const s=hi(this)[t].apply(this,i);return nf(),s}}),e}function j8(e){const t=hi(this);return br(t,"has",e),t.hasOwnProperty(e)}function Nw(e=!1,t=!1){return function(s,o,a){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&a===(e?t?uV:Mk:t?xk:Sk).get(s))return s;const l=Nt(s);if(!e){if(l&&Gn(LC,o))return Reflect.get(LC,o,a);if(o==="hasOwnProperty")return j8}const u=Reflect.get(s,o,a);return(Bh(o)?bk.has(o):H8(o))||(e||br(s,"get",o),t)?u:Ti(u)?l&&Pw(o)?u:u.value:Pn(u)?e?sf(u):ai(u):u}}const X8=_k(),Y8=_k(!0);function _k(e=!1){return function(i,s,o,a){let l=i[s];if(Pd(l)&&Ti(l)&&!Ti(o))return!1;if(!e&&(!Pv(o)&&!Pd(o)&&(l=hi(l),o=hi(o)),!Nt(i)&&Ti(l)&&!Ti(o)))return l.value=o,!0;const u=Nt(i)&&Pw(s)?Number(s)<i.length:Gn(i,s),f=Reflect.set(i,s,o,a);return i===hi(a)&&(u?$h(o,l)&&$a(i,"set",s,o):$a(i,"add",s,o)),f}}function Z8(e,t){const i=Gn(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&i&&$a(e,"delete",t,void 0),s}function J8(e,t){const i=Reflect.has(e,t);return(!Bh(t)||!bk.has(t))&&br(e,"has",t),i}function Q8(e){return br(e,"iterate",Nt(e)?"length":$c),Reflect.ownKeys(e)}const wk={get:W8,set:X8,deleteProperty:Z8,has:J8,ownKeys:Q8},eV={get:K8,set(e,t){return!0},deleteProperty(e,t){return!0}},tV=As({},wk,{get:G8,set:Y8}),Ow=e=>e,r0=e=>Reflect.getPrototypeOf(e);function eg(e,t,i=!1,s=!1){e=e.__v_raw;const o=hi(e),a=hi(t);i||(t!==a&&br(o,"get",t),br(o,"get",a));const{has:l}=r0(o),u=s?Ow:i?Bw:Uh;if(l.call(o,t))return u(e.get(t));if(l.call(o,a))return u(e.get(a));e!==o&&e.get(t)}function tg(e,t=!1){const i=this.__v_raw,s=hi(i),o=hi(e);return t||(e!==o&&br(s,"has",e),br(s,"has",o)),e===o?i.has(e):i.has(e)||i.has(o)}function ng(e,t=!1){return e=e.__v_raw,!t&&br(hi(e),"iterate",$c),Reflect.get(e,"size",e)}function NC(e){e=hi(e);const t=hi(this);return r0(t).has.call(t,e)||(t.add(e),$a(t,"add",e,e)),this}function OC(e,t){t=hi(t);const i=hi(this),{has:s,get:o}=r0(i);let a=s.call(i,e);a||(e=hi(e),a=s.call(i,e));const l=o.call(i,e);return i.set(e,t),a?$h(t,l)&&$a(i,"set",e,t):$a(i,"add",e,t),this}function DC(e){const t=hi(this),{has:i,get:s}=r0(t);let o=i.call(t,e);o||(e=hi(e),o=i.call(t,e)),s&&s.call(t,e);const a=t.delete(e);return o&&$a(t,"delete",e,void 0),a}function FC(){const e=hi(this),t=e.size!==0,i=e.clear();return t&&$a(e,"clear",void 0,void 0),i}function ig(e,t){return function(s,o){const a=this,l=a.__v_raw,u=hi(l),f=t?Ow:e?Bw:Uh;return!e&&br(u,"iterate",$c),l.forEach((p,g)=>s.call(o,f(p),f(g),a))}}function sg(e,t,i){return function(...s){const o=this.__v_raw,a=hi(o),l=bd(a),u=e==="entries"||e===Symbol.iterator&&l,f=e==="keys"&&l,p=o[e](...s),g=i?Ow:t?Bw:Uh;return!t&&br(a,"iterate",f?i1:$c),{next(){const{value:v,done:b}=p.next();return b?{value:v,done:b}:{value:u?[g(v[0]),g(v[1])]:g(v),done:b}},[Symbol.iterator](){return this}}}}function dl(e){return function(...t){return e==="delete"?!1:this}}function nV(){const e={get(a){return eg(this,a)},get size(){return ng(this)},has:tg,add:NC,set:OC,delete:DC,clear:FC,forEach:ig(!1,!1)},t={get(a){return eg(this,a,!1,!0)},get size(){return ng(this)},has:tg,add:NC,set:OC,delete:DC,clear:FC,forEach:ig(!1,!0)},i={get(a){return eg(this,a,!0)},get size(){return ng(this,!0)},has(a){return tg.call(this,a,!0)},add:dl("add"),set:dl("set"),delete:dl("delete"),clear:dl("clear"),forEach:ig(!0,!1)},s={get(a){return eg(this,a,!0,!0)},get size(){return ng(this,!0)},has(a){return tg.call(this,a,!0)},add:dl("add"),set:dl("set"),delete:dl("delete"),clear:dl("clear"),forEach:ig(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=sg(a,!1,!1),i[a]=sg(a,!0,!1),t[a]=sg(a,!1,!0),s[a]=sg(a,!0,!0)}),[e,i,t,s]}const[iV,sV,rV,oV]=nV();function Dw(e,t){const i=t?e?oV:rV:e?sV:iV;return(s,o,a)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(Gn(i,o)&&o in s?i:s,o,a)}const aV={get:Dw(!1,!1)},lV={get:Dw(!1,!0)},cV={get:Dw(!0,!1)},Sk=new WeakMap,xk=new WeakMap,Mk=new WeakMap,uV=new WeakMap;function dV(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fV(e){return e.__v_skip||!Object.isExtensible(e)?0:dV(jg(e))}function ai(e){return Pd(e)?e:Fw(e,!1,wk,aV,Sk)}function Ek(e){return Fw(e,!1,tV,lV,xk)}function sf(e){return Fw(e,!0,eV,cV,Mk)}function Fw(e,t,i,s,o){if(!Pn(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=o.get(e);if(a)return a;const l=fV(e);if(l===0)return e;const u=new Proxy(e,l===2?s:i);return o.set(e,u),u}function _d(e){return Pd(e)?_d(e.__v_raw):!!(e&&e.__v_isReactive)}function Pd(e){return!!(e&&e.__v_isReadonly)}function Pv(e){return!!(e&&e.__v_isShallow)}function Ck(e){return _d(e)||Pd(e)}function hi(e){const t=e&&e.__v_raw;return t?hi(t):e}function Uc(e){return Rv(e,"__v_skip",!0),e}const Uh=e=>Pn(e)?ai(e):e,Bw=e=>Pn(e)?sf(e):e;function Tk(e){Rl&&Mo&&(e=hi(e),yk(e.dep||(e.dep=Iw())))}function zw(e,t){e=hi(e);const i=e.dep;i&&s1(i)}function Ti(e){return!!(e&&e.__v_isRef===!0)}function X(e){return Ak(e,!1)}function ki(e){return Ak(e,!0)}function Ak(e,t){return Ti(e)?e:new hV(e,t)}class hV{constructor(t,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?t:hi(t),this._value=i?t:Uh(t)}get value(){return Tk(this),this._value}set value(t){const i=this.__v_isShallow||Pv(t)||Pd(t);t=i?t:hi(t),$h(t,this._rawValue)&&(this._rawValue=t,this._value=i?t:Uh(t),zw(this))}}function rh(e){zw(e)}function h(e){return Ti(e)?e.value:e}const pV={get:(e,t,i)=>h(Reflect.get(e,t,i)),set:(e,t,i,s)=>{const o=e[t];return Ti(o)&&!Ti(i)?(o.value=i,!0):Reflect.set(e,t,i,s)}};function Rk(e){return _d(e)?e:new Proxy(e,pV)}function gs(e){const t=Nt(e)?new Array(e.length):{};for(const i in e)t[i]=Oi(e,i);return t}class mV{constructor(t,i,s){this._object=t,this._key=i,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return V8(hi(this._object),this._key)}}function Oi(e,t,i){const s=e[t];return Ti(s)?s:new mV(e,t,i)}var kk;class gV{constructor(t,i,s,o){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this[kk]=!1,this._dirty=!0,this.effect=new Lw(t,()=>{this._dirty||(this._dirty=!0,zw(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=s}get value(){const t=hi(this);return Tk(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}kk="__v_isReadonly";function Pk(e,t,i=!1){let s,o;const a=an(e);return a?(s=e,o=_i):(s=e.get,o=e.set),new gV(s,o,a||!o,i)}function vV(e,...t){}function kl(e,t,i,s){let o;try{o=s?e(...s):e()}catch(a){o0(a,t,i)}return o}function Yr(e,t,i,s){if(an(e)){const a=kl(e,t,i,s);return a&&zh(a)&&a.catch(l=>{o0(l,t,i)}),a}const o=[];for(let a=0;a<e.length;a++)o.push(Yr(e[a],t,i,s));return o}function o0(e,t,i,s=!0){const o=t?t.vnode:null;if(t){let a=t.parent;const l=t.proxy,u=i;for(;a;){const p=a.ec;if(p){for(let g=0;g<p.length;g++)if(p[g](e,l,u)===!1)return}a=a.parent}const f=t.appContext.config.errorHandler;if(f){kl(f,null,10,[e,l,u]);return}}yV(e,i,o,s)}function yV(e,t,i,s=!0){console.error(e)}let Vh=!1,r1=!1;const Hs=[];let jo=0;const wd=[];let ka=null,Ac=0;const Ik=Promise.resolve();let $w=null;function Bt(e){const t=$w||Ik;return e?t.then(this?e.bind(this):e):t}function bV(e){let t=jo+1,i=Hs.length;for(;t<i;){const s=t+i>>>1;Hh(Hs[s])<e?t=s+1:i=s}return t}function Uw(e){(!Hs.length||!Hs.includes(e,Vh&&e.allowRecurse?jo+1:jo))&&(e.id==null?Hs.push(e):Hs.splice(bV(e.id),0,e),Lk())}function Lk(){!Vh&&!r1&&(r1=!0,$w=Ik.then(Ok))}function _V(e){const t=Hs.indexOf(e);t>jo&&Hs.splice(t,1)}function wV(e){Nt(e)?wd.push(...e):(!ka||!ka.includes(e,e.allowRecurse?Ac+1:Ac))&&wd.push(e),Lk()}function BC(e,t=Vh?jo+1:0){for(;t<Hs.length;t++){const i=Hs[t];i&&i.pre&&(Hs.splice(t,1),t--,i())}}function Nk(e){if(wd.length){const t=[...new Set(wd)];if(wd.length=0,ka){ka.push(...t);return}for(ka=t,ka.sort((i,s)=>Hh(i)-Hh(s)),Ac=0;Ac<ka.length;Ac++)ka[Ac]();ka=null,Ac=0}}const Hh=e=>e.id==null?1/0:e.id,SV=(e,t)=>{const i=Hh(e)-Hh(t);if(i===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return i};function Ok(e){r1=!1,Vh=!0,Hs.sort(SV);const t=_i;try{for(jo=0;jo<Hs.length;jo++){const i=Hs[jo];i&&i.active!==!1&&kl(i,null,14)}}finally{jo=0,Hs.length=0,Nk(),Vh=!1,$w=null,(Hs.length||wd.length)&&Ok()}}function xV(e,t,...i){if(e.isUnmounted)return;const s=e.vnode.props||Qi;let o=i;const a=t.startsWith("update:"),l=a&&t.slice(7);if(l&&l in s){const g=`${l==="modelValue"?"model":l}Modifiers`,{number:v,trim:b}=s[g]||Qi;b&&(o=i.map(w=>un(w)?w.trim():w)),v&&(o=i.map(t1))}let u,f=s[u=Yg(t)]||s[u=Yg(eo(t))];!f&&a&&(f=s[u=Yg(zl(t))]),f&&Yr(f,e,6,o);const p=s[u+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Yr(p,e,6,o)}}function Dk(e,t,i=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const a=e.emits;let l={},u=!1;if(!an(e)){const f=p=>{const g=Dk(p,t,!0);g&&(u=!0,As(l,g))};!i&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!a&&!u?(Pn(e)&&s.set(e,null),null):(Nt(a)?a.forEach(f=>l[f]=null):As(l,a),Pn(e)&&s.set(e,l),l)}function a0(e,t){return!e||!n0(t)?!1:(t=t.slice(2).replace(/Once$/,""),Gn(e,t[0].toLowerCase()+t.slice(1))||Gn(e,zl(t))||Gn(e,t))}let Ls=null,Fk=null;function Iv(e){const t=Ls;return Ls=e,Fk=e&&e.type.__scopeId||null,t}function ve(e,t=Ls,i){if(!t||e._n)return e;const s=(...o)=>{s._d&&XC(-1);const a=Iv(t);let l;try{l=e(...o)}finally{Iv(a),s._d&&XC(1)}return l};return s._n=!0,s._c=!0,s._d=!0,s}function Hb(e){const{type:t,vnode:i,proxy:s,withProxy:o,props:a,propsOptions:[l],slots:u,attrs:f,emit:p,render:g,renderCache:v,data:b,setupState:w,ctx:M,inheritAttrs:x}=e;let E,C;const k=Iv(e);try{if(i.shapeFlag&4){const P=o||s;E=qo(g.call(P,P,v,a,w,b,M)),C=f}else{const P=t;E=qo(P.length>1?P(a,{attrs:f,slots:u,emit:p}):P(a,null)),C=t.props?f:MV(f)}}catch(P){Ch.length=0,o0(P,e,1),E=fe(tr)}let R=E;if(C&&x!==!1){const P=Object.keys(C),{shapeFlag:O}=R;P.length&&O&7&&(l&&P.some(Rw)&&(C=EV(C,l)),R=Va(R,C))}return i.dirs&&(R=Va(R),R.dirs=R.dirs?R.dirs.concat(i.dirs):i.dirs),i.transition&&(R.transition=i.transition),E=R,Iv(k),E}const MV=e=>{let t;for(const i in e)(i==="class"||i==="style"||n0(i))&&((t||(t={}))[i]=e[i]);return t},EV=(e,t)=>{const i={};for(const s in e)(!Rw(s)||!(s.slice(9)in t))&&(i[s]=e[s]);return i};function CV(e,t,i){const{props:s,children:o,component:a}=e,{props:l,children:u,patchFlag:f}=t,p=a.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&f>=0){if(f&1024)return!0;if(f&16)return s?zC(s,l,p):!!l;if(f&8){const g=t.dynamicProps;for(let v=0;v<g.length;v++){const b=g[v];if(l[b]!==s[b]&&!a0(p,b))return!0}}}else return(o||u)&&(!u||!u.$stable)?!0:s===l?!1:s?l?zC(s,l,p):!0:!!l;return!1}function zC(e,t,i){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const a=s[o];if(t[a]!==e[a]&&!a0(i,a))return!0}return!1}function TV({vnode:e,parent:t},i){for(;t&&t.subTree===e;)(e=t.vnode).el=i,t=t.parent}const AV=e=>e.__isSuspense;function RV(e,t){t&&t.pendingBranch?Nt(e)?t.effects.push(...e):t.effects.push(e):wV(e)}function On(e,t){if(cs){let i=cs.provides;const s=cs.parent&&cs.parent.provides;s===i&&(i=cs.provides=Object.create(s)),i[e]=t}}function Lt(e,t,i=!1){const s=cs||Ls;if(s){const o=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return i&&an(t)?t.call(s.proxy):t}}function Dr(e,t){return Vw(e,null,t)}const rg={};function et(e,t,i){return Vw(e,t,i)}function Vw(e,t,{immediate:i,deep:s,flush:o,onTrack:a,onTrigger:l}=Qi){const u=hk()===(cs==null?void 0:cs.scope)?cs:null;let f,p=!1,g=!1;if(Ti(e)?(f=()=>e.value,p=Pv(e)):_d(e)?(f=()=>e,s=!0):Nt(e)?(g=!0,p=e.some(R=>_d(R)||Pv(R)),f=()=>e.map(R=>{if(Ti(R))return R.value;if(_d(R))return Lc(R);if(an(R))return kl(R,u,2)})):an(e)?t?f=()=>kl(e,u,2):f=()=>{if(!(u&&u.isUnmounted))return v&&v(),Yr(e,u,3,[b])}:f=_i,t&&s){const R=f;f=()=>Lc(R())}let v,b=R=>{v=C.onStop=()=>{kl(R,u,4)}},w;if(qh)if(b=_i,t?i&&Yr(t,u,3,[f(),g?[]:void 0,b]):f(),o==="sync"){const R=g5();w=R.__watcherHandles||(R.__watcherHandles=[])}else return _i;let M=g?new Array(e.length).fill(rg):rg;const x=()=>{if(C.active)if(t){const R=C.run();(s||p||(g?R.some((P,O)=>$h(P,M[O])):$h(R,M)))&&(v&&v(),Yr(t,u,3,[R,M===rg?void 0:g&&M[0]===rg?[]:M,b]),M=R)}else C.run()};x.allowRecurse=!!t;let E;o==="sync"?E=x:o==="post"?E=()=>pr(x,u&&u.suspense):(x.pre=!0,u&&(x.id=u.uid),E=()=>Uw(x));const C=new Lw(f,E);t?i?x():M=C.run():o==="post"?pr(C.run.bind(C),u&&u.suspense):C.run();const k=()=>{C.stop(),u&&u.scope&&kw(u.scope.effects,C)};return w&&w.push(k),k}function kV(e,t,i){const s=this.proxy,o=un(e)?e.includes(".")?Bk(s,e):()=>s[e]:e.bind(s,s);let a;an(t)?a=t:(a=t.handler,i=t);const l=cs;Ld(this);const u=Vw(o,a.bind(s),i);return l?Ld(l):Vc(),u}function Bk(e,t){const i=t.split(".");return()=>{let s=e;for(let o=0;o<i.length&&s;o++)s=s[i[o]];return s}}function Lc(e,t){if(!Pn(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ti(e))Lc(e.value,t);else if(Nt(e))for(let i=0;i<e.length;i++)Lc(e[i],t);else if(i0(e)||bd(e))e.forEach(i=>{Lc(i,t)});else if(dk(e))for(const i in e)Lc(e[i],t);return e}function zk(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return _n(()=>{e.isMounted=!0}),Di(()=>{e.isUnmounting=!0}),e}const Hr=[Function,Array],PV={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Hr,onEnter:Hr,onAfterEnter:Hr,onEnterCancelled:Hr,onBeforeLeave:Hr,onLeave:Hr,onAfterLeave:Hr,onLeaveCancelled:Hr,onBeforeAppear:Hr,onAppear:Hr,onAfterAppear:Hr,onAppearCancelled:Hr},setup(e,{slots:t}){const i=Tn(),s=zk();let o;return()=>{const a=t.default&&Hw(t.default(),!0);if(!a||!a.length)return;let l=a[0];if(a.length>1){for(const x of a)if(x.type!==tr){l=x;break}}const u=hi(e),{mode:f}=u;if(s.isLeaving)return Wb(l);const p=$C(l);if(!p)return Wb(l);const g=Wh(p,u,s,i);Gh(p,g);const v=i.subTree,b=v&&$C(v);let w=!1;const{getTransitionKey:M}=p.type;if(M){const x=M();o===void 0?o=x:x!==o&&(o=x,w=!0)}if(b&&b.type!==tr&&(!Rc(p,b)||w)){const x=Wh(b,u,s,i);if(Gh(b,x),f==="out-in")return s.isLeaving=!0,x.afterLeave=()=>{s.isLeaving=!1,i.update.active!==!1&&i.update()},Wb(l);f==="in-out"&&p.type!==tr&&(x.delayLeave=(E,C,k)=>{const R=Uk(s,b);R[String(b.key)]=b,E._leaveCb=()=>{C(),E._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=k})}return l}}},$k=PV;function Uk(e,t){const{leavingVNodes:i}=e;let s=i.get(t.type);return s||(s=Object.create(null),i.set(t.type,s)),s}function Wh(e,t,i,s){const{appear:o,mode:a,persisted:l=!1,onBeforeEnter:u,onEnter:f,onAfterEnter:p,onEnterCancelled:g,onBeforeLeave:v,onLeave:b,onAfterLeave:w,onLeaveCancelled:M,onBeforeAppear:x,onAppear:E,onAfterAppear:C,onAppearCancelled:k}=t,R=String(e.key),P=Uk(i,e),O=(H,j)=>{H&&Yr(H,s,9,j)},F=(H,j)=>{const q=j[1];O(H,j),Nt(H)?H.every(ie=>ie.length<=1)&&q():H.length<=1&&q()},G={mode:a,persisted:l,beforeEnter(H){let j=u;if(!i.isMounted)if(o)j=x||u;else return;H._leaveCb&&H._leaveCb(!0);const q=P[R];q&&Rc(e,q)&&q.el._leaveCb&&q.el._leaveCb(),O(j,[H])},enter(H){let j=f,q=p,ie=g;if(!i.isMounted)if(o)j=E||f,q=C||p,ie=k||g;else return;let Q=!1;const Z=H._enterCb=re=>{Q||(Q=!0,re?O(ie,[H]):O(q,[H]),G.delayedLeave&&G.delayedLeave(),H._enterCb=void 0)};j?F(j,[H,Z]):Z()},leave(H,j){const q=String(e.key);if(H._enterCb&&H._enterCb(!0),i.isUnmounting)return j();O(v,[H]);let ie=!1;const Q=H._leaveCb=Z=>{ie||(ie=!0,j(),Z?O(M,[H]):O(w,[H]),H._leaveCb=void 0,P[q]===e&&delete P[q])};P[q]=e,b?F(b,[H,Q]):Q()},clone(H){return Wh(H,t,i,s)}};return G}function Wb(e){if(l0(e))return e=Va(e),e.children=null,e}function $C(e){return l0(e)?e.children?e.children[0]:void 0:e}function Gh(e,t){e.shapeFlag&6&&e.component?Gh(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Hw(e,t=!1,i){let s=[],o=0;for(let a=0;a<e.length;a++){let l=e[a];const u=i==null?l.key:String(i)+String(l.key!=null?l.key:a);l.type===Ft?(l.patchFlag&128&&o++,s=s.concat(Hw(l.children,t,u))):(t||l.type!==tr)&&s.push(u!=null?Va(l,{key:u}):l)}if(o>1)for(let a=0;a<s.length;a++)s[a].patchFlag=-2;return s}function _e(e){return an(e)?{setup:e,name:e.name}:e}const xh=e=>!!e.type.__asyncLoader,l0=e=>e.type.__isKeepAlive;function IV(e,t){Hk(e,"a",t)}function Vk(e,t){Hk(e,"da",t)}function Hk(e,t,i=cs){const s=e.__wdc||(e.__wdc=()=>{let o=i;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(c0(t,s,i),i){let o=i.parent;for(;o&&o.parent;)l0(o.parent.vnode)&&LV(s,t,i,o),o=o.parent}}function LV(e,t,i,s){const o=c0(t,e,s,!0);$l(()=>{kw(s[t],o)},i)}function c0(e,t,i=cs,s=!1){if(i){const o=i[e]||(i[e]=[]),a=t.__weh||(t.__weh=(...l)=>{if(i.isUnmounted)return;tf(),Ld(i);const u=Yr(t,i,e,l);return Vc(),nf(),u});return s?o.unshift(a):o.push(a),a}}const Wa=e=>(t,i=cs)=>(!qh||e==="sp")&&c0(e,(...s)=>t(...s),i),u0=Wa("bm"),_n=Wa("m"),Wk=Wa("bu"),Ga=Wa("u"),Di=Wa("bum"),$l=Wa("um"),NV=Wa("sp"),OV=Wa("rtg"),DV=Wa("rtc");function FV(e,t=cs){c0("ec",e,t)}function gn(e,t){const i=Ls;if(i===null)return e;const s=h0(i)||i.proxy,o=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[l,u,f,p=Qi]=t[a];l&&(an(l)&&(l={mounted:l,updated:l}),l.deep&&Lc(u),o.push({dir:l,instance:s,value:u,oldValue:void 0,arg:f,modifiers:p}))}return e}function bc(e,t,i,s){const o=e.dirs,a=t&&t.dirs;for(let l=0;l<o.length;l++){const u=o[l];a&&(u.oldValue=a[l].value);let f=u.dir[s];f&&(tf(),Yr(f,i,8,[e.el,u,e,t]),nf())}}const Ww="components",BV="directives";function cn(e,t){return Gw(Ww,e,!0,t)||e}const Gk=Symbol();function Bn(e){return un(e)?Gw(Ww,e,!1)||e:e||Gk}function Id(e){return Gw(BV,e)}function Gw(e,t,i=!0,s=!1){const o=Ls||cs;if(o){const a=o.type;if(e===Ww){const u=h5(a,!1);if(u&&(u===t||u===eo(t)||u===wp(eo(t))))return a}const l=UC(o[e]||a[e],t)||UC(o.appContext[e],t);return!l&&s?a:l}}function UC(e,t){return e&&(e[t]||e[eo(t)]||e[wp(eo(t))])}function Un(e,t,i,s){let o;const a=i&&i[s];if(Nt(e)||un(e)){o=new Array(e.length);for(let l=0,u=e.length;l<u;l++)o[l]=t(e[l],l,void 0,a&&a[l])}else if(typeof e=="number"){o=new Array(e);for(let l=0;l<e;l++)o[l]=t(l+1,l,void 0,a&&a[l])}else if(Pn(e))if(e[Symbol.iterator])o=Array.from(e,(l,u)=>t(l,u,void 0,a&&a[u]));else{const l=Object.keys(e);o=new Array(l.length);for(let u=0,f=l.length;u<f;u++){const p=l[u];o[u]=t(e[p],p,u,a&&a[u])}}else o=[];return i&&(i[s]=o),o}function Ua(e,t){for(let i=0;i<t.length;i++){const s=t[i];if(Nt(s))for(let o=0;o<s.length;o++)e[s[o].name]=s[o].fn;else s&&(e[s.name]=s.key?(...o)=>{const a=s.fn(...o);return a&&(a.key=s.key),a}:s.fn)}return e}function qe(e,t,i={},s,o){if(Ls.isCE||Ls.parent&&xh(Ls.parent)&&Ls.parent.isCE)return t!=="default"&&(i.name=t),fe("slot",i,s&&s());let a=e[t];a&&a._c&&(a._d=!1),B();const l=a&&Kk(a(i)),u=Be(Ft,{key:i.key||l&&l.key||`_${t}`},l||(s?s():[]),l&&e._===1?64:-2);return!o&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),a&&a._c&&(a._d=!0),u}function Kk(e){return e.some(t=>Hi(t)?!(t.type===tr||t.type===Ft&&!Kk(t.children)):!0)?e:null}function zV(e,t){const i={};for(const s in e)i[t&&/[A-Z]/.test(s)?`on:${s}`:Yg(s)]=e[s];return i}const o1=e=>e?iP(e)?h0(e)||e.proxy:o1(e.parent):null,Mh=As(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>o1(e.parent),$root:e=>o1(e.root),$emit:e=>e.emit,$options:e=>Kw(e),$forceUpdate:e=>e.f||(e.f=()=>Uw(e.update)),$nextTick:e=>e.n||(e.n=Bt.bind(e.proxy)),$watch:e=>kV.bind(e)}),Gb=(e,t)=>e!==Qi&&!e.__isScriptSetup&&Gn(e,t),$V={get({_:e},t){const{ctx:i,setupState:s,data:o,props:a,accessCache:l,type:u,appContext:f}=e;let p;if(t[0]!=="$"){const w=l[t];if(w!==void 0)switch(w){case 1:return s[t];case 2:return o[t];case 4:return i[t];case 3:return a[t]}else{if(Gb(s,t))return l[t]=1,s[t];if(o!==Qi&&Gn(o,t))return l[t]=2,o[t];if((p=e.propsOptions[0])&&Gn(p,t))return l[t]=3,a[t];if(i!==Qi&&Gn(i,t))return l[t]=4,i[t];a1&&(l[t]=0)}}const g=Mh[t];let v,b;if(g)return t==="$attrs"&&br(e,"get",t),g(e);if((v=u.__cssModules)&&(v=v[t]))return v;if(i!==Qi&&Gn(i,t))return l[t]=4,i[t];if(b=f.config.globalProperties,Gn(b,t))return b[t]},set({_:e},t,i){const{data:s,setupState:o,ctx:a}=e;return Gb(o,t)?(o[t]=i,!0):s!==Qi&&Gn(s,t)?(s[t]=i,!0):Gn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:s,appContext:o,propsOptions:a}},l){let u;return!!i[l]||e!==Qi&&Gn(e,l)||Gb(t,l)||(u=a[0])&&Gn(u,l)||Gn(s,l)||Gn(Mh,l)||Gn(o.config.globalProperties,l)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:Gn(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};let a1=!0;function UV(e){const t=Kw(e),i=e.proxy,s=e.ctx;a1=!1,t.beforeCreate&&VC(t.beforeCreate,e,"bc");const{data:o,computed:a,methods:l,watch:u,provide:f,inject:p,created:g,beforeMount:v,mounted:b,beforeUpdate:w,updated:M,activated:x,deactivated:E,beforeDestroy:C,beforeUnmount:k,destroyed:R,unmounted:P,render:O,renderTracked:F,renderTriggered:G,errorCaptured:H,serverPrefetch:j,expose:q,inheritAttrs:ie,components:Q,directives:Z,filters:re}=t;if(p&&VV(p,s,null,e.appContext.config.unwrapInjectedRef),l)for(const W in l){const ee=l[W];an(ee)&&(s[W]=ee.bind(i))}if(o){const W=o.call(i,i);Pn(W)&&(e.data=ai(W))}if(a1=!0,a)for(const W in a){const ee=a[W],J=an(ee)?ee.bind(i,i):an(ee.get)?ee.get.bind(i,i):_i,pe=!an(ee)&&an(ee.set)?ee.set.bind(i):_i,Ee=D({get:J,set:pe});Object.defineProperty(s,W,{enumerable:!0,configurable:!0,get:()=>Ee.value,set:he=>Ee.value=he})}if(u)for(const W in u)qk(u[W],s,i,W);if(f){const W=an(f)?f.call(i):f;Reflect.ownKeys(W).forEach(ee=>{On(ee,W[ee])})}g&&VC(g,e,"c");function te(W,ee){Nt(ee)?ee.forEach(J=>W(J.bind(i))):ee&&W(ee.bind(i))}if(te(u0,v),te(_n,b),te(Wk,w),te(Ga,M),te(IV,x),te(Vk,E),te(FV,H),te(DV,F),te(OV,G),te(Di,k),te($l,P),te(NV,j),Nt(q))if(q.length){const W=e.exposed||(e.exposed={});q.forEach(ee=>{Object.defineProperty(W,ee,{get:()=>i[ee],set:J=>i[ee]=J})})}else e.exposed||(e.exposed={});O&&e.render===_i&&(e.render=O),ie!=null&&(e.inheritAttrs=ie),Q&&(e.components=Q),Z&&(e.directives=Z)}function VV(e,t,i=_i,s=!1){Nt(e)&&(e=l1(e));for(const o in e){const a=e[o];let l;Pn(a)?"default"in a?l=Lt(a.from||o,a.default,!0):l=Lt(a.from||o):l=Lt(a),Ti(l)&&s?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:u=>l.value=u}):t[o]=l}}function VC(e,t,i){Yr(Nt(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,i)}function qk(e,t,i,s){const o=s.includes(".")?Bk(i,s):()=>i[s];if(un(e)){const a=t[e];an(a)&&et(o,a)}else if(an(e))et(o,e.bind(i));else if(Pn(e))if(Nt(e))e.forEach(a=>qk(a,t,i,s));else{const a=an(e.handler)?e.handler.bind(i):t[e.handler];an(a)&&et(o,a,e)}}function Kw(e){const t=e.type,{mixins:i,extends:s}=t,{mixins:o,optionsCache:a,config:{optionMergeStrategies:l}}=e.appContext,u=a.get(t);let f;return u?f=u:!o.length&&!i&&!s?f=t:(f={},o.length&&o.forEach(p=>Lv(f,p,l,!0)),Lv(f,t,l)),Pn(t)&&a.set(t,f),f}function Lv(e,t,i,s=!1){const{mixins:o,extends:a}=t;a&&Lv(e,a,i,!0),o&&o.forEach(l=>Lv(e,l,i,!0));for(const l in t)if(!(s&&l==="expose")){const u=HV[l]||i&&i[l];e[l]=u?u(e[l],t[l]):t[l]}return e}const HV={data:HC,props:Cc,emits:Cc,methods:Cc,computed:Cc,beforeCreate:Js,created:Js,beforeMount:Js,mounted:Js,beforeUpdate:Js,updated:Js,beforeDestroy:Js,beforeUnmount:Js,destroyed:Js,unmounted:Js,activated:Js,deactivated:Js,errorCaptured:Js,serverPrefetch:Js,components:Cc,directives:Cc,watch:GV,provide:HC,inject:WV};function HC(e,t){return t?e?function(){return As(an(e)?e.call(this,this):e,an(t)?t.call(this,this):t)}:t:e}function WV(e,t){return Cc(l1(e),l1(t))}function l1(e){if(Nt(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function Js(e,t){return e?[...new Set([].concat(e,t))]:t}function Cc(e,t){return e?As(As(Object.create(null),e),t):t}function GV(e,t){if(!e)return t;if(!t)return e;const i=As(Object.create(null),e);for(const s in t)i[s]=Js(e[s],t[s]);return i}function KV(e,t,i,s=!1){const o={},a={};Rv(a,d0,1),e.propsDefaults=Object.create(null),jk(e,t,o,a);for(const l in e.propsOptions[0])l in o||(o[l]=void 0);i?e.props=s?o:Ek(o):e.type.props?e.props=o:e.props=a,e.attrs=a}function qV(e,t,i,s){const{props:o,attrs:a,vnode:{patchFlag:l}}=e,u=hi(o),[f]=e.propsOptions;let p=!1;if((s||l>0)&&!(l&16)){if(l&8){const g=e.vnode.dynamicProps;for(let v=0;v<g.length;v++){let b=g[v];if(a0(e.emitsOptions,b))continue;const w=t[b];if(f)if(Gn(a,b))w!==a[b]&&(a[b]=w,p=!0);else{const M=eo(b);o[M]=c1(f,u,M,w,e,!1)}else w!==a[b]&&(a[b]=w,p=!0)}}}else{jk(e,t,o,a)&&(p=!0);let g;for(const v in u)(!t||!Gn(t,v)&&((g=zl(v))===v||!Gn(t,g)))&&(f?i&&(i[v]!==void 0||i[g]!==void 0)&&(o[v]=c1(f,u,v,void 0,e,!0)):delete o[v]);if(a!==u)for(const v in a)(!t||!Gn(t,v))&&(delete a[v],p=!0)}p&&$a(e,"set","$attrs")}function jk(e,t,i,s){const[o,a]=e.propsOptions;let l=!1,u;if(t)for(let f in t){if(Xg(f))continue;const p=t[f];let g;o&&Gn(o,g=eo(f))?!a||!a.includes(g)?i[g]=p:(u||(u={}))[g]=p:a0(e.emitsOptions,f)||(!(f in s)||p!==s[f])&&(s[f]=p,l=!0)}if(a){const f=hi(i),p=u||Qi;for(let g=0;g<a.length;g++){const v=a[g];i[v]=c1(o,f,v,p[v],e,!Gn(p,v))}}return l}function c1(e,t,i,s,o,a){const l=e[i];if(l!=null){const u=Gn(l,"default");if(u&&s===void 0){const f=l.default;if(l.type!==Function&&an(f)){const{propsDefaults:p}=o;i in p?s=p[i]:(Ld(o),s=p[i]=f.call(null,t),Vc())}else s=f}l[0]&&(a&&!u?s=!1:l[1]&&(s===""||s===zl(i))&&(s=!0))}return s}function Xk(e,t,i=!1){const s=t.propsCache,o=s.get(e);if(o)return o;const a=e.props,l={},u=[];let f=!1;if(!an(e)){const g=v=>{f=!0;const[b,w]=Xk(v,t,!0);As(l,b),w&&u.push(...w)};!i&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!a&&!f)return Pn(e)&&s.set(e,yd),yd;if(Nt(a))for(let g=0;g<a.length;g++){const v=eo(a[g]);WC(v)&&(l[v]=Qi)}else if(a)for(const g in a){const v=eo(g);if(WC(v)){const b=a[g],w=l[v]=Nt(b)||an(b)?{type:b}:Object.assign({},b);if(w){const M=qC(Boolean,w.type),x=qC(String,w.type);w[0]=M>-1,w[1]=x<0||M<x,(M>-1||Gn(w,"default"))&&u.push(v)}}}const p=[l,u];return Pn(e)&&s.set(e,p),p}function WC(e){return e[0]!=="$"}function GC(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function KC(e,t){return GC(e)===GC(t)}function qC(e,t){return Nt(t)?t.findIndex(i=>KC(i,e)):an(t)&&KC(t,e)?0:-1}const Yk=e=>e[0]==="_"||e==="$stable",qw=e=>Nt(e)?e.map(qo):[qo(e)],jV=(e,t,i)=>{if(t._n)return t;const s=ve((...o)=>qw(t(...o)),i);return s._c=!1,s},Zk=(e,t,i)=>{const s=e._ctx;for(const o in e){if(Yk(o))continue;const a=e[o];if(an(a))t[o]=jV(o,a,s);else if(a!=null){const l=qw(a);t[o]=()=>l}}},Jk=(e,t)=>{const i=qw(t);e.slots.default=()=>i},XV=(e,t)=>{if(e.vnode.shapeFlag&32){const i=t._;i?(e.slots=hi(t),Rv(t,"_",i)):Zk(t,e.slots={})}else e.slots={},t&&Jk(e,t);Rv(e.slots,d0,1)},YV=(e,t,i)=>{const{vnode:s,slots:o}=e;let a=!0,l=Qi;if(s.shapeFlag&32){const u=t._;u?i&&u===1?a=!1:(As(o,t),!i&&u===1&&delete o._):(a=!t.$stable,Zk(t,o)),l=t}else t&&(Jk(e,t),l={default:1});if(a)for(const u in o)!Yk(u)&&!(u in l)&&delete o[u]};function Qk(){return{app:null,config:{isNativeTag:P8,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ZV=0;function JV(e,t){return function(s,o=null){an(s)||(s=Object.assign({},s)),o!=null&&!Pn(o)&&(o=null);const a=Qk(),l=new Set;let u=!1;const f=a.app={_uid:ZV++,_component:s,_props:o,_container:null,_context:a,_instance:null,version:v5,get config(){return a.config},set config(p){},use(p,...g){return l.has(p)||(p&&an(p.install)?(l.add(p),p.install(f,...g)):an(p)&&(l.add(p),p(f,...g))),f},mixin(p){return a.mixins.includes(p)||a.mixins.push(p),f},component(p,g){return g?(a.components[p]=g,f):a.components[p]},directive(p,g){return g?(a.directives[p]=g,f):a.directives[p]},mount(p,g,v){if(!u){const b=fe(s,o);return b.appContext=a,g&&t?t(b,p):e(b,p,v),u=!0,f._container=p,p.__vue_app__=f,h0(b.component)||b.component.proxy}},unmount(){u&&(e(null,f._container),delete f._container.__vue_app__)},provide(p,g){return a.provides[p]=g,f}};return f}}function u1(e,t,i,s,o=!1){if(Nt(e)){e.forEach((b,w)=>u1(b,t&&(Nt(t)?t[w]:t),i,s,o));return}if(xh(s)&&!o)return;const a=s.shapeFlag&4?h0(s.component)||s.component.proxy:s.el,l=o?null:a,{i:u,r:f}=e,p=t&&t.r,g=u.refs===Qi?u.refs={}:u.refs,v=u.setupState;if(p!=null&&p!==f&&(un(p)?(g[p]=null,Gn(v,p)&&(v[p]=null)):Ti(p)&&(p.value=null)),an(f))kl(f,u,12,[l,g]);else{const b=un(f),w=Ti(f);if(b||w){const M=()=>{if(e.f){const x=b?Gn(v,f)?v[f]:g[f]:f.value;o?Nt(x)&&kw(x,a):Nt(x)?x.includes(a)||x.push(a):b?(g[f]=[a],Gn(v,f)&&(v[f]=g[f])):(f.value=[a],e.k&&(g[e.k]=f.value))}else b?(g[f]=l,Gn(v,f)&&(v[f]=l)):w&&(f.value=l,e.k&&(g[e.k]=l))};l?(M.id=-1,pr(M,i)):M()}}}const pr=RV;function QV(e){return e5(e)}function e5(e,t){const i=F8();i.__VUE__=!0;const{insert:s,remove:o,patchProp:a,createElement:l,createText:u,createComment:f,setText:p,setElementText:g,parentNode:v,nextSibling:b,setScopeId:w=_i,insertStaticContent:M}=e,x=(ue,we,Ve,Ye=null,lt=null,He=null,ct=!1,Qe=null,rt=!!we.dynamicChildren)=>{if(ue===we)return;ue&&!Rc(ue,we)&&(Ye=Ie(ue),he(ue,lt,He,!0),ue=null),we.patchFlag===-2&&(rt=!1,we.dynamicChildren=null);const{type:Je,ref:Mt,shapeFlag:yt}=we;switch(Je){case rf:E(ue,we,Ve,Ye);break;case tr:C(ue,we,Ve,Ye);break;case Kb:ue==null&&k(we,Ve,Ye,ct);break;case Ft:Q(ue,we,Ve,Ye,lt,He,ct,Qe,rt);break;default:yt&1?O(ue,we,Ve,Ye,lt,He,ct,Qe,rt):yt&6?Z(ue,we,Ve,Ye,lt,He,ct,Qe,rt):(yt&64||yt&128)&&Je.process(ue,we,Ve,Ye,lt,He,ct,Qe,rt,Le)}Mt!=null&&lt&&u1(Mt,ue&&ue.ref,He,we||ue,!we)},E=(ue,we,Ve,Ye)=>{if(ue==null)s(we.el=u(we.children),Ve,Ye);else{const lt=we.el=ue.el;we.children!==ue.children&&p(lt,we.children)}},C=(ue,we,Ve,Ye)=>{ue==null?s(we.el=f(we.children||""),Ve,Ye):we.el=ue.el},k=(ue,we,Ve,Ye)=>{[ue.el,ue.anchor]=M(ue.children,we,Ve,Ye,ue.el,ue.anchor)},R=({el:ue,anchor:we},Ve,Ye)=>{let lt;for(;ue&&ue!==we;)lt=b(ue),s(ue,Ve,Ye),ue=lt;s(we,Ve,Ye)},P=({el:ue,anchor:we})=>{let Ve;for(;ue&&ue!==we;)Ve=b(ue),o(ue),ue=Ve;o(we)},O=(ue,we,Ve,Ye,lt,He,ct,Qe,rt)=>{ct=ct||we.type==="svg",ue==null?F(we,Ve,Ye,lt,He,ct,Qe,rt):j(ue,we,lt,He,ct,Qe,rt)},F=(ue,we,Ve,Ye,lt,He,ct,Qe)=>{let rt,Je;const{type:Mt,props:yt,shapeFlag:We,transition:_t,dirs:Ut}=ue;if(rt=ue.el=l(ue.type,He,yt&&yt.is,yt),We&8?g(rt,ue.children):We&16&&H(ue.children,rt,null,Ye,lt,He&&Mt!=="foreignObject",ct,Qe),Ut&&bc(ue,null,Ye,"created"),G(rt,ue,ue.scopeId,ct,Ye),yt){for(const Pe in yt)Pe!=="value"&&!Xg(Pe)&&a(rt,Pe,null,yt[Pe],He,ue.children,Ye,lt,xe);"value"in yt&&a(rt,"value",null,yt.value),(Je=yt.onVnodeBeforeMount)&&Go(Je,Ye,ue)}Ut&&bc(ue,null,Ye,"beforeMount");const fn=(!lt||lt&&!lt.pendingBranch)&&_t&&!_t.persisted;fn&&_t.beforeEnter(rt),s(rt,we,Ve),((Je=yt&&yt.onVnodeMounted)||fn||Ut)&&pr(()=>{Je&&Go(Je,Ye,ue),fn&&_t.enter(rt),Ut&&bc(ue,null,Ye,"mounted")},lt)},G=(ue,we,Ve,Ye,lt)=>{if(Ve&&w(ue,Ve),Ye)for(let He=0;He<Ye.length;He++)w(ue,Ye[He]);if(lt){let He=lt.subTree;if(we===He){const ct=lt.vnode;G(ue,ct,ct.scopeId,ct.slotScopeIds,lt.parent)}}},H=(ue,we,Ve,Ye,lt,He,ct,Qe,rt=0)=>{for(let Je=rt;Je<ue.length;Je++){const Mt=ue[Je]=Qe?Ml(ue[Je]):qo(ue[Je]);x(null,Mt,we,Ve,Ye,lt,He,ct,Qe)}},j=(ue,we,Ve,Ye,lt,He,ct)=>{const Qe=we.el=ue.el;let{patchFlag:rt,dynamicChildren:Je,dirs:Mt}=we;rt|=ue.patchFlag&16;const yt=ue.props||Qi,We=we.props||Qi;let _t;Ve&&_c(Ve,!1),(_t=We.onVnodeBeforeUpdate)&&Go(_t,Ve,we,ue),Mt&&bc(we,ue,Ve,"beforeUpdate"),Ve&&_c(Ve,!0);const Ut=lt&&we.type!=="foreignObject";if(Je?q(ue.dynamicChildren,Je,Qe,Ve,Ye,Ut,He):ct||ee(ue,we,Qe,null,Ve,Ye,Ut,He,!1),rt>0){if(rt&16)ie(Qe,we,yt,We,Ve,Ye,lt);else if(rt&2&&yt.class!==We.class&&a(Qe,"class",null,We.class,lt),rt&4&&a(Qe,"style",yt.style,We.style,lt),rt&8){const fn=we.dynamicProps;for(let Pe=0;Pe<fn.length;Pe++){const $e=fn[Pe],tt=yt[$e],Fe=We[$e];(Fe!==tt||$e==="value")&&a(Qe,$e,tt,Fe,lt,ue.children,Ve,Ye,xe)}}rt&1&&ue.children!==we.children&&g(Qe,we.children)}else!ct&&Je==null&&ie(Qe,we,yt,We,Ve,Ye,lt);((_t=We.onVnodeUpdated)||Mt)&&pr(()=>{_t&&Go(_t,Ve,we,ue),Mt&&bc(we,ue,Ve,"updated")},Ye)},q=(ue,we,Ve,Ye,lt,He,ct)=>{for(let Qe=0;Qe<we.length;Qe++){const rt=ue[Qe],Je=we[Qe],Mt=rt.el&&(rt.type===Ft||!Rc(rt,Je)||rt.shapeFlag&70)?v(rt.el):Ve;x(rt,Je,Mt,null,Ye,lt,He,ct,!0)}},ie=(ue,we,Ve,Ye,lt,He,ct)=>{if(Ve!==Ye){if(Ve!==Qi)for(const Qe in Ve)!Xg(Qe)&&!(Qe in Ye)&&a(ue,Qe,Ve[Qe],null,ct,we.children,lt,He,xe);for(const Qe in Ye){if(Xg(Qe))continue;const rt=Ye[Qe],Je=Ve[Qe];rt!==Je&&Qe!=="value"&&a(ue,Qe,Je,rt,ct,we.children,lt,He,xe)}"value"in Ye&&a(ue,"value",Ve.value,Ye.value)}},Q=(ue,we,Ve,Ye,lt,He,ct,Qe,rt)=>{const Je=we.el=ue?ue.el:u(""),Mt=we.anchor=ue?ue.anchor:u("");let{patchFlag:yt,dynamicChildren:We,slotScopeIds:_t}=we;_t&&(Qe=Qe?Qe.concat(_t):_t),ue==null?(s(Je,Ve,Ye),s(Mt,Ve,Ye),H(we.children,Ve,Mt,lt,He,ct,Qe,rt)):yt>0&&yt&64&&We&&ue.dynamicChildren?(q(ue.dynamicChildren,We,Ve,lt,He,ct,Qe),(we.key!=null||lt&&we===lt.subTree)&&jw(ue,we,!0)):ee(ue,we,Ve,Mt,lt,He,ct,Qe,rt)},Z=(ue,we,Ve,Ye,lt,He,ct,Qe,rt)=>{we.slotScopeIds=Qe,ue==null?we.shapeFlag&512?lt.ctx.activate(we,Ve,Ye,ct,rt):re(we,Ve,Ye,lt,He,ct,rt):ce(ue,we,rt)},re=(ue,we,Ve,Ye,lt,He,ct)=>{const Qe=ue.component=c5(ue,Ye,lt);if(l0(ue)&&(Qe.ctx.renderer=Le),u5(Qe),Qe.asyncDep){if(lt&&lt.registerDep(Qe,te),!ue.el){const rt=Qe.subTree=fe(tr);C(null,rt,we,Ve)}return}te(Qe,ue,we,Ve,lt,He,ct)},ce=(ue,we,Ve)=>{const Ye=we.component=ue.component;if(CV(ue,we,Ve))if(Ye.asyncDep&&!Ye.asyncResolved){W(Ye,we,Ve);return}else Ye.next=we,_V(Ye.update),Ye.update();else we.el=ue.el,Ye.vnode=we},te=(ue,we,Ve,Ye,lt,He,ct)=>{const Qe=()=>{if(ue.isMounted){let{next:Mt,bu:yt,u:We,parent:_t,vnode:Ut}=ue,fn=Mt,Pe;_c(ue,!1),Mt?(Mt.el=Ut.el,W(ue,Mt,ct)):Mt=Ut,yt&&Zg(yt),(Pe=Mt.props&&Mt.props.onVnodeBeforeUpdate)&&Go(Pe,_t,Mt,Ut),_c(ue,!0);const $e=Hb(ue),tt=ue.subTree;ue.subTree=$e,x(tt,$e,v(tt.el),Ie(tt),ue,lt,He),Mt.el=$e.el,fn===null&&TV(ue,$e.el),We&&pr(We,lt),(Pe=Mt.props&&Mt.props.onVnodeUpdated)&&pr(()=>Go(Pe,_t,Mt,Ut),lt)}else{let Mt;const{el:yt,props:We}=we,{bm:_t,m:Ut,parent:fn}=ue,Pe=xh(we);if(_c(ue,!1),_t&&Zg(_t),!Pe&&(Mt=We&&We.onVnodeBeforeMount)&&Go(Mt,fn,we),_c(ue,!0),yt&&ut){const $e=()=>{ue.subTree=Hb(ue),ut(yt,ue.subTree,ue,lt,null)};Pe?we.type.__asyncLoader().then(()=>!ue.isUnmounted&&$e()):$e()}else{const $e=ue.subTree=Hb(ue);x(null,$e,Ve,Ye,ue,lt,He),we.el=$e.el}if(Ut&&pr(Ut,lt),!Pe&&(Mt=We&&We.onVnodeMounted)){const $e=we;pr(()=>Go(Mt,fn,$e),lt)}(we.shapeFlag&256||fn&&xh(fn.vnode)&&fn.vnode.shapeFlag&256)&&ue.a&&pr(ue.a,lt),ue.isMounted=!0,we=Ve=Ye=null}},rt=ue.effect=new Lw(Qe,()=>Uw(Je),ue.scope),Je=ue.update=()=>rt.run();Je.id=ue.uid,_c(ue,!0),Je()},W=(ue,we,Ve)=>{we.component=ue;const Ye=ue.vnode.props;ue.vnode=we,ue.next=null,qV(ue,we.props,Ye,Ve),YV(ue,we.children,Ve),tf(),BC(),nf()},ee=(ue,we,Ve,Ye,lt,He,ct,Qe,rt=!1)=>{const Je=ue&&ue.children,Mt=ue?ue.shapeFlag:0,yt=we.children,{patchFlag:We,shapeFlag:_t}=we;if(We>0){if(We&128){pe(Je,yt,Ve,Ye,lt,He,ct,Qe,rt);return}else if(We&256){J(Je,yt,Ve,Ye,lt,He,ct,Qe,rt);return}}_t&8?(Mt&16&&xe(Je,lt,He),yt!==Je&&g(Ve,yt)):Mt&16?_t&16?pe(Je,yt,Ve,Ye,lt,He,ct,Qe,rt):xe(Je,lt,He,!0):(Mt&8&&g(Ve,""),_t&16&&H(yt,Ve,Ye,lt,He,ct,Qe,rt))},J=(ue,we,Ve,Ye,lt,He,ct,Qe,rt)=>{ue=ue||yd,we=we||yd;const Je=ue.length,Mt=we.length,yt=Math.min(Je,Mt);let We;for(We=0;We<yt;We++){const _t=we[We]=rt?Ml(we[We]):qo(we[We]);x(ue[We],_t,Ve,null,lt,He,ct,Qe,rt)}Je>Mt?xe(ue,lt,He,!0,!1,yt):H(we,Ve,Ye,lt,He,ct,Qe,rt,yt)},pe=(ue,we,Ve,Ye,lt,He,ct,Qe,rt)=>{let Je=0;const Mt=we.length;let yt=ue.length-1,We=Mt-1;for(;Je<=yt&&Je<=We;){const _t=ue[Je],Ut=we[Je]=rt?Ml(we[Je]):qo(we[Je]);if(Rc(_t,Ut))x(_t,Ut,Ve,null,lt,He,ct,Qe,rt);else break;Je++}for(;Je<=yt&&Je<=We;){const _t=ue[yt],Ut=we[We]=rt?Ml(we[We]):qo(we[We]);if(Rc(_t,Ut))x(_t,Ut,Ve,null,lt,He,ct,Qe,rt);else break;yt--,We--}if(Je>yt){if(Je<=We){const _t=We+1,Ut=_t<Mt?we[_t].el:Ye;for(;Je<=We;)x(null,we[Je]=rt?Ml(we[Je]):qo(we[Je]),Ve,Ut,lt,He,ct,Qe,rt),Je++}}else if(Je>We)for(;Je<=yt;)he(ue[Je],lt,He,!0),Je++;else{const _t=Je,Ut=Je,fn=new Map;for(Je=Ut;Je<=We;Je++){const vt=we[Je]=rt?Ml(we[Je]):qo(we[Je]);vt.key!=null&&fn.set(vt.key,Je)}let Pe,$e=0;const tt=We-Ut+1;let Fe=!1,me=0;const Se=new Array(tt);for(Je=0;Je<tt;Je++)Se[Je]=0;for(Je=_t;Je<=yt;Je++){const vt=ue[Je];if($e>=tt){he(vt,lt,He,!0);continue}let tn;if(vt.key!=null)tn=fn.get(vt.key);else for(Pe=Ut;Pe<=We;Pe++)if(Se[Pe-Ut]===0&&Rc(vt,we[Pe])){tn=Pe;break}tn===void 0?he(vt,lt,He,!0):(Se[tn-Ut]=Je+1,tn>=me?me=tn:Fe=!0,x(vt,we[tn],Ve,null,lt,He,ct,Qe,rt),$e++)}const it=Fe?t5(Se):yd;for(Pe=it.length-1,Je=tt-1;Je>=0;Je--){const vt=Ut+Je,tn=we[vt],Xe=vt+1<Mt?we[vt+1].el:Ye;Se[Je]===0?x(null,tn,Ve,Xe,lt,He,ct,Qe,rt):Fe&&(Pe<0||Je!==it[Pe]?Ee(tn,Ve,Xe,2):Pe--)}}},Ee=(ue,we,Ve,Ye,lt=null)=>{const{el:He,type:ct,transition:Qe,children:rt,shapeFlag:Je}=ue;if(Je&6){Ee(ue.component.subTree,we,Ve,Ye);return}if(Je&128){ue.suspense.move(we,Ve,Ye);return}if(Je&64){ct.move(ue,we,Ve,Le);return}if(ct===Ft){s(He,we,Ve);for(let yt=0;yt<rt.length;yt++)Ee(rt[yt],we,Ve,Ye);s(ue.anchor,we,Ve);return}if(ct===Kb){R(ue,we,Ve);return}if(Ye!==2&&Je&1&&Qe)if(Ye===0)Qe.beforeEnter(He),s(He,we,Ve),pr(()=>Qe.enter(He),lt);else{const{leave:yt,delayLeave:We,afterLeave:_t}=Qe,Ut=()=>s(He,we,Ve),fn=()=>{yt(He,()=>{Ut(),_t&&_t()})};We?We(He,Ut,fn):fn()}else s(He,we,Ve)},he=(ue,we,Ve,Ye=!1,lt=!1)=>{const{type:He,props:ct,ref:Qe,children:rt,dynamicChildren:Je,shapeFlag:Mt,patchFlag:yt,dirs:We}=ue;if(Qe!=null&&u1(Qe,null,Ve,ue,!0),Mt&256){we.ctx.deactivate(ue);return}const _t=Mt&1&&We,Ut=!xh(ue);let fn;if(Ut&&(fn=ct&&ct.onVnodeBeforeUnmount)&&Go(fn,we,ue),Mt&6)Te(ue.component,Ve,Ye);else{if(Mt&128){ue.suspense.unmount(Ve,Ye);return}_t&&bc(ue,null,we,"beforeUnmount"),Mt&64?ue.type.remove(ue,we,Ve,lt,Le,Ye):Je&&(He!==Ft||yt>0&&yt&64)?xe(Je,we,Ve,!1,!0):(He===Ft&&yt&384||!lt&&Mt&16)&&xe(rt,we,Ve),Ye&&Ce(ue)}(Ut&&(fn=ct&&ct.onVnodeUnmounted)||_t)&&pr(()=>{fn&&Go(fn,we,ue),_t&&bc(ue,null,we,"unmounted")},Ve)},Ce=ue=>{const{type:we,el:Ve,anchor:Ye,transition:lt}=ue;if(we===Ft){Ge(Ve,Ye);return}if(we===Kb){P(ue);return}const He=()=>{o(Ve),lt&&!lt.persisted&&lt.afterLeave&&lt.afterLeave()};if(ue.shapeFlag&1&&lt&&!lt.persisted){const{leave:ct,delayLeave:Qe}=lt,rt=()=>ct(Ve,He);Qe?Qe(ue.el,He,rt):rt()}else He()},Ge=(ue,we)=>{let Ve;for(;ue!==we;)Ve=b(ue),o(ue),ue=Ve;o(we)},Te=(ue,we,Ve)=>{const{bum:Ye,scope:lt,update:He,subTree:ct,um:Qe}=ue;Ye&&Zg(Ye),lt.stop(),He&&(He.active=!1,he(ct,ue,we,Ve)),Qe&&pr(Qe,we),pr(()=>{ue.isUnmounted=!0},we),we&&we.pendingBranch&&!we.isUnmounted&&ue.asyncDep&&!ue.asyncResolved&&ue.suspenseId===we.pendingId&&(we.deps--,we.deps===0&&we.resolve())},xe=(ue,we,Ve,Ye=!1,lt=!1,He=0)=>{for(let ct=He;ct<ue.length;ct++)he(ue[ct],we,Ve,Ye,lt)},Ie=ue=>ue.shapeFlag&6?Ie(ue.component.subTree):ue.shapeFlag&128?ue.suspense.next():b(ue.anchor||ue.el),ge=(ue,we,Ve)=>{ue==null?we._vnode&&he(we._vnode,null,null,!0):x(we._vnode||null,ue,we,null,null,null,Ve),BC(),Nk(),we._vnode=ue},Le={p:x,um:he,m:Ee,r:Ce,mt:re,mc:H,pc:ee,pbc:q,n:Ie,o:e};let Ue,ut;return t&&([Ue,ut]=t(Le)),{render:ge,hydrate:Ue,createApp:JV(ge,Ue)}}function _c({effect:e,update:t},i){e.allowRecurse=t.allowRecurse=i}function jw(e,t,i=!1){const s=e.children,o=t.children;if(Nt(s)&&Nt(o))for(let a=0;a<s.length;a++){const l=s[a];let u=o[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=o[a]=Ml(o[a]),u.el=l.el),i||jw(l,u)),u.type===rf&&(u.el=l.el)}}function t5(e){const t=e.slice(),i=[0];let s,o,a,l,u;const f=e.length;for(s=0;s<f;s++){const p=e[s];if(p!==0){if(o=i[i.length-1],e[o]<p){t[s]=o,i.push(s);continue}for(a=0,l=i.length-1;a<l;)u=a+l>>1,e[i[u]]<p?a=u+1:l=u;p<e[i[a]]&&(a>0&&(t[s]=i[a-1]),i[a]=s)}}for(a=i.length,l=i[a-1];a-- >0;)i[a]=l,l=t[l];return i}const n5=e=>e.__isTeleport,Eh=e=>e&&(e.disabled||e.disabled===""),jC=e=>typeof SVGElement<"u"&&e instanceof SVGElement,d1=(e,t)=>{const i=e&&e.to;return un(i)?t?t(i):null:i},i5={__isTeleport:!0,process(e,t,i,s,o,a,l,u,f,p){const{mc:g,pc:v,pbc:b,o:{insert:w,querySelector:M,createText:x,createComment:E}}=p,C=Eh(t.props);let{shapeFlag:k,children:R,dynamicChildren:P}=t;if(e==null){const O=t.el=x(""),F=t.anchor=x("");w(O,i,s),w(F,i,s);const G=t.target=d1(t.props,M),H=t.targetAnchor=x("");G&&(w(H,G),l=l||jC(G));const j=(q,ie)=>{k&16&&g(R,q,ie,o,a,l,u,f)};C?j(i,F):G&&j(G,H)}else{t.el=e.el;const O=t.anchor=e.anchor,F=t.target=e.target,G=t.targetAnchor=e.targetAnchor,H=Eh(e.props),j=H?i:F,q=H?O:G;if(l=l||jC(F),P?(b(e.dynamicChildren,P,j,o,a,l,u),jw(e,t,!0)):f||v(e,t,j,q,o,a,l,u,!1),C)H||og(t,i,O,p,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const ie=t.target=d1(t.props,M);ie&&og(t,ie,null,p,0)}else H&&og(t,F,G,p,1)}eP(t)},remove(e,t,i,s,{um:o,o:{remove:a}},l){const{shapeFlag:u,children:f,anchor:p,targetAnchor:g,target:v,props:b}=e;if(v&&a(g),(l||!Eh(b))&&(a(p),u&16))for(let w=0;w<f.length;w++){const M=f[w];o(M,t,i,!0,!!M.dynamicChildren)}},move:og,hydrate:s5};function og(e,t,i,{o:{insert:s},m:o},a=2){a===0&&s(e.targetAnchor,t,i);const{el:l,anchor:u,shapeFlag:f,children:p,props:g}=e,v=a===2;if(v&&s(l,t,i),(!v||Eh(g))&&f&16)for(let b=0;b<p.length;b++)o(p[b],t,i,2);v&&s(u,t,i)}function s5(e,t,i,s,o,a,{o:{nextSibling:l,parentNode:u,querySelector:f}},p){const g=t.target=d1(t.props,f);if(g){const v=g._lpa||g.firstChild;if(t.shapeFlag&16)if(Eh(t.props))t.anchor=p(l(e),t,u(e),i,s,o,a),t.targetAnchor=v;else{t.anchor=l(e);let b=v;for(;b;)if(b=l(b),b&&b.nodeType===8&&b.data==="teleport anchor"){t.targetAnchor=b,g._lpa=t.targetAnchor&&l(t.targetAnchor);break}p(v,t,g,i,s,o,a)}eP(t)}return t.anchor&&l(t.anchor)}const Sp=i5;function eP(e){const t=e.ctx;if(t&&t.ut){let i=e.children[0].el;for(;i!==e.targetAnchor;)i.nodeType===1&&i.setAttribute("data-v-owner",t.uid),i=i.nextSibling;t.ut()}}const Ft=Symbol(void 0),rf=Symbol(void 0),tr=Symbol(void 0),Kb=Symbol(void 0),Ch=[];let Co=null;function B(e=!1){Ch.push(Co=e?null:[])}function r5(){Ch.pop(),Co=Ch[Ch.length-1]||null}let Kh=1;function XC(e){Kh+=e}function tP(e){return e.dynamicChildren=Kh>0?Co||yd:null,r5(),Kh>0&&Co&&Co.push(e),e}function ne(e,t,i,s,o,a){return tP(ae(e,t,i,s,o,a,!0))}function Be(e,t,i,s,o){return tP(fe(e,t,i,s,o,!0))}function Hi(e){return e?e.__v_isVNode===!0:!1}function Rc(e,t){return e.type===t.type&&e.key===t.key}const d0="__vInternal",nP=({key:e})=>e??null,Jg=({ref:e,ref_key:t,ref_for:i})=>e!=null?un(e)||Ti(e)||an(e)?{i:Ls,r:e,k:t,f:!!i}:e:null;function ae(e,t=null,i=null,s=0,o=null,a=e===Ft?0:1,l=!1,u=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&nP(t),ref:t&&Jg(t),scopeId:Fk,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Ls};return u?(Xw(f,i),a&128&&e.normalize(f)):i&&(f.shapeFlag|=un(i)?8:16),Kh>0&&!l&&Co&&(f.patchFlag>0||a&6)&&f.patchFlag!==32&&Co.push(f),f}const fe=o5;function o5(e,t=null,i=null,s=0,o=null,a=!1){if((!e||e===Gk)&&(e=tr),Hi(e)){const u=Va(e,t,!0);return i&&Xw(u,i),Kh>0&&!a&&Co&&(u.shapeFlag&6?Co[Co.indexOf(e)]=u:Co.push(u)),u.patchFlag|=-2,u}if(p5(e)&&(e=e.__vccOpts),t){t=f0(t);let{class:u,style:f}=t;u&&!un(u)&&(t.class=U(u)),Pn(f)&&(Ck(f)&&!Nt(f)&&(f=As({},f)),t.style=Wt(f))}const l=un(e)?1:AV(e)?128:n5(e)?64:Pn(e)?4:an(e)?2:0;return ae(e,t,i,s,o,l,a,!0)}function f0(e){return e?Ck(e)||d0 in e?As({},e):e:null}function Va(e,t,i=!1){const{props:s,ref:o,patchFlag:a,children:l}=e,u=t?kn(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&nP(u),ref:t&&t.ref?i&&o?Nt(o)?o.concat(Jg(t)):[o,Jg(t)]:Jg(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ft?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Va(e.ssContent),ssFallback:e.ssFallback&&Va(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Nn(e=" ",t=0){return fe(rf,null,e,t)}function Oe(e="",t=!1){return t?(B(),Be(tr,null,e)):fe(tr,null,e)}function qo(e){return e==null||typeof e=="boolean"?fe(tr):Nt(e)?fe(Ft,null,e.slice()):typeof e=="object"?Ml(e):fe(rf,null,String(e))}function Ml(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Va(e)}function Xw(e,t){let i=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Nt(t))i=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),Xw(e,o()),o._c&&(o._d=!0));return}else{i=32;const o=t._;!o&&!(d0 in t)?t._ctx=Ls:o===3&&Ls&&(Ls.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else an(t)?(t={default:t,_ctx:Ls},i=32):(t=String(t),s&64?(i=16,t=[Nn(t)]):i=8);e.children=t,e.shapeFlag|=i}function kn(...e){const t={};for(let i=0;i<e.length;i++){const s=e[i];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=U([t.class,s.class]));else if(o==="style")t.style=Wt([t.style,s.style]);else if(n0(o)){const a=t[o],l=s[o];l&&a!==l&&!(Nt(a)&&a.includes(l))&&(t[o]=a?[].concat(a,l):l)}else o!==""&&(t[o]=s[o])}return t}function Go(e,t,i,s=null){Yr(e,t,7,[i,s])}const a5=Qk();let l5=0;function c5(e,t,i){const s=e.type,o=(t?t.appContext:e.appContext)||a5,a={uid:l5++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new fk(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xk(s,o),emitsOptions:Dk(s,o),emit:null,emitted:null,propsDefaults:Qi,inheritAttrs:s.inheritAttrs,ctx:Qi,data:Qi,props:Qi,attrs:Qi,slots:Qi,refs:Qi,setupState:Qi,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=xV.bind(null,a),e.ce&&e.ce(a),a}let cs=null;const Tn=()=>cs||Ls,Ld=e=>{cs=e,e.scope.on()},Vc=()=>{cs&&cs.scope.off(),cs=null};function iP(e){return e.vnode.shapeFlag&4}let qh=!1;function u5(e,t=!1){qh=t;const{props:i,children:s}=e.vnode,o=iP(e);KV(e,i,o,t),XV(e,s);const a=o?d5(e,t):void 0;return qh=!1,a}function d5(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=Uc(new Proxy(e.ctx,$V));const{setup:s}=i;if(s){const o=e.setupContext=s.length>1?rP(e):null;Ld(e),tf();const a=kl(s,e,0,[e.props,o]);if(nf(),Vc(),zh(a)){if(a.then(Vc,Vc),t)return a.then(l=>{YC(e,l,t)}).catch(l=>{o0(l,e,0)});e.asyncDep=a}else YC(e,a,t)}else sP(e,t)}function YC(e,t,i){an(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Pn(t)&&(e.setupState=Rk(t)),sP(e,i)}let ZC;function sP(e,t,i){const s=e.type;if(!e.render){if(!t&&ZC&&!s.render){const o=s.template||Kw(e).template;if(o){const{isCustomElement:a,compilerOptions:l}=e.appContext.config,{delimiters:u,compilerOptions:f}=s,p=As(As({isCustomElement:a,delimiters:u},l),f);s.render=ZC(o,p)}}e.render=s.render||_i}Ld(e),tf(),UV(e),nf(),Vc()}function f5(e){return new Proxy(e.attrs,{get(t,i){return br(e,"get","$attrs"),t[i]}})}function rP(e){const t=s=>{e.exposed=s||{}};let i;return{get attrs(){return i||(i=f5(e))},slots:e.slots,emit:e.emit,expose:t}}function h0(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Rk(Uc(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in Mh)return Mh[i](e)},has(t,i){return i in t||i in Mh}}))}function h5(e,t=!0){return an(e)?e.displayName||e.name:e.name||t&&e.__name}function p5(e){return an(e)&&"__vccOpts"in e}const D=(e,t)=>Pk(e,t,qh);function Rs(){return oP().slots}function of(){return oP().attrs}function oP(){const e=Tn();return e.setupContext||(e.setupContext=rP(e))}function Yt(e,t,i){const s=arguments.length;return s===2?Pn(t)&&!Nt(t)?Hi(t)?fe(e,null,[t]):fe(e,t):fe(e,null,t):(s>3?i=Array.prototype.slice.call(arguments,2):s===3&&Hi(i)&&(i=[i]),fe(e,t,i))}const m5=Symbol(""),g5=()=>Lt(m5),v5="3.2.47",y5="http://www.w3.org/2000/svg",kc=typeof document<"u"?document:null,JC=kc&&kc.createElement("template"),b5={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,s)=>{const o=t?kc.createElementNS(y5,e):kc.createElement(e,i?{is:i}:void 0);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>kc.createTextNode(e),createComment:e=>kc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>kc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,s,o,a){const l=i?i.previousSibling:t.lastChild;if(o&&(o===a||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),i),!(o===a||!(o=o.nextSibling)););else{JC.innerHTML=s?`<svg>${e}</svg>`:e;const u=JC.content;if(s){const f=u.firstChild;for(;f.firstChild;)u.appendChild(f.firstChild);u.removeChild(f)}t.insertBefore(u,i)}return[l?l.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}};function _5(e,t,i){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}function w5(e,t,i){const s=e.style,o=un(i);if(i&&!o){if(t&&!un(t))for(const a in t)i[a]==null&&f1(s,a,"");for(const a in i)f1(s,a,i[a])}else{const a=s.display;o?t!==i&&(s.cssText=i):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=a)}}const QC=/\s*!important$/;function f1(e,t,i){if(Nt(i))i.forEach(s=>f1(e,t,s));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const s=S5(e,t);QC.test(i)?e.setProperty(zl(s),i.replace(QC,""),"important"):e[s]=i}}const e2=["Webkit","Moz","ms"],qb={};function S5(e,t){const i=qb[t];if(i)return i;let s=eo(t);if(s!=="filter"&&s in e)return qb[t]=s;s=wp(s);for(let o=0;o<e2.length;o++){const a=e2[o]+s;if(a in e)return qb[t]=a}return t}const t2="http://www.w3.org/1999/xlink";function x5(e,t,i,s,o){if(s&&t.startsWith("xlink:"))i==null?e.removeAttributeNS(t2,t.slice(6,t.length)):e.setAttributeNS(t2,t,i);else{const a=R8(t);i==null||a&&!ak(i)?e.removeAttribute(t):e.setAttribute(t,a?"":i)}}function M5(e,t,i,s,o,a,l){if(t==="innerHTML"||t==="textContent"){s&&l(s,o,a),e[t]=i??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=i;const f=i??"";(e.value!==f||e.tagName==="OPTION")&&(e.value=f),i==null&&e.removeAttribute(t);return}let u=!1;if(i===""||i==null){const f=typeof e[t];f==="boolean"?i=ak(i):i==null&&f==="string"?(i="",u=!0):f==="number"&&(i=0,u=!0)}try{e[t]=i}catch{}u&&e.removeAttribute(t)}function Cl(e,t,i,s){e.addEventListener(t,i,s)}function E5(e,t,i,s){e.removeEventListener(t,i,s)}function C5(e,t,i,s,o=null){const a=e._vei||(e._vei={}),l=a[t];if(s&&l)l.value=s;else{const[u,f]=T5(t);if(s){const p=a[t]=k5(s,o);Cl(e,u,p,f)}else l&&(E5(e,u,l,f),a[t]=void 0)}}const n2=/(?:Once|Passive|Capture)$/;function T5(e){let t;if(n2.test(e)){t={};let s;for(;s=e.match(n2);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):zl(e.slice(2)),t]}let jb=0;const A5=Promise.resolve(),R5=()=>jb||(A5.then(()=>jb=0),jb=Date.now());function k5(e,t){const i=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=i.attached)return;Yr(P5(s,i.value),t,5,[s])};return i.value=e,i.attached=R5(),i}function P5(e,t){if(Nt(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const i2=/^on[a-z]/,I5=(e,t,i,s,o=!1,a,l,u,f)=>{t==="class"?_5(e,s,o):t==="style"?w5(e,i,s):n0(t)?Rw(t)||C5(e,t,i,s,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):L5(e,t,s,o))?M5(e,t,s,a,l,u,f):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),x5(e,t,s,o))};function L5(e,t,i,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&i2.test(t)&&an(i)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||i2.test(t)&&un(i)?!1:t in e}const fl="transition",oh="animation",ns=(e,{slots:t})=>Yt($k,lP(e),t);ns.displayName="Transition";const aP={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},N5=ns.props=As({},$k.props,aP),wc=(e,t=[])=>{Nt(e)?e.forEach(i=>i(...t)):e&&e(...t)},s2=e=>e?Nt(e)?e.some(t=>t.length>1):e.length>1:!1;function lP(e){const t={};for(const Q in e)Q in aP||(t[Q]=e[Q]);if(e.css===!1)return t;const{name:i="v",type:s,duration:o,enterFromClass:a=`${i}-enter-from`,enterActiveClass:l=`${i}-enter-active`,enterToClass:u=`${i}-enter-to`,appearFromClass:f=a,appearActiveClass:p=l,appearToClass:g=u,leaveFromClass:v=`${i}-leave-from`,leaveActiveClass:b=`${i}-leave-active`,leaveToClass:w=`${i}-leave-to`}=e,M=O5(o),x=M&&M[0],E=M&&M[1],{onBeforeEnter:C,onEnter:k,onEnterCancelled:R,onLeave:P,onLeaveCancelled:O,onBeforeAppear:F=C,onAppear:G=k,onAppearCancelled:H=R}=t,j=(Q,Z,re)=>{_l(Q,Z?g:u),_l(Q,Z?p:l),re&&re()},q=(Q,Z)=>{Q._isLeaving=!1,_l(Q,v),_l(Q,w),_l(Q,b),Z&&Z()},ie=Q=>(Z,re)=>{const ce=Q?G:k,te=()=>j(Z,Q,re);wc(ce,[Z,te]),r2(()=>{_l(Z,Q?f:a),Aa(Z,Q?g:u),s2(ce)||o2(Z,s,x,te)})};return As(t,{onBeforeEnter(Q){wc(C,[Q]),Aa(Q,a),Aa(Q,l)},onBeforeAppear(Q){wc(F,[Q]),Aa(Q,f),Aa(Q,p)},onEnter:ie(!1),onAppear:ie(!0),onLeave(Q,Z){Q._isLeaving=!0;const re=()=>q(Q,Z);Aa(Q,v),uP(),Aa(Q,b),r2(()=>{Q._isLeaving&&(_l(Q,v),Aa(Q,w),s2(P)||o2(Q,s,E,re))}),wc(P,[Q,re])},onEnterCancelled(Q){j(Q,!1),wc(R,[Q])},onAppearCancelled(Q){j(Q,!0),wc(H,[Q])},onLeaveCancelled(Q){q(Q),wc(O,[Q])}})}function O5(e){if(e==null)return null;if(Pn(e))return[Xb(e.enter),Xb(e.leave)];{const t=Xb(e);return[t,t]}}function Xb(e){return D8(e)}function Aa(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e._vtc||(e._vtc=new Set)).add(t)}function _l(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const{_vtc:i}=e;i&&(i.delete(t),i.size||(e._vtc=void 0))}function r2(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let D5=0;function o2(e,t,i,s){const o=e._endId=++D5,a=()=>{o===e._endId&&s()};if(i)return setTimeout(a,i);const{type:l,timeout:u,propCount:f}=cP(e,t);if(!l)return s();const p=l+"end";let g=0;const v=()=>{e.removeEventListener(p,b),a()},b=w=>{w.target===e&&++g>=f&&v()};setTimeout(()=>{g<f&&v()},u+1),e.addEventListener(p,b)}function cP(e,t){const i=window.getComputedStyle(e),s=M=>(i[M]||"").split(", "),o=s(`${fl}Delay`),a=s(`${fl}Duration`),l=a2(o,a),u=s(`${oh}Delay`),f=s(`${oh}Duration`),p=a2(u,f);let g=null,v=0,b=0;t===fl?l>0&&(g=fl,v=l,b=a.length):t===oh?p>0&&(g=oh,v=p,b=f.length):(v=Math.max(l,p),g=v>0?l>p?fl:oh:null,b=g?g===fl?a.length:f.length:0);const w=g===fl&&/\b(transform|all)(,|$)/.test(s(`${fl}Property`).toString());return{type:g,timeout:v,propCount:b,hasTransform:w}}function a2(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((i,s)=>l2(i)+l2(e[s])))}function l2(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function uP(){return document.body.offsetHeight}const dP=new WeakMap,fP=new WeakMap,hP={name:"TransitionGroup",props:As({},N5,{tag:String,moveClass:String}),setup(e,{slots:t}){const i=Tn(),s=zk();let o,a;return Ga(()=>{if(!o.length)return;const l=e.moveClass||`${e.name||"v"}-move`;if(!U5(o[0].el,i.vnode.el,l))return;o.forEach(B5),o.forEach(z5);const u=o.filter($5);uP(),u.forEach(f=>{const p=f.el,g=p.style;Aa(p,l),g.transform=g.webkitTransform=g.transitionDuration="";const v=p._moveCb=b=>{b&&b.target!==p||(!b||/transform$/.test(b.propertyName))&&(p.removeEventListener("transitionend",v),p._moveCb=null,_l(p,l))};p.addEventListener("transitionend",v)})}),()=>{const l=hi(e),u=lP(l);let f=l.tag||Ft;o=a,a=t.default?Hw(t.default()):[];for(let p=0;p<a.length;p++){const g=a[p];g.key!=null&&Gh(g,Wh(g,u,s,i))}if(o)for(let p=0;p<o.length;p++){const g=o[p];Gh(g,Wh(g,u,s,i)),dP.set(g,g.el.getBoundingClientRect())}return fe(f,null,a)}}},F5=e=>delete e.mode;hP.props;const pP=hP;function B5(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function z5(e){fP.set(e,e.el.getBoundingClientRect())}function $5(e){const t=dP.get(e),i=fP.get(e),s=t.left-i.left,o=t.top-i.top;if(s||o){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${s}px,${o}px)`,a.transitionDuration="0s",e}}function U5(e,t,i){const s=e.cloneNode();e._vtc&&e._vtc.forEach(l=>{l.split(/\s+/).forEach(u=>u&&s.classList.remove(u))}),i.split(/\s+/).forEach(l=>l&&s.classList.add(l)),s.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(s);const{hasTransform:a}=cP(s);return o.removeChild(s),a}const Nd=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Nt(t)?i=>Zg(t,i):t};function V5(e){e.target.composing=!0}function c2(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Yw={created(e,{modifiers:{lazy:t,trim:i,number:s}},o){e._assign=Nd(o);const a=s||o.props&&o.props.type==="number";Cl(e,t?"change":"input",l=>{if(l.target.composing)return;let u=e.value;i&&(u=u.trim()),a&&(u=t1(u)),e._assign(u)}),i&&Cl(e,"change",()=>{e.value=e.value.trim()}),t||(Cl(e,"compositionstart",V5),Cl(e,"compositionend",c2),Cl(e,"change",c2))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:i,trim:s,number:o}},a){if(e._assign=Nd(a),e.composing||document.activeElement===e&&e.type!=="range"&&(i||s&&e.value.trim()===t||(o||e.type==="number")&&t1(e.value)===t))return;const l=t??"";e.value!==l&&(e.value=l)}},Nv={deep:!0,created(e,t,i){e._assign=Nd(i),Cl(e,"change",()=>{const s=e._modelValue,o=gP(e),a=e.checked,l=e._assign;if(Nt(s)){const u=lk(s,o),f=u!==-1;if(a&&!f)l(s.concat(o));else if(!a&&f){const p=[...s];p.splice(u,1),l(p)}}else if(i0(s)){const u=new Set(s);a?u.add(o):u.delete(o),l(u)}else l(vP(e,a))})},mounted:u2,beforeUpdate(e,t,i){e._assign=Nd(i),u2(e,t,i)}};function u2(e,{value:t,oldValue:i},s){e._modelValue=t,Nt(t)?e.checked=lk(t,s.props.value)>-1:i0(t)?e.checked=t.has(s.props.value):t!==i&&(e.checked=kd(t,vP(e,!0)))}const mP={created(e,{value:t},i){e.checked=kd(t,i.props.value),e._assign=Nd(i),Cl(e,"change",()=>{e._assign(gP(e))})},beforeUpdate(e,{value:t,oldValue:i},s){e._assign=Nd(s),t!==i&&(e.checked=kd(t,s.props.value))}};function gP(e){return"_value"in e?e._value:e.value}function vP(e,t){const i=t?"_trueValue":"_falseValue";return i in e?e[i]:t}const H5=["ctrl","shift","alt","meta"],W5={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>H5.some(i=>e[`${i}Key`]&&!t.includes(i))},rn=(e,t)=>(i,...s)=>{for(let o=0;o<t.length;o++){const a=W5[t[o]];if(a&&a(i,t))return}return e(i,...s)},G5={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ei=(e,t)=>i=>{if(!("key"in i))return;const s=zl(i.key);if(t.some(o=>o===s||G5[o]===s))return e(i)},oi={beforeMount(e,{value:t},{transition:i}){e._vod=e.style.display==="none"?"":e.style.display,i&&t?i.beforeEnter(e):ah(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:s}){!t!=!i&&(s?t?(s.beforeEnter(e),ah(e,!0),s.enter(e)):s.leave(e,()=>{ah(e,!1)}):ah(e,t))},beforeUnmount(e,{value:t}){ah(e,t)}};function ah(e,t){e.style.display=t?e._vod:"none"}const K5=As({patchProp:I5},b5);let d2;function yP(){return d2||(d2=QV(K5))}const Od=(...e)=>{yP().render(...e)},bP=(...e)=>{const t=yP().createApp(...e),{mount:i}=t;return t.mount=s=>{const o=q5(s);if(!o)return;const a=t._component;!an(a)&&!a.render&&!a.template&&(a.template=o.innerHTML),o.innerHTML="";const l=i(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),l},t};function q5(e){return un(e)?document.querySelector(e):e}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const cd=typeof window<"u";function j5(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ni=Object.assign;function Yb(e,t){const i={};for(const s in t){const o=t[s];i[s]=Po(o)?o.map(e):e(o)}return i}const Th=()=>{},Po=Array.isArray,X5=/\/$/,Y5=e=>e.replace(X5,"");function Zb(e,t,i="/"){let s,o={},a="",l="";const u=t.indexOf("#");let f=t.indexOf("?");return u<f&&u>=0&&(f=-1),f>-1&&(s=t.slice(0,f),a=t.slice(f+1,u>-1?u:t.length),o=e(a)),u>-1&&(s=s||t.slice(0,u),l=t.slice(u,t.length)),s=e6(s??t,i),{fullPath:s+(a&&"?")+a+l,path:s,query:o,hash:l}}function Z5(e,t){const i=t.query?e(t.query):"";return t.path+(i&&"?")+i+(t.hash||"")}function f2(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function J5(e,t,i){const s=t.matched.length-1,o=i.matched.length-1;return s>-1&&s===o&&Dd(t.matched[s],i.matched[o])&&_P(t.params,i.params)&&e(t.query)===e(i.query)&&t.hash===i.hash}function Dd(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function _P(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!Q5(e[i],t[i]))return!1;return!0}function Q5(e,t){return Po(e)?h2(e,t):Po(t)?h2(t,e):e===t}function h2(e,t){return Po(t)?e.length===t.length&&e.every((i,s)=>i===t[s]):e.length===1&&e[0]===t}function e6(e,t){if(e.startsWith("/"))return e;if(!e)return t;const i=t.split("/"),s=e.split("/");let o=i.length-1,a,l;for(a=0;a<s.length;a++)if(l=s[a],l!==".")if(l==="..")o>1&&o--;else break;return i.slice(0,o).join("/")+"/"+s.slice(a-(a===s.length?1:0)).join("/")}var jh;(function(e){e.pop="pop",e.push="push"})(jh||(jh={}));var Ah;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ah||(Ah={}));function t6(e){if(!e)if(cd){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Y5(e)}const n6=/^[^#]+#/;function i6(e,t){return e.replace(n6,"#")+t}function s6(e,t){const i=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-i.left-(t.left||0),top:s.top-i.top-(t.top||0)}}const p0=()=>({left:window.pageXOffset,top:window.pageYOffset});function r6(e){let t;if("el"in e){const i=e.el,s=typeof i=="string"&&i.startsWith("#"),o=typeof i=="string"?s?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!o)return;t=s6(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function p2(e,t){return(history.state?history.state.position-t:-1)+e}const h1=new Map;function o6(e,t){h1.set(e,t)}function a6(e){const t=h1.get(e);return h1.delete(e),t}let l6=()=>location.protocol+"//"+location.host;function wP(e,t){const{pathname:i,search:s,hash:o}=t,a=e.indexOf("#");if(a>-1){let u=o.includes(e.slice(a))?e.slice(a).length:1,f=o.slice(u);return f[0]!=="/"&&(f="/"+f),f2(f,"")}return f2(i,e)+s+o}function c6(e,t,i,s){let o=[],a=[],l=null;const u=({state:b})=>{const w=wP(e,location),M=i.value,x=t.value;let E=0;if(b){if(i.value=w,t.value=b,l&&l===M){l=null;return}E=x?b.position-x.position:0}else s(w);o.forEach(C=>{C(i.value,M,{delta:E,type:jh.pop,direction:E?E>0?Ah.forward:Ah.back:Ah.unknown})})};function f(){l=i.value}function p(b){o.push(b);const w=()=>{const M=o.indexOf(b);M>-1&&o.splice(M,1)};return a.push(w),w}function g(){const{history:b}=window;b.state&&b.replaceState(Ni({},b.state,{scroll:p0()}),"")}function v(){for(const b of a)b();a=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",g),{pauseListeners:f,listen:p,destroy:v}}function m2(e,t,i,s=!1,o=!1){return{back:e,current:t,forward:i,replaced:s,position:window.history.length,scroll:o?p0():null}}function u6(e){const{history:t,location:i}=window,s={value:wP(e,i)},o={value:t.state};o.value||a(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(f,p,g){const v=e.indexOf("#"),b=v>-1?(i.host&&document.querySelector("base")?e:e.slice(v))+f:l6()+e+f;try{t[g?"replaceState":"pushState"](p,"",b),o.value=p}catch(w){console.error(w),i[g?"replace":"assign"](b)}}function l(f,p){const g=Ni({},t.state,m2(o.value.back,f,o.value.forward,!0),p,{position:o.value.position});a(f,g,!0),s.value=f}function u(f,p){const g=Ni({},o.value,t.state,{forward:f,scroll:p0()});a(g.current,g,!0);const v=Ni({},m2(s.value,f,null),{position:g.position+1},p);a(f,v,!1),s.value=f}return{location:s,state:o,push:u,replace:l}}function d6(e){e=t6(e);const t=u6(e),i=c6(e,t.state,t.location,t.replace);function s(a,l=!0){l||i.pauseListeners(),history.go(a)}const o=Ni({location:"",base:e,go:s,createHref:i6.bind(null,e)},t,i);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function f6(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),d6(e)}function h6(e){return typeof e=="string"||e&&typeof e=="object"}function SP(e){return typeof e=="string"||typeof e=="symbol"}const hl={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},xP=Symbol("");var g2;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(g2||(g2={}));function Fd(e,t){return Ni(new Error,{type:e,[xP]:!0},t)}function ba(e,t){return e instanceof Error&&xP in e&&(t==null||!!(e.type&t))}const v2="[^/]+?",p6={sensitive:!1,strict:!1,start:!0,end:!0},m6=/[.+*?^${}()[\]/\\]/g;function g6(e,t){const i=Ni({},p6,t),s=[];let o=i.start?"^":"";const a=[];for(const p of e){const g=p.length?[]:[90];i.strict&&!p.length&&(o+="/");for(let v=0;v<p.length;v++){const b=p[v];let w=40+(i.sensitive?.25:0);if(b.type===0)v||(o+="/"),o+=b.value.replace(m6,"\\$&"),w+=40;else if(b.type===1){const{value:M,repeatable:x,optional:E,regexp:C}=b;a.push({name:M,repeatable:x,optional:E});const k=C||v2;if(k!==v2){w+=10;try{new RegExp(`(${k})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${M}" (${k}): `+P.message)}}let R=x?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;v||(R=E&&p.length<2?`(?:/${R})`:"/"+R),E&&(R+="?"),o+=R,w+=20,E&&(w+=-8),x&&(w+=-20),k===".*"&&(w+=-50)}g.push(w)}s.push(g)}if(i.strict&&i.end){const p=s.length-1;s[p][s[p].length-1]+=.7000000000000001}i.strict||(o+="/?"),i.end?o+="$":i.strict&&(o+="(?:/|$)");const l=new RegExp(o,i.sensitive?"":"i");function u(p){const g=p.match(l),v={};if(!g)return null;for(let b=1;b<g.length;b++){const w=g[b]||"",M=a[b-1];v[M.name]=w&&M.repeatable?w.split("/"):w}return v}function f(p){let g="",v=!1;for(const b of e){(!v||!g.endsWith("/"))&&(g+="/"),v=!1;for(const w of b)if(w.type===0)g+=w.value;else if(w.type===1){const{value:M,repeatable:x,optional:E}=w,C=M in p?p[M]:"";if(Po(C)&&!x)throw new Error(`Provided param "${M}" is an array but it is not repeatable (* or + modifiers)`);const k=Po(C)?C.join("/"):C;if(!k)if(E)b.length<2&&(g.endsWith("/")?g=g.slice(0,-1):v=!0);else throw new Error(`Missing required param "${M}"`);g+=k}}return g||"/"}return{re:l,score:s,keys:a,parse:u,stringify:f}}function v6(e,t){let i=0;for(;i<e.length&&i<t.length;){const s=t[i]-e[i];if(s)return s;i++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function y6(e,t){let i=0;const s=e.score,o=t.score;for(;i<s.length&&i<o.length;){const a=v6(s[i],o[i]);if(a)return a;i++}if(Math.abs(o.length-s.length)===1){if(y2(s))return 1;if(y2(o))return-1}return o.length-s.length}function y2(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const b6={type:0,value:""},_6=/[a-zA-Z0-9_]/;function w6(e){if(!e)return[[]];if(e==="/")return[[b6]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(w){throw new Error(`ERR (${i})/"${p}": ${w}`)}let i=0,s=i;const o=[];let a;function l(){a&&o.push(a),a=[]}let u=0,f,p="",g="";function v(){p&&(i===0?a.push({type:0,value:p}):i===1||i===2||i===3?(a.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:p,regexp:g,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),p="")}function b(){p+=f}for(;u<e.length;){if(f=e[u++],f==="\\"&&i!==2){s=i,i=4;continue}switch(i){case 0:f==="/"?(p&&v(),l()):f===":"?(v(),i=1):b();break;case 4:b(),i=s;break;case 1:f==="("?i=2:_6.test(f)?b():(v(),i=0,f!=="*"&&f!=="?"&&f!=="+"&&u--);break;case 2:f===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+f:i=3:g+=f;break;case 3:v(),i=0,f!=="*"&&f!=="?"&&f!=="+"&&u--,g="";break;default:t("Unknown state");break}}return i===2&&t(`Unfinished custom RegExp for param "${p}"`),v(),l(),o}function S6(e,t,i){const s=g6(w6(e.path),i),o=Ni(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function x6(e,t){const i=[],s=new Map;t=w2({strict:!1,end:!0,sensitive:!1},t);function o(g){return s.get(g)}function a(g,v,b){const w=!b,M=M6(g);M.aliasOf=b&&b.record;const x=w2(t,g),E=[M];if("alias"in g){const R=typeof g.alias=="string"?[g.alias]:g.alias;for(const P of R)E.push(Ni({},M,{components:b?b.record.components:M.components,path:P,aliasOf:b?b.record:M}))}let C,k;for(const R of E){const{path:P}=R;if(v&&P[0]!=="/"){const O=v.record.path,F=O[O.length-1]==="/"?"":"/";R.path=v.record.path+(P&&F+P)}if(C=S6(R,v,x),b?b.alias.push(C):(k=k||C,k!==C&&k.alias.push(C),w&&g.name&&!_2(C)&&l(g.name)),M.children){const O=M.children;for(let F=0;F<O.length;F++)a(O[F],C,b&&b.children[F])}b=b||C,(C.record.components&&Object.keys(C.record.components).length||C.record.name||C.record.redirect)&&f(C)}return k?()=>{l(k)}:Th}function l(g){if(SP(g)){const v=s.get(g);v&&(s.delete(g),i.splice(i.indexOf(v),1),v.children.forEach(l),v.alias.forEach(l))}else{const v=i.indexOf(g);v>-1&&(i.splice(v,1),g.record.name&&s.delete(g.record.name),g.children.forEach(l),g.alias.forEach(l))}}function u(){return i}function f(g){let v=0;for(;v<i.length&&y6(g,i[v])>=0&&(g.record.path!==i[v].record.path||!MP(g,i[v]));)v++;i.splice(v,0,g),g.record.name&&!_2(g)&&s.set(g.record.name,g)}function p(g,v){let b,w={},M,x;if("name"in g&&g.name){if(b=s.get(g.name),!b)throw Fd(1,{location:g});x=b.record.name,w=Ni(b2(v.params,b.keys.filter(k=>!k.optional).map(k=>k.name)),g.params&&b2(g.params,b.keys.map(k=>k.name))),M=b.stringify(w)}else if("path"in g)M=g.path,b=i.find(k=>k.re.test(M)),b&&(w=b.parse(M),x=b.record.name);else{if(b=v.name?s.get(v.name):i.find(k=>k.re.test(v.path)),!b)throw Fd(1,{location:g,currentLocation:v});x=b.record.name,w=Ni({},v.params,g.params),M=b.stringify(w)}const E=[];let C=b;for(;C;)E.unshift(C.record),C=C.parent;return{name:x,path:M,params:w,matched:E,meta:C6(E)}}return e.forEach(g=>a(g)),{addRoute:a,resolve:p,removeRoute:l,getRoutes:u,getRecordMatcher:o}}function b2(e,t){const i={};for(const s of t)s in e&&(i[s]=e[s]);return i}function M6(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:E6(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function E6(e){const t={},i=e.props||!1;if("component"in e)t.default=i;else for(const s in e.components)t[s]=typeof i=="boolean"?i:i[s];return t}function _2(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function C6(e){return e.reduce((t,i)=>Ni(t,i.meta),{})}function w2(e,t){const i={};for(const s in e)i[s]=s in t?t[s]:e[s];return i}function MP(e,t){return t.children.some(i=>i===e||MP(e,i))}const EP=/#/g,T6=/&/g,A6=/\//g,R6=/=/g,k6=/\?/g,CP=/\+/g,P6=/%5B/g,I6=/%5D/g,TP=/%5E/g,L6=/%60/g,AP=/%7B/g,N6=/%7C/g,RP=/%7D/g,O6=/%20/g;function Zw(e){return encodeURI(""+e).replace(N6,"|").replace(P6,"[").replace(I6,"]")}function D6(e){return Zw(e).replace(AP,"{").replace(RP,"}").replace(TP,"^")}function p1(e){return Zw(e).replace(CP,"%2B").replace(O6,"+").replace(EP,"%23").replace(T6,"%26").replace(L6,"`").replace(AP,"{").replace(RP,"}").replace(TP,"^")}function F6(e){return p1(e).replace(R6,"%3D")}function B6(e){return Zw(e).replace(EP,"%23").replace(k6,"%3F")}function z6(e){return e==null?"":B6(e).replace(A6,"%2F")}function Ov(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function $6(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const a=s[o].replace(CP," "),l=a.indexOf("="),u=Ov(l<0?a:a.slice(0,l)),f=l<0?null:Ov(a.slice(l+1));if(u in t){let p=t[u];Po(p)||(p=t[u]=[p]),p.push(f)}else t[u]=f}return t}function S2(e){let t="";for(let i in e){const s=e[i];if(i=F6(i),s==null){s!==void 0&&(t+=(t.length?"&":"")+i);continue}(Po(s)?s.map(a=>a&&p1(a)):[s&&p1(s)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+i,a!=null&&(t+="="+a))})}return t}function U6(e){const t={};for(const i in e){const s=e[i];s!==void 0&&(t[i]=Po(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const V6=Symbol(""),x2=Symbol(""),Jw=Symbol(""),kP=Symbol(""),m1=Symbol("");function lh(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function i(){e=[]}return{add:t,list:()=>e,reset:i}}function El(e,t,i,s,o){const a=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((l,u)=>{const f=v=>{v===!1?u(Fd(4,{from:i,to:t})):v instanceof Error?u(v):h6(v)?u(Fd(2,{from:t,to:v})):(a&&s.enterCallbacks[o]===a&&typeof v=="function"&&a.push(v),l())},p=e.call(s&&s.instances[o],t,i,f);let g=Promise.resolve(p);e.length<3&&(g=g.then(f)),g.catch(v=>u(v))})}function Jb(e,t,i,s){const o=[];for(const a of e)for(const l in a.components){let u=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(H6(u)){const p=(u.__vccOpts||u)[t];p&&o.push(El(p,i,s,a,l))}else{let f=u();o.push(()=>f.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${a.path}"`));const g=j5(p)?p.default:p;a.components[l]=g;const b=(g.__vccOpts||g)[t];return b&&El(b,i,s,a,l)()}))}}return o}function H6(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function M2(e){const t=Lt(Jw),i=Lt(kP),s=D(()=>t.resolve(h(e.to))),o=D(()=>{const{matched:f}=s.value,{length:p}=f,g=f[p-1],v=i.matched;if(!g||!v.length)return-1;const b=v.findIndex(Dd.bind(null,g));if(b>-1)return b;const w=E2(f[p-2]);return p>1&&E2(g)===w&&v[v.length-1].path!==w?v.findIndex(Dd.bind(null,f[p-2])):b}),a=D(()=>o.value>-1&&q6(i.params,s.value.params)),l=D(()=>o.value>-1&&o.value===i.matched.length-1&&_P(i.params,s.value.params));function u(f={}){return K6(f)?t[h(e.replace)?"replace":"push"](h(e.to)).catch(Th):Promise.resolve()}return{route:s,href:D(()=>s.value.href),isActive:a,isExactActive:l,navigate:u}}const W6=_e({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:M2,setup(e,{slots:t}){const i=ai(M2(e)),{options:s}=Lt(Jw),o=D(()=>({[C2(e.activeClass,s.linkActiveClass,"router-link-active")]:i.isActive,[C2(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const a=t.default&&t.default(i);return e.custom?a:Yt("a",{"aria-current":i.isExactActive?e.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:o.value},a)}}}),G6=W6;function K6(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function q6(e,t){for(const i in t){const s=t[i],o=e[i];if(typeof s=="string"){if(s!==o)return!1}else if(!Po(o)||o.length!==s.length||s.some((a,l)=>a!==o[l]))return!1}return!0}function E2(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const C2=(e,t,i)=>e??t??i,j6=_e({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:i}){const s=Lt(m1),o=D(()=>e.route||s.value),a=Lt(x2,0),l=D(()=>{let p=h(a);const{matched:g}=o.value;let v;for(;(v=g[p])&&!v.components;)p++;return p}),u=D(()=>o.value.matched[l.value]);On(x2,D(()=>l.value+1)),On(V6,u),On(m1,o);const f=X();return et(()=>[f.value,u.value,e.name],([p,g,v],[b,w,M])=>{g&&(g.instances[v]=p,w&&w!==g&&p&&p===b&&(g.leaveGuards.size||(g.leaveGuards=w.leaveGuards),g.updateGuards.size||(g.updateGuards=w.updateGuards))),p&&g&&(!w||!Dd(g,w)||!b)&&(g.enterCallbacks[v]||[]).forEach(x=>x(p))},{flush:"post"}),()=>{const p=o.value,g=e.name,v=u.value,b=v&&v.components[g];if(!b)return T2(i.default,{Component:b,route:p});const w=v.props[g],M=w?w===!0?p.params:typeof w=="function"?w(p):w:null,E=Yt(b,Ni({},M,t,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(v.instances[g]=null)},ref:f}));return T2(i.default,{Component:E,route:p})||E}}});function T2(e,t){if(!e)return null;const i=e(t);return i.length===1?i[0]:i}const PP=j6;function X6(e){const t=x6(e.routes,e),i=e.parseQuery||$6,s=e.stringifyQuery||S2,o=e.history,a=lh(),l=lh(),u=lh(),f=ki(hl);let p=hl;cd&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=Yb.bind(null,Te=>""+Te),v=Yb.bind(null,z6),b=Yb.bind(null,Ov);function w(Te,xe){let Ie,ge;return SP(Te)?(Ie=t.getRecordMatcher(Te),ge=xe):ge=Te,t.addRoute(ge,Ie)}function M(Te){const xe=t.getRecordMatcher(Te);xe&&t.removeRoute(xe)}function x(){return t.getRoutes().map(Te=>Te.record)}function E(Te){return!!t.getRecordMatcher(Te)}function C(Te,xe){if(xe=Ni({},xe||f.value),typeof Te=="string"){const ue=Zb(i,Te,xe.path),we=t.resolve({path:ue.path},xe),Ve=o.createHref(ue.fullPath);return Ni(ue,we,{params:b(we.params),hash:Ov(ue.hash),redirectedFrom:void 0,href:Ve})}let Ie;if("path"in Te)Ie=Ni({},Te,{path:Zb(i,Te.path,xe.path).path});else{const ue=Ni({},Te.params);for(const we in ue)ue[we]==null&&delete ue[we];Ie=Ni({},Te,{params:v(Te.params)}),xe.params=v(xe.params)}const ge=t.resolve(Ie,xe),Le=Te.hash||"";ge.params=g(b(ge.params));const Ue=Z5(s,Ni({},Te,{hash:D6(Le),path:ge.path})),ut=o.createHref(Ue);return Ni({fullPath:Ue,hash:Le,query:s===S2?U6(Te.query):Te.query||{}},ge,{redirectedFrom:void 0,href:ut})}function k(Te){return typeof Te=="string"?Zb(i,Te,f.value.path):Ni({},Te)}function R(Te,xe){if(p!==Te)return Fd(8,{from:xe,to:Te})}function P(Te){return G(Te)}function O(Te){return P(Ni(k(Te),{replace:!0}))}function F(Te){const xe=Te.matched[Te.matched.length-1];if(xe&&xe.redirect){const{redirect:Ie}=xe;let ge=typeof Ie=="function"?Ie(Te):Ie;return typeof ge=="string"&&(ge=ge.includes("?")||ge.includes("#")?ge=k(ge):{path:ge},ge.params={}),Ni({query:Te.query,hash:Te.hash,params:"path"in ge?{}:Te.params},ge)}}function G(Te,xe){const Ie=p=C(Te),ge=f.value,Le=Te.state,Ue=Te.force,ut=Te.replace===!0,ue=F(Ie);if(ue)return G(Ni(k(ue),{state:typeof ue=="object"?Ni({},Le,ue.state):Le,force:Ue,replace:ut}),xe||Ie);const we=Ie;we.redirectedFrom=xe;let Ve;return!Ue&&J5(s,ge,Ie)&&(Ve=Fd(16,{to:we,from:ge}),pe(ge,ge,!0,!1)),(Ve?Promise.resolve(Ve):j(we,ge)).catch(Ye=>ba(Ye)?ba(Ye,2)?Ye:J(Ye):W(Ye,we,ge)).then(Ye=>{if(Ye){if(ba(Ye,2))return G(Ni({replace:ut},k(Ye.to),{state:typeof Ye.to=="object"?Ni({},Le,Ye.to.state):Le,force:Ue}),xe||we)}else Ye=ie(we,ge,!0,ut,Le);return q(we,ge,Ye),Ye})}function H(Te,xe){const Ie=R(Te,xe);return Ie?Promise.reject(Ie):Promise.resolve()}function j(Te,xe){let Ie;const[ge,Le,Ue]=Y6(Te,xe);Ie=Jb(ge.reverse(),"beforeRouteLeave",Te,xe);for(const ue of ge)ue.leaveGuards.forEach(we=>{Ie.push(El(we,Te,xe))});const ut=H.bind(null,Te,xe);return Ie.push(ut),Hu(Ie).then(()=>{Ie=[];for(const ue of a.list())Ie.push(El(ue,Te,xe));return Ie.push(ut),Hu(Ie)}).then(()=>{Ie=Jb(Le,"beforeRouteUpdate",Te,xe);for(const ue of Le)ue.updateGuards.forEach(we=>{Ie.push(El(we,Te,xe))});return Ie.push(ut),Hu(Ie)}).then(()=>{Ie=[];for(const ue of Te.matched)if(ue.beforeEnter&&!xe.matched.includes(ue))if(Po(ue.beforeEnter))for(const we of ue.beforeEnter)Ie.push(El(we,Te,xe));else Ie.push(El(ue.beforeEnter,Te,xe));return Ie.push(ut),Hu(Ie)}).then(()=>(Te.matched.forEach(ue=>ue.enterCallbacks={}),Ie=Jb(Ue,"beforeRouteEnter",Te,xe),Ie.push(ut),Hu(Ie))).then(()=>{Ie=[];for(const ue of l.list())Ie.push(El(ue,Te,xe));return Ie.push(ut),Hu(Ie)}).catch(ue=>ba(ue,8)?ue:Promise.reject(ue))}function q(Te,xe,Ie){for(const ge of u.list())ge(Te,xe,Ie)}function ie(Te,xe,Ie,ge,Le){const Ue=R(Te,xe);if(Ue)return Ue;const ut=xe===hl,ue=cd?history.state:{};Ie&&(ge||ut?o.replace(Te.fullPath,Ni({scroll:ut&&ue&&ue.scroll},Le)):o.push(Te.fullPath,Le)),f.value=Te,pe(Te,xe,Ie,ut),J()}let Q;function Z(){Q||(Q=o.listen((Te,xe,Ie)=>{if(!Ge.listening)return;const ge=C(Te),Le=F(ge);if(Le){G(Ni(Le,{replace:!0}),ge).catch(Th);return}p=ge;const Ue=f.value;cd&&o6(p2(Ue.fullPath,Ie.delta),p0()),j(ge,Ue).catch(ut=>ba(ut,12)?ut:ba(ut,2)?(G(ut.to,ge).then(ue=>{ba(ue,20)&&!Ie.delta&&Ie.type===jh.pop&&o.go(-1,!1)}).catch(Th),Promise.reject()):(Ie.delta&&o.go(-Ie.delta,!1),W(ut,ge,Ue))).then(ut=>{ut=ut||ie(ge,Ue,!1),ut&&(Ie.delta&&!ba(ut,8)?o.go(-Ie.delta,!1):Ie.type===jh.pop&&ba(ut,20)&&o.go(-1,!1)),q(ge,Ue,ut)}).catch(Th)}))}let re=lh(),ce=lh(),te;function W(Te,xe,Ie){J(Te);const ge=ce.list();return ge.length?ge.forEach(Le=>Le(Te,xe,Ie)):console.error(Te),Promise.reject(Te)}function ee(){return te&&f.value!==hl?Promise.resolve():new Promise((Te,xe)=>{re.add([Te,xe])})}function J(Te){return te||(te=!Te,Z(),re.list().forEach(([xe,Ie])=>Te?Ie(Te):xe()),re.reset()),Te}function pe(Te,xe,Ie,ge){const{scrollBehavior:Le}=e;if(!cd||!Le)return Promise.resolve();const Ue=!Ie&&a6(p2(Te.fullPath,0))||(ge||!Ie)&&history.state&&history.state.scroll||null;return Bt().then(()=>Le(Te,xe,Ue)).then(ut=>ut&&r6(ut)).catch(ut=>W(ut,Te,xe))}const Ee=Te=>o.go(Te);let he;const Ce=new Set,Ge={currentRoute:f,listening:!0,addRoute:w,removeRoute:M,hasRoute:E,getRoutes:x,resolve:C,options:e,push:P,replace:O,go:Ee,back:()=>Ee(-1),forward:()=>Ee(1),beforeEach:a.add,beforeResolve:l.add,afterEach:u.add,onError:ce.add,isReady:ee,install(Te){const xe=this;Te.component("RouterLink",G6),Te.component("RouterView",PP),Te.config.globalProperties.$router=xe,Object.defineProperty(Te.config.globalProperties,"$route",{enumerable:!0,get:()=>h(f)}),cd&&!he&&f.value===hl&&(he=!0,P(o.location).catch(Le=>{}));const Ie={};for(const Le in hl)Ie[Le]=D(()=>f.value[Le]);Te.provide(Jw,xe),Te.provide(kP,ai(Ie)),Te.provide(m1,f);const ge=Te.unmount;Ce.add(Te),Te.unmount=function(){Ce.delete(Te),Ce.size<1&&(p=hl,Q&&Q(),Q=null,f.value=hl,he=!1,te=!1),ge()}}};return Ge}function Hu(e){return e.reduce((t,i)=>t.then(()=>i()),Promise.resolve())}function Y6(e,t){const i=[],s=[],o=[],a=Math.max(t.matched.length,e.matched.length);for(let l=0;l<a;l++){const u=t.matched[l];u&&(e.matched.find(p=>Dd(p,u))?s.push(u):i.push(u));const f=e.matched[l];f&&(t.matched.find(p=>Dd(p,f))||o.push(f))}return[i,s,o]}function IP(e,t){return function(){return e.apply(t,arguments)}}const{toString:Z6}=Object.prototype,{getPrototypeOf:Qw}=Object,m0=(e=>t=>{const i=Z6.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),sa=e=>(e=e.toLowerCase(),t=>m0(t)===e),g0=e=>t=>typeof t===e,{isArray:af}=Array,Xh=g0("undefined");function J6(e){return e!==null&&!Xh(e)&&e.constructor!==null&&!Xh(e.constructor)&&Zr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const LP=sa("ArrayBuffer");function Q6(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&LP(e.buffer),t}const eH=g0("string"),Zr=g0("function"),NP=g0("number"),v0=e=>e!==null&&typeof e=="object",tH=e=>e===!0||e===!1,Qg=e=>{if(m0(e)!=="object")return!1;const t=Qw(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},nH=sa("Date"),iH=sa("File"),sH=sa("Blob"),rH=sa("FileList"),oH=e=>v0(e)&&Zr(e.pipe),aH=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Zr(e.append)&&((t=m0(e))==="formdata"||t==="object"&&Zr(e.toString)&&e.toString()==="[object FormData]"))},lH=sa("URLSearchParams"),cH=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xp(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let s,o;if(typeof e!="object"&&(e=[e]),af(e))for(s=0,o=e.length;s<o;s++)t.call(null,e[s],s,e);else{const a=i?Object.getOwnPropertyNames(e):Object.keys(e),l=a.length;let u;for(s=0;s<l;s++)u=a[s],t.call(null,e[u],u,e)}}function OP(e,t){t=t.toLowerCase();const i=Object.keys(e);let s=i.length,o;for(;s-- >0;)if(o=i[s],t===o.toLowerCase())return o;return null}const DP=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),FP=e=>!Xh(e)&&e!==DP;function g1(){const{caseless:e}=FP(this)&&this||{},t={},i=(s,o)=>{const a=e&&OP(t,o)||o;Qg(t[a])&&Qg(s)?t[a]=g1(t[a],s):Qg(s)?t[a]=g1({},s):af(s)?t[a]=s.slice():t[a]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&xp(arguments[s],i);return t}const uH=(e,t,i,{allOwnKeys:s}={})=>(xp(t,(o,a)=>{i&&Zr(o)?e[a]=IP(o,i):e[a]=o},{allOwnKeys:s}),e),dH=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),fH=(e,t,i,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},hH=(e,t,i,s)=>{let o,a,l;const u={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)l=o[a],(!s||s(l,e,t))&&!u[l]&&(t[l]=e[l],u[l]=!0);e=i!==!1&&Qw(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},pH=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const s=e.indexOf(t,i);return s!==-1&&s===i},mH=e=>{if(!e)return null;if(af(e))return e;let t=e.length;if(!NP(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},gH=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Qw(Uint8Array)),vH=(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=s.next())&&!o.done;){const a=o.value;t.call(e,a[0],a[1])}},yH=(e,t)=>{let i;const s=[];for(;(i=e.exec(t))!==null;)s.push(i);return s},bH=sa("HTMLFormElement"),_H=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,s,o){return s.toUpperCase()+o}),A2=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),wH=sa("RegExp"),BP=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),s={};xp(i,(o,a)=>{t(o,a,e)!==!1&&(s[a]=o)}),Object.defineProperties(e,s)},SH=e=>{BP(e,(t,i)=>{if(Zr(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const s=e[i];if(Zr(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},xH=(e,t)=>{const i={},s=o=>{o.forEach(a=>{i[a]=!0})};return af(e)?s(e):s(String(e).split(t)),i},MH=()=>{},EH=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Qb="abcdefghijklmnopqrstuvwxyz",R2="0123456789",zP={DIGIT:R2,ALPHA:Qb,ALPHA_DIGIT:Qb+Qb.toUpperCase()+R2},CH=(e=16,t=zP.ALPHA_DIGIT)=>{let i="";const{length:s}=t;for(;e--;)i+=t[Math.random()*s|0];return i};function TH(e){return!!(e&&Zr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const AH=e=>{const t=new Array(10),i=(s,o)=>{if(v0(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[o]=s;const a=af(s)?[]:{};return xp(s,(l,u)=>{const f=i(l,o+1);!Xh(f)&&(a[u]=f)}),t[o]=void 0,a}}return s};return i(e,0)},RH=sa("AsyncFunction"),kH=e=>e&&(v0(e)||Zr(e))&&Zr(e.then)&&Zr(e.catch),Pt={isArray:af,isArrayBuffer:LP,isBuffer:J6,isFormData:aH,isArrayBufferView:Q6,isString:eH,isNumber:NP,isBoolean:tH,isObject:v0,isPlainObject:Qg,isUndefined:Xh,isDate:nH,isFile:iH,isBlob:sH,isRegExp:wH,isFunction:Zr,isStream:oH,isURLSearchParams:lH,isTypedArray:gH,isFileList:rH,forEach:xp,merge:g1,extend:uH,trim:cH,stripBOM:dH,inherits:fH,toFlatObject:hH,kindOf:m0,kindOfTest:sa,endsWith:pH,toArray:mH,forEachEntry:vH,matchAll:yH,isHTMLForm:bH,hasOwnProperty:A2,hasOwnProp:A2,reduceDescriptors:BP,freezeMethods:SH,toObjectSet:xH,toCamelCase:_H,noop:MH,toFiniteNumber:EH,findKey:OP,global:DP,isContextDefined:FP,ALPHABET:zP,generateString:CH,isSpecCompliantForm:TH,toJSONObject:AH,isAsyncFn:RH,isThenable:kH};function Ci(e,t,i,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),s&&(this.request=s),o&&(this.response=o)}Pt.inherits(Ci,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const $P=Ci.prototype,UP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{UP[e]={value:e}});Object.defineProperties(Ci,UP);Object.defineProperty($P,"isAxiosError",{value:!0});Ci.from=(e,t,i,s,o,a)=>{const l=Object.create($P);return Pt.toFlatObject(e,l,function(f){return f!==Error.prototype},u=>u!=="isAxiosError"),Ci.call(l,e.message,t,i,s,o),l.cause=e,l.name=e.name,a&&Object.assign(l,a),l};const PH=null;function v1(e){return Pt.isPlainObject(e)||Pt.isArray(e)}function VP(e){return Pt.endsWith(e,"[]")?e.slice(0,-2):e}function k2(e,t,i){return e?e.concat(t).map(function(o,a){return o=VP(o),!i&&a?"["+o+"]":o}).join(i?".":""):t}function IH(e){return Pt.isArray(e)&&!e.some(v1)}const LH=Pt.toFlatObject(Pt,{},null,function(t){return/^is[A-Z]/.test(t)});function y0(e,t,i){if(!Pt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=Pt.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,E){return!Pt.isUndefined(E[x])});const s=i.metaTokens,o=i.visitor||g,a=i.dots,l=i.indexes,f=(i.Blob||typeof Blob<"u"&&Blob)&&Pt.isSpecCompliantForm(t);if(!Pt.isFunction(o))throw new TypeError("visitor must be a function");function p(M){if(M===null)return"";if(Pt.isDate(M))return M.toISOString();if(!f&&Pt.isBlob(M))throw new Ci("Blob is not supported. Use a Buffer instead.");return Pt.isArrayBuffer(M)||Pt.isTypedArray(M)?f&&typeof Blob=="function"?new Blob([M]):Buffer.from(M):M}function g(M,x,E){let C=M;if(M&&!E&&typeof M=="object"){if(Pt.endsWith(x,"{}"))x=s?x:x.slice(0,-2),M=JSON.stringify(M);else if(Pt.isArray(M)&&IH(M)||(Pt.isFileList(M)||Pt.endsWith(x,"[]"))&&(C=Pt.toArray(M)))return x=VP(x),C.forEach(function(R,P){!(Pt.isUndefined(R)||R===null)&&t.append(l===!0?k2([x],P,a):l===null?x:x+"[]",p(R))}),!1}return v1(M)?!0:(t.append(k2(E,x,a),p(M)),!1)}const v=[],b=Object.assign(LH,{defaultVisitor:g,convertValue:p,isVisitable:v1});function w(M,x){if(!Pt.isUndefined(M)){if(v.indexOf(M)!==-1)throw Error("Circular reference detected in "+x.join("."));v.push(M),Pt.forEach(M,function(C,k){(!(Pt.isUndefined(C)||C===null)&&o.call(t,C,Pt.isString(k)?k.trim():k,x,b))===!0&&w(C,x?x.concat(k):[k])}),v.pop()}}if(!Pt.isObject(e))throw new TypeError("data must be an object");return w(e),t}function P2(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function eS(e,t){this._pairs=[],e&&y0(e,this,t)}const HP=eS.prototype;HP.append=function(t,i){this._pairs.push([t,i])};HP.toString=function(t){const i=t?function(s){return t.call(this,s,P2)}:P2;return this._pairs.map(function(o){return i(o[0])+"="+i(o[1])},"").join("&")};function NH(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function WP(e,t,i){if(!t)return e;const s=i&&i.encode||NH,o=i&&i.serialize;let a;if(o?a=o(t,i):a=Pt.isURLSearchParams(t)?t.toString():new eS(t,i).toString(s),a){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class OH{constructor(){this.handlers=[]}use(t,i,s){return this.handlers.push({fulfilled:t,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Pt.forEach(this.handlers,function(s){s!==null&&t(s)})}}const I2=OH,GP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},DH=typeof URLSearchParams<"u"?URLSearchParams:eS,FH=typeof FormData<"u"?FormData:null,BH=typeof Blob<"u"?Blob:null,zH=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),$H=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Yo={isBrowser:!0,classes:{URLSearchParams:DH,FormData:FH,Blob:BH},isStandardBrowserEnv:zH,isStandardBrowserWebWorkerEnv:$H,protocols:["http","https","file","blob","url","data"]};function UH(e,t){return y0(e,new Yo.classes.URLSearchParams,Object.assign({visitor:function(i,s,o,a){return Yo.isNode&&Pt.isBuffer(i)?(this.append(s,i.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function VH(e){return Pt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function HH(e){const t={},i=Object.keys(e);let s;const o=i.length;let a;for(s=0;s<o;s++)a=i[s],t[a]=e[a];return t}function KP(e){function t(i,s,o,a){let l=i[a++];const u=Number.isFinite(+l),f=a>=i.length;return l=!l&&Pt.isArray(o)?o.length:l,f?(Pt.hasOwnProp(o,l)?o[l]=[o[l],s]:o[l]=s,!u):((!o[l]||!Pt.isObject(o[l]))&&(o[l]=[]),t(i,s,o[l],a)&&Pt.isArray(o[l])&&(o[l]=HH(o[l])),!u)}if(Pt.isFormData(e)&&Pt.isFunction(e.entries)){const i={};return Pt.forEachEntry(e,(s,o)=>{t(VH(s),o,i,0)}),i}return null}const WH={"Content-Type":void 0};function GH(e,t,i){if(Pt.isString(e))try{return(t||JSON.parse)(e),Pt.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(i||JSON.stringify)(e)}const b0={transitional:GP,adapter:["xhr","http"],transformRequest:[function(t,i){const s=i.getContentType()||"",o=s.indexOf("application/json")>-1,a=Pt.isObject(t);if(a&&Pt.isHTMLForm(t)&&(t=new FormData(t)),Pt.isFormData(t))return o&&o?JSON.stringify(KP(t)):t;if(Pt.isArrayBuffer(t)||Pt.isBuffer(t)||Pt.isStream(t)||Pt.isFile(t)||Pt.isBlob(t))return t;if(Pt.isArrayBufferView(t))return t.buffer;if(Pt.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return UH(t,this.formSerializer).toString();if((u=Pt.isFileList(t))||s.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return y0(u?{"files[]":t}:t,f&&new f,this.formSerializer)}}return a||o?(i.setContentType("application/json",!1),GH(t)):t}],transformResponse:[function(t){const i=this.transitional||b0.transitional,s=i&&i.forcedJSONParsing,o=this.responseType==="json";if(t&&Pt.isString(t)&&(s&&!this.responseType||o)){const l=!(i&&i.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(u){if(l)throw u.name==="SyntaxError"?Ci.from(u,Ci.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yo.classes.FormData,Blob:Yo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Pt.forEach(["delete","get","head"],function(t){b0.headers[t]={}});Pt.forEach(["post","put","patch"],function(t){b0.headers[t]=Pt.merge(WH)});const tS=b0,KH=Pt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qH=e=>{const t={};let i,s,o;return e&&e.split(`
`).forEach(function(l){o=l.indexOf(":"),i=l.substring(0,o).trim().toLowerCase(),s=l.substring(o+1).trim(),!(!i||t[i]&&KH[i])&&(i==="set-cookie"?t[i]?t[i].push(s):t[i]=[s]:t[i]=t[i]?t[i]+", "+s:s)}),t},L2=Symbol("internals");function ch(e){return e&&String(e).trim().toLowerCase()}function ev(e){return e===!1||e==null?e:Pt.isArray(e)?e.map(ev):String(e)}function jH(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=i.exec(e);)t[s[1]]=s[2];return t}const XH=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function e_(e,t,i,s,o){if(Pt.isFunction(s))return s.call(this,t,i);if(o&&(t=i),!!Pt.isString(t)){if(Pt.isString(s))return t.indexOf(s)!==-1;if(Pt.isRegExp(s))return s.test(t)}}function YH(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,s)=>i.toUpperCase()+s)}function ZH(e,t){const i=Pt.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+i,{value:function(o,a,l){return this[s].call(this,t,o,a,l)},configurable:!0})})}class _0{constructor(t){t&&this.set(t)}set(t,i,s){const o=this;function a(u,f,p){const g=ch(f);if(!g)throw new Error("header name must be a non-empty string");const v=Pt.findKey(o,g);(!v||o[v]===void 0||p===!0||p===void 0&&o[v]!==!1)&&(o[v||f]=ev(u))}const l=(u,f)=>Pt.forEach(u,(p,g)=>a(p,g,f));return Pt.isPlainObject(t)||t instanceof this.constructor?l(t,i):Pt.isString(t)&&(t=t.trim())&&!XH(t)?l(qH(t),i):t!=null&&a(i,t,s),this}get(t,i){if(t=ch(t),t){const s=Pt.findKey(this,t);if(s){const o=this[s];if(!i)return o;if(i===!0)return jH(o);if(Pt.isFunction(i))return i.call(this,o,s);if(Pt.isRegExp(i))return i.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=ch(t),t){const s=Pt.findKey(this,t);return!!(s&&this[s]!==void 0&&(!i||e_(this,this[s],s,i)))}return!1}delete(t,i){const s=this;let o=!1;function a(l){if(l=ch(l),l){const u=Pt.findKey(s,l);u&&(!i||e_(s,s[u],u,i))&&(delete s[u],o=!0)}}return Pt.isArray(t)?t.forEach(a):a(t),o}clear(t){const i=Object.keys(this);let s=i.length,o=!1;for(;s--;){const a=i[s];(!t||e_(this,this[a],a,t,!0))&&(delete this[a],o=!0)}return o}normalize(t){const i=this,s={};return Pt.forEach(this,(o,a)=>{const l=Pt.findKey(s,a);if(l){i[l]=ev(o),delete i[a];return}const u=t?YH(a):String(a).trim();u!==a&&delete i[a],i[u]=ev(o),s[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return Pt.forEach(this,(s,o)=>{s!=null&&s!==!1&&(i[o]=t&&Pt.isArray(s)?s.join(", "):s)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const s=new this(t);return i.forEach(o=>s.set(o)),s}static accessor(t){const s=(this[L2]=this[L2]={accessors:{}}).accessors,o=this.prototype;function a(l){const u=ch(l);s[u]||(ZH(o,l),s[u]=!0)}return Pt.isArray(t)?t.forEach(a):a(t),this}}_0.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pt.freezeMethods(_0.prototype);Pt.freezeMethods(_0);const Da=_0;function t_(e,t){const i=this||tS,s=t||i,o=Da.from(s.headers);let a=s.data;return Pt.forEach(e,function(u){a=u.call(i,a,o.normalize(),t?t.status:void 0)}),o.normalize(),a}function qP(e){return!!(e&&e.__CANCEL__)}function Mp(e,t,i){Ci.call(this,e??"canceled",Ci.ERR_CANCELED,t,i),this.name="CanceledError"}Pt.inherits(Mp,Ci,{__CANCEL__:!0});function JH(e,t,i){const s=i.config.validateStatus;!i.status||!s||s(i.status)?e(i):t(new Ci("Request failed with status code "+i.status,[Ci.ERR_BAD_REQUEST,Ci.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}const QH=Yo.isStandardBrowserEnv?function(){return{write:function(i,s,o,a,l,u){const f=[];f.push(i+"="+encodeURIComponent(s)),Pt.isNumber(o)&&f.push("expires="+new Date(o).toGMTString()),Pt.isString(a)&&f.push("path="+a),Pt.isString(l)&&f.push("domain="+l),u===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(i){const s=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function eW(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function tW(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function jP(e,t){return e&&!eW(t)?tW(e,t):t}const nW=Yo.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");let s;function o(a){let l=a;return t&&(i.setAttribute("href",l),l=i.href),i.setAttribute("href",l),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return s=o(window.location.href),function(l){const u=Pt.isString(l)?o(l):l;return u.protocol===s.protocol&&u.host===s.host}}():function(){return function(){return!0}}();function iW(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function sW(e,t){e=e||10;const i=new Array(e),s=new Array(e);let o=0,a=0,l;return t=t!==void 0?t:1e3,function(f){const p=Date.now(),g=s[a];l||(l=p),i[o]=f,s[o]=p;let v=a,b=0;for(;v!==o;)b+=i[v++],v=v%e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),p-l<t)return;const w=g&&p-g;return w?Math.round(b*1e3/w):void 0}}function N2(e,t){let i=0;const s=sW(50,250);return o=>{const a=o.loaded,l=o.lengthComputable?o.total:void 0,u=a-i,f=s(u),p=a<=l;i=a;const g={loaded:a,total:l,progress:l?a/l:void 0,bytes:u,rate:f||void 0,estimated:f&&l&&p?(l-a)/f:void 0,event:o};g[t?"download":"upload"]=!0,e(g)}}const rW=typeof XMLHttpRequest<"u",oW=rW&&function(e){return new Promise(function(i,s){let o=e.data;const a=Da.from(e.headers).normalize(),l=e.responseType;let u;function f(){e.cancelToken&&e.cancelToken.unsubscribe(u),e.signal&&e.signal.removeEventListener("abort",u)}Pt.isFormData(o)&&(Yo.isStandardBrowserEnv||Yo.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));let p=new XMLHttpRequest;if(e.auth){const w=e.auth.username||"",M=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(w+":"+M))}const g=jP(e.baseURL,e.url);p.open(e.method.toUpperCase(),WP(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout;function v(){if(!p)return;const w=Da.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),x={data:!l||l==="text"||l==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:w,config:e,request:p};JH(function(C){i(C),f()},function(C){s(C),f()},x),p=null}if("onloadend"in p?p.onloadend=v:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(v)},p.onabort=function(){p&&(s(new Ci("Request aborted",Ci.ECONNABORTED,e,p)),p=null)},p.onerror=function(){s(new Ci("Network Error",Ci.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let M=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const x=e.transitional||GP;e.timeoutErrorMessage&&(M=e.timeoutErrorMessage),s(new Ci(M,x.clarifyTimeoutError?Ci.ETIMEDOUT:Ci.ECONNABORTED,e,p)),p=null},Yo.isStandardBrowserEnv){const w=(e.withCredentials||nW(g))&&e.xsrfCookieName&&QH.read(e.xsrfCookieName);w&&a.set(e.xsrfHeaderName,w)}o===void 0&&a.setContentType(null),"setRequestHeader"in p&&Pt.forEach(a.toJSON(),function(M,x){p.setRequestHeader(x,M)}),Pt.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),l&&l!=="json"&&(p.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&p.addEventListener("progress",N2(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",N2(e.onUploadProgress)),(e.cancelToken||e.signal)&&(u=w=>{p&&(s(!w||w.type?new Mp(null,e,p):w),p.abort(),p=null)},e.cancelToken&&e.cancelToken.subscribe(u),e.signal&&(e.signal.aborted?u():e.signal.addEventListener("abort",u)));const b=iW(g);if(b&&Yo.protocols.indexOf(b)===-1){s(new Ci("Unsupported protocol "+b+":",Ci.ERR_BAD_REQUEST,e));return}p.send(o||null)})},tv={http:PH,xhr:oW};Pt.forEach(tv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const aW={getAdapter:e=>{e=Pt.isArray(e)?e:[e];const{length:t}=e;let i,s;for(let o=0;o<t&&(i=e[o],!(s=Pt.isString(i)?tv[i.toLowerCase()]:i));o++);if(!s)throw s===!1?new Ci(`Adapter ${i} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Pt.hasOwnProp(tv,i)?`Adapter '${i}' is not available in the build`:`Unknown adapter '${i}'`);if(!Pt.isFunction(s))throw new TypeError("adapter is not a function");return s},adapters:tv};function n_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Mp(null,e)}function O2(e){return n_(e),e.headers=Da.from(e.headers),e.data=t_.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),aW.getAdapter(e.adapter||tS.adapter)(e).then(function(s){return n_(e),s.data=t_.call(e,e.transformResponse,s),s.headers=Da.from(s.headers),s},function(s){return qP(s)||(n_(e),s&&s.response&&(s.response.data=t_.call(e,e.transformResponse,s.response),s.response.headers=Da.from(s.response.headers))),Promise.reject(s)})}const D2=e=>e instanceof Da?e.toJSON():e;function Bd(e,t){t=t||{};const i={};function s(p,g,v){return Pt.isPlainObject(p)&&Pt.isPlainObject(g)?Pt.merge.call({caseless:v},p,g):Pt.isPlainObject(g)?Pt.merge({},g):Pt.isArray(g)?g.slice():g}function o(p,g,v){if(Pt.isUndefined(g)){if(!Pt.isUndefined(p))return s(void 0,p,v)}else return s(p,g,v)}function a(p,g){if(!Pt.isUndefined(g))return s(void 0,g)}function l(p,g){if(Pt.isUndefined(g)){if(!Pt.isUndefined(p))return s(void 0,p)}else return s(void 0,g)}function u(p,g,v){if(v in t)return s(p,g);if(v in e)return s(void 0,p)}const f={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(p,g)=>o(D2(p),D2(g),!0)};return Pt.forEach(Object.keys(Object.assign({},e,t)),function(g){const v=f[g]||o,b=v(e[g],t[g],g);Pt.isUndefined(b)&&v!==u||(i[g]=b)}),i}const XP="1.4.0",nS={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nS[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const F2={};nS.transitional=function(t,i,s){function o(a,l){return"[Axios v"+XP+"] Transitional option '"+a+"'"+l+(s?". "+s:"")}return(a,l,u)=>{if(t===!1)throw new Ci(o(l," has been removed"+(i?" in "+i:"")),Ci.ERR_DEPRECATED);return i&&!F2[l]&&(F2[l]=!0,console.warn(o(l," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(a,l,u):!0}};function lW(e,t,i){if(typeof e!="object")throw new Ci("options must be an object",Ci.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let o=s.length;for(;o-- >0;){const a=s[o],l=t[a];if(l){const u=e[a],f=u===void 0||l(u,a,e);if(f!==!0)throw new Ci("option "+a+" must be "+f,Ci.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Ci("Unknown option "+a,Ci.ERR_BAD_OPTION)}}const y1={assertOptions:lW,validators:nS},pl=y1.validators;class Dv{constructor(t){this.defaults=t,this.interceptors={request:new I2,response:new I2}}request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=Bd(this.defaults,i);const{transitional:s,paramsSerializer:o,headers:a}=i;s!==void 0&&y1.assertOptions(s,{silentJSONParsing:pl.transitional(pl.boolean),forcedJSONParsing:pl.transitional(pl.boolean),clarifyTimeoutError:pl.transitional(pl.boolean)},!1),o!=null&&(Pt.isFunction(o)?i.paramsSerializer={serialize:o}:y1.assertOptions(o,{encode:pl.function,serialize:pl.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let l;l=a&&Pt.merge(a.common,a[i.method]),l&&Pt.forEach(["delete","get","head","post","put","patch","common"],M=>{delete a[M]}),i.headers=Da.concat(l,a);const u=[];let f=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(i)===!1||(f=f&&x.synchronous,u.unshift(x.fulfilled,x.rejected))});const p=[];this.interceptors.response.forEach(function(x){p.push(x.fulfilled,x.rejected)});let g,v=0,b;if(!f){const M=[O2.bind(this),void 0];for(M.unshift.apply(M,u),M.push.apply(M,p),b=M.length,g=Promise.resolve(i);v<b;)g=g.then(M[v++],M[v++]);return g}b=u.length;let w=i;for(v=0;v<b;){const M=u[v++],x=u[v++];try{w=M(w)}catch(E){x.call(this,E);break}}try{g=O2.call(this,w)}catch(M){return Promise.reject(M)}for(v=0,b=p.length;v<b;)g=g.then(p[v++],p[v++]);return g}getUri(t){t=Bd(this.defaults,t);const i=jP(t.baseURL,t.url);return WP(i,t.params,t.paramsSerializer)}}Pt.forEach(["delete","get","head","options"],function(t){Dv.prototype[t]=function(i,s){return this.request(Bd(s||{},{method:t,url:i,data:(s||{}).data}))}});Pt.forEach(["post","put","patch"],function(t){function i(s){return function(a,l,u){return this.request(Bd(u||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Dv.prototype[t]=i(),Dv.prototype[t+"Form"]=i(!0)});const nv=Dv;class iS{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(a){i=a});const s=this;this.promise.then(o=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](o);s._listeners=null}),this.promise.then=o=>{let a;const l=new Promise(u=>{s.subscribe(u),a=u}).then(o);return l.cancel=function(){s.unsubscribe(a)},l},t(function(a,l,u){s.reason||(s.reason=new Mp(a,l,u),i(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}static source(){let t;return{token:new iS(function(o){t=o}),cancel:t}}}const cW=iS;function uW(e){return function(i){return e.apply(null,i)}}function dW(e){return Pt.isObject(e)&&e.isAxiosError===!0}const b1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(b1).forEach(([e,t])=>{b1[t]=e});const fW=b1;function YP(e){const t=new nv(e),i=IP(nv.prototype.request,t);return Pt.extend(i,nv.prototype,t,{allOwnKeys:!0}),Pt.extend(i,t,null,{allOwnKeys:!0}),i.create=function(o){return YP(Bd(e,o))},i}const _s=YP(tS);_s.Axios=nv;_s.CanceledError=Mp;_s.CancelToken=cW;_s.isCancel=qP;_s.VERSION=XP;_s.toFormData=y0;_s.AxiosError=Ci;_s.Cancel=_s.CanceledError;_s.all=function(t){return Promise.all(t)};_s.spread=uW;_s.isAxiosError=dW;_s.mergeConfig=Bd;_s.AxiosHeaders=Da;_s.formToJSON=e=>KP(Pt.isHTMLForm(e)?new FormData(e):e);_s.HttpStatusCode=fW;_s.default=_s;const iv=_s;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const ZP="152",Wu={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Gu={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},_1=0,hW=1,B2=1,pW=100,mW=204,gW=205,vW=3,JP=0,QP=300,z2=1e3,ag=1001,$2=1002,yW=1006,bW=1008,_W=1009,wW=1023,SW=3e3,i_=3001,xW=0,s_="",qr="srgb",sS="srgb-linear",e3="display-p3",r_=7680,MW=519,U2=35044;class Ep{addEventListener(t,i){this._listeners===void 0&&(this._listeners={});const s=this._listeners;s[t]===void 0&&(s[t]=[]),s[t].indexOf(i)===-1&&s[t].push(i)}hasEventListener(t,i){if(this._listeners===void 0)return!1;const s=this._listeners;return s[t]!==void 0&&s[t].indexOf(i)!==-1}removeEventListener(t,i){if(this._listeners===void 0)return;const o=this._listeners[t];if(o!==void 0){const a=o.indexOf(i);a!==-1&&o.splice(a,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const s=this._listeners[t.type];if(s!==void 0){t.target=this;const o=s.slice(0);for(let a=0,l=o.length;a<l;a++)o[a].call(this,t);t.target=null}}}const Us=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function Cp(){const e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0,s=Math.random()*4294967295|0;return(Us[e&255]+Us[e>>8&255]+Us[e>>16&255]+Us[e>>24&255]+"-"+Us[t&255]+Us[t>>8&255]+"-"+Us[t>>16&15|64]+Us[t>>24&255]+"-"+Us[i&63|128]+Us[i>>8&255]+"-"+Us[i>>16&255]+Us[i>>24&255]+Us[s&255]+Us[s>>8&255]+Us[s>>16&255]+Us[s>>24&255]).toLowerCase()}function Qs(e,t,i){return Math.max(t,Math.min(i,e))}function EW(e,t){return(e%t+t)%t}function o_(e,t,i){return(1-i)*e+i*t}function lg(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Ar(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(e*65535);case Uint8Array:return Math.round(e*255);case Int16Array:return Math.round(e*32767);case Int8Array:return Math.round(e*127);default:throw new Error("Invalid component type.")}}class Ji{constructor(t=0,i=0){Ji.prototype.isVector2=!0,this.x=t,this.y=i}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,i){return this.x=t,this.y=i,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this}addScaledVector(t,i){return this.x+=t.x*i,this.y+=t.y*i,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const i=this.x,s=this.y,o=t.elements;return this.x=o[0]*i+o[3]*s+o[6],this.y=o[1]*i+o[4]*s+o[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this}clampScalar(t,i){return this.x=Math.max(t,Math.min(i,this.x)),this.y=Math.max(t,Math.min(i,this.y)),this}clampLength(t,i){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(t,Math.min(i,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const i=Math.sqrt(this.lengthSq()*t.lengthSq());if(i===0)return Math.PI/2;const s=this.dot(t)/i;return Math.acos(Qs(s,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const i=this.x-t.x,s=this.y-t.y;return i*i+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this}lerpVectors(t,i,s){return this.x=t.x+(i.x-t.x)*s,this.y=t.y+(i.y-t.y)*s,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,i=0){return this.x=t[i],this.y=t[i+1],this}toArray(t=[],i=0){return t[i]=this.x,t[i+1]=this.y,t}fromBufferAttribute(t,i){return this.x=t.getX(i),this.y=t.getY(i),this}rotateAround(t,i){const s=Math.cos(i),o=Math.sin(i),a=this.x-t.x,l=this.y-t.y;return this.x=a*s-l*o+t.x,this.y=a*o+l*s+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ul{constructor(){Ul.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(t,i,s,o,a,l,u,f,p){const g=this.elements;return g[0]=t,g[1]=o,g[2]=u,g[3]=i,g[4]=a,g[5]=f,g[6]=s,g[7]=l,g[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const i=this.elements,s=t.elements;return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],i[6]=s[6],i[7]=s[7],i[8]=s[8],this}extractBasis(t,i,s){return t.setFromMatrix3Column(this,0),i.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const i=t.elements;return this.set(i[0],i[4],i[8],i[1],i[5],i[9],i[2],i[6],i[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,i){const s=t.elements,o=i.elements,a=this.elements,l=s[0],u=s[3],f=s[6],p=s[1],g=s[4],v=s[7],b=s[2],w=s[5],M=s[8],x=o[0],E=o[3],C=o[6],k=o[1],R=o[4],P=o[7],O=o[2],F=o[5],G=o[8];return a[0]=l*x+u*k+f*O,a[3]=l*E+u*R+f*F,a[6]=l*C+u*P+f*G,a[1]=p*x+g*k+v*O,a[4]=p*E+g*R+v*F,a[7]=p*C+g*P+v*G,a[2]=b*x+w*k+M*O,a[5]=b*E+w*R+M*F,a[8]=b*C+w*P+M*G,this}multiplyScalar(t){const i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=t,i[4]*=t,i[7]*=t,i[2]*=t,i[5]*=t,i[8]*=t,this}determinant(){const t=this.elements,i=t[0],s=t[1],o=t[2],a=t[3],l=t[4],u=t[5],f=t[6],p=t[7],g=t[8];return i*l*g-i*u*p-s*a*g+s*u*f+o*a*p-o*l*f}invert(){const t=this.elements,i=t[0],s=t[1],o=t[2],a=t[3],l=t[4],u=t[5],f=t[6],p=t[7],g=t[8],v=g*l-u*p,b=u*f-g*a,w=p*a-l*f,M=i*v+s*b+o*w;if(M===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/M;return t[0]=v*x,t[1]=(o*p-g*s)*x,t[2]=(u*s-o*l)*x,t[3]=b*x,t[4]=(g*i-o*f)*x,t[5]=(o*a-u*i)*x,t[6]=w*x,t[7]=(s*f-p*i)*x,t[8]=(l*i-s*a)*x,this}transpose(){let t;const i=this.elements;return t=i[1],i[1]=i[3],i[3]=t,t=i[2],i[2]=i[6],i[6]=t,t=i[5],i[5]=i[7],i[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const i=this.elements;return t[0]=i[0],t[1]=i[3],t[2]=i[6],t[3]=i[1],t[4]=i[4],t[5]=i[7],t[6]=i[2],t[7]=i[5],t[8]=i[8],this}setUvTransform(t,i,s,o,a,l,u){const f=Math.cos(a),p=Math.sin(a);return this.set(s*f,s*p,-s*(f*l+p*u)+l+t,-o*p,o*f,-o*(-p*l+f*u)+u+i,0,0,1),this}scale(t,i){return this.premultiply(a_.makeScale(t,i)),this}rotate(t){return this.premultiply(a_.makeRotation(-t)),this}translate(t,i){return this.premultiply(a_.makeTranslation(t,i)),this}makeTranslation(t,i){return this.set(1,0,t,0,1,i,0,0,1),this}makeRotation(t){const i=Math.cos(t),s=Math.sin(t);return this.set(i,-s,0,s,i,0,0,0,1),this}makeScale(t,i){return this.set(t,0,0,0,i,0,0,0,1),this}equals(t){const i=this.elements,s=t.elements;for(let o=0;o<9;o++)if(i[o]!==s[o])return!1;return!0}fromArray(t,i=0){for(let s=0;s<9;s++)this.elements[s]=t[s+i];return this}toArray(t=[],i=0){const s=this.elements;return t[i]=s[0],t[i+1]=s[1],t[i+2]=s[2],t[i+3]=s[3],t[i+4]=s[4],t[i+5]=s[5],t[i+6]=s[6],t[i+7]=s[7],t[i+8]=s[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const a_=new Ul;function CW(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}function V2(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}const H2={};function l_(e){e in H2||(H2[e]=!0,console.warn(e))}function Sd(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function c_(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}const TW=new Ul().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),AW=new Ul().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function RW(e){return e.convertSRGBToLinear().applyMatrix3(AW)}function kW(e){return e.applyMatrix3(TW).convertLinearToSRGB()}const PW={[sS]:e=>e,[qr]:e=>e.convertSRGBToLinear(),[e3]:RW},IW={[sS]:e=>e,[qr]:e=>e.convertLinearToSRGB(),[e3]:kW},go={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(e){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!e},get workingColorSpace(){return sS},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,i){if(this.enabled===!1||t===i||!t||!i)return e;const s=PW[t],o=IW[i];if(s===void 0||o===void 0)throw new Error(`Unsupported color space conversion, "${t}" to "${i}".`);return o(s(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}};let Ku;class LW{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let i;if(t instanceof HTMLCanvasElement)i=t;else{Ku===void 0&&(Ku=V2("canvas")),Ku.width=t.width,Ku.height=t.height;const s=Ku.getContext("2d");t instanceof ImageData?s.putImageData(t,0,0):s.drawImage(t,0,0,t.width,t.height),i=Ku}return i.width>2048||i.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),i.toDataURL("image/jpeg",.6)):i.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const i=V2("canvas");i.width=t.width,i.height=t.height;const s=i.getContext("2d");s.drawImage(t,0,0,t.width,t.height);const o=s.getImageData(0,0,t.width,t.height),a=o.data;for(let l=0;l<a.length;l++)a[l]=Sd(a[l]/255)*255;return s.putImageData(o,0,0),i}else if(t.data){const i=t.data.slice(0);for(let s=0;s<i.length;s++)i instanceof Uint8Array||i instanceof Uint8ClampedArray?i[s]=Math.floor(Sd(i[s]/255)*255):i[s]=Sd(i[s]);return{data:i,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}class NW{constructor(t=null){this.isSource=!0,this.uuid=Cp(),this.data=t,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const i=t===void 0||typeof t=="string";if(!i&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const s={uuid:this.uuid,url:""},o=this.data;if(o!==null){let a;if(Array.isArray(o)){a=[];for(let l=0,u=o.length;l<u;l++)o[l].isDataTexture?a.push(u_(o[l].image)):a.push(u_(o[l]))}else a=u_(o);s.url=a}return i||(t.images[this.uuid]=s),s}}function u_(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?LW.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let OW=0;class Hc extends Ep{constructor(t=Hc.DEFAULT_IMAGE,i=Hc.DEFAULT_MAPPING,s=ag,o=ag,a=yW,l=bW,u=wW,f=_W,p=Hc.DEFAULT_ANISOTROPY,g=s_){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:OW++}),this.uuid=Cp(),this.name="",this.source=new NW(t),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=s,this.wrapT=o,this.magFilter=a,this.minFilter=l,this.anisotropy=p,this.format=u,this.internalFormat=null,this.type=f,this.offset=new Ji(0,0),this.repeat=new Ji(1,1),this.center=new Ji(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ul,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof g=="string"?this.colorSpace=g:(l_("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=g===i_?qr:s_),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const i=t===void 0||typeof t=="string";if(!i&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const s={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(s.userData=this.userData),i||(t.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==QP)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case z2:t.x=t.x-Math.floor(t.x);break;case ag:t.x=t.x<0?0:1;break;case $2:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case z2:t.y=t.y-Math.floor(t.y);break;case ag:t.y=t.y<0?0:1;break;case $2:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return l_("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===qr?i_:SW}set encoding(t){l_("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===i_?qr:s_}}Hc.DEFAULT_IMAGE=null;Hc.DEFAULT_MAPPING=QP;Hc.DEFAULT_ANISOTROPY=1;class Xc{constructor(t=0,i=0,s=0,o=1){this.isQuaternion=!0,this._x=t,this._y=i,this._z=s,this._w=o}static slerpFlat(t,i,s,o,a,l,u){let f=s[o+0],p=s[o+1],g=s[o+2],v=s[o+3];const b=a[l+0],w=a[l+1],M=a[l+2],x=a[l+3];if(u===0){t[i+0]=f,t[i+1]=p,t[i+2]=g,t[i+3]=v;return}if(u===1){t[i+0]=b,t[i+1]=w,t[i+2]=M,t[i+3]=x;return}if(v!==x||f!==b||p!==w||g!==M){let E=1-u;const C=f*b+p*w+g*M+v*x,k=C>=0?1:-1,R=1-C*C;if(R>Number.EPSILON){const O=Math.sqrt(R),F=Math.atan2(O,C*k);E=Math.sin(E*F)/O,u=Math.sin(u*F)/O}const P=u*k;if(f=f*E+b*P,p=p*E+w*P,g=g*E+M*P,v=v*E+x*P,E===1-u){const O=1/Math.sqrt(f*f+p*p+g*g+v*v);f*=O,p*=O,g*=O,v*=O}}t[i]=f,t[i+1]=p,t[i+2]=g,t[i+3]=v}static multiplyQuaternionsFlat(t,i,s,o,a,l){const u=s[o],f=s[o+1],p=s[o+2],g=s[o+3],v=a[l],b=a[l+1],w=a[l+2],M=a[l+3];return t[i]=u*M+g*v+f*w-p*b,t[i+1]=f*M+g*b+p*v-u*w,t[i+2]=p*M+g*w+u*b-f*v,t[i+3]=g*M-u*v-f*b-p*w,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,i,s,o){return this._x=t,this._y=i,this._z=s,this._w=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,i){const s=t._x,o=t._y,a=t._z,l=t._order,u=Math.cos,f=Math.sin,p=u(s/2),g=u(o/2),v=u(a/2),b=f(s/2),w=f(o/2),M=f(a/2);switch(l){case"XYZ":this._x=b*g*v+p*w*M,this._y=p*w*v-b*g*M,this._z=p*g*M+b*w*v,this._w=p*g*v-b*w*M;break;case"YXZ":this._x=b*g*v+p*w*M,this._y=p*w*v-b*g*M,this._z=p*g*M-b*w*v,this._w=p*g*v+b*w*M;break;case"ZXY":this._x=b*g*v-p*w*M,this._y=p*w*v+b*g*M,this._z=p*g*M+b*w*v,this._w=p*g*v-b*w*M;break;case"ZYX":this._x=b*g*v-p*w*M,this._y=p*w*v+b*g*M,this._z=p*g*M-b*w*v,this._w=p*g*v+b*w*M;break;case"YZX":this._x=b*g*v+p*w*M,this._y=p*w*v+b*g*M,this._z=p*g*M-b*w*v,this._w=p*g*v-b*w*M;break;case"XZY":this._x=b*g*v-p*w*M,this._y=p*w*v-b*g*M,this._z=p*g*M+b*w*v,this._w=p*g*v+b*w*M;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return i!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,i){const s=i/2,o=Math.sin(s);return this._x=t.x*o,this._y=t.y*o,this._z=t.z*o,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(t){const i=t.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],f=i[9],p=i[2],g=i[6],v=i[10],b=s+u+v;if(b>0){const w=.5/Math.sqrt(b+1);this._w=.25/w,this._x=(g-f)*w,this._y=(a-p)*w,this._z=(l-o)*w}else if(s>u&&s>v){const w=2*Math.sqrt(1+s-u-v);this._w=(g-f)/w,this._x=.25*w,this._y=(o+l)/w,this._z=(a+p)/w}else if(u>v){const w=2*Math.sqrt(1+u-s-v);this._w=(a-p)/w,this._x=(o+l)/w,this._y=.25*w,this._z=(f+g)/w}else{const w=2*Math.sqrt(1+v-s-u);this._w=(l-o)/w,this._x=(a+p)/w,this._y=(f+g)/w,this._z=.25*w}return this._onChangeCallback(),this}setFromUnitVectors(t,i){let s=t.dot(i)+1;return s<Number.EPSILON?(s=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=s):(this._x=0,this._y=-t.z,this._z=t.y,this._w=s)):(this._x=t.y*i.z-t.z*i.y,this._y=t.z*i.x-t.x*i.z,this._z=t.x*i.y-t.y*i.x,this._w=s),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Qs(this.dot(t),-1,1)))}rotateTowards(t,i){const s=this.angleTo(t);if(s===0)return this;const o=Math.min(1,i/s);return this.slerp(t,o),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,i){const s=t._x,o=t._y,a=t._z,l=t._w,u=i._x,f=i._y,p=i._z,g=i._w;return this._x=s*g+l*u+o*p-a*f,this._y=o*g+l*f+a*u-s*p,this._z=a*g+l*p+s*f-o*u,this._w=l*g-s*u-o*f-a*p,this._onChangeCallback(),this}slerp(t,i){if(i===0)return this;if(i===1)return this.copy(t);const s=this._x,o=this._y,a=this._z,l=this._w;let u=l*t._w+s*t._x+o*t._y+a*t._z;if(u<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,u=-u):this.copy(t),u>=1)return this._w=l,this._x=s,this._y=o,this._z=a,this;const f=1-u*u;if(f<=Number.EPSILON){const w=1-i;return this._w=w*l+i*this._w,this._x=w*s+i*this._x,this._y=w*o+i*this._y,this._z=w*a+i*this._z,this.normalize(),this._onChangeCallback(),this}const p=Math.sqrt(f),g=Math.atan2(p,u),v=Math.sin((1-i)*g)/p,b=Math.sin(i*g)/p;return this._w=l*v+this._w*b,this._x=s*v+this._x*b,this._y=o*v+this._y*b,this._z=a*v+this._z*b,this._onChangeCallback(),this}slerpQuaternions(t,i,s){return this.copy(t).slerp(i,s)}random(){const t=Math.random(),i=Math.sqrt(1-t),s=Math.sqrt(t),o=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(i*Math.cos(o),s*Math.sin(a),s*Math.cos(a),i*Math.sin(o))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,i=0){return this._x=t[i],this._y=t[i+1],this._z=t[i+2],this._w=t[i+3],this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._w,t}fromBufferAttribute(t,i){return this._x=t.getX(i),this._y=t.getY(i),this._z=t.getZ(i),this._w=t.getW(i),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class xt{constructor(t=0,i=0,s=0){xt.prototype.isVector3=!0,this.x=t,this.y=i,this.z=s}set(t,i,s){return s===void 0&&(s=this.z),this.x=t,this.y=i,this.z=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this.z=t.z+i.z,this}addScaledVector(t,i){return this.x+=t.x*i,this.y+=t.y*i,this.z+=t.z*i,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this.z=t.z-i.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,i){return this.x=t.x*i.x,this.y=t.y*i.y,this.z=t.z*i.z,this}applyEuler(t){return this.applyQuaternion(W2.setFromEuler(t))}applyAxisAngle(t,i){return this.applyQuaternion(W2.setFromAxisAngle(t,i))}applyMatrix3(t){const i=this.x,s=this.y,o=this.z,a=t.elements;return this.x=a[0]*i+a[3]*s+a[6]*o,this.y=a[1]*i+a[4]*s+a[7]*o,this.z=a[2]*i+a[5]*s+a[8]*o,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const i=this.x,s=this.y,o=this.z,a=t.elements,l=1/(a[3]*i+a[7]*s+a[11]*o+a[15]);return this.x=(a[0]*i+a[4]*s+a[8]*o+a[12])*l,this.y=(a[1]*i+a[5]*s+a[9]*o+a[13])*l,this.z=(a[2]*i+a[6]*s+a[10]*o+a[14])*l,this}applyQuaternion(t){const i=this.x,s=this.y,o=this.z,a=t.x,l=t.y,u=t.z,f=t.w,p=f*i+l*o-u*s,g=f*s+u*i-a*o,v=f*o+a*s-l*i,b=-a*i-l*s-u*o;return this.x=p*f+b*-a+g*-u-v*-l,this.y=g*f+b*-l+v*-a-p*-u,this.z=v*f+b*-u+p*-l-g*-a,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const i=this.x,s=this.y,o=this.z,a=t.elements;return this.x=a[0]*i+a[4]*s+a[8]*o,this.y=a[1]*i+a[5]*s+a[9]*o,this.z=a[2]*i+a[6]*s+a[10]*o,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this.z=Math.max(t.z,Math.min(i.z,this.z)),this}clampScalar(t,i){return this.x=Math.max(t,Math.min(i,this.x)),this.y=Math.max(t,Math.min(i,this.y)),this.z=Math.max(t,Math.min(i,this.z)),this}clampLength(t,i){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(t,Math.min(i,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this.z+=(t.z-this.z)*i,this}lerpVectors(t,i,s){return this.x=t.x+(i.x-t.x)*s,this.y=t.y+(i.y-t.y)*s,this.z=t.z+(i.z-t.z)*s,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,i){const s=t.x,o=t.y,a=t.z,l=i.x,u=i.y,f=i.z;return this.x=o*f-a*u,this.y=a*l-s*f,this.z=s*u-o*l,this}projectOnVector(t){const i=t.lengthSq();if(i===0)return this.set(0,0,0);const s=t.dot(this)/i;return this.copy(t).multiplyScalar(s)}projectOnPlane(t){return d_.copy(this).projectOnVector(t),this.sub(d_)}reflect(t){return this.sub(d_.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const i=Math.sqrt(this.lengthSq()*t.lengthSq());if(i===0)return Math.PI/2;const s=this.dot(t)/i;return Math.acos(Qs(s,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const i=this.x-t.x,s=this.y-t.y,o=this.z-t.z;return i*i+s*s+o*o}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,i,s){const o=Math.sin(i)*t;return this.x=o*Math.sin(s),this.y=Math.cos(i)*t,this.z=o*Math.cos(s),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,i,s){return this.x=t*Math.sin(i),this.y=s,this.z=t*Math.cos(i),this}setFromMatrixPosition(t){const i=t.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this}setFromMatrixScale(t){const i=this.setFromMatrixColumn(t,0).length(),s=this.setFromMatrixColumn(t,1).length(),o=this.setFromMatrixColumn(t,2).length();return this.x=i,this.y=s,this.z=o,this}setFromMatrixColumn(t,i){return this.fromArray(t.elements,i*4)}setFromMatrix3Column(t,i){return this.fromArray(t.elements,i*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,i=0){return this.x=t[i],this.y=t[i+1],this.z=t[i+2],this}toArray(t=[],i=0){return t[i]=this.x,t[i+1]=this.y,t[i+2]=this.z,t}fromBufferAttribute(t,i){return this.x=t.getX(i),this.y=t.getY(i),this.z=t.getZ(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=(Math.random()-.5)*2,i=Math.random()*Math.PI*2,s=Math.sqrt(1-t**2);return this.x=s*Math.cos(i),this.y=s*Math.sin(i),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const d_=new xt,W2=new Xc;class Tp{constructor(t=new xt(1/0,1/0,1/0),i=new xt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=i}set(t,i){return this.min.copy(t),this.max.copy(i),this}setFromArray(t){this.makeEmpty();for(let i=0,s=t.length;i<s;i+=3)this.expandByPoint(wa.fromArray(t,i));return this}setFromBufferAttribute(t){this.makeEmpty();for(let i=0,s=t.count;i<s;i++)this.expandByPoint(wa.fromBufferAttribute(t,i));return this}setFromPoints(t){this.makeEmpty();for(let i=0,s=t.length;i<s;i++)this.expandByPoint(t[i]);return this}setFromCenterAndSize(t,i){const s=wa.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(s),this.max.copy(t).add(s),this}setFromObject(t,i=!1){return this.makeEmpty(),this.expandByObject(t,i)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,i=!1){if(t.updateWorldMatrix(!1,!1),t.boundingBox!==void 0)t.boundingBox===null&&t.computeBoundingBox(),qu.copy(t.boundingBox),qu.applyMatrix4(t.matrixWorld),this.union(qu);else{const o=t.geometry;if(o!==void 0)if(i&&o.attributes!==void 0&&o.attributes.position!==void 0){const a=o.attributes.position;for(let l=0,u=a.count;l<u;l++)wa.fromBufferAttribute(a,l).applyMatrix4(t.matrixWorld),this.expandByPoint(wa)}else o.boundingBox===null&&o.computeBoundingBox(),qu.copy(o.boundingBox),qu.applyMatrix4(t.matrixWorld),this.union(qu)}const s=t.children;for(let o=0,a=s.length;o<a;o++)this.expandByObject(s[o],i);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,i){return i.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,wa),wa.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let i,s;return t.normal.x>0?(i=t.normal.x*this.min.x,s=t.normal.x*this.max.x):(i=t.normal.x*this.max.x,s=t.normal.x*this.min.x),t.normal.y>0?(i+=t.normal.y*this.min.y,s+=t.normal.y*this.max.y):(i+=t.normal.y*this.max.y,s+=t.normal.y*this.min.y),t.normal.z>0?(i+=t.normal.z*this.min.z,s+=t.normal.z*this.max.z):(i+=t.normal.z*this.max.z,s+=t.normal.z*this.min.z),i<=-t.constant&&s>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(uh),cg.subVectors(this.max,uh),ju.subVectors(t.a,uh),Xu.subVectors(t.b,uh),Yu.subVectors(t.c,uh),ml.subVectors(Xu,ju),gl.subVectors(Yu,Xu),Sc.subVectors(ju,Yu);let i=[0,-ml.z,ml.y,0,-gl.z,gl.y,0,-Sc.z,Sc.y,ml.z,0,-ml.x,gl.z,0,-gl.x,Sc.z,0,-Sc.x,-ml.y,ml.x,0,-gl.y,gl.x,0,-Sc.y,Sc.x,0];return!f_(i,ju,Xu,Yu,cg)||(i=[1,0,0,0,1,0,0,0,1],!f_(i,ju,Xu,Yu,cg))?!1:(ug.crossVectors(ml,gl),i=[ug.x,ug.y,ug.z],f_(i,ju,Xu,Yu,cg))}clampPoint(t,i){return i.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,wa).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(wa).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(_a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),_a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),_a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),_a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),_a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),_a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),_a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),_a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(_a),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const _a=[new xt,new xt,new xt,new xt,new xt,new xt,new xt,new xt],wa=new xt,qu=new Tp,ju=new xt,Xu=new xt,Yu=new xt,ml=new xt,gl=new xt,Sc=new xt,uh=new xt,cg=new xt,ug=new xt,xc=new xt;function f_(e,t,i,s,o){for(let a=0,l=e.length-3;a<=l;a+=3){xc.fromArray(e,a);const u=o.x*Math.abs(xc.x)+o.y*Math.abs(xc.y)+o.z*Math.abs(xc.z),f=t.dot(xc),p=i.dot(xc),g=s.dot(xc);if(Math.max(-Math.max(f,p,g),Math.min(f,p,g))>u)return!1}return!0}const DW=new Tp,dh=new xt,h_=new xt;class w0{constructor(t=new xt,i=-1){this.center=t,this.radius=i}set(t,i){return this.center.copy(t),this.radius=i,this}setFromPoints(t,i){const s=this.center;i!==void 0?s.copy(i):DW.setFromPoints(t).getCenter(s);let o=0;for(let a=0,l=t.length;a<l;a++)o=Math.max(o,s.distanceToSquared(t[a]));return this.radius=Math.sqrt(o),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const i=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=i*i}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,i){const s=this.center.distanceToSquared(t);return i.copy(t),s>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;dh.subVectors(t,this.center);const i=dh.lengthSq();if(i>this.radius*this.radius){const s=Math.sqrt(i),o=(s-this.radius)*.5;this.center.addScaledVector(dh,o/s),this.radius+=o}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(h_.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(dh.copy(t.center).add(h_)),this.expandByPoint(dh.copy(t.center).sub(h_))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Sa=new xt,p_=new xt,dg=new xt,vl=new xt,m_=new xt,fg=new xt,g_=new xt;class rS{constructor(t=new xt,i=new xt(0,0,-1)){this.origin=t,this.direction=i}set(t,i){return this.origin.copy(t),this.direction.copy(i),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,i){return i.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Sa)),this}closestPointToPoint(t,i){i.subVectors(t,this.origin);const s=i.dot(this.direction);return s<0?i.copy(this.origin):i.copy(this.origin).addScaledVector(this.direction,s)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const i=Sa.subVectors(t,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(t):(Sa.copy(this.origin).addScaledVector(this.direction,i),Sa.distanceToSquared(t))}distanceSqToSegment(t,i,s,o){p_.copy(t).add(i).multiplyScalar(.5),dg.copy(i).sub(t).normalize(),vl.copy(this.origin).sub(p_);const a=t.distanceTo(i)*.5,l=-this.direction.dot(dg),u=vl.dot(this.direction),f=-vl.dot(dg),p=vl.lengthSq(),g=Math.abs(1-l*l);let v,b,w,M;if(g>0)if(v=l*f-u,b=l*u-f,M=a*g,v>=0)if(b>=-M)if(b<=M){const x=1/g;v*=x,b*=x,w=v*(v+l*b+2*u)+b*(l*v+b+2*f)+p}else b=a,v=Math.max(0,-(l*b+u)),w=-v*v+b*(b+2*f)+p;else b=-a,v=Math.max(0,-(l*b+u)),w=-v*v+b*(b+2*f)+p;else b<=-M?(v=Math.max(0,-(-l*a+u)),b=v>0?-a:Math.min(Math.max(-a,-f),a),w=-v*v+b*(b+2*f)+p):b<=M?(v=0,b=Math.min(Math.max(-a,-f),a),w=b*(b+2*f)+p):(v=Math.max(0,-(l*a+u)),b=v>0?a:Math.min(Math.max(-a,-f),a),w=-v*v+b*(b+2*f)+p);else b=l>0?-a:a,v=Math.max(0,-(l*b+u)),w=-v*v+b*(b+2*f)+p;return s&&s.copy(this.origin).addScaledVector(this.direction,v),o&&o.copy(p_).addScaledVector(dg,b),w}intersectSphere(t,i){Sa.subVectors(t.center,this.origin);const s=Sa.dot(this.direction),o=Sa.dot(Sa)-s*s,a=t.radius*t.radius;if(o>a)return null;const l=Math.sqrt(a-o),u=s-l,f=s+l;return f<0?null:u<0?this.at(f,i):this.at(u,i)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const i=t.normal.dot(this.direction);if(i===0)return t.distanceToPoint(this.origin)===0?0:null;const s=-(this.origin.dot(t.normal)+t.constant)/i;return s>=0?s:null}intersectPlane(t,i){const s=this.distanceToPlane(t);return s===null?null:this.at(s,i)}intersectsPlane(t){const i=t.distanceToPoint(this.origin);return i===0||t.normal.dot(this.direction)*i<0}intersectBox(t,i){let s,o,a,l,u,f;const p=1/this.direction.x,g=1/this.direction.y,v=1/this.direction.z,b=this.origin;return p>=0?(s=(t.min.x-b.x)*p,o=(t.max.x-b.x)*p):(s=(t.max.x-b.x)*p,o=(t.min.x-b.x)*p),g>=0?(a=(t.min.y-b.y)*g,l=(t.max.y-b.y)*g):(a=(t.max.y-b.y)*g,l=(t.min.y-b.y)*g),s>l||a>o||((a>s||isNaN(s))&&(s=a),(l<o||isNaN(o))&&(o=l),v>=0?(u=(t.min.z-b.z)*v,f=(t.max.z-b.z)*v):(u=(t.max.z-b.z)*v,f=(t.min.z-b.z)*v),s>f||u>o)||((u>s||s!==s)&&(s=u),(f<o||o!==o)&&(o=f),o<0)?null:this.at(s>=0?s:o,i)}intersectsBox(t){return this.intersectBox(t,Sa)!==null}intersectTriangle(t,i,s,o,a){m_.subVectors(i,t),fg.subVectors(s,t),g_.crossVectors(m_,fg);let l=this.direction.dot(g_),u;if(l>0){if(o)return null;u=1}else if(l<0)u=-1,l=-l;else return null;vl.subVectors(this.origin,t);const f=u*this.direction.dot(fg.crossVectors(vl,fg));if(f<0)return null;const p=u*this.direction.dot(m_.cross(vl));if(p<0||f+p>l)return null;const g=-u*vl.dot(g_);return g<0?null:this.at(g/l,a)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Fr{constructor(){Fr.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(t,i,s,o,a,l,u,f,p,g,v,b,w,M,x,E){const C=this.elements;return C[0]=t,C[4]=i,C[8]=s,C[12]=o,C[1]=a,C[5]=l,C[9]=u,C[13]=f,C[2]=p,C[6]=g,C[10]=v,C[14]=b,C[3]=w,C[7]=M,C[11]=x,C[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Fr().fromArray(this.elements)}copy(t){const i=this.elements,s=t.elements;return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],i[6]=s[6],i[7]=s[7],i[8]=s[8],i[9]=s[9],i[10]=s[10],i[11]=s[11],i[12]=s[12],i[13]=s[13],i[14]=s[14],i[15]=s[15],this}copyPosition(t){const i=this.elements,s=t.elements;return i[12]=s[12],i[13]=s[13],i[14]=s[14],this}setFromMatrix3(t){const i=t.elements;return this.set(i[0],i[3],i[6],0,i[1],i[4],i[7],0,i[2],i[5],i[8],0,0,0,0,1),this}extractBasis(t,i,s){return t.setFromMatrixColumn(this,0),i.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(t,i,s){return this.set(t.x,i.x,s.x,0,t.y,i.y,s.y,0,t.z,i.z,s.z,0,0,0,0,1),this}extractRotation(t){const i=this.elements,s=t.elements,o=1/Zu.setFromMatrixColumn(t,0).length(),a=1/Zu.setFromMatrixColumn(t,1).length(),l=1/Zu.setFromMatrixColumn(t,2).length();return i[0]=s[0]*o,i[1]=s[1]*o,i[2]=s[2]*o,i[3]=0,i[4]=s[4]*a,i[5]=s[5]*a,i[6]=s[6]*a,i[7]=0,i[8]=s[8]*l,i[9]=s[9]*l,i[10]=s[10]*l,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromEuler(t){const i=this.elements,s=t.x,o=t.y,a=t.z,l=Math.cos(s),u=Math.sin(s),f=Math.cos(o),p=Math.sin(o),g=Math.cos(a),v=Math.sin(a);if(t.order==="XYZ"){const b=l*g,w=l*v,M=u*g,x=u*v;i[0]=f*g,i[4]=-f*v,i[8]=p,i[1]=w+M*p,i[5]=b-x*p,i[9]=-u*f,i[2]=x-b*p,i[6]=M+w*p,i[10]=l*f}else if(t.order==="YXZ"){const b=f*g,w=f*v,M=p*g,x=p*v;i[0]=b+x*u,i[4]=M*u-w,i[8]=l*p,i[1]=l*v,i[5]=l*g,i[9]=-u,i[2]=w*u-M,i[6]=x+b*u,i[10]=l*f}else if(t.order==="ZXY"){const b=f*g,w=f*v,M=p*g,x=p*v;i[0]=b-x*u,i[4]=-l*v,i[8]=M+w*u,i[1]=w+M*u,i[5]=l*g,i[9]=x-b*u,i[2]=-l*p,i[6]=u,i[10]=l*f}else if(t.order==="ZYX"){const b=l*g,w=l*v,M=u*g,x=u*v;i[0]=f*g,i[4]=M*p-w,i[8]=b*p+x,i[1]=f*v,i[5]=x*p+b,i[9]=w*p-M,i[2]=-p,i[6]=u*f,i[10]=l*f}else if(t.order==="YZX"){const b=l*f,w=l*p,M=u*f,x=u*p;i[0]=f*g,i[4]=x-b*v,i[8]=M*v+w,i[1]=v,i[5]=l*g,i[9]=-u*g,i[2]=-p*g,i[6]=w*v+M,i[10]=b-x*v}else if(t.order==="XZY"){const b=l*f,w=l*p,M=u*f,x=u*p;i[0]=f*g,i[4]=-v,i[8]=p*g,i[1]=b*v+x,i[5]=l*g,i[9]=w*v-M,i[2]=M*v-w,i[6]=u*g,i[10]=x*v+b}return i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromQuaternion(t){return this.compose(FW,t,BW)}lookAt(t,i,s){const o=this.elements;return Rr.subVectors(t,i),Rr.lengthSq()===0&&(Rr.z=1),Rr.normalize(),yl.crossVectors(s,Rr),yl.lengthSq()===0&&(Math.abs(s.z)===1?Rr.x+=1e-4:Rr.z+=1e-4,Rr.normalize(),yl.crossVectors(s,Rr)),yl.normalize(),hg.crossVectors(Rr,yl),o[0]=yl.x,o[4]=hg.x,o[8]=Rr.x,o[1]=yl.y,o[5]=hg.y,o[9]=Rr.y,o[2]=yl.z,o[6]=hg.z,o[10]=Rr.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,i){const s=t.elements,o=i.elements,a=this.elements,l=s[0],u=s[4],f=s[8],p=s[12],g=s[1],v=s[5],b=s[9],w=s[13],M=s[2],x=s[6],E=s[10],C=s[14],k=s[3],R=s[7],P=s[11],O=s[15],F=o[0],G=o[4],H=o[8],j=o[12],q=o[1],ie=o[5],Q=o[9],Z=o[13],re=o[2],ce=o[6],te=o[10],W=o[14],ee=o[3],J=o[7],pe=o[11],Ee=o[15];return a[0]=l*F+u*q+f*re+p*ee,a[4]=l*G+u*ie+f*ce+p*J,a[8]=l*H+u*Q+f*te+p*pe,a[12]=l*j+u*Z+f*W+p*Ee,a[1]=g*F+v*q+b*re+w*ee,a[5]=g*G+v*ie+b*ce+w*J,a[9]=g*H+v*Q+b*te+w*pe,a[13]=g*j+v*Z+b*W+w*Ee,a[2]=M*F+x*q+E*re+C*ee,a[6]=M*G+x*ie+E*ce+C*J,a[10]=M*H+x*Q+E*te+C*pe,a[14]=M*j+x*Z+E*W+C*Ee,a[3]=k*F+R*q+P*re+O*ee,a[7]=k*G+R*ie+P*ce+O*J,a[11]=k*H+R*Q+P*te+O*pe,a[15]=k*j+R*Z+P*W+O*Ee,this}multiplyScalar(t){const i=this.elements;return i[0]*=t,i[4]*=t,i[8]*=t,i[12]*=t,i[1]*=t,i[5]*=t,i[9]*=t,i[13]*=t,i[2]*=t,i[6]*=t,i[10]*=t,i[14]*=t,i[3]*=t,i[7]*=t,i[11]*=t,i[15]*=t,this}determinant(){const t=this.elements,i=t[0],s=t[4],o=t[8],a=t[12],l=t[1],u=t[5],f=t[9],p=t[13],g=t[2],v=t[6],b=t[10],w=t[14],M=t[3],x=t[7],E=t[11],C=t[15];return M*(+a*f*v-o*p*v-a*u*b+s*p*b+o*u*w-s*f*w)+x*(+i*f*w-i*p*b+a*l*b-o*l*w+o*p*g-a*f*g)+E*(+i*p*v-i*u*w-a*l*v+s*l*w+a*u*g-s*p*g)+C*(-o*u*g-i*f*v+i*u*b+o*l*v-s*l*b+s*f*g)}transpose(){const t=this.elements;let i;return i=t[1],t[1]=t[4],t[4]=i,i=t[2],t[2]=t[8],t[8]=i,i=t[6],t[6]=t[9],t[9]=i,i=t[3],t[3]=t[12],t[12]=i,i=t[7],t[7]=t[13],t[13]=i,i=t[11],t[11]=t[14],t[14]=i,this}setPosition(t,i,s){const o=this.elements;return t.isVector3?(o[12]=t.x,o[13]=t.y,o[14]=t.z):(o[12]=t,o[13]=i,o[14]=s),this}invert(){const t=this.elements,i=t[0],s=t[1],o=t[2],a=t[3],l=t[4],u=t[5],f=t[6],p=t[7],g=t[8],v=t[9],b=t[10],w=t[11],M=t[12],x=t[13],E=t[14],C=t[15],k=v*E*p-x*b*p+x*f*w-u*E*w-v*f*C+u*b*C,R=M*b*p-g*E*p-M*f*w+l*E*w+g*f*C-l*b*C,P=g*x*p-M*v*p+M*u*w-l*x*w-g*u*C+l*v*C,O=M*v*f-g*x*f-M*u*b+l*x*b+g*u*E-l*v*E,F=i*k+s*R+o*P+a*O;if(F===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const G=1/F;return t[0]=k*G,t[1]=(x*b*a-v*E*a-x*o*w+s*E*w+v*o*C-s*b*C)*G,t[2]=(u*E*a-x*f*a+x*o*p-s*E*p-u*o*C+s*f*C)*G,t[3]=(v*f*a-u*b*a-v*o*p+s*b*p+u*o*w-s*f*w)*G,t[4]=R*G,t[5]=(g*E*a-M*b*a+M*o*w-i*E*w-g*o*C+i*b*C)*G,t[6]=(M*f*a-l*E*a-M*o*p+i*E*p+l*o*C-i*f*C)*G,t[7]=(l*b*a-g*f*a+g*o*p-i*b*p-l*o*w+i*f*w)*G,t[8]=P*G,t[9]=(M*v*a-g*x*a-M*s*w+i*x*w+g*s*C-i*v*C)*G,t[10]=(l*x*a-M*u*a+M*s*p-i*x*p-l*s*C+i*u*C)*G,t[11]=(g*u*a-l*v*a-g*s*p+i*v*p+l*s*w-i*u*w)*G,t[12]=O*G,t[13]=(g*x*o-M*v*o+M*s*b-i*x*b-g*s*E+i*v*E)*G,t[14]=(M*u*o-l*x*o-M*s*f+i*x*f+l*s*E-i*u*E)*G,t[15]=(l*v*o-g*u*o+g*s*f-i*v*f-l*s*b+i*u*b)*G,this}scale(t){const i=this.elements,s=t.x,o=t.y,a=t.z;return i[0]*=s,i[4]*=o,i[8]*=a,i[1]*=s,i[5]*=o,i[9]*=a,i[2]*=s,i[6]*=o,i[10]*=a,i[3]*=s,i[7]*=o,i[11]*=a,this}getMaxScaleOnAxis(){const t=this.elements,i=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],s=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],o=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(i,s,o))}makeTranslation(t,i,s){return this.set(1,0,0,t,0,1,0,i,0,0,1,s,0,0,0,1),this}makeRotationX(t){const i=Math.cos(t),s=Math.sin(t);return this.set(1,0,0,0,0,i,-s,0,0,s,i,0,0,0,0,1),this}makeRotationY(t){const i=Math.cos(t),s=Math.sin(t);return this.set(i,0,s,0,0,1,0,0,-s,0,i,0,0,0,0,1),this}makeRotationZ(t){const i=Math.cos(t),s=Math.sin(t);return this.set(i,-s,0,0,s,i,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,i){const s=Math.cos(i),o=Math.sin(i),a=1-s,l=t.x,u=t.y,f=t.z,p=a*l,g=a*u;return this.set(p*l+s,p*u-o*f,p*f+o*u,0,p*u+o*f,g*u+s,g*f-o*l,0,p*f-o*u,g*f+o*l,a*f*f+s,0,0,0,0,1),this}makeScale(t,i,s){return this.set(t,0,0,0,0,i,0,0,0,0,s,0,0,0,0,1),this}makeShear(t,i,s,o,a,l){return this.set(1,s,a,0,t,1,l,0,i,o,1,0,0,0,0,1),this}compose(t,i,s){const o=this.elements,a=i._x,l=i._y,u=i._z,f=i._w,p=a+a,g=l+l,v=u+u,b=a*p,w=a*g,M=a*v,x=l*g,E=l*v,C=u*v,k=f*p,R=f*g,P=f*v,O=s.x,F=s.y,G=s.z;return o[0]=(1-(x+C))*O,o[1]=(w+P)*O,o[2]=(M-R)*O,o[3]=0,o[4]=(w-P)*F,o[5]=(1-(b+C))*F,o[6]=(E+k)*F,o[7]=0,o[8]=(M+R)*G,o[9]=(E-k)*G,o[10]=(1-(b+x))*G,o[11]=0,o[12]=t.x,o[13]=t.y,o[14]=t.z,o[15]=1,this}decompose(t,i,s){const o=this.elements;let a=Zu.set(o[0],o[1],o[2]).length();const l=Zu.set(o[4],o[5],o[6]).length(),u=Zu.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),t.x=o[12],t.y=o[13],t.z=o[14],vo.copy(this);const p=1/a,g=1/l,v=1/u;return vo.elements[0]*=p,vo.elements[1]*=p,vo.elements[2]*=p,vo.elements[4]*=g,vo.elements[5]*=g,vo.elements[6]*=g,vo.elements[8]*=v,vo.elements[9]*=v,vo.elements[10]*=v,i.setFromRotationMatrix(vo),s.x=a,s.y=l,s.z=u,this}makePerspective(t,i,s,o,a,l){const u=this.elements,f=2*a/(i-t),p=2*a/(s-o),g=(i+t)/(i-t),v=(s+o)/(s-o),b=-(l+a)/(l-a),w=-2*l*a/(l-a);return u[0]=f,u[4]=0,u[8]=g,u[12]=0,u[1]=0,u[5]=p,u[9]=v,u[13]=0,u[2]=0,u[6]=0,u[10]=b,u[14]=w,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(t,i,s,o,a,l){const u=this.elements,f=1/(i-t),p=1/(s-o),g=1/(l-a),v=(i+t)*f,b=(s+o)*p,w=(l+a)*g;return u[0]=2*f,u[4]=0,u[8]=0,u[12]=-v,u[1]=0,u[5]=2*p,u[9]=0,u[13]=-b,u[2]=0,u[6]=0,u[10]=-2*g,u[14]=-w,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(t){const i=this.elements,s=t.elements;for(let o=0;o<16;o++)if(i[o]!==s[o])return!1;return!0}fromArray(t,i=0){for(let s=0;s<16;s++)this.elements[s]=t[s+i];return this}toArray(t=[],i=0){const s=this.elements;return t[i]=s[0],t[i+1]=s[1],t[i+2]=s[2],t[i+3]=s[3],t[i+4]=s[4],t[i+5]=s[5],t[i+6]=s[6],t[i+7]=s[7],t[i+8]=s[8],t[i+9]=s[9],t[i+10]=s[10],t[i+11]=s[11],t[i+12]=s[12],t[i+13]=s[13],t[i+14]=s[14],t[i+15]=s[15],t}}const Zu=new xt,vo=new Fr,FW=new xt(0,0,0),BW=new xt(1,1,1),yl=new xt,hg=new xt,Rr=new xt,G2=new Fr,K2=new Xc;class S0{constructor(t=0,i=0,s=0,o=S0.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=i,this._z=s,this._order=o}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,i,s,o=this._order){return this._x=t,this._y=i,this._z=s,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,i=this._order,s=!0){const o=t.elements,a=o[0],l=o[4],u=o[8],f=o[1],p=o[5],g=o[9],v=o[2],b=o[6],w=o[10];switch(i){case"XYZ":this._y=Math.asin(Qs(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-g,w),this._z=Math.atan2(-l,a)):(this._x=Math.atan2(b,p),this._z=0);break;case"YXZ":this._x=Math.asin(-Qs(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(u,w),this._z=Math.atan2(f,p)):(this._y=Math.atan2(-v,a),this._z=0);break;case"ZXY":this._x=Math.asin(Qs(b,-1,1)),Math.abs(b)<.9999999?(this._y=Math.atan2(-v,w),this._z=Math.atan2(-l,p)):(this._y=0,this._z=Math.atan2(f,a));break;case"ZYX":this._y=Math.asin(-Qs(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(b,w),this._z=Math.atan2(f,a)):(this._x=0,this._z=Math.atan2(-l,p));break;case"YZX":this._z=Math.asin(Qs(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-g,p),this._y=Math.atan2(-v,a)):(this._x=0,this._y=Math.atan2(u,w));break;case"XZY":this._z=Math.asin(-Qs(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(b,p),this._y=Math.atan2(u,a)):(this._x=Math.atan2(-g,w),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,s===!0&&this._onChangeCallback(),this}setFromQuaternion(t,i,s){return G2.makeRotationFromQuaternion(t),this.setFromRotationMatrix(G2,i,s)}setFromVector3(t,i=this._order){return this.set(t.x,t.y,t.z,i)}reorder(t){return K2.setFromEuler(this),this.setFromQuaternion(K2,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}S0.DEFAULT_ORDER="XYZ";class zW{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let $W=0;const q2=new xt,Ju=new Xc,xa=new Fr,pg=new xt,fh=new xt,UW=new xt,VW=new Xc,j2=new xt(1,0,0),X2=new xt(0,1,0),Y2=new xt(0,0,1),HW={type:"added"},Z2={type:"removed"};class Jr extends Ep{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:$W++}),this.uuid=Cp(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Jr.DEFAULT_UP.clone();const t=new xt,i=new S0,s=new Xc,o=new xt(1,1,1);function a(){s.setFromEuler(i,!1)}function l(){i.setFromQuaternion(s,void 0,!1)}i._onChange(a),s._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Fr},normalMatrix:{value:new Ul}}),this.matrix=new Fr,this.matrixWorld=new Fr,this.matrixAutoUpdate=Jr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Jr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new zW,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,i){this.quaternion.setFromAxisAngle(t,i)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,i){return Ju.setFromAxisAngle(t,i),this.quaternion.multiply(Ju),this}rotateOnWorldAxis(t,i){return Ju.setFromAxisAngle(t,i),this.quaternion.premultiply(Ju),this}rotateX(t){return this.rotateOnAxis(j2,t)}rotateY(t){return this.rotateOnAxis(X2,t)}rotateZ(t){return this.rotateOnAxis(Y2,t)}translateOnAxis(t,i){return q2.copy(t).applyQuaternion(this.quaternion),this.position.add(q2.multiplyScalar(i)),this}translateX(t){return this.translateOnAxis(j2,t)}translateY(t){return this.translateOnAxis(X2,t)}translateZ(t){return this.translateOnAxis(Y2,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(xa.copy(this.matrixWorld).invert())}lookAt(t,i,s){t.isVector3?pg.copy(t):pg.set(t,i,s);const o=this.parent;this.updateWorldMatrix(!0,!1),fh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?xa.lookAt(fh,pg,this.up):xa.lookAt(pg,fh,this.up),this.quaternion.setFromRotationMatrix(xa),o&&(xa.extractRotation(o.matrixWorld),Ju.setFromRotationMatrix(xa),this.quaternion.premultiply(Ju.invert()))}add(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(HW)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);return this}const i=this.children.indexOf(t);return i!==-1&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(Z2)),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const i=this.children[t];i.parent=null,i.dispatchEvent(Z2)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),xa.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),xa.multiply(t.parent.matrixWorld)),t.applyMatrix4(xa),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,i){if(this[t]===i)return this;for(let s=0,o=this.children.length;s<o;s++){const l=this.children[s].getObjectByProperty(t,i);if(l!==void 0)return l}}getObjectsByProperty(t,i){let s=[];this[t]===i&&s.push(this);for(let o=0,a=this.children.length;o<a;o++){const l=this.children[o].getObjectsByProperty(t,i);l.length>0&&(s=s.concat(l))}return s}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(fh,t,UW),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(fh,VW,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return t.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(t){t(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].traverseVisible(t)}traverseAncestors(t){const i=this.parent;i!==null&&(t(i),i.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];(a.matrixWorldAutoUpdate===!0||t===!0)&&a.updateMatrixWorld(t)}}updateWorldMatrix(t,i){const s=this.parent;if(t===!0&&s!==null&&s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),i===!0){const o=this.children;for(let a=0,l=o.length;a<l;a++){const u=o[a];u.matrixWorldAutoUpdate===!0&&u.updateWorldMatrix(!1,!0)}}}toJSON(t){const i=t===void 0||typeof t=="string",s={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},s.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const o={};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),o.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(o.instanceColor=this.instanceColor.toJSON()));function a(u,f){return u[f.uuid]===void 0&&(u[f.uuid]=f.toJSON(t)),f.uuid}if(this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(o.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=a(t.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const f=u.shapes;if(Array.isArray(f))for(let p=0,g=f.length;p<g;p++){const v=f[p];a(t.shapes,v)}else a(t.shapes,f)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(t.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let f=0,p=this.material.length;f<p;f++)u.push(a(t.materials,this.material[f]));o.material=u}else o.material=a(t.materials,this.material);if(this.children.length>0){o.children=[];for(let u=0;u<this.children.length;u++)o.children.push(this.children[u].toJSON(t).object)}if(this.animations.length>0){o.animations=[];for(let u=0;u<this.animations.length;u++){const f=this.animations[u];o.animations.push(a(t.animations,f))}}if(i){const u=l(t.geometries),f=l(t.materials),p=l(t.textures),g=l(t.images),v=l(t.shapes),b=l(t.skeletons),w=l(t.animations),M=l(t.nodes);u.length>0&&(s.geometries=u),f.length>0&&(s.materials=f),p.length>0&&(s.textures=p),g.length>0&&(s.images=g),v.length>0&&(s.shapes=v),b.length>0&&(s.skeletons=b),w.length>0&&(s.animations=w),M.length>0&&(s.nodes=M)}return s.object=o,s;function l(u){const f=[];for(const p in u){const g=u[p];delete g.metadata,f.push(g)}return f}}clone(t){return new this.constructor().copy(this,t)}copy(t,i=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations,this.userData=JSON.parse(JSON.stringify(t.userData)),i===!0)for(let s=0;s<t.children.length;s++){const o=t.children[s];this.add(o.clone())}return this}}Jr.DEFAULT_UP=new xt(0,1,0);Jr.DEFAULT_MATRIX_AUTO_UPDATE=!0;Jr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const yo=new xt,Ma=new xt,v_=new xt,Ea=new xt,Qu=new xt,ed=new xt,J2=new xt,y_=new xt,b_=new xt,__=new xt;let mg=!1;class So{constructor(t=new xt,i=new xt,s=new xt){this.a=t,this.b=i,this.c=s}static getNormal(t,i,s,o){o.subVectors(s,i),yo.subVectors(t,i),o.cross(yo);const a=o.lengthSq();return a>0?o.multiplyScalar(1/Math.sqrt(a)):o.set(0,0,0)}static getBarycoord(t,i,s,o,a){yo.subVectors(o,i),Ma.subVectors(s,i),v_.subVectors(t,i);const l=yo.dot(yo),u=yo.dot(Ma),f=yo.dot(v_),p=Ma.dot(Ma),g=Ma.dot(v_),v=l*p-u*u;if(v===0)return a.set(-2,-1,-1);const b=1/v,w=(p*f-u*g)*b,M=(l*g-u*f)*b;return a.set(1-w-M,M,w)}static containsPoint(t,i,s,o){return this.getBarycoord(t,i,s,o,Ea),Ea.x>=0&&Ea.y>=0&&Ea.x+Ea.y<=1}static getUV(t,i,s,o,a,l,u,f){return mg===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),mg=!0),this.getInterpolation(t,i,s,o,a,l,u,f)}static getInterpolation(t,i,s,o,a,l,u,f){return this.getBarycoord(t,i,s,o,Ea),f.setScalar(0),f.addScaledVector(a,Ea.x),f.addScaledVector(l,Ea.y),f.addScaledVector(u,Ea.z),f}static isFrontFacing(t,i,s,o){return yo.subVectors(s,i),Ma.subVectors(t,i),yo.cross(Ma).dot(o)<0}set(t,i,s){return this.a.copy(t),this.b.copy(i),this.c.copy(s),this}setFromPointsAndIndices(t,i,s,o){return this.a.copy(t[i]),this.b.copy(t[s]),this.c.copy(t[o]),this}setFromAttributeAndIndices(t,i,s,o){return this.a.fromBufferAttribute(t,i),this.b.fromBufferAttribute(t,s),this.c.fromBufferAttribute(t,o),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return yo.subVectors(this.c,this.b),Ma.subVectors(this.a,this.b),yo.cross(Ma).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return So.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,i){return So.getBarycoord(t,this.a,this.b,this.c,i)}getUV(t,i,s,o,a){return mg===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),mg=!0),So.getInterpolation(t,this.a,this.b,this.c,i,s,o,a)}getInterpolation(t,i,s,o,a){return So.getInterpolation(t,this.a,this.b,this.c,i,s,o,a)}containsPoint(t){return So.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return So.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,i){const s=this.a,o=this.b,a=this.c;let l,u;Qu.subVectors(o,s),ed.subVectors(a,s),y_.subVectors(t,s);const f=Qu.dot(y_),p=ed.dot(y_);if(f<=0&&p<=0)return i.copy(s);b_.subVectors(t,o);const g=Qu.dot(b_),v=ed.dot(b_);if(g>=0&&v<=g)return i.copy(o);const b=f*v-g*p;if(b<=0&&f>=0&&g<=0)return l=f/(f-g),i.copy(s).addScaledVector(Qu,l);__.subVectors(t,a);const w=Qu.dot(__),M=ed.dot(__);if(M>=0&&w<=M)return i.copy(a);const x=w*p-f*M;if(x<=0&&p>=0&&M<=0)return u=p/(p-M),i.copy(s).addScaledVector(ed,u);const E=g*M-w*v;if(E<=0&&v-g>=0&&w-M>=0)return J2.subVectors(a,o),u=(v-g)/(v-g+(w-M)),i.copy(o).addScaledVector(J2,u);const C=1/(E+x+b);return l=x*C,u=b*C,i.copy(s).addScaledVector(Qu,l).addScaledVector(ed,u)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let WW=0;class zd extends Ep{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:WW++}),this.uuid=Cp(),this.name="",this.type="Material",this.blending=B2,this.side=_1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=mW,this.blendDst=gW,this.blendEquation=pW,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=vW,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=MW,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=r_,this.stencilZFail=r_,this.stencilZPass=r_,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const i in t){const s=t[i];if(s===void 0){console.warn(`THREE.Material: parameter '${i}' has value of undefined.`);continue}const o=this[i];if(o===void 0){console.warn(`THREE.Material: '${i}' is not a property of THREE.${this.type}.`);continue}o&&o.isColor?o.set(s):o&&o.isVector3&&s&&s.isVector3?o.copy(s):this[i]=s}}toJSON(t){const i=t===void 0||typeof t=="string";i&&(t={textures:{},images:{}});const s={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.color&&this.color.isColor&&(s.color=this.color.getHex()),this.roughness!==void 0&&(s.roughness=this.roughness),this.metalness!==void 0&&(s.metalness=this.metalness),this.sheen!==void 0&&(s.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(s.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(s.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(s.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(s.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(s.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(s.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(s.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(s.shininess=this.shininess),this.clearcoat!==void 0&&(s.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(s.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(s.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(s.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,s.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(s.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(s.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(s.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(s.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(s.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(s.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(s.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(s.lightMap=this.lightMap.toJSON(t).uuid,s.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(s.aoMap=this.aoMap.toJSON(t).uuid,s.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(s.bumpMap=this.bumpMap.toJSON(t).uuid,s.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(s.normalMap=this.normalMap.toJSON(t).uuid,s.normalMapType=this.normalMapType,s.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(s.displacementMap=this.displacementMap.toJSON(t).uuid,s.displacementScale=this.displacementScale,s.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(s.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(s.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(s.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(s.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(s.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(s.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(s.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(s.combine=this.combine)),this.envMapIntensity!==void 0&&(s.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(s.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(s.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(s.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(s.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(s.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(s.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(s.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(s.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(s.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(s.size=this.size),this.shadowSide!==null&&(s.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(s.sizeAttenuation=this.sizeAttenuation),this.blending!==B2&&(s.blending=this.blending),this.side!==_1&&(s.side=this.side),this.vertexColors&&(s.vertexColors=!0),this.opacity<1&&(s.opacity=this.opacity),this.transparent===!0&&(s.transparent=this.transparent),s.depthFunc=this.depthFunc,s.depthTest=this.depthTest,s.depthWrite=this.depthWrite,s.colorWrite=this.colorWrite,s.stencilWrite=this.stencilWrite,s.stencilWriteMask=this.stencilWriteMask,s.stencilFunc=this.stencilFunc,s.stencilRef=this.stencilRef,s.stencilFuncMask=this.stencilFuncMask,s.stencilFail=this.stencilFail,s.stencilZFail=this.stencilZFail,s.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(s.rotation=this.rotation),this.polygonOffset===!0&&(s.polygonOffset=!0),this.polygonOffsetFactor!==0&&(s.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(s.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(s.linewidth=this.linewidth),this.dashSize!==void 0&&(s.dashSize=this.dashSize),this.gapSize!==void 0&&(s.gapSize=this.gapSize),this.scale!==void 0&&(s.scale=this.scale),this.dithering===!0&&(s.dithering=!0),this.alphaTest>0&&(s.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(s.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(s.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(s.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(s.wireframe=this.wireframe),this.wireframeLinewidth>1&&(s.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(s.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(s.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(s.flatShading=this.flatShading),this.visible===!1&&(s.visible=!1),this.toneMapped===!1&&(s.toneMapped=!1),this.fog===!1&&(s.fog=!1),Object.keys(this.userData).length>0&&(s.userData=this.userData);function o(a){const l=[];for(const u in a){const f=a[u];delete f.metadata,l.push(f)}return l}if(i){const a=o(t.textures),l=o(t.images);a.length>0&&(s.textures=a),l.length>0&&(s.images=l)}return s}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const i=t.clippingPlanes;let s=null;if(i!==null){const o=i.length;s=new Array(o);for(let a=0;a!==o;++a)s[a]=i[a].clone()}return this.clippingPlanes=s,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}const t3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},bo={h:0,s:0,l:0},gg={h:0,s:0,l:0};function w_(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*6*(2/3-i):e}let Fa=class{constructor(t,i,s){return this.isColor=!0,this.r=1,this.g=1,this.b=1,i===void 0&&s===void 0?this.set(t):this.setRGB(t,i,s)}set(t){return t&&t.isColor?this.copy(t):typeof t=="number"?this.setHex(t):typeof t=="string"&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,i=qr){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,go.toWorkingColorSpace(this,i),this}setRGB(t,i,s,o=go.workingColorSpace){return this.r=t,this.g=i,this.b=s,go.toWorkingColorSpace(this,o),this}setHSL(t,i,s,o=go.workingColorSpace){if(t=EW(t,1),i=Qs(i,0,1),s=Qs(s,0,1),i===0)this.r=this.g=this.b=s;else{const a=s<=.5?s*(1+i):s+i-s*i,l=2*s-a;this.r=w_(l,a,t+1/3),this.g=w_(l,a,t),this.b=w_(l,a,t-1/3)}return go.toWorkingColorSpace(this,o),this}setStyle(t,i=qr){function s(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let o;if(o=/^(\w+)\(([^\)]*)\)/.exec(t)){let a;const l=o[1],u=o[2];switch(l){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return s(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,i);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return s(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,i);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return s(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,i);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(t)){const a=o[1],l=a.length;if(l===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,i);if(l===6)return this.setHex(parseInt(a,16),i);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,i);return this}setColorName(t,i=qr){const s=t3[t.toLowerCase()];return s!==void 0?this.setHex(s,i):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Sd(t.r),this.g=Sd(t.g),this.b=Sd(t.b),this}copyLinearToSRGB(t){return this.r=c_(t.r),this.g=c_(t.g),this.b=c_(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=qr){return go.fromWorkingColorSpace(Vs.copy(this),t),Math.round(Qs(Vs.r*255,0,255))*65536+Math.round(Qs(Vs.g*255,0,255))*256+Math.round(Qs(Vs.b*255,0,255))}getHexString(t=qr){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,i=go.workingColorSpace){go.fromWorkingColorSpace(Vs.copy(this),i);const s=Vs.r,o=Vs.g,a=Vs.b,l=Math.max(s,o,a),u=Math.min(s,o,a);let f,p;const g=(u+l)/2;if(u===l)f=0,p=0;else{const v=l-u;switch(p=g<=.5?v/(l+u):v/(2-l-u),l){case s:f=(o-a)/v+(o<a?6:0);break;case o:f=(a-s)/v+2;break;case a:f=(s-o)/v+4;break}f/=6}return t.h=f,t.s=p,t.l=g,t}getRGB(t,i=go.workingColorSpace){return go.fromWorkingColorSpace(Vs.copy(this),i),t.r=Vs.r,t.g=Vs.g,t.b=Vs.b,t}getStyle(t=qr){go.fromWorkingColorSpace(Vs.copy(this),t);const i=Vs.r,s=Vs.g,o=Vs.b;return t!==qr?`color(${t} ${i.toFixed(3)} ${s.toFixed(3)} ${o.toFixed(3)})`:`rgb(${Math.round(i*255)},${Math.round(s*255)},${Math.round(o*255)})`}offsetHSL(t,i,s){return this.getHSL(bo),bo.h+=t,bo.s+=i,bo.l+=s,this.setHSL(bo.h,bo.s,bo.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,i){return this.r=t.r+i.r,this.g=t.g+i.g,this.b=t.b+i.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,i){return this.r+=(t.r-this.r)*i,this.g+=(t.g-this.g)*i,this.b+=(t.b-this.b)*i,this}lerpColors(t,i,s){return this.r=t.r+(i.r-t.r)*s,this.g=t.g+(i.g-t.g)*s,this.b=t.b+(i.b-t.b)*s,this}lerpHSL(t,i){this.getHSL(bo),t.getHSL(gg);const s=o_(bo.h,gg.h,i),o=o_(bo.s,gg.s,i),a=o_(bo.l,gg.l,i);return this.setHSL(s,o,a),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const i=this.r,s=this.g,o=this.b,a=t.elements;return this.r=a[0]*i+a[3]*s+a[6]*o,this.g=a[1]*i+a[4]*s+a[7]*o,this.b=a[2]*i+a[5]*s+a[8]*o,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,i=0){return this.r=t[i],this.g=t[i+1],this.b=t[i+2],this}toArray(t=[],i=0){return t[i]=this.r,t[i+1]=this.g,t[i+2]=this.b,t}fromBufferAttribute(t,i){return this.r=t.getX(i),this.g=t.getY(i),this.b=t.getZ(i),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Vs=new Fa;Fa.NAMES=t3;class GW extends zd{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Fa(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=JP,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const ms=new xt,vg=new Ji;class xd{constructor(t,i,s=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=i,this.count=t!==void 0?t.length/i:0,this.normalized=s,this.usage=U2,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,i,s){t*=this.itemSize,s*=i.itemSize;for(let o=0,a=this.itemSize;o<a;o++)this.array[t+o]=i.array[s+o];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let i=0,s=this.count;i<s;i++)vg.fromBufferAttribute(this,i),vg.applyMatrix3(t),this.setXY(i,vg.x,vg.y);else if(this.itemSize===3)for(let i=0,s=this.count;i<s;i++)ms.fromBufferAttribute(this,i),ms.applyMatrix3(t),this.setXYZ(i,ms.x,ms.y,ms.z);return this}applyMatrix4(t){for(let i=0,s=this.count;i<s;i++)ms.fromBufferAttribute(this,i),ms.applyMatrix4(t),this.setXYZ(i,ms.x,ms.y,ms.z);return this}applyNormalMatrix(t){for(let i=0,s=this.count;i<s;i++)ms.fromBufferAttribute(this,i),ms.applyNormalMatrix(t),this.setXYZ(i,ms.x,ms.y,ms.z);return this}transformDirection(t){for(let i=0,s=this.count;i<s;i++)ms.fromBufferAttribute(this,i),ms.transformDirection(t),this.setXYZ(i,ms.x,ms.y,ms.z);return this}set(t,i=0){return this.array.set(t,i),this}getX(t){let i=this.array[t*this.itemSize];return this.normalized&&(i=lg(i,this.array)),i}setX(t,i){return this.normalized&&(i=Ar(i,this.array)),this.array[t*this.itemSize]=i,this}getY(t){let i=this.array[t*this.itemSize+1];return this.normalized&&(i=lg(i,this.array)),i}setY(t,i){return this.normalized&&(i=Ar(i,this.array)),this.array[t*this.itemSize+1]=i,this}getZ(t){let i=this.array[t*this.itemSize+2];return this.normalized&&(i=lg(i,this.array)),i}setZ(t,i){return this.normalized&&(i=Ar(i,this.array)),this.array[t*this.itemSize+2]=i,this}getW(t){let i=this.array[t*this.itemSize+3];return this.normalized&&(i=lg(i,this.array)),i}setW(t,i){return this.normalized&&(i=Ar(i,this.array)),this.array[t*this.itemSize+3]=i,this}setXY(t,i,s){return t*=this.itemSize,this.normalized&&(i=Ar(i,this.array),s=Ar(s,this.array)),this.array[t+0]=i,this.array[t+1]=s,this}setXYZ(t,i,s,o){return t*=this.itemSize,this.normalized&&(i=Ar(i,this.array),s=Ar(s,this.array),o=Ar(o,this.array)),this.array[t+0]=i,this.array[t+1]=s,this.array[t+2]=o,this}setXYZW(t,i,s,o,a){return t*=this.itemSize,this.normalized&&(i=Ar(i,this.array),s=Ar(s,this.array),o=Ar(o,this.array),a=Ar(a,this.array)),this.array[t+0]=i,this.array[t+1]=s,this.array[t+2]=o,this.array[t+3]=a,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==U2&&(t.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(t.updateRange=this.updateRange),t}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class KW extends xd{constructor(t,i,s){super(new Uint16Array(t),i,s)}}class qW extends xd{constructor(t,i,s){super(new Uint32Array(t),i,s)}}class Pa extends xd{constructor(t,i,s){super(new Float32Array(t),i,s)}}let jW=0;const Wr=new Fr,S_=new Jr,td=new xt,kr=new Tp,hh=new Tp,Es=new xt;class Yc extends Ep{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:jW++}),this.uuid=Cp(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(CW(t)?qW:KW)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,i){return this.attributes[t]=i,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,i,s=0){this.groups.push({start:t,count:i,materialIndex:s})}clearGroups(){this.groups=[]}setDrawRange(t,i){this.drawRange.start=t,this.drawRange.count=i}applyMatrix4(t){const i=this.attributes.position;i!==void 0&&(i.applyMatrix4(t),i.needsUpdate=!0);const s=this.attributes.normal;if(s!==void 0){const a=new Ul().getNormalMatrix(t);s.applyNormalMatrix(a),s.needsUpdate=!0}const o=this.attributes.tangent;return o!==void 0&&(o.transformDirection(t),o.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return Wr.makeRotationFromQuaternion(t),this.applyMatrix4(Wr),this}rotateX(t){return Wr.makeRotationX(t),this.applyMatrix4(Wr),this}rotateY(t){return Wr.makeRotationY(t),this.applyMatrix4(Wr),this}rotateZ(t){return Wr.makeRotationZ(t),this.applyMatrix4(Wr),this}translate(t,i,s){return Wr.makeTranslation(t,i,s),this.applyMatrix4(Wr),this}scale(t,i,s){return Wr.makeScale(t,i,s),this.applyMatrix4(Wr),this}lookAt(t){return S_.lookAt(t),S_.updateMatrix(),this.applyMatrix4(S_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(td).negate(),this.translate(td.x,td.y,td.z),this}setFromPoints(t){const i=[];for(let s=0,o=t.length;s<o;s++){const a=t[s];i.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new Pa(i,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Tp);const t=this.attributes.position,i=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new xt(-1/0,-1/0,-1/0),new xt(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),i)for(let s=0,o=i.length;s<o;s++){const a=i[s];kr.setFromBufferAttribute(a),this.morphTargetsRelative?(Es.addVectors(this.boundingBox.min,kr.min),this.boundingBox.expandByPoint(Es),Es.addVectors(this.boundingBox.max,kr.max),this.boundingBox.expandByPoint(Es)):(this.boundingBox.expandByPoint(kr.min),this.boundingBox.expandByPoint(kr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new w0);const t=this.attributes.position,i=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new xt,1/0);return}if(t){const s=this.boundingSphere.center;if(kr.setFromBufferAttribute(t),i)for(let a=0,l=i.length;a<l;a++){const u=i[a];hh.setFromBufferAttribute(u),this.morphTargetsRelative?(Es.addVectors(kr.min,hh.min),kr.expandByPoint(Es),Es.addVectors(kr.max,hh.max),kr.expandByPoint(Es)):(kr.expandByPoint(hh.min),kr.expandByPoint(hh.max))}kr.getCenter(s);let o=0;for(let a=0,l=t.count;a<l;a++)Es.fromBufferAttribute(t,a),o=Math.max(o,s.distanceToSquared(Es));if(i)for(let a=0,l=i.length;a<l;a++){const u=i[a],f=this.morphTargetsRelative;for(let p=0,g=u.count;p<g;p++)Es.fromBufferAttribute(u,p),f&&(td.fromBufferAttribute(t,p),Es.add(td)),o=Math.max(o,s.distanceToSquared(Es))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,i=this.attributes;if(t===null||i.position===void 0||i.normal===void 0||i.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const s=t.array,o=i.position.array,a=i.normal.array,l=i.uv.array,u=o.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new xd(new Float32Array(4*u),4));const f=this.getAttribute("tangent").array,p=[],g=[];for(let q=0;q<u;q++)p[q]=new xt,g[q]=new xt;const v=new xt,b=new xt,w=new xt,M=new Ji,x=new Ji,E=new Ji,C=new xt,k=new xt;function R(q,ie,Q){v.fromArray(o,q*3),b.fromArray(o,ie*3),w.fromArray(o,Q*3),M.fromArray(l,q*2),x.fromArray(l,ie*2),E.fromArray(l,Q*2),b.sub(v),w.sub(v),x.sub(M),E.sub(M);const Z=1/(x.x*E.y-E.x*x.y);isFinite(Z)&&(C.copy(b).multiplyScalar(E.y).addScaledVector(w,-x.y).multiplyScalar(Z),k.copy(w).multiplyScalar(x.x).addScaledVector(b,-E.x).multiplyScalar(Z),p[q].add(C),p[ie].add(C),p[Q].add(C),g[q].add(k),g[ie].add(k),g[Q].add(k))}let P=this.groups;P.length===0&&(P=[{start:0,count:s.length}]);for(let q=0,ie=P.length;q<ie;++q){const Q=P[q],Z=Q.start,re=Q.count;for(let ce=Z,te=Z+re;ce<te;ce+=3)R(s[ce+0],s[ce+1],s[ce+2])}const O=new xt,F=new xt,G=new xt,H=new xt;function j(q){G.fromArray(a,q*3),H.copy(G);const ie=p[q];O.copy(ie),O.sub(G.multiplyScalar(G.dot(ie))).normalize(),F.crossVectors(H,ie);const Z=F.dot(g[q])<0?-1:1;f[q*4]=O.x,f[q*4+1]=O.y,f[q*4+2]=O.z,f[q*4+3]=Z}for(let q=0,ie=P.length;q<ie;++q){const Q=P[q],Z=Q.start,re=Q.count;for(let ce=Z,te=Z+re;ce<te;ce+=3)j(s[ce+0]),j(s[ce+1]),j(s[ce+2])}}computeVertexNormals(){const t=this.index,i=this.getAttribute("position");if(i!==void 0){let s=this.getAttribute("normal");if(s===void 0)s=new xd(new Float32Array(i.count*3),3),this.setAttribute("normal",s);else for(let b=0,w=s.count;b<w;b++)s.setXYZ(b,0,0,0);const o=new xt,a=new xt,l=new xt,u=new xt,f=new xt,p=new xt,g=new xt,v=new xt;if(t)for(let b=0,w=t.count;b<w;b+=3){const M=t.getX(b+0),x=t.getX(b+1),E=t.getX(b+2);o.fromBufferAttribute(i,M),a.fromBufferAttribute(i,x),l.fromBufferAttribute(i,E),g.subVectors(l,a),v.subVectors(o,a),g.cross(v),u.fromBufferAttribute(s,M),f.fromBufferAttribute(s,x),p.fromBufferAttribute(s,E),u.add(g),f.add(g),p.add(g),s.setXYZ(M,u.x,u.y,u.z),s.setXYZ(x,f.x,f.y,f.z),s.setXYZ(E,p.x,p.y,p.z)}else for(let b=0,w=i.count;b<w;b+=3)o.fromBufferAttribute(i,b+0),a.fromBufferAttribute(i,b+1),l.fromBufferAttribute(i,b+2),g.subVectors(l,a),v.subVectors(o,a),g.cross(v),s.setXYZ(b+0,g.x,g.y,g.z),s.setXYZ(b+1,g.x,g.y,g.z),s.setXYZ(b+2,g.x,g.y,g.z);this.normalizeNormals(),s.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const t=this.attributes.normal;for(let i=0,s=t.count;i<s;i++)Es.fromBufferAttribute(t,i),Es.normalize(),t.setXYZ(i,Es.x,Es.y,Es.z)}toNonIndexed(){function t(u,f){const p=u.array,g=u.itemSize,v=u.normalized,b=new p.constructor(f.length*g);let w=0,M=0;for(let x=0,E=f.length;x<E;x++){u.isInterleavedBufferAttribute?w=f[x]*u.data.stride+u.offset:w=f[x]*g;for(let C=0;C<g;C++)b[M++]=p[w++]}return new xd(b,g,v)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const i=new Yc,s=this.index.array,o=this.attributes;for(const u in o){const f=o[u],p=t(f,s);i.setAttribute(u,p)}const a=this.morphAttributes;for(const u in a){const f=[],p=a[u];for(let g=0,v=p.length;g<v;g++){const b=p[g],w=t(b,s);f.push(w)}i.morphAttributes[u]=f}i.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let u=0,f=l.length;u<f;u++){const p=l[u];i.addGroup(p.start,p.count,p.materialIndex)}return i}toJSON(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const f=this.parameters;for(const p in f)f[p]!==void 0&&(t[p]=f[p]);return t}t.data={attributes:{}};const i=this.index;i!==null&&(t.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});const s=this.attributes;for(const f in s){const p=s[f];t.data.attributes[f]=p.toJSON(t.data)}const o={};let a=!1;for(const f in this.morphAttributes){const p=this.morphAttributes[f],g=[];for(let v=0,b=p.length;v<b;v++){const w=p[v];g.push(w.toJSON(t.data))}g.length>0&&(o[f]=g,a=!0)}a&&(t.data.morphAttributes=o,t.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(t.data.groups=JSON.parse(JSON.stringify(l)));const u=this.boundingSphere;return u!==null&&(t.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const i={};this.name=t.name;const s=t.index;s!==null&&this.setIndex(s.clone(i));const o=t.attributes;for(const p in o){const g=o[p];this.setAttribute(p,g.clone(i))}const a=t.morphAttributes;for(const p in a){const g=[],v=a[p];for(let b=0,w=v.length;b<w;b++)g.push(v[b].clone(i));this.morphAttributes[p]=g}this.morphTargetsRelative=t.morphTargetsRelative;const l=t.groups;for(let p=0,g=l.length;p<g;p++){const v=l[p];this.addGroup(v.start,v.count,v.materialIndex)}const u=t.boundingBox;u!==null&&(this.boundingBox=u.clone());const f=t.boundingSphere;return f!==null&&(this.boundingSphere=f.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Q2=new Fr,Ko=new rS,yg=new w0,eT=new xt,nd=new xt,id=new xt,sd=new xt,x_=new xt,bg=new xt,_g=new Ji,wg=new Ji,Sg=new Ji,tT=new xt,nT=new xt,iT=new xt,xg=new xt,Mg=new xt;class sT extends Jr{constructor(t=new Yc,i=new GW){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=i,this.updateMorphTargets()}copy(t,i){return super.copy(t,i),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const i=this.geometry.morphAttributes,s=Object.keys(i);if(s.length>0){const o=i[s[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,l=o.length;a<l;a++){const u=o[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=a}}}}getVertexPosition(t,i){const s=this.geometry,o=s.attributes.position,a=s.morphAttributes.position,l=s.morphTargetsRelative;i.fromBufferAttribute(o,t);const u=this.morphTargetInfluences;if(a&&u){bg.set(0,0,0);for(let f=0,p=a.length;f<p;f++){const g=u[f],v=a[f];g!==0&&(x_.fromBufferAttribute(v,t),l?bg.addScaledVector(x_,g):bg.addScaledVector(x_.sub(i),g))}i.add(bg)}return i}raycast(t,i){const s=this.geometry,o=this.material,a=this.matrixWorld;o!==void 0&&(s.boundingSphere===null&&s.computeBoundingSphere(),yg.copy(s.boundingSphere),yg.applyMatrix4(a),Ko.copy(t.ray).recast(t.near),!(yg.containsPoint(Ko.origin)===!1&&(Ko.intersectSphere(yg,eT)===null||Ko.origin.distanceToSquared(eT)>(t.far-t.near)**2))&&(Q2.copy(a).invert(),Ko.copy(t.ray).applyMatrix4(Q2),!(s.boundingBox!==null&&Ko.intersectsBox(s.boundingBox)===!1)&&this._computeIntersections(t,i)))}_computeIntersections(t,i){let s;const o=this.geometry,a=this.material,l=o.index,u=o.attributes.position,f=o.attributes.uv,p=o.attributes.uv1,g=o.attributes.normal,v=o.groups,b=o.drawRange;if(l!==null)if(Array.isArray(a))for(let w=0,M=v.length;w<M;w++){const x=v[w],E=a[x.materialIndex],C=Math.max(x.start,b.start),k=Math.min(l.count,Math.min(x.start+x.count,b.start+b.count));for(let R=C,P=k;R<P;R+=3){const O=l.getX(R),F=l.getX(R+1),G=l.getX(R+2);s=Eg(this,E,t,Ko,f,p,g,O,F,G),s&&(s.faceIndex=Math.floor(R/3),s.face.materialIndex=x.materialIndex,i.push(s))}}else{const w=Math.max(0,b.start),M=Math.min(l.count,b.start+b.count);for(let x=w,E=M;x<E;x+=3){const C=l.getX(x),k=l.getX(x+1),R=l.getX(x+2);s=Eg(this,a,t,Ko,f,p,g,C,k,R),s&&(s.faceIndex=Math.floor(x/3),i.push(s))}}else if(u!==void 0)if(Array.isArray(a))for(let w=0,M=v.length;w<M;w++){const x=v[w],E=a[x.materialIndex],C=Math.max(x.start,b.start),k=Math.min(u.count,Math.min(x.start+x.count,b.start+b.count));for(let R=C,P=k;R<P;R+=3){const O=R,F=R+1,G=R+2;s=Eg(this,E,t,Ko,f,p,g,O,F,G),s&&(s.faceIndex=Math.floor(R/3),s.face.materialIndex=x.materialIndex,i.push(s))}}else{const w=Math.max(0,b.start),M=Math.min(u.count,b.start+b.count);for(let x=w,E=M;x<E;x+=3){const C=x,k=x+1,R=x+2;s=Eg(this,a,t,Ko,f,p,g,C,k,R),s&&(s.faceIndex=Math.floor(x/3),i.push(s))}}}}function XW(e,t,i,s,o,a,l,u){let f;if(t.side===hW?f=s.intersectTriangle(l,a,o,!0,u):f=s.intersectTriangle(o,a,l,t.side===_1,u),f===null)return null;Mg.copy(u),Mg.applyMatrix4(e.matrixWorld);const p=i.ray.origin.distanceTo(Mg);return p<i.near||p>i.far?null:{distance:p,point:Mg.clone(),object:e}}function Eg(e,t,i,s,o,a,l,u,f,p){e.getVertexPosition(u,nd),e.getVertexPosition(f,id),e.getVertexPosition(p,sd);const g=XW(e,t,i,s,nd,id,sd,xg);if(g){o&&(_g.fromBufferAttribute(o,u),wg.fromBufferAttribute(o,f),Sg.fromBufferAttribute(o,p),g.uv=So.getInterpolation(xg,nd,id,sd,_g,wg,Sg,new Ji)),a&&(_g.fromBufferAttribute(a,u),wg.fromBufferAttribute(a,f),Sg.fromBufferAttribute(a,p),g.uv1=So.getInterpolation(xg,nd,id,sd,_g,wg,Sg,new Ji),g.uv2=g.uv1),l&&(tT.fromBufferAttribute(l,u),nT.fromBufferAttribute(l,f),iT.fromBufferAttribute(l,p),g.normal=So.getInterpolation(xg,nd,id,sd,tT,nT,iT,new xt),g.normal.dot(s.direction)>0&&g.normal.multiplyScalar(-1));const v={a:u,b:f,c:p,normal:new xt,materialIndex:0};So.getNormal(nd,id,sd,v.normal),g.face=v}return g}class YW extends Jr{constructor(){super(),this.isGroup=!0,this.type="Group"}}class sv extends zd{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Fa(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const rT=new xt,oT=new xt,aT=new Fr,M_=new rS,Cg=new w0;class ZW extends Jr{constructor(t=new Yc,i=new sv){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=i,this.updateMorphTargets()}copy(t,i){return super.copy(t,i),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const i=t.attributes.position,s=[0];for(let o=1,a=i.count;o<a;o++)rT.fromBufferAttribute(i,o-1),oT.fromBufferAttribute(i,o),s[o]=s[o-1],s[o]+=rT.distanceTo(oT);t.setAttribute("lineDistance",new Pa(s,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,i){const s=this.geometry,o=this.matrixWorld,a=t.params.Line.threshold,l=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),Cg.copy(s.boundingSphere),Cg.applyMatrix4(o),Cg.radius+=a,t.ray.intersectsSphere(Cg)===!1)return;aT.copy(o).invert(),M_.copy(t.ray).applyMatrix4(aT);const u=a/((this.scale.x+this.scale.y+this.scale.z)/3),f=u*u,p=new xt,g=new xt,v=new xt,b=new xt,w=this.isLineSegments?2:1,M=s.index,E=s.attributes.position;if(M!==null){const C=Math.max(0,l.start),k=Math.min(M.count,l.start+l.count);for(let R=C,P=k-1;R<P;R+=w){const O=M.getX(R),F=M.getX(R+1);if(p.fromBufferAttribute(E,O),g.fromBufferAttribute(E,F),M_.distanceSqToSegment(p,g,b,v)>f)continue;b.applyMatrix4(this.matrixWorld);const H=t.ray.origin.distanceTo(b);H<t.near||H>t.far||i.push({distance:H,point:v.clone().applyMatrix4(this.matrixWorld),index:R,face:null,faceIndex:null,object:this})}}else{const C=Math.max(0,l.start),k=Math.min(E.count,l.start+l.count);for(let R=C,P=k-1;R<P;R+=w){if(p.fromBufferAttribute(E,R),g.fromBufferAttribute(E,R+1),M_.distanceSqToSegment(p,g,b,v)>f)continue;b.applyMatrix4(this.matrixWorld);const F=t.ray.origin.distanceTo(b);F<t.near||F>t.far||i.push({distance:F,point:v.clone().applyMatrix4(this.matrixWorld),index:R,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const i=this.geometry.morphAttributes,s=Object.keys(i);if(s.length>0){const o=i[s[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,l=o.length;a<l;a++){const u=o[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=a}}}}}const lT=new xt,cT=new xt;class uT extends ZW{constructor(t,i){super(t,i),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const i=t.attributes.position,s=[];for(let o=0,a=i.count;o<a;o+=2)lT.fromBufferAttribute(i,o),cT.fromBufferAttribute(i,o+1),s[o]=o===0?0:s[o-1],s[o+1]=s[o]+lT.distanceTo(cT);t.setAttribute("lineDistance",new Pa(s,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class _h extends zd{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Fa(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const dT=new Fr,w1=new rS,Tg=new w0,Ag=new xt;class E_ extends Jr{constructor(t=new Yc,i=new _h){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=i,this.updateMorphTargets()}copy(t,i){return super.copy(t,i),this.material=t.material,this.geometry=t.geometry,this}raycast(t,i){const s=this.geometry,o=this.matrixWorld,a=t.params.Points.threshold,l=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),Tg.copy(s.boundingSphere),Tg.applyMatrix4(o),Tg.radius+=a,t.ray.intersectsSphere(Tg)===!1)return;dT.copy(o).invert(),w1.copy(t.ray).applyMatrix4(dT);const u=a/((this.scale.x+this.scale.y+this.scale.z)/3),f=u*u,p=s.index,v=s.attributes.position;if(p!==null){const b=Math.max(0,l.start),w=Math.min(p.count,l.start+l.count);for(let M=b,x=w;M<x;M++){const E=p.getX(M);Ag.fromBufferAttribute(v,E),fT(Ag,E,f,o,t,i,this)}}else{const b=Math.max(0,l.start),w=Math.min(v.count,l.start+l.count);for(let M=b,x=w;M<x;M++)Ag.fromBufferAttribute(v,M),fT(Ag,M,f,o,t,i,this)}}updateMorphTargets(){const i=this.geometry.morphAttributes,s=Object.keys(i);if(s.length>0){const o=i[s[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,l=o.length;a<l;a++){const u=o[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=a}}}}}function fT(e,t,i,s,o,a,l){const u=w1.distanceSqToPoint(e);if(u<i){const f=new xt;w1.closestPointToPoint(e,f),f.applyMatrix4(s);const p=o.ray.origin.distanceTo(f);if(p<o.near||p>o.far)return;a.push({distance:p,distanceToRay:Math.sqrt(u),point:f,index:t,face:null,object:l})}}class JW extends zd{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Fa(16777215),this.specular=new Fa(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fa(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xW,this.normalScale=new Ji(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=JP,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}const hT={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class QW{constructor(t,i,s){const o=this;let a=!1,l=0,u=0,f;const p=[];this.onStart=void 0,this.onLoad=t,this.onProgress=i,this.onError=s,this.itemStart=function(g){u++,a===!1&&o.onStart!==void 0&&o.onStart(g,l,u),a=!0},this.itemEnd=function(g){l++,o.onProgress!==void 0&&o.onProgress(g,l,u),l===u&&(a=!1,o.onLoad!==void 0&&o.onLoad())},this.itemError=function(g){o.onError!==void 0&&o.onError(g)},this.resolveURL=function(g){return f?f(g):g},this.setURLModifier=function(g){return f=g,this},this.addHandler=function(g,v){return p.push(g,v),this},this.removeHandler=function(g){const v=p.indexOf(g);return v!==-1&&p.splice(v,2),this},this.getHandler=function(g){for(let v=0,b=p.length;v<b;v+=2){const w=p[v],M=p[v+1];if(w.global&&(w.lastIndex=0),w.test(g))return M}return null}}}const eG=new QW;class n3{constructor(t){this.manager=t!==void 0?t:eG,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,i){const s=this;return new Promise(function(o,a){s.load(t,o,i,a)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}const Ca={};class tG extends Error{constructor(t,i){super(t),this.response=i}}class nG extends n3{constructor(t){super(t)}load(t,i,s,o){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const a=hT.get(t);if(a!==void 0)return this.manager.itemStart(t),setTimeout(()=>{i&&i(a),this.manager.itemEnd(t)},0),a;if(Ca[t]!==void 0){Ca[t].push({onLoad:i,onProgress:s,onError:o});return}Ca[t]=[],Ca[t].push({onLoad:i,onProgress:s,onError:o});const l=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),u=this.mimeType,f=this.responseType;fetch(l).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const g=Ca[t],v=p.body.getReader(),b=p.headers.get("Content-Length")||p.headers.get("X-File-Size"),w=b?parseInt(b):0,M=w!==0;let x=0;const E=new ReadableStream({start(C){k();function k(){v.read().then(({done:R,value:P})=>{if(R)C.close();else{x+=P.byteLength;const O=new ProgressEvent("progress",{lengthComputable:M,loaded:x,total:w});for(let F=0,G=g.length;F<G;F++){const H=g[F];H.onProgress&&H.onProgress(O)}C.enqueue(P),k()}})}}});return new Response(E)}else throw new tG(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(f){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(g=>new DOMParser().parseFromString(g,u));case"json":return p.json();default:if(u===void 0)return p.text();{const v=/charset="?([^;"\s]*)"?/i.exec(u),b=v&&v[1]?v[1].toLowerCase():void 0,w=new TextDecoder(b);return p.arrayBuffer().then(M=>w.decode(M))}}}).then(p=>{hT.add(t,p);const g=Ca[t];delete Ca[t];for(let v=0,b=g.length;v<b;v++){const w=g[v];w.onLoad&&w.onLoad(p)}}).catch(p=>{const g=Ca[t];if(g===void 0)throw this.manager.itemError(t),p;delete Ca[t];for(let v=0,b=g.length;v<b;v++){const w=g[v];w.onError&&w.onError(p)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class pT{constructor(t=1,i=0,s=0){return this.radius=t,this.phi=i,this.theta=s,this}set(t,i,s){return this.radius=t,this.phi=i,this.theta=s,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,i,s){return this.radius=Math.sqrt(t*t+i*i+s*s),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,s),this.phi=Math.acos(Qs(i/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ZP}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ZP);const iG=/^[og]\s*(.+)?/,sG=/^mtllib /,rG=/^usemtl /,oG=/^usemap /,mT=/\s+/,gT=new xt,C_=new xt,vT=new xt,yT=new xt,Gr=new xt,Rg=new Fa;function aG(){const e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(t,i){if(this.object&&this.object.fromDeclaration===!1){this.object.name=t,this.object.fromDeclaration=i!==!1;return}const s=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:i!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(o,a){const l=this._finalize(!1);l&&(l.inherited||l.groupCount<=0)&&this.materials.splice(l.index,1);const u={index:this.materials.length,name:o||"",mtllib:Array.isArray(a)&&a.length>0?a[a.length-1]:"",smooth:l!==void 0?l.smooth:this.smooth,groupStart:l!==void 0?l.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(f){const p={index:typeof f=="number"?f:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return p.clone=this.clone.bind(p),p}};return this.materials.push(u),u},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(o){const a=this.currentMaterial();if(a&&a.groupEnd===-1&&(a.groupEnd=this.geometry.vertices.length/3,a.groupCount=a.groupEnd-a.groupStart,a.inherited=!1),o&&this.materials.length>1)for(let l=this.materials.length-1;l>=0;l--)this.materials[l].groupCount<=0&&this.materials.splice(l,1);return o&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),a}},s&&s.name&&typeof s.clone=="function"){const o=s.clone(0);o.inherited=!0,this.object.materials.push(o)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(t,i){const s=parseInt(t,10);return(s>=0?s-1:s+i/3)*3},parseNormalIndex:function(t,i){const s=parseInt(t,10);return(s>=0?s-1:s+i/3)*3},parseUVIndex:function(t,i){const s=parseInt(t,10);return(s>=0?s-1:s+i/2)*2},addVertex:function(t,i,s){const o=this.vertices,a=this.object.geometry.vertices;a.push(o[t+0],o[t+1],o[t+2]),a.push(o[i+0],o[i+1],o[i+2]),a.push(o[s+0],o[s+1],o[s+2])},addVertexPoint:function(t){const i=this.vertices;this.object.geometry.vertices.push(i[t+0],i[t+1],i[t+2])},addVertexLine:function(t){const i=this.vertices;this.object.geometry.vertices.push(i[t+0],i[t+1],i[t+2])},addNormal:function(t,i,s){const o=this.normals,a=this.object.geometry.normals;a.push(o[t+0],o[t+1],o[t+2]),a.push(o[i+0],o[i+1],o[i+2]),a.push(o[s+0],o[s+1],o[s+2])},addFaceNormal:function(t,i,s){const o=this.vertices,a=this.object.geometry.normals;gT.fromArray(o,t),C_.fromArray(o,i),vT.fromArray(o,s),Gr.subVectors(vT,C_),yT.subVectors(gT,C_),Gr.cross(yT),Gr.normalize(),a.push(Gr.x,Gr.y,Gr.z),a.push(Gr.x,Gr.y,Gr.z),a.push(Gr.x,Gr.y,Gr.z)},addColor:function(t,i,s){const o=this.colors,a=this.object.geometry.colors;o[t]!==void 0&&a.push(o[t+0],o[t+1],o[t+2]),o[i]!==void 0&&a.push(o[i+0],o[i+1],o[i+2]),o[s]!==void 0&&a.push(o[s+0],o[s+1],o[s+2])},addUV:function(t,i,s){const o=this.uvs,a=this.object.geometry.uvs;a.push(o[t+0],o[t+1]),a.push(o[i+0],o[i+1]),a.push(o[s+0],o[s+1])},addDefaultUV:function(){const t=this.object.geometry.uvs;t.push(0,0),t.push(0,0),t.push(0,0)},addUVLine:function(t){const i=this.uvs;this.object.geometry.uvs.push(i[t+0],i[t+1])},addFace:function(t,i,s,o,a,l,u,f,p){const g=this.vertices.length;let v=this.parseVertexIndex(t,g),b=this.parseVertexIndex(i,g),w=this.parseVertexIndex(s,g);if(this.addVertex(v,b,w),this.addColor(v,b,w),u!==void 0&&u!==""){const M=this.normals.length;v=this.parseNormalIndex(u,M),b=this.parseNormalIndex(f,M),w=this.parseNormalIndex(p,M),this.addNormal(v,b,w)}else this.addFaceNormal(v,b,w);if(o!==void 0&&o!==""){const M=this.uvs.length;v=this.parseUVIndex(o,M),b=this.parseUVIndex(a,M),w=this.parseUVIndex(l,M),this.addUV(v,b,w),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(t){this.object.geometry.type="Points";const i=this.vertices.length;for(let s=0,o=t.length;s<o;s++){const a=this.parseVertexIndex(t[s],i);this.addVertexPoint(a),this.addColor(a)}},addLineGeometry:function(t,i){this.object.geometry.type="Line";const s=this.vertices.length,o=this.uvs.length;for(let a=0,l=t.length;a<l;a++)this.addVertexLine(this.parseVertexIndex(t[a],s));for(let a=0,l=i.length;a<l;a++)this.addUVLine(this.parseUVIndex(i[a],o))}};return e.startObject("",!1),e}class i3 extends n3{constructor(t){super(t),this.materials=null}load(t,i,s,o){const a=this,l=new nG(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(u){try{i(a.parse(u))}catch(f){o?o(f):console.error(f),a.manager.itemError(t)}},s,o)}setMaterials(t){return this.materials=t,this}parse(t){const i=new aG;t.indexOf(`\r
`)!==-1&&(t=t.replace(/\r\n/g,`
`)),t.indexOf(`\\
`)!==-1&&(t=t.replace(/\\\n/g,""));const s=t.split(`
`);let o=[];for(let u=0,f=s.length;u<f;u++){const p=s[u].trimStart();if(p.length===0)continue;const g=p.charAt(0);if(g!=="#")if(g==="v"){const v=p.split(mT);switch(v[0]){case"v":i.vertices.push(parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3])),v.length>=7?(Rg.setRGB(parseFloat(v[4]),parseFloat(v[5]),parseFloat(v[6])).convertSRGBToLinear(),i.colors.push(Rg.r,Rg.g,Rg.b)):i.colors.push(void 0,void 0,void 0);break;case"vn":i.normals.push(parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3]));break;case"vt":i.uvs.push(parseFloat(v[1]),parseFloat(v[2]));break}}else if(g==="f"){const b=p.slice(1).trim().split(mT),w=[];for(let x=0,E=b.length;x<E;x++){const C=b[x];if(C.length>0){const k=C.split("/");w.push(k)}}const M=w[0];for(let x=1,E=w.length-1;x<E;x++){const C=w[x],k=w[x+1];i.addFace(M[0],C[0],k[0],M[1],C[1],k[1],M[2],C[2],k[2])}}else if(g==="l"){const v=p.substring(1).trim().split(" ");let b=[];const w=[];if(p.indexOf("/")===-1)b=v;else for(let M=0,x=v.length;M<x;M++){const E=v[M].split("/");E[0]!==""&&b.push(E[0]),E[1]!==""&&w.push(E[1])}i.addLineGeometry(b,w)}else if(g==="p"){const b=p.slice(1).trim().split(" ");i.addPointGeometry(b)}else if((o=iG.exec(p))!==null){const v=(" "+o[0].slice(1).trim()).slice(1);i.startObject(v)}else if(rG.test(p))i.object.startMaterial(p.substring(7).trim(),i.materialLibraries);else if(sG.test(p))i.materialLibraries.push(p.substring(7).trim());else if(oG.test(p))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(g==="s"){if(o=p.split(" "),o.length>1){const b=o[1].trim().toLowerCase();i.object.smooth=b!=="0"&&b!=="off"}else i.object.smooth=!0;const v=i.object.currentMaterial();v&&(v.smooth=i.object.smooth)}else{if(p==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+p+'"')}}i.finalize();const a=new YW;if(a.materialLibraries=[].concat(i.materialLibraries),!(i.objects.length===1&&i.objects[0].geometry.vertices.length===0)===!0)for(let u=0,f=i.objects.length;u<f;u++){const p=i.objects[u],g=p.geometry,v=p.materials,b=g.type==="Line",w=g.type==="Points";let M=!1;if(g.vertices.length===0)continue;const x=new Yc;x.setAttribute("position",new Pa(g.vertices,3)),g.normals.length>0&&x.setAttribute("normal",new Pa(g.normals,3)),g.colors.length>0&&(M=!0,x.setAttribute("color",new Pa(g.colors,3))),g.hasUVIndices===!0&&x.setAttribute("uv",new Pa(g.uvs,2));const E=[];for(let k=0,R=v.length;k<R;k++){const P=v[k],O=P.name+"_"+P.smooth+"_"+M;let F=i.materials[O];if(this.materials!==null){if(F=this.materials.create(P.name),b&&F&&!(F instanceof sv)){const G=new sv;zd.prototype.copy.call(G,F),G.color.copy(F.color),F=G}else if(w&&F&&!(F instanceof _h)){const G=new _h({size:10,sizeAttenuation:!1});zd.prototype.copy.call(G,F),G.color.copy(F.color),G.map=F.map,F=G}}F===void 0&&(b?F=new sv:w?F=new _h({size:1,sizeAttenuation:!1}):F=new JW,F.name=P.name,F.flatShading=!P.smooth,F.vertexColors=M,i.materials[O]=F),E.push(F)}let C;if(E.length>1){for(let k=0,R=v.length;k<R;k++){const P=v[k];x.addGroup(P.groupStart,P.groupCount,k)}b?C=new uT(x,E):w?C=new E_(x,E):C=new sT(x,E)}else b?C=new uT(x,E[0]):w?C=new E_(x,E[0]):C=new sT(x,E[0]);C.name=p.name,a.add(C)}else if(i.vertices.length>0){const u=new _h({size:1,sizeAttenuation:!1}),f=new Yc;f.setAttribute("position",new Pa(i.vertices,3)),i.colors.length>0&&i.colors[0]!==void 0&&(f.setAttribute("color",new Pa(i.colors,3)),u.vertexColors=!0);const p=new E_(f,u);a.add(p)}return a}}const bT={type:"change"},T_={type:"start"},_T={type:"end"};class s3 extends Ep{constructor(t,i){super(),this.object=t,this.domElement=i,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new xt,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Wu.ROTATE,MIDDLE:Wu.DOLLY,RIGHT:Wu.PAN},this.touches={ONE:Gu.ROTATE,TWO:Gu.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return u.phi},this.getAzimuthalAngle=function(){return u.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(Pe){Pe.addEventListener("keydown",rt),this._domElementKeyEvents=Pe},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",rt),this._domElementKeyEvents=null},this.saveState=function(){s.target0.copy(s.target),s.position0.copy(s.object.position),s.zoom0=s.object.zoom},this.reset=function(){s.target.copy(s.target0),s.object.position.copy(s.position0),s.object.zoom=s.zoom0,s.object.updateProjectionMatrix(),s.dispatchEvent(bT),s.update(),a=o.NONE},this.update=function(){const Pe=new xt,$e=new Xc().setFromUnitVectors(t.up,new xt(0,1,0)),tt=$e.clone().invert(),Fe=new xt,me=new Xc,Se=2*Math.PI;return function(){const vt=s.object.position;Pe.copy(vt).sub(s.target),Pe.applyQuaternion($e),u.setFromVector3(Pe),s.autoRotate&&a===o.NONE&&j(G()),s.enableDamping?(u.theta+=f.theta*s.dampingFactor,u.phi+=f.phi*s.dampingFactor):(u.theta+=f.theta,u.phi+=f.phi);let tn=s.minAzimuthAngle,Xe=s.maxAzimuthAngle;return isFinite(tn)&&isFinite(Xe)&&(tn<-Math.PI?tn+=Se:tn>Math.PI&&(tn-=Se),Xe<-Math.PI?Xe+=Se:Xe>Math.PI&&(Xe-=Se),tn<=Xe?u.theta=Math.max(tn,Math.min(Xe,u.theta)):u.theta=u.theta>(tn+Xe)/2?Math.max(tn,u.theta):Math.min(Xe,u.theta)),u.phi=Math.max(s.minPolarAngle,Math.min(s.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=p,u.radius=Math.max(s.minDistance,Math.min(s.maxDistance,u.radius)),s.enableDamping===!0?s.target.addScaledVector(g,s.dampingFactor):s.target.add(g),Pe.setFromSpherical(u),Pe.applyQuaternion(tt),vt.copy(s.target).add(Pe),s.object.lookAt(s.target),s.enableDamping===!0?(f.theta*=1-s.dampingFactor,f.phi*=1-s.dampingFactor,g.multiplyScalar(1-s.dampingFactor)):(f.set(0,0,0),g.set(0,0,0)),p=1,v||Fe.distanceToSquared(s.object.position)>l||8*(1-me.dot(s.object.quaternion))>l?(s.dispatchEvent(bT),Fe.copy(s.object.position),me.copy(s.object.quaternion),v=!1,!0):!1}}(),this.dispose=function(){s.domElement.removeEventListener("contextmenu",yt),s.domElement.removeEventListener("pointerdown",Ve),s.domElement.removeEventListener("pointercancel",lt),s.domElement.removeEventListener("wheel",Qe),s.domElement.removeEventListener("pointermove",Ye),s.domElement.removeEventListener("pointerup",lt),s._domElementKeyEvents!==null&&(s._domElementKeyEvents.removeEventListener("keydown",rt),s._domElementKeyEvents=null)};const s=this,o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=o.NONE;const l=1e-6,u=new pT,f=new pT;let p=1;const g=new xt;let v=!1;const b=new Ji,w=new Ji,M=new Ji,x=new Ji,E=new Ji,C=new Ji,k=new Ji,R=new Ji,P=new Ji,O=[],F={};function G(){return 2*Math.PI/60/60*s.autoRotateSpeed}function H(){return Math.pow(.95,s.zoomSpeed)}function j(Pe){f.theta-=Pe}function q(Pe){f.phi-=Pe}const ie=function(){const Pe=new xt;return function(tt,Fe){Pe.setFromMatrixColumn(Fe,0),Pe.multiplyScalar(-tt),g.add(Pe)}}(),Q=function(){const Pe=new xt;return function(tt,Fe){s.screenSpacePanning===!0?Pe.setFromMatrixColumn(Fe,1):(Pe.setFromMatrixColumn(Fe,0),Pe.crossVectors(s.object.up,Pe)),Pe.multiplyScalar(tt),g.add(Pe)}}(),Z=function(){const Pe=new xt;return function(tt,Fe){const me=s.domElement;if(s.object.isPerspectiveCamera){const Se=s.object.position;Pe.copy(Se).sub(s.target);let it=Pe.length();it*=Math.tan(s.object.fov/2*Math.PI/180),ie(2*tt*it/me.clientHeight,s.object.matrix),Q(2*Fe*it/me.clientHeight,s.object.matrix)}else s.object.isOrthographicCamera?(ie(tt*(s.object.right-s.object.left)/s.object.zoom/me.clientWidth,s.object.matrix),Q(Fe*(s.object.top-s.object.bottom)/s.object.zoom/me.clientHeight,s.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),s.enablePan=!1)}}();function re(Pe){s.object.isPerspectiveCamera?p/=Pe:s.object.isOrthographicCamera?(s.object.zoom=Math.max(s.minZoom,Math.min(s.maxZoom,s.object.zoom*Pe)),s.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),s.enableZoom=!1)}function ce(Pe){s.object.isPerspectiveCamera?p*=Pe:s.object.isOrthographicCamera?(s.object.zoom=Math.max(s.minZoom,Math.min(s.maxZoom,s.object.zoom/Pe)),s.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),s.enableZoom=!1)}function te(Pe){b.set(Pe.clientX,Pe.clientY)}function W(Pe){k.set(Pe.clientX,Pe.clientY)}function ee(Pe){x.set(Pe.clientX,Pe.clientY)}function J(Pe){w.set(Pe.clientX,Pe.clientY),M.subVectors(w,b).multiplyScalar(s.rotateSpeed);const $e=s.domElement;j(2*Math.PI*M.x/$e.clientHeight),q(2*Math.PI*M.y/$e.clientHeight),b.copy(w),s.update()}function pe(Pe){R.set(Pe.clientX,Pe.clientY),P.subVectors(R,k),P.y>0?re(H()):P.y<0&&ce(H()),k.copy(R),s.update()}function Ee(Pe){E.set(Pe.clientX,Pe.clientY),C.subVectors(E,x).multiplyScalar(s.panSpeed),Z(C.x,C.y),x.copy(E),s.update()}function he(Pe){Pe.deltaY<0?ce(H()):Pe.deltaY>0&&re(H()),s.update()}function Ce(Pe){let $e=!1;switch(Pe.code){case s.keys.UP:Pe.ctrlKey||Pe.metaKey||Pe.shiftKey?q(2*Math.PI*s.rotateSpeed/s.domElement.clientHeight):Z(0,s.keyPanSpeed),$e=!0;break;case s.keys.BOTTOM:Pe.ctrlKey||Pe.metaKey||Pe.shiftKey?q(-2*Math.PI*s.rotateSpeed/s.domElement.clientHeight):Z(0,-s.keyPanSpeed),$e=!0;break;case s.keys.LEFT:Pe.ctrlKey||Pe.metaKey||Pe.shiftKey?j(2*Math.PI*s.rotateSpeed/s.domElement.clientHeight):Z(s.keyPanSpeed,0),$e=!0;break;case s.keys.RIGHT:Pe.ctrlKey||Pe.metaKey||Pe.shiftKey?j(-2*Math.PI*s.rotateSpeed/s.domElement.clientHeight):Z(-s.keyPanSpeed,0),$e=!0;break}$e&&(Pe.preventDefault(),s.update())}function Ge(){if(O.length===1)b.set(O[0].pageX,O[0].pageY);else{const Pe=.5*(O[0].pageX+O[1].pageX),$e=.5*(O[0].pageY+O[1].pageY);b.set(Pe,$e)}}function Te(){if(O.length===1)x.set(O[0].pageX,O[0].pageY);else{const Pe=.5*(O[0].pageX+O[1].pageX),$e=.5*(O[0].pageY+O[1].pageY);x.set(Pe,$e)}}function xe(){const Pe=O[0].pageX-O[1].pageX,$e=O[0].pageY-O[1].pageY,tt=Math.sqrt(Pe*Pe+$e*$e);k.set(0,tt)}function Ie(){s.enableZoom&&xe(),s.enablePan&&Te()}function ge(){s.enableZoom&&xe(),s.enableRotate&&Ge()}function Le(Pe){if(O.length==1)w.set(Pe.pageX,Pe.pageY);else{const tt=fn(Pe),Fe=.5*(Pe.pageX+tt.x),me=.5*(Pe.pageY+tt.y);w.set(Fe,me)}M.subVectors(w,b).multiplyScalar(s.rotateSpeed);const $e=s.domElement;j(2*Math.PI*M.x/$e.clientHeight),q(2*Math.PI*M.y/$e.clientHeight),b.copy(w)}function Ue(Pe){if(O.length===1)E.set(Pe.pageX,Pe.pageY);else{const $e=fn(Pe),tt=.5*(Pe.pageX+$e.x),Fe=.5*(Pe.pageY+$e.y);E.set(tt,Fe)}C.subVectors(E,x).multiplyScalar(s.panSpeed),Z(C.x,C.y),x.copy(E)}function ut(Pe){const $e=fn(Pe),tt=Pe.pageX-$e.x,Fe=Pe.pageY-$e.y,me=Math.sqrt(tt*tt+Fe*Fe);R.set(0,me),P.set(0,Math.pow(R.y/k.y,s.zoomSpeed)),re(P.y),k.copy(R)}function ue(Pe){s.enableZoom&&ut(Pe),s.enablePan&&Ue(Pe)}function we(Pe){s.enableZoom&&ut(Pe),s.enableRotate&&Le(Pe)}function Ve(Pe){s.enabled!==!1&&(O.length===0&&(s.domElement.setPointerCapture(Pe.pointerId),s.domElement.addEventListener("pointermove",Ye),s.domElement.addEventListener("pointerup",lt)),We(Pe),Pe.pointerType==="touch"?Je(Pe):He(Pe))}function Ye(Pe){s.enabled!==!1&&(Pe.pointerType==="touch"?Mt(Pe):ct(Pe))}function lt(Pe){_t(Pe),O.length===0&&(s.domElement.releasePointerCapture(Pe.pointerId),s.domElement.removeEventListener("pointermove",Ye),s.domElement.removeEventListener("pointerup",lt)),s.dispatchEvent(_T),a=o.NONE}function He(Pe){let $e;switch(Pe.button){case 0:$e=s.mouseButtons.LEFT;break;case 1:$e=s.mouseButtons.MIDDLE;break;case 2:$e=s.mouseButtons.RIGHT;break;default:$e=-1}switch($e){case Wu.DOLLY:if(s.enableZoom===!1)return;W(Pe),a=o.DOLLY;break;case Wu.ROTATE:if(Pe.ctrlKey||Pe.metaKey||Pe.shiftKey){if(s.enablePan===!1)return;ee(Pe),a=o.PAN}else{if(s.enableRotate===!1)return;te(Pe),a=o.ROTATE}break;case Wu.PAN:if(Pe.ctrlKey||Pe.metaKey||Pe.shiftKey){if(s.enableRotate===!1)return;te(Pe),a=o.ROTATE}else{if(s.enablePan===!1)return;ee(Pe),a=o.PAN}break;default:a=o.NONE}a!==o.NONE&&s.dispatchEvent(T_)}function ct(Pe){switch(a){case o.ROTATE:if(s.enableRotate===!1)return;J(Pe);break;case o.DOLLY:if(s.enableZoom===!1)return;pe(Pe);break;case o.PAN:if(s.enablePan===!1)return;Ee(Pe);break}}function Qe(Pe){s.enabled===!1||s.enableZoom===!1||a!==o.NONE||(Pe.preventDefault(),s.dispatchEvent(T_),he(Pe),s.dispatchEvent(_T))}function rt(Pe){s.enabled===!1||s.enablePan===!1||Ce(Pe)}function Je(Pe){switch(Ut(Pe),O.length){case 1:switch(s.touches.ONE){case Gu.ROTATE:if(s.enableRotate===!1)return;Ge(),a=o.TOUCH_ROTATE;break;case Gu.PAN:if(s.enablePan===!1)return;Te(),a=o.TOUCH_PAN;break;default:a=o.NONE}break;case 2:switch(s.touches.TWO){case Gu.DOLLY_PAN:if(s.enableZoom===!1&&s.enablePan===!1)return;Ie(),a=o.TOUCH_DOLLY_PAN;break;case Gu.DOLLY_ROTATE:if(s.enableZoom===!1&&s.enableRotate===!1)return;ge(),a=o.TOUCH_DOLLY_ROTATE;break;default:a=o.NONE}break;default:a=o.NONE}a!==o.NONE&&s.dispatchEvent(T_)}function Mt(Pe){switch(Ut(Pe),a){case o.TOUCH_ROTATE:if(s.enableRotate===!1)return;Le(Pe),s.update();break;case o.TOUCH_PAN:if(s.enablePan===!1)return;Ue(Pe),s.update();break;case o.TOUCH_DOLLY_PAN:if(s.enableZoom===!1&&s.enablePan===!1)return;ue(Pe),s.update();break;case o.TOUCH_DOLLY_ROTATE:if(s.enableZoom===!1&&s.enableRotate===!1)return;we(Pe),s.update();break;default:a=o.NONE}}function yt(Pe){s.enabled!==!1&&Pe.preventDefault()}function We(Pe){O.push(Pe)}function _t(Pe){delete F[Pe.pointerId];for(let $e=0;$e<O.length;$e++)if(O[$e].pointerId==Pe.pointerId){O.splice($e,1);return}}function Ut(Pe){let $e=F[Pe.pointerId];$e===void 0&&($e=new Ji,F[Pe.pointerId]=$e),$e.set(Pe.pageX,Pe.pageY)}function fn(Pe){const $e=Pe.pointerId===O[0].pointerId?O[1]:O[0];return F[$e.pointerId]}s.domElement.addEventListener("contextmenu",yt),s.domElement.addEventListener("pointerdown",Ve),s.domElement.addEventListener("pointercancel",lt),s.domElement.addEventListener("wheel",Qe,{passive:!1}),this.update()}}const lG={class:"showdemo"},cG=["src"],uG={class:"generatebox"},dG={class:"showimgbox"},fG={class:"uploadbox"},hG={class:"imgbox"},pG=["src"],mG={key:0,class:"downloadbtn"},gG={key:0,class:"addbgbtn"},vG=_e({__name:"Generate",setup(e){const t=X(!1),i=X(!1),s=X(null),o=X(null);X(!0);const a=X(!1),l=X("http://127.0.0.1:8000/img/background/demo.jpg");let u=null,f=null,p=null,g=null,v=null;const b=H=>{s.value=H.target.files[0]},w=()=>{const H=new FormData;H.append("file",s.value),iv.post("http://127.0.0.1:8000/pifuvueweb/demo",H,{headers:{"Content-Type":"multipart/form-data"}}).then(j=>{o.value=j.data.images}).catch(j=>{console.log(j)})},M=async()=>{i.value=!0;try{const H=await iv.post("http://127.0.0.1:8000/pifuvueweb/generate");console.log(H)}catch(H){console.error(H)}finally{i.value=!1,t.value=!0,console.log("123")}E()},x=X(null),E=()=>{const H=x.value.clientWidth*1.2,j=x.value.clientHeight;u=new THREE.Scene,p=new THREE.PerspectiveCamera(75,H/j,.1,1e3),f=new THREE.WebGLRenderer,f.setSize(H,j),f.setClearColor(16777215),x.value.appendChild(f.domElement);const q=new s3(p,f.domElement);new i3().load("http://127.0.0.1:8000/img/results/results/result.obj",ce=>{ce.scale.set(20,20,20),ce.position.set(0,-15,-10),u.add(ce)});const Q=new THREE.AmbientLight(16777215,.5),Z=new THREE.DirectionalLight(16777215,.5);Z.position.set(1,1,1),u.add(Q),u.add(Z),p.position.z=50,p.aspect=H/j,q.enableDamping=!0,q.dampingFactor=.05,q.rotateSpeed=.5;const re=()=>{requestAnimationFrame(re),f.render(u,p)};re()},C=()=>{iv.post("http://127.0.0.1:8000/pifuvueweb/delete").then(H=>{console.log(H.data.message)}).catch(H=>{console.error(H)}),window.location.reload()},k=()=>{const H="http://127.0.0.1:8000/img/results/results/result.obj",j=document.createElement("a");j.href=H,j.download="model.obj",j.click(),window.URL.revokeObjectURL(H)},R=()=>{f.render(u,p);const H=f.domElement.toDataURL("image/png"),j=document.createElement("a");j.href=H,j.download="screenshot.png",j.click()},P=H=>{g=new THREE.TextureLoader,v=g.load("http://127.0.0.1:8000/img/background/"+H.name+".webp",()=>{const j=new THREE.WebGLCubeRenderTarget(v.image.height);j.fromEquirectangularTexture(f,v),u.background=j.texture})},O=[{id:1,name:"seaside",info:"seaside"},{id:2,name:"museum",info:"museum"}],F=()=>{a.value=!0},G=()=>{a.value=!1};return(H,j)=>{const q=cn("el-button"),ie=Id("loading");return B(),ne(Ft,null,[ae("div",lG,[ae("h1",{onMouseover:F,onMouseout:G},"开始生成",32),a.value?(B(),ne("img",{key:0,src:l.value,alt:"Hovered Image",class:"hovered_image"},null,8,cG)):Oe("",!0)]),ae("div",uG,[ae("div",dG,[ae("div",fG,[ae("input",{type:"file",onChange:b},null,32),fe(q,{type:"primary",onClick:w},{default:ve(()=>[Nn("上传图片")]),_:1}),fe(q,{type:"primary",onClick:C},{default:ve(()=>[Nn("清空图片")]),_:1}),fe(q,{type:"primary",onClick:M},{default:ve(()=>[Nn("生成")]),_:1})]),ae("div",hG,[(B(!0),ne(Ft,null,Un(o.value,(Q,Z)=>(B(),ne("div",{key:Z,class:"singleimg"},[ae("img",{src:"http://127.0.0.1:8000/img/"+Q.img_url,alt:"#"},null,8,pG)]))),128))])]),gn((B(),ne("div",{ref_key:"sceneCanvas",ref:x,class:"sceneCanvas"},[t.value?(B(),ne("div",mG,[fe(q,{type:"primary",onClick:k},{default:ve(()=>[Nn("保存OBJ")]),_:1}),fe(q,{type:"primary",onClick:R},{default:ve(()=>[Nn("保存截图")]),_:1})])):Oe("",!0)])),[[ie,i.value]]),t.value?(B(),ne("div",gG,[(B(),ne(Ft,null,Un(O,Q=>fe(q,{type:"primary",key:Q.id,onClick:Z=>P(Q),class:"singlebgbtn"},{default:ve(()=>[Nn(ft(Q.name),1)]),_:2},1032,["onClick"])),64))])):Oe("",!0)])],64)}}}),yG={class:"generatebox"},bG={class:"showimgbox"},_G={class:"uploadbox"},wG={key:0},SG=ae("p",null,"展示3D模型",-1),xG=[SG],MG=_e({__name:"Home",setup(e){const t=X(!1),i=X("");ai({});const s=async()=>{t.value=!0;try{const l=await iv.post("http://127.0.0.1:8000/pifuvueweb/generate");i.value=l.data.result}catch{}finally{t.value=!1,console.log("123")}a()};X(null);const o=X(null),a=()=>{const l=o.value.clientWidth*1.2,u=o.value.clientHeight,f=new THREE.Scene,p=new THREE.PerspectiveCamera(75,l/u,.1,1e3),g=new THREE.WebGLRenderer;g.setSize(l,u),o.value.appendChild(g.domElement);const v=new s3(p,g.domElement);new i3().load("http://127.0.0.1:8000/img/results/results/result_0_0_00.obj",k=>{k.scale.set(20,20,20),k.position.set(0,-15,-10),f.add(k)});const w=new THREE.AmbientLight(16777215,.5),M=new THREE.DirectionalLight(16777215,.5);M.position.set(1,1,1),f.add(w),f.add(M);const E=new THREE.TextureLoader().load("http://127.0.0.1:8000/img/background/park.webp",()=>{const k=new THREE.WebGLCubeRenderTarget(E.image.height);k.fromEquirectangularTexture(g,E),f.background=k.texture});p.position.z=50,p.aspect=l/u,v.enableDamping=!0,v.dampingFactor=.05,v.rotateSpeed=.5;const C=()=>{requestAnimationFrame(C),g.render(f,p)};C()};return(l,u)=>{const f=cn("el-button");return B(),ne(Ft,null,[ae("div",yG,[ae("div",bG,[ae("div",_G,[fe(f,{type:"primary",onClick:s},{default:ve(()=>[Nn("生成")]),_:1}),t.value?(B(),ne("div",wG,"加载中...")):Oe("",!0)])])]),ae("div",{ref_key:"sceneCanvas",ref:o,class:"sceneCanvas"},xG,512)],64)}}}),EG=[{path:"/",name:"home",component:MG},{path:"/generate",name:"generate",component:vG}],r3=X6({history:f6(),routes:EG}),CG='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',TG=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,wT=e=>Array.from(e.querySelectorAll(CG)).filter(t=>AG(t)&&TG(t)),AG=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},rv=function(e,t,...i){let s;t.includes("mouse")||t.includes("click")?s="MouseEvents":t.includes("key")?s="KeyboardEvent":s="HTMLEvents";const o=document.createEvent(s);return o.initEvent(t,...i),e.dispatchEvent(o),e},o3=e=>!e.getAttribute("aria-owns"),a3=(e,t,i)=>{const{parentNode:s}=e;if(!s)return null;const o=s.querySelectorAll(i),a=Array.prototype.indexOf.call(o,e);return o[a+t]||null},ov=e=>{e&&(e.focus(),!o3(e)&&e.click())},Xi=(e,t,{checkForDefaultPrevented:i=!0}={})=>o=>{const a=e==null?void 0:e(o);if(i===!1||!a)return t==null?void 0:t(o)},ST=e=>t=>t.pointerType==="mouse"?e(t):void 0;var RG=Object.defineProperty,kG=Object.defineProperties,PG=Object.getOwnPropertyDescriptors,xT=Object.getOwnPropertySymbols,IG=Object.prototype.hasOwnProperty,LG=Object.prototype.propertyIsEnumerable,MT=(e,t,i)=>t in e?RG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,NG=(e,t)=>{for(var i in t||(t={}))IG.call(t,i)&&MT(e,i,t[i]);if(xT)for(var i of xT(t))LG.call(t,i)&&MT(e,i,t[i]);return e},OG=(e,t)=>kG(e,PG(t));function ET(e,t){var i;const s=ki();return Dr(()=>{s.value=e()},OG(NG({},t),{flush:(i=t==null?void 0:t.flush)!=null?i:"sync"})),sf(s)}var CT;const Jn=typeof window<"u",DG=e=>typeof e<"u",FG=e=>typeof e=="function",BG=e=>typeof e=="string",$d=()=>{},l3=Jn&&((CT=window==null?void 0:window.navigator)==null?void 0:CT.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Nl(e){return typeof e=="function"?e():h(e)}function c3(e,t){function i(...s){return new Promise((o,a)=>{Promise.resolve(e(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(o).catch(a)})}return i}function zG(e,t={}){let i,s,o=$d;const a=u=>{clearTimeout(u),o(),o=$d};return u=>{const f=Nl(e),p=Nl(t.maxWait);return i&&a(i),f<=0||p!==void 0&&p<=0?(s&&(a(s),s=null),Promise.resolve(u())):new Promise((g,v)=>{o=t.rejectOnCancel?v:g,p&&!s&&(s=setTimeout(()=>{i&&a(i),s=null,g(u())},p)),i=setTimeout(()=>{s&&a(s),s=null,g(u())},f)})}}function $G(e,t=!0,i=!0,s=!1){let o=0,a,l=!0,u=$d,f;const p=()=>{a&&(clearTimeout(a),a=void 0,u(),u=$d)};return v=>{const b=Nl(e),w=Date.now()-o,M=()=>f=v();return p(),b<=0?(o=Date.now(),M()):(w>b&&(i||!l)?(o=Date.now(),M()):t&&(f=new Promise((x,E)=>{u=s?E:x,a=setTimeout(()=>{o=Date.now(),l=!0,x(M()),p()},Math.max(0,b-w))})),!i&&!a&&(a=setTimeout(()=>l=!0,b)),l=!1,f)}}function UG(e){return e}function x0(e){return hk()?(pk(e),!0):!1}function VG(e,t=200,i={}){return c3(zG(t,i),e)}function HG(e,t=200,i={}){const s=X(e.value),o=VG(()=>{s.value=e.value},t,i);return et(e,()=>o()),s}function u3(e,t=200,i=!1,s=!0,o=!1){return c3($G(t,i,s,o),e)}function oS(e,t=!0){Tn()?_n(e):t?e():Bt(e)}function Zc(e,t,i={}){const{immediate:s=!0}=i,o=X(!1);let a=null;function l(){a&&(clearTimeout(a),a=null)}function u(){o.value=!1,l()}function f(...p){l(),o.value=!0,a=setTimeout(()=>{o.value=!1,a=null,e(...p)},Nl(t))}return s&&(o.value=!0,Jn&&f()),x0(u),{isPending:sf(o),start:f,stop:u}}function Lr(e){var t;const i=Nl(e);return(t=i==null?void 0:i.$el)!=null?t:i}const lf=Jn?window:void 0,WG=Jn?window.document:void 0;function Vi(...e){let t,i,s,o;if(BG(e[0])||Array.isArray(e[0])?([i,s,o]=e,t=lf):[t,i,s,o]=e,!t)return $d;Array.isArray(i)||(i=[i]),Array.isArray(s)||(s=[s]);const a=[],l=()=>{a.forEach(g=>g()),a.length=0},u=(g,v,b,w)=>(g.addEventListener(v,b,w),()=>g.removeEventListener(v,b,w)),f=et(()=>[Lr(t),Nl(o)],([g,v])=>{l(),g&&a.push(...i.flatMap(b=>s.map(w=>u(g,b,w,v))))},{immediate:!0,flush:"post"}),p=()=>{f(),l()};return x0(p),p}let TT=!1;function aS(e,t,i={}){const{window:s=lf,ignore:o=[],capture:a=!0,detectIframe:l=!1}=i;if(!s)return;l3&&!TT&&(TT=!0,Array.from(s.document.body.children).forEach(b=>b.addEventListener("click",$d)));let u=!0;const f=b=>o.some(w=>{if(typeof w=="string")return Array.from(s.document.querySelectorAll(w)).some(M=>M===b.target||b.composedPath().includes(M));{const M=Lr(w);return M&&(b.target===M||b.composedPath().includes(M))}}),g=[Vi(s,"click",b=>{const w=Lr(e);if(!(!w||w===b.target||b.composedPath().includes(w))){if(b.detail===0&&(u=!f(b)),!u){u=!0;return}t(b)}},{passive:!0,capture:a}),Vi(s,"pointerdown",b=>{const w=Lr(e);w&&(u=!b.composedPath().includes(w)&&!f(b))},{passive:!0}),l&&Vi(s,"blur",b=>{var w;const M=Lr(e);((w=s.document.activeElement)==null?void 0:w.tagName)==="IFRAME"&&!(M!=null&&M.contains(s.document.activeElement))&&t(b)})].filter(Boolean);return()=>g.forEach(b=>b())}function GG(e,t=!1){const i=X(),s=()=>i.value=!!e();return s(),oS(s,t),i}function KG(e){return JSON.parse(JSON.stringify(e))}const AT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},RT="__vueuse_ssr_handlers__";AT[RT]=AT[RT]||{};function qG(e,t,{window:i=lf,initialValue:s=""}={}){const o=X(s),a=D(()=>{var l;return Lr(t)||((l=i==null?void 0:i.document)==null?void 0:l.documentElement)});return et([a,()=>Nl(e)],([l,u])=>{var f;if(l&&i){const p=(f=i.getComputedStyle(l).getPropertyValue(u))==null?void 0:f.trim();o.value=p||s}},{immediate:!0}),et(o,l=>{var u;(u=a.value)!=null&&u.style&&a.value.style.setProperty(Nl(e),l)}),o}function jG({document:e=WG}={}){if(!e)return X("visible");const t=X(e.visibilityState);return Vi(e,"visibilitychange",()=>{t.value=e.visibilityState}),t}var kT=Object.getOwnPropertySymbols,XG=Object.prototype.hasOwnProperty,YG=Object.prototype.propertyIsEnumerable,ZG=(e,t)=>{var i={};for(var s in e)XG.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&kT)for(var s of kT(e))t.indexOf(s)<0&&YG.call(e,s)&&(i[s]=e[s]);return i};function Gs(e,t,i={}){const s=i,{window:o=lf}=s,a=ZG(s,["window"]);let l;const u=GG(()=>o&&"ResizeObserver"in o),f=()=>{l&&(l.disconnect(),l=void 0)},p=et(()=>Lr(e),v=>{f(),u.value&&o&&v&&(l=new ResizeObserver(t),l.observe(v,a))},{immediate:!0,flush:"post"}),g=()=>{f(),p()};return x0(g),{isSupported:u,stop:g}}function PT(e,t={}){const{reset:i=!0,windowResize:s=!0,windowScroll:o=!0,immediate:a=!0}=t,l=X(0),u=X(0),f=X(0),p=X(0),g=X(0),v=X(0),b=X(0),w=X(0);function M(){const x=Lr(e);if(!x){i&&(l.value=0,u.value=0,f.value=0,p.value=0,g.value=0,v.value=0,b.value=0,w.value=0);return}const E=x.getBoundingClientRect();l.value=E.height,u.value=E.bottom,f.value=E.left,p.value=E.right,g.value=E.top,v.value=E.width,b.value=E.x,w.value=E.y}return Gs(e,M),et(()=>Lr(e),x=>!x&&M()),o&&Vi("scroll",M,{capture:!0,passive:!0}),s&&Vi("resize",M,{passive:!0}),oS(()=>{a&&M()}),{height:l,bottom:u,left:f,right:p,top:g,width:v,x:b,y:w,update:M}}var IT;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(IT||(IT={}));var JG=Object.defineProperty,LT=Object.getOwnPropertySymbols,QG=Object.prototype.hasOwnProperty,e9=Object.prototype.propertyIsEnumerable,NT=(e,t,i)=>t in e?JG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,t9=(e,t)=>{for(var i in t||(t={}))QG.call(t,i)&&NT(e,i,t[i]);if(LT)for(var i of LT(t))e9.call(t,i)&&NT(e,i,t[i]);return e};const n9={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};t9({linear:UG},n9);function i9(e,t,i,s={}){var o,a,l;const{clone:u=!1,passive:f=!1,eventName:p,deep:g=!1,defaultValue:v}=s,b=Tn(),w=i||(b==null?void 0:b.emit)||((o=b==null?void 0:b.$emit)==null?void 0:o.bind(b))||((l=(a=b==null?void 0:b.proxy)==null?void 0:a.$emit)==null?void 0:l.bind(b==null?void 0:b.proxy));let M=p;t||(t="modelValue"),M=p||M||`update:${t.toString()}`;const x=C=>u?FG(u)?u(C):KG(C):C,E=()=>DG(e[t])?x(e[t]):v;if(f){const C=E(),k=X(C);return et(()=>e[t],R=>k.value=x(R)),et(k,R=>{(R!==e[t]||g)&&w(M,R)},{deep:g}),k}else return D({get(){return E()},set(C){w(M,C)}})}function s9({window:e=lf}={}){if(!e)return X(!1);const t=X(e.document.hasFocus());return Vi(e,"blur",()=>{t.value=!1}),Vi(e,"focus",()=>{t.value=!0}),t}function r9(e={}){const{window:t=lf,initialWidth:i=1/0,initialHeight:s=1/0,listenOrientation:o=!0,includeScrollbar:a=!0}=e,l=X(i),u=X(s),f=()=>{t&&(a?(l.value=t.innerWidth,u.value=t.innerHeight):(l.value=t.document.documentElement.clientWidth,u.value=t.document.documentElement.clientHeight))};return f(),oS(f),Vi("resize",f,{passive:!0}),o&&Vi("orientationchange",f,{passive:!0}),{width:l,height:u}}const d3=()=>Jn&&/firefox/i.test(window.navigator.userAgent),o9=(e,t)=>{if(!Jn||!e||!t)return!1;const i=e.getBoundingClientRect();let s;return t instanceof Element?s=t.getBoundingClientRect():s={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},i.top<s.bottom&&i.bottom>s.top&&i.right>s.left&&i.left<s.right},OT=e=>{let t=0,i=e;for(;i;)t+=i.offsetTop,i=i.offsetParent;return t},a9=(e,t)=>Math.abs(OT(e)-OT(t)),lS=e=>{let t,i;return e.type==="touchend"?(i=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):e.type.startsWith("touch")?(i=e.touches[0].clientY,t=e.touches[0].clientX):(i=e.clientY,t=e.clientX),{clientX:t,clientY:i}};var l9=typeof global=="object"&&global&&global.Object===Object&&global;const f3=l9;var c9=typeof self=="object"&&self&&self.Object===Object&&self,u9=f3||c9||Function("return this")();const Oo=u9;var d9=Oo.Symbol;const to=d9;var h3=Object.prototype,f9=h3.hasOwnProperty,h9=h3.toString,ph=to?to.toStringTag:void 0;function p9(e){var t=f9.call(e,ph),i=e[ph];try{e[ph]=void 0;var s=!0}catch{}var o=h9.call(e);return s&&(t?e[ph]=i:delete e[ph]),o}var m9=Object.prototype,g9=m9.toString;function v9(e){return g9.call(e)}var y9="[object Null]",b9="[object Undefined]",DT=to?to.toStringTag:void 0;function tu(e){return e==null?e===void 0?b9:y9:DT&&DT in Object(e)?p9(e):v9(e)}function ea(e){return e!=null&&typeof e=="object"}var _9="[object Symbol]";function M0(e){return typeof e=="symbol"||ea(e)&&tu(e)==_9}function p3(e,t){for(var i=-1,s=e==null?0:e.length,o=Array(s);++i<s;)o[i]=t(e[i],i,e);return o}var w9=Array.isArray;const sr=w9;var S9=1/0,FT=to?to.prototype:void 0,BT=FT?FT.toString:void 0;function m3(e){if(typeof e=="string")return e;if(sr(e))return p3(e,m3)+"";if(M0(e))return BT?BT.call(e):"";var t=e+"";return t=="0"&&1/e==-S9?"-0":t}var x9=/\s/;function M9(e){for(var t=e.length;t--&&x9.test(e.charAt(t)););return t}var E9=/^\s+/;function C9(e){return e&&e.slice(0,M9(e)+1).replace(E9,"")}function rr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var zT=0/0,T9=/^[-+]0x[0-9a-f]+$/i,A9=/^0b[01]+$/i,R9=/^0o[0-7]+$/i,k9=parseInt;function $T(e){if(typeof e=="number")return e;if(M0(e))return zT;if(rr(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=rr(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=C9(e);var i=A9.test(e);return i||R9.test(e)?k9(e.slice(2),i?2:8):T9.test(e)?zT:+e}function cS(e){return e}var P9="[object AsyncFunction]",I9="[object Function]",L9="[object GeneratorFunction]",N9="[object Proxy]";function uS(e){if(!rr(e))return!1;var t=tu(e);return t==I9||t==L9||t==P9||t==N9}var O9=Oo["__core-js_shared__"];const A_=O9;var UT=function(){var e=/[^.]+$/.exec(A_&&A_.keys&&A_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function D9(e){return!!UT&&UT in e}var F9=Function.prototype,B9=F9.toString;function nu(e){if(e!=null){try{return B9.call(e)}catch{}try{return e+""}catch{}}return""}var z9=/[\\^$.*+?()[\]{}|]/g,$9=/^\[object .+?Constructor\]$/,U9=Function.prototype,V9=Object.prototype,H9=U9.toString,W9=V9.hasOwnProperty,G9=RegExp("^"+H9.call(W9).replace(z9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function K9(e){if(!rr(e)||D9(e))return!1;var t=uS(e)?G9:$9;return t.test(nu(e))}function q9(e,t){return e==null?void 0:e[t]}function iu(e,t){var i=q9(e,t);return K9(i)?i:void 0}var j9=iu(Oo,"WeakMap");const S1=j9;var VT=Object.create,X9=function(){function e(){}return function(t){if(!rr(t))return{};if(VT)return VT(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();const Y9=X9;function Z9(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}function J9(){}function g3(e,t){var i=-1,s=e.length;for(t||(t=Array(s));++i<s;)t[i]=e[i];return t}var Q9=800,e7=16,t7=Date.now;function n7(e){var t=0,i=0;return function(){var s=t7(),o=e7-(s-i);if(i=s,o>0){if(++t>=Q9)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function i7(e){return function(){return e}}var s7=function(){try{var e=iu(Object,"defineProperty");return e({},"",{}),e}catch{}}();const Fv=s7;var r7=Fv?function(e,t){return Fv(e,"toString",{configurable:!0,enumerable:!1,value:i7(t),writable:!0})}:cS;const o7=r7;var a7=n7(o7);const v3=a7;function l7(e,t){for(var i=-1,s=e==null?0:e.length;++i<s&&t(e[i],i,e)!==!1;);return e}function c7(e,t,i,s){for(var o=e.length,a=i+(s?1:-1);s?a--:++a<o;)if(t(e[a],a,e))return a;return-1}function u7(e){return e!==e}function d7(e,t,i){for(var s=i-1,o=e.length;++s<o;)if(e[s]===t)return s;return-1}function f7(e,t,i){return t===t?d7(e,t,i):c7(e,u7,i)}function h7(e,t){var i=e==null?0:e.length;return!!i&&f7(e,t,0)>-1}var p7=9007199254740991,m7=/^(?:0|[1-9]\d*)$/;function E0(e,t){var i=typeof e;return t=t??p7,!!t&&(i=="number"||i!="symbol"&&m7.test(e))&&e>-1&&e%1==0&&e<t}function dS(e,t,i){t=="__proto__"&&Fv?Fv(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function Ap(e,t){return e===t||e!==e&&t!==t}var g7=Object.prototype,v7=g7.hasOwnProperty;function fS(e,t,i){var s=e[t];(!(v7.call(e,t)&&Ap(s,i))||i===void 0&&!(t in e))&&dS(e,t,i)}function Rp(e,t,i,s){var o=!i;i||(i={});for(var a=-1,l=t.length;++a<l;){var u=t[a],f=s?s(i[u],e[u],u,i,e):void 0;f===void 0&&(f=e[u]),o?dS(i,u,f):fS(i,u,f)}return i}var HT=Math.max;function y3(e,t,i){return t=HT(t===void 0?e.length-1:t,0),function(){for(var s=arguments,o=-1,a=HT(s.length-t,0),l=Array(a);++o<a;)l[o]=s[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=s[o];return u[t]=i(l),Z9(e,this,u)}}function b3(e,t){return v3(y3(e,t,cS),e+"")}var y7=9007199254740991;function hS(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=y7}function cf(e){return e!=null&&hS(e.length)&&!uS(e)}function b7(e,t,i){if(!rr(i))return!1;var s=typeof t;return(s=="number"?cf(i)&&E0(t,i.length):s=="string"&&t in i)?Ap(i[t],e):!1}function _7(e){return b3(function(t,i){var s=-1,o=i.length,a=o>1?i[o-1]:void 0,l=o>2?i[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):void 0,l&&b7(i[0],i[1],l)&&(a=o<3?void 0:a,o=1),t=Object(t);++s<o;){var u=i[s];u&&e(t,u,s,a)}return t})}var w7=Object.prototype;function pS(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||w7;return e===i}function S7(e,t){for(var i=-1,s=Array(e);++i<e;)s[i]=t(i);return s}var x7="[object Arguments]";function WT(e){return ea(e)&&tu(e)==x7}var _3=Object.prototype,M7=_3.hasOwnProperty,E7=_3.propertyIsEnumerable,C7=WT(function(){return arguments}())?WT:function(e){return ea(e)&&M7.call(e,"callee")&&!E7.call(e,"callee")};const Yh=C7;function T7(){return!1}var w3=typeof er=="object"&&er&&!er.nodeType&&er,GT=w3&&typeof mr=="object"&&mr&&!mr.nodeType&&mr,A7=GT&&GT.exports===w3,KT=A7?Oo.Buffer:void 0,R7=KT?KT.isBuffer:void 0,k7=R7||T7;const Zh=k7;var P7="[object Arguments]",I7="[object Array]",L7="[object Boolean]",N7="[object Date]",O7="[object Error]",D7="[object Function]",F7="[object Map]",B7="[object Number]",z7="[object Object]",$7="[object RegExp]",U7="[object Set]",V7="[object String]",H7="[object WeakMap]",W7="[object ArrayBuffer]",G7="[object DataView]",K7="[object Float32Array]",q7="[object Float64Array]",j7="[object Int8Array]",X7="[object Int16Array]",Y7="[object Int32Array]",Z7="[object Uint8Array]",J7="[object Uint8ClampedArray]",Q7="[object Uint16Array]",eK="[object Uint32Array]",Zi={};Zi[K7]=Zi[q7]=Zi[j7]=Zi[X7]=Zi[Y7]=Zi[Z7]=Zi[J7]=Zi[Q7]=Zi[eK]=!0;Zi[P7]=Zi[I7]=Zi[W7]=Zi[L7]=Zi[G7]=Zi[N7]=Zi[O7]=Zi[D7]=Zi[F7]=Zi[B7]=Zi[z7]=Zi[$7]=Zi[U7]=Zi[V7]=Zi[H7]=!1;function tK(e){return ea(e)&&hS(e.length)&&!!Zi[tu(e)]}function mS(e){return function(t){return e(t)}}var S3=typeof er=="object"&&er&&!er.nodeType&&er,Rh=S3&&typeof mr=="object"&&mr&&!mr.nodeType&&mr,nK=Rh&&Rh.exports===S3,R_=nK&&f3.process,iK=function(){try{var e=Rh&&Rh.require&&Rh.require("util").types;return e||R_&&R_.binding&&R_.binding("util")}catch{}}();const Ud=iK;var qT=Ud&&Ud.isTypedArray,sK=qT?mS(qT):tK;const gS=sK;var rK=Object.prototype,oK=rK.hasOwnProperty;function x3(e,t){var i=sr(e),s=!i&&Yh(e),o=!i&&!s&&Zh(e),a=!i&&!s&&!o&&gS(e),l=i||s||o||a,u=l?S7(e.length,String):[],f=u.length;for(var p in e)(t||oK.call(e,p))&&!(l&&(p=="length"||o&&(p=="offset"||p=="parent")||a&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||E0(p,f)))&&u.push(p);return u}function M3(e,t){return function(i){return e(t(i))}}var aK=M3(Object.keys,Object);const lK=aK;var cK=Object.prototype,uK=cK.hasOwnProperty;function dK(e){if(!pS(e))return lK(e);var t=[];for(var i in Object(e))uK.call(e,i)&&i!="constructor"&&t.push(i);return t}function kp(e){return cf(e)?x3(e):dK(e)}function fK(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}var hK=Object.prototype,pK=hK.hasOwnProperty;function mK(e){if(!rr(e))return fK(e);var t=pS(e),i=[];for(var s in e)s=="constructor"&&(t||!pK.call(e,s))||i.push(s);return i}function Pp(e){return cf(e)?x3(e,!0):mK(e)}var gK=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vK=/^\w*$/;function vS(e,t){if(sr(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||M0(e)?!0:vK.test(e)||!gK.test(e)||t!=null&&e in Object(t)}var yK=iu(Object,"create");const Jh=yK;function bK(){this.__data__=Jh?Jh(null):{},this.size=0}function _K(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var wK="__lodash_hash_undefined__",SK=Object.prototype,xK=SK.hasOwnProperty;function MK(e){var t=this.__data__;if(Jh){var i=t[e];return i===wK?void 0:i}return xK.call(t,e)?t[e]:void 0}var EK=Object.prototype,CK=EK.hasOwnProperty;function TK(e){var t=this.__data__;return Jh?t[e]!==void 0:CK.call(t,e)}var AK="__lodash_hash_undefined__";function RK(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Jh&&t===void 0?AK:t,this}function Jc(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var s=e[t];this.set(s[0],s[1])}}Jc.prototype.clear=bK;Jc.prototype.delete=_K;Jc.prototype.get=MK;Jc.prototype.has=TK;Jc.prototype.set=RK;function kK(){this.__data__=[],this.size=0}function C0(e,t){for(var i=e.length;i--;)if(Ap(e[i][0],t))return i;return-1}var PK=Array.prototype,IK=PK.splice;function LK(e){var t=this.__data__,i=C0(t,e);if(i<0)return!1;var s=t.length-1;return i==s?t.pop():IK.call(t,i,1),--this.size,!0}function NK(e){var t=this.__data__,i=C0(t,e);return i<0?void 0:t[i][1]}function OK(e){return C0(this.__data__,e)>-1}function DK(e,t){var i=this.__data__,s=C0(i,e);return s<0?(++this.size,i.push([e,t])):i[s][1]=t,this}function Ka(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var s=e[t];this.set(s[0],s[1])}}Ka.prototype.clear=kK;Ka.prototype.delete=LK;Ka.prototype.get=NK;Ka.prototype.has=OK;Ka.prototype.set=DK;var FK=iu(Oo,"Map");const Qh=FK;function BK(){this.size=0,this.__data__={hash:new Jc,map:new(Qh||Ka),string:new Jc}}function zK(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function T0(e,t){var i=e.__data__;return zK(t)?i[typeof t=="string"?"string":"hash"]:i.map}function $K(e){var t=T0(this,e).delete(e);return this.size-=t?1:0,t}function UK(e){return T0(this,e).get(e)}function VK(e){return T0(this,e).has(e)}function HK(e,t){var i=T0(this,e),s=i.size;return i.set(e,t),this.size+=i.size==s?0:1,this}function qa(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var s=e[t];this.set(s[0],s[1])}}qa.prototype.clear=BK;qa.prototype.delete=$K;qa.prototype.get=UK;qa.prototype.has=VK;qa.prototype.set=HK;var WK="Expected a function";function A0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(WK);var i=function(){var s=arguments,o=t?t.apply(this,s):s[0],a=i.cache;if(a.has(o))return a.get(o);var l=e.apply(this,s);return i.cache=a.set(o,l)||a,l};return i.cache=new(A0.Cache||qa),i}A0.Cache=qa;var GK=500;function KK(e){var t=A0(e,function(s){return i.size===GK&&i.clear(),s}),i=t.cache;return t}var qK=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jK=/\\(\\)?/g,XK=KK(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(qK,function(i,s,o,a){t.push(o?a.replace(jK,"$1"):s||i)}),t});const YK=XK;function ZK(e){return e==null?"":m3(e)}function R0(e,t){return sr(e)?e:vS(e,t)?[e]:YK(ZK(e))}var JK=1/0;function Ip(e){if(typeof e=="string"||M0(e))return e;var t=e+"";return t=="0"&&1/e==-JK?"-0":t}function yS(e,t){t=R0(t,e);for(var i=0,s=t.length;e!=null&&i<s;)e=e[Ip(t[i++])];return i&&i==s?e:void 0}function $i(e,t,i){var s=e==null?void 0:yS(e,t);return s===void 0?i:s}function bS(e,t){for(var i=-1,s=t.length,o=e.length;++i<s;)e[o+i]=t[i];return e}var jT=to?to.isConcatSpreadable:void 0;function QK(e){return sr(e)||Yh(e)||!!(jT&&e&&e[jT])}function Lp(e,t,i,s,o){var a=-1,l=e.length;for(i||(i=QK),o||(o=[]);++a<l;){var u=e[a];t>0&&i(u)?t>1?Lp(u,t-1,i,s,o):bS(o,u):s||(o[o.length]=u)}return o}function E3(e){var t=e==null?0:e.length;return t?Lp(e,1):[]}function eq(e){return v3(y3(e,void 0,E3),e+"")}var tq=M3(Object.getPrototypeOf,Object);const _S=tq;var nq="[object Object]",iq=Function.prototype,sq=Object.prototype,C3=iq.toString,rq=sq.hasOwnProperty,oq=C3.call(Object);function aq(e){if(!ea(e)||tu(e)!=nq)return!1;var t=_S(e);if(t===null)return!0;var i=rq.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&C3.call(i)==oq}function Vd(){if(!arguments.length)return[];var e=arguments[0];return sr(e)?e:[e]}function lq(){this.__data__=new Ka,this.size=0}function cq(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}function uq(e){return this.__data__.get(e)}function dq(e){return this.__data__.has(e)}var fq=200;function hq(e,t){var i=this.__data__;if(i instanceof Ka){var s=i.__data__;if(!Qh||s.length<fq-1)return s.push([e,t]),this.size=++i.size,this;i=this.__data__=new qa(s)}return i.set(e,t),this.size=i.size,this}function Ao(e){var t=this.__data__=new Ka(e);this.size=t.size}Ao.prototype.clear=lq;Ao.prototype.delete=cq;Ao.prototype.get=uq;Ao.prototype.has=dq;Ao.prototype.set=hq;function pq(e,t){return e&&Rp(t,kp(t),e)}function mq(e,t){return e&&Rp(t,Pp(t),e)}var T3=typeof er=="object"&&er&&!er.nodeType&&er,XT=T3&&typeof mr=="object"&&mr&&!mr.nodeType&&mr,gq=XT&&XT.exports===T3,YT=gq?Oo.Buffer:void 0,ZT=YT?YT.allocUnsafe:void 0;function A3(e,t){if(t)return e.slice();var i=e.length,s=ZT?ZT(i):new e.constructor(i);return e.copy(s),s}function vq(e,t){for(var i=-1,s=e==null?0:e.length,o=0,a=[];++i<s;){var l=e[i];t(l,i,e)&&(a[o++]=l)}return a}function R3(){return[]}var yq=Object.prototype,bq=yq.propertyIsEnumerable,JT=Object.getOwnPropertySymbols,_q=JT?function(e){return e==null?[]:(e=Object(e),vq(JT(e),function(t){return bq.call(e,t)}))}:R3;const wS=_q;function wq(e,t){return Rp(e,wS(e),t)}var Sq=Object.getOwnPropertySymbols,xq=Sq?function(e){for(var t=[];e;)bS(t,wS(e)),e=_S(e);return t}:R3;const k3=xq;function Mq(e,t){return Rp(e,k3(e),t)}function P3(e,t,i){var s=t(e);return sr(e)?s:bS(s,i(e))}function x1(e){return P3(e,kp,wS)}function Eq(e){return P3(e,Pp,k3)}var Cq=iu(Oo,"DataView");const M1=Cq;var Tq=iu(Oo,"Promise");const E1=Tq;var Aq=iu(Oo,"Set");const Md=Aq;var QT="[object Map]",Rq="[object Object]",eA="[object Promise]",tA="[object Set]",nA="[object WeakMap]",iA="[object DataView]",kq=nu(M1),Pq=nu(Qh),Iq=nu(E1),Lq=nu(Md),Nq=nu(S1),Tc=tu;(M1&&Tc(new M1(new ArrayBuffer(1)))!=iA||Qh&&Tc(new Qh)!=QT||E1&&Tc(E1.resolve())!=eA||Md&&Tc(new Md)!=tA||S1&&Tc(new S1)!=nA)&&(Tc=function(e){var t=tu(e),i=t==Rq?e.constructor:void 0,s=i?nu(i):"";if(s)switch(s){case kq:return iA;case Pq:return QT;case Iq:return eA;case Lq:return tA;case Nq:return nA}return t});const ep=Tc;var Oq=Object.prototype,Dq=Oq.hasOwnProperty;function Fq(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&Dq.call(e,"index")&&(i.index=e.index,i.input=e.input),i}var Bq=Oo.Uint8Array;const Bv=Bq;function SS(e){var t=new e.constructor(e.byteLength);return new Bv(t).set(new Bv(e)),t}function zq(e,t){var i=t?SS(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}var $q=/\w*$/;function Uq(e){var t=new e.constructor(e.source,$q.exec(e));return t.lastIndex=e.lastIndex,t}var sA=to?to.prototype:void 0,rA=sA?sA.valueOf:void 0;function Vq(e){return rA?Object(rA.call(e)):{}}function I3(e,t){var i=t?SS(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}var Hq="[object Boolean]",Wq="[object Date]",Gq="[object Map]",Kq="[object Number]",qq="[object RegExp]",jq="[object Set]",Xq="[object String]",Yq="[object Symbol]",Zq="[object ArrayBuffer]",Jq="[object DataView]",Qq="[object Float32Array]",ej="[object Float64Array]",tj="[object Int8Array]",nj="[object Int16Array]",ij="[object Int32Array]",sj="[object Uint8Array]",rj="[object Uint8ClampedArray]",oj="[object Uint16Array]",aj="[object Uint32Array]";function lj(e,t,i){var s=e.constructor;switch(t){case Zq:return SS(e);case Hq:case Wq:return new s(+e);case Jq:return zq(e,i);case Qq:case ej:case tj:case nj:case ij:case sj:case rj:case oj:case aj:return I3(e,i);case Gq:return new s;case Kq:case Xq:return new s(e);case qq:return Uq(e);case jq:return new s;case Yq:return Vq(e)}}function L3(e){return typeof e.constructor=="function"&&!pS(e)?Y9(_S(e)):{}}var cj="[object Map]";function uj(e){return ea(e)&&ep(e)==cj}var oA=Ud&&Ud.isMap,dj=oA?mS(oA):uj;const fj=dj;var hj="[object Set]";function pj(e){return ea(e)&&ep(e)==hj}var aA=Ud&&Ud.isSet,mj=aA?mS(aA):pj;const gj=mj;var vj=1,yj=2,bj=4,N3="[object Arguments]",_j="[object Array]",wj="[object Boolean]",Sj="[object Date]",xj="[object Error]",O3="[object Function]",Mj="[object GeneratorFunction]",Ej="[object Map]",Cj="[object Number]",D3="[object Object]",Tj="[object RegExp]",Aj="[object Set]",Rj="[object String]",kj="[object Symbol]",Pj="[object WeakMap]",Ij="[object ArrayBuffer]",Lj="[object DataView]",Nj="[object Float32Array]",Oj="[object Float64Array]",Dj="[object Int8Array]",Fj="[object Int16Array]",Bj="[object Int32Array]",zj="[object Uint8Array]",$j="[object Uint8ClampedArray]",Uj="[object Uint16Array]",Vj="[object Uint32Array]",ji={};ji[N3]=ji[_j]=ji[Ij]=ji[Lj]=ji[wj]=ji[Sj]=ji[Nj]=ji[Oj]=ji[Dj]=ji[Fj]=ji[Bj]=ji[Ej]=ji[Cj]=ji[D3]=ji[Tj]=ji[Aj]=ji[Rj]=ji[kj]=ji[zj]=ji[$j]=ji[Uj]=ji[Vj]=!0;ji[xj]=ji[O3]=ji[Pj]=!1;function kh(e,t,i,s,o,a){var l,u=t&vj,f=t&yj,p=t&bj;if(i&&(l=o?i(e,s,o,a):i(e)),l!==void 0)return l;if(!rr(e))return e;var g=sr(e);if(g){if(l=Fq(e),!u)return g3(e,l)}else{var v=ep(e),b=v==O3||v==Mj;if(Zh(e))return A3(e,u);if(v==D3||v==N3||b&&!o){if(l=f||b?{}:L3(e),!u)return f?Mq(e,mq(l,e)):wq(e,pq(l,e))}else{if(!ji[v])return o?e:{};l=lj(e,v,u)}}a||(a=new Ao);var w=a.get(e);if(w)return w;a.set(e,l),gj(e)?e.forEach(function(E){l.add(kh(E,t,i,E,e,a))}):fj(e)&&e.forEach(function(E,C){l.set(C,kh(E,t,i,C,e,a))});var M=p?f?Eq:x1:f?Pp:kp,x=g?void 0:M(e);return l7(x||e,function(E,C){x&&(C=E,E=e[C]),fS(l,C,kh(E,t,i,C,e,a))}),l}var Hj=4;function lA(e){return kh(e,Hj)}var Wj=1,Gj=4;function xS(e){return kh(e,Wj|Gj)}var Kj="__lodash_hash_undefined__";function qj(e){return this.__data__.set(e,Kj),this}function jj(e){return this.__data__.has(e)}function tp(e){var t=-1,i=e==null?0:e.length;for(this.__data__=new qa;++t<i;)this.add(e[t])}tp.prototype.add=tp.prototype.push=qj;tp.prototype.has=jj;function Xj(e,t){for(var i=-1,s=e==null?0:e.length;++i<s;)if(t(e[i],i,e))return!0;return!1}function F3(e,t){return e.has(t)}var Yj=1,Zj=2;function B3(e,t,i,s,o,a){var l=i&Yj,u=e.length,f=t.length;if(u!=f&&!(l&&f>u))return!1;var p=a.get(e),g=a.get(t);if(p&&g)return p==t&&g==e;var v=-1,b=!0,w=i&Zj?new tp:void 0;for(a.set(e,t),a.set(t,e);++v<u;){var M=e[v],x=t[v];if(s)var E=l?s(x,M,v,t,e,a):s(M,x,v,e,t,a);if(E!==void 0){if(E)continue;b=!1;break}if(w){if(!Xj(t,function(C,k){if(!F3(w,k)&&(M===C||o(M,C,i,s,a)))return w.push(k)})){b=!1;break}}else if(!(M===x||o(M,x,i,s,a))){b=!1;break}}return a.delete(e),a.delete(t),b}function Jj(e){var t=-1,i=Array(e.size);return e.forEach(function(s,o){i[++t]=[o,s]}),i}function MS(e){var t=-1,i=Array(e.size);return e.forEach(function(s){i[++t]=s}),i}var Qj=1,eX=2,tX="[object Boolean]",nX="[object Date]",iX="[object Error]",sX="[object Map]",rX="[object Number]",oX="[object RegExp]",aX="[object Set]",lX="[object String]",cX="[object Symbol]",uX="[object ArrayBuffer]",dX="[object DataView]",cA=to?to.prototype:void 0,k_=cA?cA.valueOf:void 0;function fX(e,t,i,s,o,a,l){switch(i){case dX:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case uX:return!(e.byteLength!=t.byteLength||!a(new Bv(e),new Bv(t)));case tX:case nX:case rX:return Ap(+e,+t);case iX:return e.name==t.name&&e.message==t.message;case oX:case lX:return e==t+"";case sX:var u=Jj;case aX:var f=s&Qj;if(u||(u=MS),e.size!=t.size&&!f)return!1;var p=l.get(e);if(p)return p==t;s|=eX,l.set(e,t);var g=B3(u(e),u(t),s,o,a,l);return l.delete(e),g;case cX:if(k_)return k_.call(e)==k_.call(t)}return!1}var hX=1,pX=Object.prototype,mX=pX.hasOwnProperty;function gX(e,t,i,s,o,a){var l=i&hX,u=x1(e),f=u.length,p=x1(t),g=p.length;if(f!=g&&!l)return!1;for(var v=f;v--;){var b=u[v];if(!(l?b in t:mX.call(t,b)))return!1}var w=a.get(e),M=a.get(t);if(w&&M)return w==t&&M==e;var x=!0;a.set(e,t),a.set(t,e);for(var E=l;++v<f;){b=u[v];var C=e[b],k=t[b];if(s)var R=l?s(k,C,b,t,e,a):s(C,k,b,e,t,a);if(!(R===void 0?C===k||o(C,k,i,s,a):R)){x=!1;break}E||(E=b=="constructor")}if(x&&!E){var P=e.constructor,O=t.constructor;P!=O&&"constructor"in e&&"constructor"in t&&!(typeof P=="function"&&P instanceof P&&typeof O=="function"&&O instanceof O)&&(x=!1)}return a.delete(e),a.delete(t),x}var vX=1,uA="[object Arguments]",dA="[object Array]",kg="[object Object]",yX=Object.prototype,fA=yX.hasOwnProperty;function bX(e,t,i,s,o,a){var l=sr(e),u=sr(t),f=l?dA:ep(e),p=u?dA:ep(t);f=f==uA?kg:f,p=p==uA?kg:p;var g=f==kg,v=p==kg,b=f==p;if(b&&Zh(e)){if(!Zh(t))return!1;l=!0,g=!1}if(b&&!g)return a||(a=new Ao),l||gS(e)?B3(e,t,i,s,o,a):fX(e,t,f,i,s,o,a);if(!(i&vX)){var w=g&&fA.call(e,"__wrapped__"),M=v&&fA.call(t,"__wrapped__");if(w||M){var x=w?e.value():e,E=M?t.value():t;return a||(a=new Ao),o(x,E,i,s,a)}}return b?(a||(a=new Ao),gX(e,t,i,s,o,a)):!1}function k0(e,t,i,s,o){return e===t?!0:e==null||t==null||!ea(e)&&!ea(t)?e!==e&&t!==t:bX(e,t,i,s,k0,o)}var _X=1,wX=2;function SX(e,t,i,s){var o=i.length,a=o,l=!s;if(e==null)return!a;for(e=Object(e);o--;){var u=i[o];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){u=i[o];var f=u[0],p=e[f],g=u[1];if(l&&u[2]){if(p===void 0&&!(f in e))return!1}else{var v=new Ao;if(s)var b=s(p,g,f,e,t,v);if(!(b===void 0?k0(g,p,_X|wX,s,v):b))return!1}}return!0}function z3(e){return e===e&&!rr(e)}function xX(e){for(var t=kp(e),i=t.length;i--;){var s=t[i],o=e[s];t[i]=[s,o,z3(o)]}return t}function $3(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==void 0||e in Object(i))}}function MX(e){var t=xX(e);return t.length==1&&t[0][2]?$3(t[0][0],t[0][1]):function(i){return i===e||SX(i,e,t)}}function EX(e,t){return e!=null&&t in Object(e)}function CX(e,t,i){t=R0(t,e);for(var s=-1,o=t.length,a=!1;++s<o;){var l=Ip(t[s]);if(!(a=e!=null&&i(e,l)))break;e=e[l]}return a||++s!=o?a:(o=e==null?0:e.length,!!o&&hS(o)&&E0(l,o)&&(sr(e)||Yh(e)))}function U3(e,t){return e!=null&&CX(e,t,EX)}var TX=1,AX=2;function RX(e,t){return vS(e)&&z3(t)?$3(Ip(e),t):function(i){var s=$i(i,e);return s===void 0&&s===t?U3(i,e):k0(t,s,TX|AX)}}function kX(e){return function(t){return t==null?void 0:t[e]}}function PX(e){return function(t){return yS(t,e)}}function IX(e){return vS(e)?kX(Ip(e)):PX(e)}function LX(e){return typeof e=="function"?e:e==null?cS:typeof e=="object"?sr(e)?RX(e[0],e[1]):MX(e):IX(e)}function NX(e){return function(t,i,s){for(var o=-1,a=Object(t),l=s(t),u=l.length;u--;){var f=l[e?u:++o];if(i(a[f],f,a)===!1)break}return t}}var OX=NX();const V3=OX;function DX(e,t){return e&&V3(e,t,kp)}function FX(e,t){return function(i,s){if(i==null)return i;if(!cf(i))return e(i,s);for(var o=i.length,a=t?o:-1,l=Object(i);(t?a--:++a<o)&&s(l[a],a,l)!==!1;);return i}}var BX=FX(DX);const zX=BX;var $X=function(){return Oo.Date.now()};const P_=$X;var UX="Expected a function",VX=Math.max,HX=Math.min;function or(e,t,i){var s,o,a,l,u,f,p=0,g=!1,v=!1,b=!0;if(typeof e!="function")throw new TypeError(UX);t=$T(t)||0,rr(i)&&(g=!!i.leading,v="maxWait"in i,a=v?VX($T(i.maxWait)||0,t):a,b="trailing"in i?!!i.trailing:b);function w(F){var G=s,H=o;return s=o=void 0,p=F,l=e.apply(H,G),l}function M(F){return p=F,u=setTimeout(C,t),g?w(F):l}function x(F){var G=F-f,H=F-p,j=t-G;return v?HX(j,a-H):j}function E(F){var G=F-f,H=F-p;return f===void 0||G>=t||G<0||v&&H>=a}function C(){var F=P_();if(E(F))return k(F);u=setTimeout(C,x(F))}function k(F){return u=void 0,b&&s?w(F):(s=o=void 0,l)}function R(){u!==void 0&&clearTimeout(u),p=0,s=f=o=u=void 0}function P(){return u===void 0?l:k(P_())}function O(){var F=P_(),G=E(F);if(s=arguments,o=this,f=F,G){if(u===void 0)return M(f);if(v)return clearTimeout(u),u=setTimeout(C,t),w(f)}return u===void 0&&(u=setTimeout(C,t)),l}return O.cancel=R,O.flush=P,O}function C1(e,t,i){(i!==void 0&&!Ap(e[t],i)||i===void 0&&!(t in e))&&dS(e,t,i)}function H3(e){return ea(e)&&cf(e)}function T1(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function WX(e){return Rp(e,Pp(e))}function GX(e,t,i,s,o,a,l){var u=T1(e,i),f=T1(t,i),p=l.get(f);if(p){C1(e,i,p);return}var g=a?a(u,f,i+"",e,t,l):void 0,v=g===void 0;if(v){var b=sr(f),w=!b&&Zh(f),M=!b&&!w&&gS(f);g=f,b||w||M?sr(u)?g=u:H3(u)?g=g3(u):w?(v=!1,g=A3(f,!0)):M?(v=!1,g=I3(f,!0)):g=[]:aq(f)||Yh(f)?(g=u,Yh(u)?g=WX(u):(!rr(u)||uS(u))&&(g=L3(f))):v=!1}v&&(l.set(f,g),o(g,f,s,a,l),l.delete(f)),C1(e,i,g)}function W3(e,t,i,s,o){e!==t&&V3(t,function(a,l){if(o||(o=new Ao),rr(a))GX(e,t,l,i,W3,s,o);else{var u=s?s(T1(e,l),a,l+"",e,t,o):void 0;u===void 0&&(u=a),C1(e,l,u)}},Pp)}function KX(e,t,i){for(var s=-1,o=e==null?0:e.length;++s<o;)if(i(t,e[s]))return!0;return!1}function qX(e,t){var i=-1,s=cf(e)?Array(e.length):[];return zX(e,function(o,a,l){s[++i]=t(o,a,l)}),s}function jX(e,t){var i=sr(e)?p3:qX;return i(e,LX(t))}function XX(e,t){return Lp(jX(e,t),1)}var YX=1/0;function ZX(e){var t=e==null?0:e.length;return t?Lp(e,YX):[]}function zv(e){for(var t=-1,i=e==null?0:e.length,s={};++t<i;){var o=e[t];s[o[0]]=o[1]}return s}function Br(e,t){return k0(e,t)}function us(e){return e==null}function JX(e){return e===void 0}var QX=_7(function(e,t,i){W3(e,t,i)});const G3=QX;function K3(e,t,i,s){if(!rr(e))return e;t=R0(t,e);for(var o=-1,a=t.length,l=a-1,u=e;u!=null&&++o<a;){var f=Ip(t[o]),p=i;if(f==="__proto__"||f==="constructor"||f==="prototype")return e;if(o!=l){var g=u[f];p=s?s(g,f,u):void 0,p===void 0&&(p=rr(g)?g:E0(t[o+1])?[]:{})}fS(u,f,p),u=u[f]}return e}function eY(e,t,i){for(var s=-1,o=t.length,a={};++s<o;){var l=t[s],u=yS(e,l);i(u,l)&&K3(a,R0(l,e),u)}return a}function tY(e,t){return eY(e,t,function(i,s){return U3(e,s)})}var nY=eq(function(e,t){return e==null?{}:tY(e,t)});const Oa=nY;function iY(e,t,i){return e==null?e:K3(e,t,i)}var sY="Expected a function";function Wc(e,t,i){var s=!0,o=!0;if(typeof e!="function")throw new TypeError(sY);return rr(i)&&(s="leading"in i?!!i.leading:s,o="trailing"in i?!!i.trailing:o),or(e,t,{leading:s,maxWait:t,trailing:o})}var rY=1/0,oY=Md&&1/MS(new Md([,-0]))[1]==rY?function(e){return new Md(e)}:J9;const aY=oY;var lY=200;function cY(e,t,i){var s=-1,o=h7,a=e.length,l=!0,u=[],f=u;if(i)l=!1,o=KX;else if(a>=lY){var p=t?null:aY(e);if(p)return MS(p);l=!1,o=F3,f=new tp}else f=t?[]:u;e:for(;++s<a;){var g=e[s],v=t?t(g):g;if(g=i||g!==0?g:0,l&&v===v){for(var b=f.length;b--;)if(f[b]===v)continue e;t&&f.push(v),u.push(g)}else o(f,v,i)||(f!==u&&f.push(v),u.push(g))}return u}var uY=b3(function(e){return cY(Lp(e,1,H3,!0))});const I_=uY,Ts=e=>e===void 0,ds=e=>typeof e=="boolean",on=e=>typeof e=="number",jr=e=>!e&&e!==0||Nt(e)&&e.length===0||Pn(e)&&!Object.keys(e).length,Io=e=>typeof Element>"u"?!1:e instanceof Element,dY=e=>us(e),fY=e=>un(e)?!Number.isNaN(Number(e)):!1,q3=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Xo=e=>wp(e),np=e=>Object.keys(e),hY=e=>Object.entries(e),av=(e,t,i)=>({get value(){return $i(e,t,i)},set value(s){iY(e,t,s)}});class pY extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function vs(e,t){throw new pY(`[${e}] ${t}`)}const j3=(e="")=>e.split(" ").filter(t=>!!t.trim()),Ro=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},Zo=(e,t)=>{!e||!t.trim()||e.classList.add(...j3(t))},gr=(e,t)=>{!e||!t.trim()||e.classList.remove(...j3(t))},La=(e,t)=>{var i;if(!Jn||!e||!t)return"";let s=eo(t);s==="float"&&(s="cssFloat");try{const o=e.style[s];if(o)return o;const a=(i=document.defaultView)==null?void 0:i.getComputedStyle(e,"");return a?a[s]:""}catch{return e.style[s]}};function es(e,t="px"){if(!e)return"";if(on(e)||fY(e))return`${e}${t}`;if(un(e))return e}const mY=(e,t)=>{if(!Jn)return!1;const i={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],s=La(e,i);return["scroll","auto","overlay"].some(o=>s.includes(o))},ES=(e,t)=>{if(!Jn)return;let i=e;for(;i;){if([window,document,document.documentElement].includes(i))return window;if(mY(i,t))return i;i=i.parentNode}return i};let Pg;const X3=e=>{var t;if(!Jn)return 0;if(Pg!==void 0)return Pg;const i=document.createElement("div");i.className=`${e}-scrollbar__wrap`,i.style.visibility="hidden",i.style.width="100px",i.style.position="absolute",i.style.top="-9999px",document.body.appendChild(i);const s=i.offsetWidth;i.style.overflow="scroll";const o=document.createElement("div");o.style.width="100%",i.appendChild(o);const a=o.offsetWidth;return(t=i.parentNode)==null||t.removeChild(i),Pg=s-a,Pg};function Y3(e,t){if(!Jn)return;if(!t){e.scrollTop=0;return}const i=[];let s=t.offsetParent;for(;s!==null&&e!==s&&e.contains(s);)i.push(s),s=s.offsetParent;const o=t.offsetTop+i.reduce((f,p)=>f+p.offsetTop,0),a=o+t.offsetHeight,l=e.scrollTop,u=l+e.clientHeight;o<l?e.scrollTop=o:a>u&&(e.scrollTop=a-e.clientHeight)}/*! Element Plus Icons Vue v2.1.0 */var si=(e,t)=>{let i=e.__vccOpts||e;for(let[s,o]of t)i[s]=o;return i},gY={name:"ArrowDown"},vY={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},yY=ae("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),bY=[yY];function _Y(e,t,i,s,o,a){return B(),ne("svg",vY,bY)}var Vl=si(gY,[["render",_Y],["__file","arrow-down.vue"]]),wY={name:"ArrowLeft"},SY={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},xY=ae("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),MY=[xY];function EY(e,t,i,s,o,a){return B(),ne("svg",SY,MY)}var Ol=si(wY,[["render",EY],["__file","arrow-left.vue"]]),CY={name:"ArrowRight"},TY={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},AY=ae("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),RY=[AY];function kY(e,t,i,s,o,a){return B(),ne("svg",TY,RY)}var nr=si(CY,[["render",kY],["__file","arrow-right.vue"]]),PY={name:"ArrowUp"},IY={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},LY=ae("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),NY=[LY];function OY(e,t,i,s,o,a){return B(),ne("svg",IY,NY)}var P0=si(PY,[["render",OY],["__file","arrow-up.vue"]]),DY={name:"Back"},FY={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},BY=ae("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"},null,-1),zY=ae("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"},null,-1),$Y=[BY,zY];function UY(e,t,i,s,o,a){return B(),ne("svg",FY,$Y)}var VY=si(DY,[["render",UY],["__file","back.vue"]]),HY={name:"Calendar"},WY={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},GY=ae("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"},null,-1),KY=[GY];function qY(e,t,i,s,o,a){return B(),ne("svg",WY,KY)}var jY=si(HY,[["render",qY],["__file","calendar.vue"]]),XY={name:"CaretRight"},YY={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ZY=ae("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1),JY=[ZY];function QY(e,t,i,s,o,a){return B(),ne("svg",YY,JY)}var Z3=si(XY,[["render",QY],["__file","caret-right.vue"]]),eZ={name:"CaretTop"},tZ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},nZ=ae("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"},null,-1),iZ=[nZ];function sZ(e,t,i,s,o,a){return B(),ne("svg",tZ,iZ)}var rZ=si(eZ,[["render",sZ],["__file","caret-top.vue"]]),oZ={name:"Check"},aZ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},lZ=ae("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),cZ=[lZ];function uZ(e,t,i,s,o,a){return B(),ne("svg",aZ,cZ)}var Np=si(oZ,[["render",uZ],["__file","check.vue"]]),dZ={name:"CircleCheckFilled"},fZ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hZ=ae("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),pZ=[hZ];function mZ(e,t,i,s,o,a){return B(),ne("svg",fZ,pZ)}var gZ=si(dZ,[["render",mZ],["__file","circle-check-filled.vue"]]),vZ={name:"CircleCheck"},yZ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},bZ=ae("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_Z=ae("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),wZ=[bZ,_Z];function SZ(e,t,i,s,o,a){return B(),ne("svg",yZ,wZ)}var CS=si(vZ,[["render",SZ],["__file","circle-check.vue"]]),xZ={name:"CircleCloseFilled"},MZ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},EZ=ae("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),CZ=[EZ];function TZ(e,t,i,s,o,a){return B(),ne("svg",MZ,CZ)}var TS=si(xZ,[["render",TZ],["__file","circle-close-filled.vue"]]),AZ={name:"CircleClose"},RZ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},kZ=ae("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),PZ=ae("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),IZ=[kZ,PZ];function LZ(e,t,i,s,o,a){return B(),ne("svg",RZ,IZ)}var Hl=si(AZ,[["render",LZ],["__file","circle-close.vue"]]),NZ={name:"Clock"},OZ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},DZ=ae("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),FZ=ae("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),BZ=ae("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32z"},null,-1),zZ=[DZ,FZ,BZ];function $Z(e,t,i,s,o,a){return B(),ne("svg",OZ,zZ)}var J3=si(NZ,[["render",$Z],["__file","clock.vue"]]),UZ={name:"Close"},VZ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},HZ=ae("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),WZ=[HZ];function GZ(e,t,i,s,o,a){return B(),ne("svg",VZ,WZ)}var Lo=si(UZ,[["render",GZ],["__file","close.vue"]]),KZ={name:"DArrowLeft"},qZ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},jZ=ae("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1),XZ=[jZ];function YZ(e,t,i,s,o,a){return B(),ne("svg",qZ,XZ)}var Hd=si(KZ,[["render",YZ],["__file","d-arrow-left.vue"]]),ZZ={name:"DArrowRight"},JZ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},QZ=ae("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1),eJ=[QZ];function tJ(e,t,i,s,o,a){return B(),ne("svg",JZ,eJ)}var Wd=si(ZZ,[["render",tJ],["__file","d-arrow-right.vue"]]),nJ={name:"Delete"},iJ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},sJ=ae("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),rJ=[sJ];function oJ(e,t,i,s,o,a){return B(),ne("svg",iJ,rJ)}var aJ=si(nJ,[["render",oJ],["__file","delete.vue"]]),lJ={name:"Document"},cJ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},uJ=ae("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),dJ=[uJ];function fJ(e,t,i,s,o,a){return B(),ne("svg",cJ,dJ)}var Q3=si(lJ,[["render",fJ],["__file","document.vue"]]),hJ={name:"FullScreen"},pJ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},mJ=ae("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1),gJ=[mJ];function vJ(e,t,i,s,o,a){return B(),ne("svg",pJ,gJ)}var yJ=si(hJ,[["render",vJ],["__file","full-screen.vue"]]),bJ={name:"Hide"},_J={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},wJ=ae("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),SJ=ae("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),xJ=[wJ,SJ];function MJ(e,t,i,s,o,a){return B(),ne("svg",_J,xJ)}var EJ=si(bJ,[["render",MJ],["__file","hide.vue"]]),CJ={name:"InfoFilled"},TJ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},AJ=ae("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),RJ=[AJ];function kJ(e,t,i,s,o,a){return B(),ne("svg",TJ,RJ)}var AS=si(CJ,[["render",kJ],["__file","info-filled.vue"]]),PJ={name:"Loading"},IJ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},LJ=ae("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),NJ=[LJ];function OJ(e,t,i,s,o,a){return B(),ne("svg",IJ,NJ)}var Wl=si(PJ,[["render",OJ],["__file","loading.vue"]]),DJ={name:"Location"},FJ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},BJ=ae("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),zJ=ae("path",{fill:"currentColor",d:"M512 512a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm0 64a160 160 0 1 1 0-320 160 160 0 0 1 0 320z"},null,-1),$J=[BJ,zJ];function UJ(e,t,i,s,o,a){return B(),ne("svg",FJ,$J)}var VJ=si(DJ,[["render",UJ],["__file","location.vue"]]),HJ={name:"Menu"},WJ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},GJ=ae("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H608zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H608z"},null,-1),KJ=[GJ];function qJ(e,t,i,s,o,a){return B(),ne("svg",WJ,KJ)}var jJ=si(HJ,[["render",qJ],["__file","menu.vue"]]),XJ={name:"Minus"},YJ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ZJ=ae("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),JJ=[ZJ];function QJ(e,t,i,s,o,a){return B(),ne("svg",YJ,JJ)}var eQ=si(XJ,[["render",QJ],["__file","minus.vue"]]),tQ={name:"MoreFilled"},nQ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},iQ=ae("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224z"},null,-1),sQ=[iQ];function rQ(e,t,i,s,o,a){return B(),ne("svg",nQ,sQ)}var hA=si(tQ,[["render",rQ],["__file","more-filled.vue"]]),oQ={name:"More"},aQ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},lQ=ae("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"},null,-1),cQ=[lQ];function uQ(e,t,i,s,o,a){return B(),ne("svg",aQ,cQ)}var dQ=si(oQ,[["render",uQ],["__file","more.vue"]]),fQ={name:"PictureFilled"},hQ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},pQ=ae("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32H96zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112zM256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384z"},null,-1),mQ=[pQ];function gQ(e,t,i,s,o,a){return B(),ne("svg",hQ,mQ)}var vQ=si(fQ,[["render",gQ],["__file","picture-filled.vue"]]),yQ={name:"Plus"},bQ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_Q=ae("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),wQ=[_Q];function SQ(e,t,i,s,o,a){return B(),ne("svg",bQ,wQ)}var eI=si(yQ,[["render",SQ],["__file","plus.vue"]]),xQ={name:"QuestionFilled"},MQ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},EQ=ae("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"},null,-1),CQ=[EQ];function TQ(e,t,i,s,o,a){return B(),ne("svg",MQ,CQ)}var AQ=si(xQ,[["render",TQ],["__file","question-filled.vue"]]),RQ={name:"RefreshLeft"},kQ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},PQ=ae("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"},null,-1),IQ=[PQ];function LQ(e,t,i,s,o,a){return B(),ne("svg",kQ,IQ)}var NQ=si(RQ,[["render",LQ],["__file","refresh-left.vue"]]),OQ={name:"RefreshRight"},DQ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},FQ=ae("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"},null,-1),BQ=[FQ];function zQ(e,t,i,s,o,a){return B(),ne("svg",DQ,BQ)}var $Q=si(OQ,[["render",zQ],["__file","refresh-right.vue"]]),UQ={name:"ScaleToOriginal"},VQ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},HQ=ae("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1),WQ=[HQ];function GQ(e,t,i,s,o,a){return B(),ne("svg",VQ,WQ)}var KQ=si(UQ,[["render",GQ],["__file","scale-to-original.vue"]]),qQ={name:"Search"},jQ={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},XQ=ae("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1),YQ=[XQ];function ZQ(e,t,i,s,o,a){return B(),ne("svg",jQ,YQ)}var JQ=si(qQ,[["render",ZQ],["__file","search.vue"]]),QQ={name:"Setting"},eee={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},tee=ae("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256z"},null,-1),nee=[tee];function iee(e,t,i,s,o,a){return B(),ne("svg",eee,nee)}var see=si(QQ,[["render",iee],["__file","setting.vue"]]),ree={name:"SortDown"},oee={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},aee=ae("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0z"},null,-1),lee=[aee];function cee(e,t,i,s,o,a){return B(),ne("svg",oee,lee)}var uee=si(ree,[["render",cee],["__file","sort-down.vue"]]),dee={name:"SortUp"},fee={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hee=ae("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248z"},null,-1),pee=[hee];function mee(e,t,i,s,o,a){return B(),ne("svg",fee,pee)}var gee=si(dee,[["render",mee],["__file","sort-up.vue"]]),vee={name:"StarFilled"},yee={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},bee=ae("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"},null,-1),_ee=[bee];function wee(e,t,i,s,o,a){return B(),ne("svg",yee,_ee)}var Ig=si(vee,[["render",wee],["__file","star-filled.vue"]]),See={name:"Star"},xee={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Mee=ae("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"},null,-1),Eee=[Mee];function Cee(e,t,i,s,o,a){return B(),ne("svg",xee,Eee)}var Tee=si(See,[["render",Cee],["__file","star.vue"]]),Aee={name:"SuccessFilled"},Ree={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},kee=ae("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),Pee=[kee];function Iee(e,t,i,s,o,a){return B(),ne("svg",Ree,Pee)}var tI=si(Aee,[["render",Iee],["__file","success-filled.vue"]]),Lee={name:"View"},Nee={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Oee=ae("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),Dee=[Oee];function Fee(e,t,i,s,o,a){return B(),ne("svg",Nee,Dee)}var Bee=si(Lee,[["render",Fee],["__file","view.vue"]]),zee={name:"WarningFilled"},$ee={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Uee=ae("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),Vee=[Uee];function Hee(e,t,i,s,o,a){return B(),ne("svg",$ee,Vee)}var I0=si(zee,[["render",Hee],["__file","warning-filled.vue"]]),Wee={name:"ZoomIn"},Gee={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Kee=ae("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1),qee=[Kee];function jee(e,t,i,s,o,a){return B(),ne("svg",Gee,qee)}var nI=si(Wee,[["render",jee],["__file","zoom-in.vue"]]),Xee={name:"ZoomOut"},Yee={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Zee=ae("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),Jee=[Zee];function Qee(e,t,i,s,o,a){return B(),ne("svg",Yee,Jee)}var ete=si(Xee,[["render",Qee],["__file","zoom-out.vue"]]);const iI="__epPropKey",De=e=>e,tte=e=>Pn(e)&&!!e[iI],Do=(e,t)=>{if(!Pn(e)||tte(e))return e;const{values:i,required:s,default:o,type:a,validator:l}=e,f={type:a,required:!!s,validator:i||l?p=>{let g=!1,v=[];if(i&&(v=Array.from(i),Gn(e,"default")&&v.push(o),g||(g=v.includes(p))),l&&(g||(g=l(p))),!g&&v.length>0){const b=[...new Set(v)].map(w=>JSON.stringify(w)).join(", ");vV(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${b}], got value ${JSON.stringify(p)}.`)}return g}:void 0,[iI]:!0};return Gn(e,"default")&&(f.default=o),f},pt=e=>zv(Object.entries(e).map(([t,i])=>[t,Do(i,t)])),Pi=De([String,Object,Function]),sI={Close:Lo},RS={Close:Lo,SuccessFilled:tI,InfoFilled:AS,WarningFilled:I0,CircleCloseFilled:TS},Dl={success:tI,warning:I0,error:TS,info:AS},rI={validating:Wl,success:CS,error:Hl},Cn=(e,t)=>{if(e.install=i=>{for(const s of[e,...Object.values(t??{})])i.component(s.name,s)},t)for(const[i,s]of Object.entries(t))e[i]=s;return e},oI=(e,t)=>(e.install=i=>{e._context=i._context,i.config.globalProperties[t]=e},e),nte=(e,t)=>(e.install=i=>{i.directive(t,e)},e),Yi=e=>(e.install=_i,e),L0=(...e)=>t=>{e.forEach(i=>{an(i)?i(t):i.value=t})},Xt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},ite=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],L_=["sun","mon","tue","wed","thu","fri","sat"],Rn="update:modelValue",Ii="change",ir="input",pA=Symbol("INSTALLED_KEY"),ra=["","default","small","large"],ste={large:40,default:32,small:24},rte=e=>ste[e||"default"],N0=e=>["",...ra].includes(e);var Kr=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(Kr||{});function A1(e){return Hi(e)&&e.type===Ft}function ote(e){return Hi(e)&&e.type===tr}function ate(e){return Hi(e)&&!A1(e)&&!ote(e)}const lte=e=>{if(!Hi(e))return{};const t=e.props||{},i=(Hi(e.type)?e.type.props:void 0)||{},s={};return Object.keys(i).forEach(o=>{Gn(i[o],"default")&&(s[o]=i[o].default)}),Object.keys(t).forEach(o=>{s[eo(o)]=t[o]}),s},cte=e=>{if(!Nt(e)||e.length>1)throw new Error("expect to receive a single Vue element child");return e[0]},Ed=e=>{const t=Nt(e)?e:[e],i=[];return t.forEach(s=>{var o;Nt(s)?i.push(...Ed(s)):Hi(s)&&Nt(s.children)?i.push(...Ed(s.children)):(i.push(s),Hi(s)&&((o=s.component)!=null&&o.subTree)&&i.push(...Ed(s.component.subTree)))}),i},mA=e=>[...new Set(e)],Ba=e=>!e&&e!==0?[]:Array.isArray(e)?e:[e],O0=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),ip=e=>Jn?window.requestAnimationFrame(e):setTimeout(e,16),D0=e=>Jn?window.cancelAnimationFrame(e):clearTimeout(e),F0=()=>Math.floor(Math.random()*1e4),Ui=e=>e,ute=["class","style"],dte=/^on[A-Z]/,kS=(e={})=>{const{excludeListeners:t=!1,excludeKeys:i}=e,s=D(()=>((i==null?void 0:i.value)||[]).concat(ute)),o=Tn();return D(o?()=>{var a;return zv(Object.entries((a=o.proxy)==null?void 0:a.$attrs).filter(([l])=>!s.value.includes(l)&&!(t&&dte.test(l))))}:()=>({}))},ta=({from:e,replacement:t,scope:i,version:s,ref:o,type:a="API"},l)=>{et(()=>h(l),u=>{},{immediate:!0})},aI=(e,t,i)=>{let s={offsetX:0,offsetY:0};const o=u=>{const f=u.clientX,p=u.clientY,{offsetX:g,offsetY:v}=s,b=e.value.getBoundingClientRect(),w=b.left,M=b.top,x=b.width,E=b.height,C=document.documentElement.clientWidth,k=document.documentElement.clientHeight,R=-w+g,P=-M+v,O=C-w-x+g,F=k-M-E+v,G=j=>{const q=Math.min(Math.max(g+j.clientX-f,R),O),ie=Math.min(Math.max(v+j.clientY-p,P),F);s={offsetX:q,offsetY:ie},e.value.style.transform=`translate(${es(q)}, ${es(ie)})`},H=()=>{document.removeEventListener("mousemove",G),document.removeEventListener("mouseup",H)};document.addEventListener("mousemove",G),document.addEventListener("mouseup",H)},a=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",o)},l=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",o)};_n(()=>{Dr(()=>{i.value?a():l()})}),Di(()=>{l()})},fte=e=>({focus:()=>{var t,i;(i=(t=e.value)==null?void 0:t.focus)==null||i.call(t)}});var hte={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const pte=e=>(t,i)=>mte(t,i,h(e)),mte=(e,t,i)=>$i(i,e,e).replace(/\{(\w+)\}/g,(s,o)=>{var a;return`${(a=t==null?void 0:t[o])!=null?a:`{${o}}`}`}),gte=e=>{const t=D(()=>h(e).name),i=Ti(e)?e:X(e);return{lang:t,locale:i,t:pte(e)}},lI=Symbol("localeContextKey"),ii=e=>{const t=e||Lt(lI,X());return gte(D(()=>t.value||hte))},$v="el",vte="is-",Mc=(e,t,i,s,o)=>{let a=`${e}-${t}`;return i&&(a+=`-${i}`),s&&(a+=`__${s}`),o&&(a+=`--${o}`),a},cI=Symbol("namespaceContextKey"),PS=e=>{const t=e||Lt(cI,X($v));return D(()=>h(t)||$v)},nt=(e,t)=>{const i=PS(t);return{namespace:i,b:(x="")=>Mc(i.value,e,x,"",""),e:x=>x?Mc(i.value,e,"",x,""):"",m:x=>x?Mc(i.value,e,"","",x):"",be:(x,E)=>x&&E?Mc(i.value,e,x,E,""):"",em:(x,E)=>x&&E?Mc(i.value,e,"",x,E):"",bm:(x,E)=>x&&E?Mc(i.value,e,x,"",E):"",bem:(x,E,C)=>x&&E&&C?Mc(i.value,e,x,E,C):"",is:(x,...E)=>{const C=E.length>=1?E[0]:!0;return x&&C?`${vte}${x}`:""},cssVar:x=>{const E={};for(const C in x)x[C]&&(E[`--${i.value}-${C}`]=x[C]);return E},cssVarName:x=>`--${i.value}-${x}`,cssVarBlock:x=>{const E={};for(const C in x)x[C]&&(E[`--${i.value}-${e}-${C}`]=x[C]);return E},cssVarBlockName:x=>`--${i.value}-${e}-${x}`}},uI=(e,t={})=>{Ti(e)||vs("[useLockscreen]","You need to pass a ref param to this function");const i=t.ns||nt("popup"),s=Pk(()=>i.bm("parent","hidden"));if(!Jn||Ro(document.body,s.value))return;let o=0,a=!1,l="0";const u=()=>{setTimeout(()=>{gr(document==null?void 0:document.body,s.value),a&&document&&(document.body.style.width=l)},200)};et(e,f=>{if(!f){u();return}a=!Ro(document.body,s.value),a&&(l=document.body.style.width),o=X3(i.namespace.value);const p=document.documentElement.clientHeight<document.body.scrollHeight,g=La(document.body,"overflowY");o>0&&(p||g==="scroll")&&a&&(document.body.style.width=`calc(100% - ${o}px)`),Zo(document.body,s.value)}),pk(()=>u())},yte=Do({type:De(Boolean),default:null}),bte=Do({type:De(Function)}),dI=e=>{const t=`update:${e}`,i=`onUpdate:${e}`,s=[t],o={[e]:yte,[i]:bte};return{useModelToggle:({indicator:l,toggleReason:u,shouldHideWhenRouteChanges:f,shouldProceed:p,onShow:g,onHide:v})=>{const b=Tn(),{emit:w}=b,M=b.props,x=D(()=>an(M[i])),E=D(()=>M[e]===null),C=G=>{l.value!==!0&&(l.value=!0,u&&(u.value=G),an(g)&&g(G))},k=G=>{l.value!==!1&&(l.value=!1,u&&(u.value=G),an(v)&&v(G))},R=G=>{if(M.disabled===!0||an(p)&&!p())return;const H=x.value&&Jn;H&&w(t,!0),(E.value||!H)&&C(G)},P=G=>{if(M.disabled===!0||!Jn)return;const H=x.value&&Jn;H&&w(t,!1),(E.value||!H)&&k(G)},O=G=>{ds(G)&&(M.disabled&&G?x.value&&w(t,!1):l.value!==G&&(G?C():k()))},F=()=>{l.value?P():R()};return et(()=>M[e],O),f&&b.appContext.config.globalProperties.$route!==void 0&&et(()=>({...b.proxy.$route}),()=>{f.value&&l.value&&P()}),_n(()=>{O(M[e])}),{hide:P,show:R,toggle:F,hasUpdateHandler:x}},useModelToggleProps:o,useModelToggleEmits:s}};dI("modelValue");const fI=e=>{const t=Tn();return D(()=>{var i,s;return(s=(i=t==null?void 0:t.proxy)==null?void 0:i.$props)==null?void 0:s[e]})};var vr="top",no="bottom",io="right",yr="left",IS="auto",Op=[vr,no,io,yr],Gd="start",sp="end",_te="clippingParents",hI="viewport",mh="popper",wte="reference",gA=Op.reduce(function(e,t){return e.concat([t+"-"+Gd,t+"-"+sp])},[]),su=[].concat(Op,[IS]).reduce(function(e,t){return e.concat([t,t+"-"+Gd,t+"-"+sp])},[]),Ste="beforeRead",xte="read",Mte="afterRead",Ete="beforeMain",Cte="main",Tte="afterMain",Ate="beforeWrite",Rte="write",kte="afterWrite",Pte=[Ste,xte,Mte,Ete,Cte,Tte,Ate,Rte,kte];function na(e){return e?(e.nodeName||"").toLowerCase():null}function Fo(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Kd(e){var t=Fo(e).Element;return e instanceof t||e instanceof Element}function Qr(e){var t=Fo(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function LS(e){if(typeof ShadowRoot>"u")return!1;var t=Fo(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Ite(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var s=t.styles[i]||{},o=t.attributes[i]||{},a=t.elements[i];!Qr(a)||!na(a)||(Object.assign(a.style,s),Object.keys(o).forEach(function(l){var u=o[l];u===!1?a.removeAttribute(l):a.setAttribute(l,u===!0?"":u)}))})}function Lte(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(s){var o=t.elements[s],a=t.attributes[s]||{},l=Object.keys(t.styles.hasOwnProperty(s)?t.styles[s]:i[s]),u=l.reduce(function(f,p){return f[p]="",f},{});!Qr(o)||!na(o)||(Object.assign(o.style,u),Object.keys(a).forEach(function(f){o.removeAttribute(f)}))})}}var pI={name:"applyStyles",enabled:!0,phase:"write",fn:Ite,effect:Lte,requires:["computeStyles"]};function Qo(e){return e.split("-")[0]}var Gc=Math.max,Uv=Math.min,qd=Math.round;function jd(e,t){t===void 0&&(t=!1);var i=e.getBoundingClientRect(),s=1,o=1;if(Qr(e)&&t){var a=e.offsetHeight,l=e.offsetWidth;l>0&&(s=qd(i.width)/l||1),a>0&&(o=qd(i.height)/a||1)}return{width:i.width/s,height:i.height/o,top:i.top/o,right:i.right/s,bottom:i.bottom/o,left:i.left/s,x:i.left/s,y:i.top/o}}function NS(e){var t=jd(e),i=e.offsetWidth,s=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:s}}function mI(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&LS(i)){var s=t;do{if(s&&e.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Ha(e){return Fo(e).getComputedStyle(e)}function Nte(e){return["table","td","th"].indexOf(na(e))>=0}function Gl(e){return((Kd(e)?e.ownerDocument:e.document)||window.document).documentElement}function B0(e){return na(e)==="html"?e:e.assignedSlot||e.parentNode||(LS(e)?e.host:null)||Gl(e)}function vA(e){return!Qr(e)||Ha(e).position==="fixed"?null:e.offsetParent}function Ote(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,i=navigator.userAgent.indexOf("Trident")!==-1;if(i&&Qr(e)){var s=Ha(e);if(s.position==="fixed")return null}var o=B0(e);for(LS(o)&&(o=o.host);Qr(o)&&["html","body"].indexOf(na(o))<0;){var a=Ha(o);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return o;o=o.parentNode}return null}function Dp(e){for(var t=Fo(e),i=vA(e);i&&Nte(i)&&Ha(i).position==="static";)i=vA(i);return i&&(na(i)==="html"||na(i)==="body"&&Ha(i).position==="static")?t:i||Ote(e)||t}function OS(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ph(e,t,i){return Gc(e,Uv(t,i))}function Dte(e,t,i){var s=Ph(e,t,i);return s>i?i:s}function gI(){return{top:0,right:0,bottom:0,left:0}}function vI(e){return Object.assign({},gI(),e)}function yI(e,t){return t.reduce(function(i,s){return i[s]=e,i},{})}var Fte=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,vI(typeof e!="number"?e:yI(e,Op))};function Bte(e){var t,i=e.state,s=e.name,o=e.options,a=i.elements.arrow,l=i.modifiersData.popperOffsets,u=Qo(i.placement),f=OS(u),p=[yr,io].indexOf(u)>=0,g=p?"height":"width";if(!(!a||!l)){var v=Fte(o.padding,i),b=NS(a),w=f==="y"?vr:yr,M=f==="y"?no:io,x=i.rects.reference[g]+i.rects.reference[f]-l[f]-i.rects.popper[g],E=l[f]-i.rects.reference[f],C=Dp(a),k=C?f==="y"?C.clientHeight||0:C.clientWidth||0:0,R=x/2-E/2,P=v[w],O=k-b[g]-v[M],F=k/2-b[g]/2+R,G=Ph(P,F,O),H=f;i.modifiersData[s]=(t={},t[H]=G,t.centerOffset=G-F,t)}}function zte(e){var t=e.state,i=e.options,s=i.element,o=s===void 0?"[data-popper-arrow]":s;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||!mI(t.elements.popper,o)||(t.elements.arrow=o))}var $te={name:"arrow",enabled:!0,phase:"main",fn:Bte,effect:zte,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xd(e){return e.split("-")[1]}var Ute={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vte(e){var t=e.x,i=e.y,s=window,o=s.devicePixelRatio||1;return{x:qd(t*o)/o||0,y:qd(i*o)/o||0}}function yA(e){var t,i=e.popper,s=e.popperRect,o=e.placement,a=e.variation,l=e.offsets,u=e.position,f=e.gpuAcceleration,p=e.adaptive,g=e.roundOffsets,v=e.isFixed,b=l.x,w=b===void 0?0:b,M=l.y,x=M===void 0?0:M,E=typeof g=="function"?g({x:w,y:x}):{x:w,y:x};w=E.x,x=E.y;var C=l.hasOwnProperty("x"),k=l.hasOwnProperty("y"),R=yr,P=vr,O=window;if(p){var F=Dp(i),G="clientHeight",H="clientWidth";if(F===Fo(i)&&(F=Gl(i),Ha(F).position!=="static"&&u==="absolute"&&(G="scrollHeight",H="scrollWidth")),F=F,o===vr||(o===yr||o===io)&&a===sp){P=no;var j=v&&F===O&&O.visualViewport?O.visualViewport.height:F[G];x-=j-s.height,x*=f?1:-1}if(o===yr||(o===vr||o===no)&&a===sp){R=io;var q=v&&F===O&&O.visualViewport?O.visualViewport.width:F[H];w-=q-s.width,w*=f?1:-1}}var ie=Object.assign({position:u},p&&Ute),Q=g===!0?Vte({x:w,y:x}):{x:w,y:x};if(w=Q.x,x=Q.y,f){var Z;return Object.assign({},ie,(Z={},Z[P]=k?"0":"",Z[R]=C?"0":"",Z.transform=(O.devicePixelRatio||1)<=1?"translate("+w+"px, "+x+"px)":"translate3d("+w+"px, "+x+"px, 0)",Z))}return Object.assign({},ie,(t={},t[P]=k?x+"px":"",t[R]=C?w+"px":"",t.transform="",t))}function Hte(e){var t=e.state,i=e.options,s=i.gpuAcceleration,o=s===void 0?!0:s,a=i.adaptive,l=a===void 0?!0:a,u=i.roundOffsets,f=u===void 0?!0:u,p={placement:Qo(t.placement),variation:Xd(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,yA(Object.assign({},p,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:f})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,yA(Object.assign({},p,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var bI={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Hte,data:{}},Lg={passive:!0};function Wte(e){var t=e.state,i=e.instance,s=e.options,o=s.scroll,a=o===void 0?!0:o,l=s.resize,u=l===void 0?!0:l,f=Fo(t.elements.popper),p=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&p.forEach(function(g){g.addEventListener("scroll",i.update,Lg)}),u&&f.addEventListener("resize",i.update,Lg),function(){a&&p.forEach(function(g){g.removeEventListener("scroll",i.update,Lg)}),u&&f.removeEventListener("resize",i.update,Lg)}}var _I={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Wte,data:{}},Gte={left:"right",right:"left",bottom:"top",top:"bottom"};function lv(e){return e.replace(/left|right|bottom|top/g,function(t){return Gte[t]})}var Kte={start:"end",end:"start"};function bA(e){return e.replace(/start|end/g,function(t){return Kte[t]})}function DS(e){var t=Fo(e),i=t.pageXOffset,s=t.pageYOffset;return{scrollLeft:i,scrollTop:s}}function FS(e){return jd(Gl(e)).left+DS(e).scrollLeft}function qte(e){var t=Fo(e),i=Gl(e),s=t.visualViewport,o=i.clientWidth,a=i.clientHeight,l=0,u=0;return s&&(o=s.width,a=s.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(l=s.offsetLeft,u=s.offsetTop)),{width:o,height:a,x:l+FS(e),y:u}}function jte(e){var t,i=Gl(e),s=DS(e),o=(t=e.ownerDocument)==null?void 0:t.body,a=Gc(i.scrollWidth,i.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),l=Gc(i.scrollHeight,i.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),u=-s.scrollLeft+FS(e),f=-s.scrollTop;return Ha(o||i).direction==="rtl"&&(u+=Gc(i.clientWidth,o?o.clientWidth:0)-a),{width:a,height:l,x:u,y:f}}function BS(e){var t=Ha(e),i=t.overflow,s=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+o+s)}function wI(e){return["html","body","#document"].indexOf(na(e))>=0?e.ownerDocument.body:Qr(e)&&BS(e)?e:wI(B0(e))}function Ih(e,t){var i;t===void 0&&(t=[]);var s=wI(e),o=s===((i=e.ownerDocument)==null?void 0:i.body),a=Fo(s),l=o?[a].concat(a.visualViewport||[],BS(s)?s:[]):s,u=t.concat(l);return o?u:u.concat(Ih(B0(l)))}function R1(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Xte(e){var t=jd(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function _A(e,t){return t===hI?R1(qte(e)):Kd(t)?Xte(t):R1(jte(Gl(e)))}function Yte(e){var t=Ih(B0(e)),i=["absolute","fixed"].indexOf(Ha(e).position)>=0,s=i&&Qr(e)?Dp(e):e;return Kd(s)?t.filter(function(o){return Kd(o)&&mI(o,s)&&na(o)!=="body"}):[]}function Zte(e,t,i){var s=t==="clippingParents"?Yte(e):[].concat(t),o=[].concat(s,[i]),a=o[0],l=o.reduce(function(u,f){var p=_A(e,f);return u.top=Gc(p.top,u.top),u.right=Uv(p.right,u.right),u.bottom=Uv(p.bottom,u.bottom),u.left=Gc(p.left,u.left),u},_A(e,a));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function SI(e){var t=e.reference,i=e.element,s=e.placement,o=s?Qo(s):null,a=s?Xd(s):null,l=t.x+t.width/2-i.width/2,u=t.y+t.height/2-i.height/2,f;switch(o){case vr:f={x:l,y:t.y-i.height};break;case no:f={x:l,y:t.y+t.height};break;case io:f={x:t.x+t.width,y:u};break;case yr:f={x:t.x-i.width,y:u};break;default:f={x:t.x,y:t.y}}var p=o?OS(o):null;if(p!=null){var g=p==="y"?"height":"width";switch(a){case Gd:f[p]=f[p]-(t[g]/2-i[g]/2);break;case sp:f[p]=f[p]+(t[g]/2-i[g]/2);break}}return f}function rp(e,t){t===void 0&&(t={});var i=t,s=i.placement,o=s===void 0?e.placement:s,a=i.boundary,l=a===void 0?_te:a,u=i.rootBoundary,f=u===void 0?hI:u,p=i.elementContext,g=p===void 0?mh:p,v=i.altBoundary,b=v===void 0?!1:v,w=i.padding,M=w===void 0?0:w,x=vI(typeof M!="number"?M:yI(M,Op)),E=g===mh?wte:mh,C=e.rects.popper,k=e.elements[b?E:g],R=Zte(Kd(k)?k:k.contextElement||Gl(e.elements.popper),l,f),P=jd(e.elements.reference),O=SI({reference:P,element:C,strategy:"absolute",placement:o}),F=R1(Object.assign({},C,O)),G=g===mh?F:P,H={top:R.top-G.top+x.top,bottom:G.bottom-R.bottom+x.bottom,left:R.left-G.left+x.left,right:G.right-R.right+x.right},j=e.modifiersData.offset;if(g===mh&&j){var q=j[o];Object.keys(H).forEach(function(ie){var Q=[io,no].indexOf(ie)>=0?1:-1,Z=[vr,no].indexOf(ie)>=0?"y":"x";H[ie]+=q[Z]*Q})}return H}function Jte(e,t){t===void 0&&(t={});var i=t,s=i.placement,o=i.boundary,a=i.rootBoundary,l=i.padding,u=i.flipVariations,f=i.allowedAutoPlacements,p=f===void 0?su:f,g=Xd(s),v=g?u?gA:gA.filter(function(M){return Xd(M)===g}):Op,b=v.filter(function(M){return p.indexOf(M)>=0});b.length===0&&(b=v);var w=b.reduce(function(M,x){return M[x]=rp(e,{placement:x,boundary:o,rootBoundary:a,padding:l})[Qo(x)],M},{});return Object.keys(w).sort(function(M,x){return w[M]-w[x]})}function Qte(e){if(Qo(e)===IS)return[];var t=lv(e);return[bA(e),t,bA(t)]}function ene(e){var t=e.state,i=e.options,s=e.name;if(!t.modifiersData[s]._skip){for(var o=i.mainAxis,a=o===void 0?!0:o,l=i.altAxis,u=l===void 0?!0:l,f=i.fallbackPlacements,p=i.padding,g=i.boundary,v=i.rootBoundary,b=i.altBoundary,w=i.flipVariations,M=w===void 0?!0:w,x=i.allowedAutoPlacements,E=t.options.placement,C=Qo(E),k=C===E,R=f||(k||!M?[lv(E)]:Qte(E)),P=[E].concat(R).reduce(function(Ge,Te){return Ge.concat(Qo(Te)===IS?Jte(t,{placement:Te,boundary:g,rootBoundary:v,padding:p,flipVariations:M,allowedAutoPlacements:x}):Te)},[]),O=t.rects.reference,F=t.rects.popper,G=new Map,H=!0,j=P[0],q=0;q<P.length;q++){var ie=P[q],Q=Qo(ie),Z=Xd(ie)===Gd,re=[vr,no].indexOf(Q)>=0,ce=re?"width":"height",te=rp(t,{placement:ie,boundary:g,rootBoundary:v,altBoundary:b,padding:p}),W=re?Z?io:yr:Z?no:vr;O[ce]>F[ce]&&(W=lv(W));var ee=lv(W),J=[];if(a&&J.push(te[Q]<=0),u&&J.push(te[W]<=0,te[ee]<=0),J.every(function(Ge){return Ge})){j=ie,H=!1;break}G.set(ie,J)}if(H)for(var pe=M?3:1,Ee=function(Ge){var Te=P.find(function(xe){var Ie=G.get(xe);if(Ie)return Ie.slice(0,Ge).every(function(ge){return ge})});if(Te)return j=Te,"break"},he=pe;he>0;he--){var Ce=Ee(he);if(Ce==="break")break}t.placement!==j&&(t.modifiersData[s]._skip=!0,t.placement=j,t.reset=!0)}}var tne={name:"flip",enabled:!0,phase:"main",fn:ene,requiresIfExists:["offset"],data:{_skip:!1}};function wA(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function SA(e){return[vr,io,no,yr].some(function(t){return e[t]>=0})}function nne(e){var t=e.state,i=e.name,s=t.rects.reference,o=t.rects.popper,a=t.modifiersData.preventOverflow,l=rp(t,{elementContext:"reference"}),u=rp(t,{altBoundary:!0}),f=wA(l,s),p=wA(u,o,a),g=SA(f),v=SA(p);t.modifiersData[i]={referenceClippingOffsets:f,popperEscapeOffsets:p,isReferenceHidden:g,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":v})}var ine={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:nne};function sne(e,t,i){var s=Qo(e),o=[yr,vr].indexOf(s)>=0?-1:1,a=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,l=a[0],u=a[1];return l=l||0,u=(u||0)*o,[yr,io].indexOf(s)>=0?{x:u,y:l}:{x:l,y:u}}function rne(e){var t=e.state,i=e.options,s=e.name,o=i.offset,a=o===void 0?[0,0]:o,l=su.reduce(function(g,v){return g[v]=sne(v,t.rects,a),g},{}),u=l[t.placement],f=u.x,p=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=p),t.modifiersData[s]=l}var one={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:rne};function ane(e){var t=e.state,i=e.name;t.modifiersData[i]=SI({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var xI={name:"popperOffsets",enabled:!0,phase:"read",fn:ane,data:{}};function lne(e){return e==="x"?"y":"x"}function cne(e){var t=e.state,i=e.options,s=e.name,o=i.mainAxis,a=o===void 0?!0:o,l=i.altAxis,u=l===void 0?!1:l,f=i.boundary,p=i.rootBoundary,g=i.altBoundary,v=i.padding,b=i.tether,w=b===void 0?!0:b,M=i.tetherOffset,x=M===void 0?0:M,E=rp(t,{boundary:f,rootBoundary:p,padding:v,altBoundary:g}),C=Qo(t.placement),k=Xd(t.placement),R=!k,P=OS(C),O=lne(P),F=t.modifiersData.popperOffsets,G=t.rects.reference,H=t.rects.popper,j=typeof x=="function"?x(Object.assign({},t.rects,{placement:t.placement})):x,q=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),ie=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Q={x:0,y:0};if(F){if(a){var Z,re=P==="y"?vr:yr,ce=P==="y"?no:io,te=P==="y"?"height":"width",W=F[P],ee=W+E[re],J=W-E[ce],pe=w?-H[te]/2:0,Ee=k===Gd?G[te]:H[te],he=k===Gd?-H[te]:-G[te],Ce=t.elements.arrow,Ge=w&&Ce?NS(Ce):{width:0,height:0},Te=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:gI(),xe=Te[re],Ie=Te[ce],ge=Ph(0,G[te],Ge[te]),Le=R?G[te]/2-pe-ge-xe-q.mainAxis:Ee-ge-xe-q.mainAxis,Ue=R?-G[te]/2+pe+ge+Ie+q.mainAxis:he+ge+Ie+q.mainAxis,ut=t.elements.arrow&&Dp(t.elements.arrow),ue=ut?P==="y"?ut.clientTop||0:ut.clientLeft||0:0,we=(Z=ie==null?void 0:ie[P])!=null?Z:0,Ve=W+Le-we-ue,Ye=W+Ue-we,lt=Ph(w?Uv(ee,Ve):ee,W,w?Gc(J,Ye):J);F[P]=lt,Q[P]=lt-W}if(u){var He,ct=P==="x"?vr:yr,Qe=P==="x"?no:io,rt=F[O],Je=O==="y"?"height":"width",Mt=rt+E[ct],yt=rt-E[Qe],We=[vr,yr].indexOf(C)!==-1,_t=(He=ie==null?void 0:ie[O])!=null?He:0,Ut=We?Mt:rt-G[Je]-H[Je]-_t+q.altAxis,fn=We?rt+G[Je]+H[Je]-_t-q.altAxis:yt,Pe=w&&We?Dte(Ut,rt,fn):Ph(w?Ut:Mt,rt,w?fn:yt);F[O]=Pe,Q[O]=Pe-rt}t.modifiersData[s]=Q}}var une={name:"preventOverflow",enabled:!0,phase:"main",fn:cne,requiresIfExists:["offset"]};function dne(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function fne(e){return e===Fo(e)||!Qr(e)?DS(e):dne(e)}function hne(e){var t=e.getBoundingClientRect(),i=qd(t.width)/e.offsetWidth||1,s=qd(t.height)/e.offsetHeight||1;return i!==1||s!==1}function pne(e,t,i){i===void 0&&(i=!1);var s=Qr(t),o=Qr(t)&&hne(t),a=Gl(t),l=jd(e,o),u={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(s||!s&&!i)&&((na(t)!=="body"||BS(a))&&(u=fne(t)),Qr(t)?(f=jd(t,!0),f.x+=t.clientLeft,f.y+=t.clientTop):a&&(f.x=FS(a))),{x:l.left+u.scrollLeft-f.x,y:l.top+u.scrollTop-f.y,width:l.width,height:l.height}}function mne(e){var t=new Map,i=new Set,s=[];e.forEach(function(a){t.set(a.name,a)});function o(a){i.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(u){if(!i.has(u)){var f=t.get(u);f&&o(f)}}),s.push(a)}return e.forEach(function(a){i.has(a.name)||o(a)}),s}function gne(e){var t=mne(e);return Pte.reduce(function(i,s){return i.concat(t.filter(function(o){return o.phase===s}))},[])}function vne(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function yne(e){var t=e.reduce(function(i,s){var o=i[s.name];return i[s.name]=o?Object.assign({},o,s,{options:Object.assign({},o.options,s.options),data:Object.assign({},o.data,s.data)}):s,i},{});return Object.keys(t).map(function(i){return t[i]})}var xA={placement:"bottom",modifiers:[],strategy:"absolute"};function MA(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function zS(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,s=i===void 0?[]:i,o=t.defaultOptions,a=o===void 0?xA:o;return function(l,u,f){f===void 0&&(f=a);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},xA,a),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},g=[],v=!1,b={state:p,setOptions:function(x){var E=typeof x=="function"?x(p.options):x;M(),p.options=Object.assign({},a,p.options,E),p.scrollParents={reference:Kd(l)?Ih(l):l.contextElement?Ih(l.contextElement):[],popper:Ih(u)};var C=gne(yne([].concat(s,p.options.modifiers)));return p.orderedModifiers=C.filter(function(k){return k.enabled}),w(),b.update()},forceUpdate:function(){if(!v){var x=p.elements,E=x.reference,C=x.popper;if(MA(E,C)){p.rects={reference:pne(E,Dp(C),p.options.strategy==="fixed"),popper:NS(C)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(H){return p.modifiersData[H.name]=Object.assign({},H.data)});for(var k=0;k<p.orderedModifiers.length;k++){if(p.reset===!0){p.reset=!1,k=-1;continue}var R=p.orderedModifiers[k],P=R.fn,O=R.options,F=O===void 0?{}:O,G=R.name;typeof P=="function"&&(p=P({state:p,options:F,name:G,instance:b})||p)}}}},update:vne(function(){return new Promise(function(x){b.forceUpdate(),x(p)})}),destroy:function(){M(),v=!0}};if(!MA(l,u))return b;b.setOptions(f).then(function(x){!v&&f.onFirstUpdate&&f.onFirstUpdate(x)});function w(){p.orderedModifiers.forEach(function(x){var E=x.name,C=x.options,k=C===void 0?{}:C,R=x.effect;if(typeof R=="function"){var P=R({state:p,name:E,instance:b,options:k}),O=function(){};g.push(P||O)}})}function M(){g.forEach(function(x){return x()}),g=[]}return b}}zS();var bne=[_I,xI,bI,pI];zS({defaultModifiers:bne});var _ne=[_I,xI,bI,pI,one,tne,une,$te,ine],MI=zS({defaultModifiers:_ne});const wne=(e,t,i={})=>{const s={name:"updateState",enabled:!0,phase:"write",fn:({state:f})=>{const p=Sne(f);Object.assign(l.value,p)},requires:["computeStyles"]},o=D(()=>{const{onFirstUpdate:f,placement:p,strategy:g,modifiers:v}=h(i);return{onFirstUpdate:f,placement:p||"bottom",strategy:g||"absolute",modifiers:[...v||[],s,{name:"applyStyles",enabled:!1}]}}),a=ki(),l=X({styles:{popper:{position:h(o).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),u=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return et(o,f=>{const p=h(a);p&&p.setOptions(f)},{deep:!0}),et([e,t],([f,p])=>{u(),!(!f||!p)&&(a.value=MI(f,p,h(o)))}),Di(()=>{u()}),{state:D(()=>{var f;return{...((f=h(a))==null?void 0:f.state)||{}}}),styles:D(()=>h(l).styles),attributes:D(()=>h(l).attributes),update:()=>{var f;return(f=h(a))==null?void 0:f.update()},forceUpdate:()=>{var f;return(f=h(a))==null?void 0:f.forceUpdate()},instanceRef:D(()=>h(a))}};function Sne(e){const t=Object.keys(e.elements),i=zv(t.map(o=>[o,e.styles[o]||{}])),s=zv(t.map(o=>[o,e.attributes[o]]));return{styles:i,attributes:s}}const xne=(e,t)=>{let i;et(()=>e.value,s=>{var o,a;s?(i=document.activeElement,Ti(t)&&((a=(o=t.value).focus)==null||a.call(o))):i.focus()})},$S=e=>{if(!e)return{onClick:_i,onMousedown:_i,onMouseup:_i};let t=!1,i=!1;return{onClick:l=>{t&&i&&e(l),t=i=!1},onMousedown:l=>{t=l.target===l.currentTarget},onMouseup:l=>{i=l.target===l.currentTarget}}},Mne=(e,t=0)=>{if(t===0)return e;const i=X(!1);let s=0;const o=()=>{s&&clearTimeout(s),s=window.setTimeout(()=>{i.value=e.value},t)};return _n(o),et(()=>e.value,a=>{a?o():i.value=a}),i};function EA(){let e;const t=(s,o)=>{i(),e=window.setTimeout(s,o)},i=()=>window.clearTimeout(e);return x0(()=>i()),{registerTimeout:t,cancelTimeout:i}}const CA={prefix:Math.floor(Math.random()*1e4),current:0},Ene=Symbol("elIdInjection"),EI=()=>Tn()?Lt(Ene,CA):CA,so=e=>{const t=EI(),i=PS();return D(()=>h(e)||`${i.value}-id-${t.prefix}-${t.current++}`)};let ud=[];const TA=e=>{const t=e;t.key===Xt.esc&&ud.forEach(i=>i(t))},Cne=e=>{_n(()=>{ud.length===0&&document.addEventListener("keydown",TA),Jn&&ud.push(e)}),Di(()=>{ud=ud.filter(t=>t!==e),ud.length===0&&Jn&&document.removeEventListener("keydown",TA)})};let AA;const CI=()=>{const e=PS(),t=EI(),i=D(()=>`${e.value}-popper-container-${t.prefix}`),s=D(()=>`#${i.value}`);return{id:i,selector:s}},Tne=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},Ane=()=>{const{id:e,selector:t}=CI();return u0(()=>{Jn&&!AA&&!document.body.querySelector(t.value)&&(AA=Tne(e.value))}),{id:e,selector:t}},Rne=pt({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),TI=({showAfter:e,hideAfter:t,autoClose:i,open:s,close:o})=>{const{registerTimeout:a}=EA(),{registerTimeout:l,cancelTimeout:u}=EA();return{onOpen:g=>{a(()=>{s(g);const v=h(i);on(v)&&v>0&&l(()=>{o(g)},v)},h(e))},onClose:g=>{u(),a(()=>{o(g)},h(t))}}},AI=Symbol("elForwardRef"),kne=e=>{On(AI,{setForwardRef:i=>{e.value=i}})},Pne=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),RA=X(0),RI=2e3,kI=Symbol("zIndexContextKey"),uf=e=>{const t=e||Lt(kI,void 0),i=D(()=>{const a=h(t);return on(a)?a:RI}),s=D(()=>i.value+RA.value);return{initialZIndex:i,currentZIndex:s,nextZIndex:()=>(RA.value++,s.value)}};function US(e){return e.split("-")[1]}function PI(e){return e==="y"?"height":"width"}function VS(e){return e.split("-")[0]}function HS(e){return["top","bottom"].includes(VS(e))?"x":"y"}function kA(e,t,i){let{reference:s,floating:o}=e;const a=s.x+s.width/2-o.width/2,l=s.y+s.height/2-o.height/2,u=HS(t),f=PI(u),p=s[f]/2-o[f]/2,g=u==="x";let v;switch(VS(t)){case"top":v={x:a,y:s.y-o.height};break;case"bottom":v={x:a,y:s.y+s.height};break;case"right":v={x:s.x+s.width,y:l};break;case"left":v={x:s.x-o.width,y:l};break;default:v={x:s.x,y:s.y}}switch(US(t)){case"start":v[u]-=p*(i&&g?-1:1);break;case"end":v[u]+=p*(i&&g?-1:1)}return v}const Ine=async(e,t,i)=>{const{placement:s="bottom",strategy:o="absolute",middleware:a=[],platform:l}=i,u=a.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(t));let p=await l.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y:v}=kA(p,s,f),b=s,w={},M=0;for(let x=0;x<u.length;x++){const{name:E,fn:C}=u[x],{x:k,y:R,data:P,reset:O}=await C({x:g,y:v,initialPlacement:s,placement:b,strategy:o,middlewareData:w,rects:p,platform:l,elements:{reference:e,floating:t}});g=k??g,v=R??v,w={...w,[E]:{...w[E],...P}},O&&M<=50&&(M++,typeof O=="object"&&(O.placement&&(b=O.placement),O.rects&&(p=O.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:o}):O.rects),{x:g,y:v}=kA(p,b,f)),x=-1)}return{x:g,y:v,placement:b,strategy:o,middlewareData:w}};function Lne(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function II(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}const Nne=Math.min,One=Math.max;function Dne(e,t,i){return One(e,Nne(t,i))}const Fne=e=>({name:"arrow",options:e,async fn(t){const{element:i,padding:s=0}=e||{},{x:o,y:a,placement:l,rects:u,platform:f,elements:p}=t;if(i==null)return{};const g=Lne(s),v={x:o,y:a},b=HS(l),w=PI(b),M=await f.getDimensions(i),x=b==="y",E=x?"top":"left",C=x?"bottom":"right",k=x?"clientHeight":"clientWidth",R=u.reference[w]+u.reference[b]-v[b]-u.floating[w],P=v[b]-u.reference[b],O=await(f.getOffsetParent==null?void 0:f.getOffsetParent(i));let F=O?O[k]:0;F&&await(f.isElement==null?void 0:f.isElement(O))||(F=p.floating[k]||u.floating[w]);const G=R/2-P/2,H=g[E],j=F-M[w]-g[C],q=F/2-M[w]/2+G,ie=Dne(H,q,j),Q=US(l)!=null&&q!=ie&&u.reference[w]/2-(q<H?g[E]:g[C])-M[w]/2<0;return{[b]:v[b]-(Q?q<H?H-q:j-q:0),data:{[b]:ie,centerOffset:q-ie}}}}),Bne=["top","right","bottom","left"];Bne.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const zne=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:i,y:s}=t,o=await async function(a,l){const{placement:u,platform:f,elements:p}=a,g=await(f.isRTL==null?void 0:f.isRTL(p.floating)),v=VS(u),b=US(u),w=HS(u)==="x",M=["left","top"].includes(v)?-1:1,x=g&&w?-1:1,E=typeof l=="function"?l(a):l;let{mainAxis:C,crossAxis:k,alignmentAxis:R}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...E};return b&&typeof R=="number"&&(k=b==="end"?-1*R:R),w?{x:k*x,y:C*M}:{x:C*M,y:k*x}}(t,e);return{x:i+o.x,y:s+o.y,data:o}}}};function Nr(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ko(e){return Nr(e).getComputedStyle(e)}function LI(e){return e instanceof Nr(e).Node}function Fl(e){return LI(e)?(e.nodeName||"").toLowerCase():""}let Ng;function NI(){if(Ng)return Ng;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(Ng=e.brands.map(t=>t.brand+"/"+t.version).join(" "),Ng):navigator.userAgent}function No(e){return e instanceof Nr(e).HTMLElement}function za(e){return e instanceof Nr(e).Element}function PA(e){return typeof ShadowRoot>"u"?!1:e instanceof Nr(e).ShadowRoot||e instanceof ShadowRoot}function op(e){const{overflow:t,overflowX:i,overflowY:s,display:o}=ko(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+i)&&!["inline","contents"].includes(o)}function $ne(e){return["table","td","th"].includes(Fl(e))}function k1(e){const t=/firefox/i.test(NI()),i=ko(e),s=i.backdropFilter||i.WebkitBackdropFilter;return i.transform!=="none"||i.perspective!=="none"||!!s&&s!=="none"||t&&i.willChange==="filter"||t&&!!i.filter&&i.filter!=="none"||["transform","perspective"].some(o=>i.willChange.includes(o))||["paint","layout","strict","content"].some(o=>{const a=i.contain;return a!=null&&a.includes(o)})}function P1(){return/^((?!chrome|android).)*safari/i.test(NI())}function z0(e){return["html","body","#document"].includes(Fl(e))}const IA=Math.min,Lh=Math.max,Vv=Math.round;function OI(e){const t=ko(e);let i=parseFloat(t.width),s=parseFloat(t.height);const o=No(e),a=o?e.offsetWidth:i,l=o?e.offsetHeight:s,u=Vv(i)!==a||Vv(s)!==l;return u&&(i=a,s=l),{width:i,height:s,fallback:u}}function DI(e){return za(e)?e:e.contextElement}const FI={x:1,y:1};function Cd(e){const t=DI(e);if(!No(t))return FI;const i=t.getBoundingClientRect(),{width:s,height:o,fallback:a}=OI(t);let l=(a?Vv(i.width):i.width)/s,u=(a?Vv(i.height):i.height)/o;return l&&Number.isFinite(l)||(l=1),u&&Number.isFinite(u)||(u=1),{x:l,y:u}}function ap(e,t,i,s){var o,a;t===void 0&&(t=!1),i===void 0&&(i=!1);const l=e.getBoundingClientRect(),u=DI(e);let f=FI;t&&(s?za(s)&&(f=Cd(s)):f=Cd(e));const p=u?Nr(u):window,g=P1()&&i;let v=(l.left+(g&&((o=p.visualViewport)==null?void 0:o.offsetLeft)||0))/f.x,b=(l.top+(g&&((a=p.visualViewport)==null?void 0:a.offsetTop)||0))/f.y,w=l.width/f.x,M=l.height/f.y;if(u){const x=Nr(u),E=s&&za(s)?Nr(s):s;let C=x.frameElement;for(;C&&s&&E!==x;){const k=Cd(C),R=C.getBoundingClientRect(),P=getComputedStyle(C);R.x+=(C.clientLeft+parseFloat(P.paddingLeft))*k.x,R.y+=(C.clientTop+parseFloat(P.paddingTop))*k.y,v*=k.x,b*=k.y,w*=k.x,M*=k.y,v+=R.x,b+=R.y,C=Nr(C).frameElement}}return II({width:w,height:M,x:v,y:b})}function Pl(e){return((LI(e)?e.ownerDocument:e.document)||window.document).documentElement}function $0(e){return za(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function BI(e){return ap(Pl(e)).left+$0(e).scrollLeft}function Yd(e){if(Fl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||PA(e)&&e.host||Pl(e);return PA(t)?t.host:t}function zI(e){const t=Yd(e);return z0(t)?t.ownerDocument.body:No(t)&&op(t)?t:zI(t)}function $I(e,t){var i;t===void 0&&(t=[]);const s=zI(e),o=s===((i=e.ownerDocument)==null?void 0:i.body),a=Nr(s);return o?t.concat(a,a.visualViewport||[],op(s)?s:[]):t.concat(s,$I(s))}function LA(e,t,i){let s;if(t==="viewport")s=function(l,u){const f=Nr(l),p=Pl(l),g=f.visualViewport;let v=p.clientWidth,b=p.clientHeight,w=0,M=0;if(g){v=g.width,b=g.height;const x=P1();(!x||x&&u==="fixed")&&(w=g.offsetLeft,M=g.offsetTop)}return{width:v,height:b,x:w,y:M}}(e,i);else if(t==="document")s=function(l){const u=Pl(l),f=$0(l),p=l.ownerDocument.body,g=Lh(u.scrollWidth,u.clientWidth,p.scrollWidth,p.clientWidth),v=Lh(u.scrollHeight,u.clientHeight,p.scrollHeight,p.clientHeight);let b=-f.scrollLeft+BI(l);const w=-f.scrollTop;return ko(p).direction==="rtl"&&(b+=Lh(u.clientWidth,p.clientWidth)-g),{width:g,height:v,x:b,y:w}}(Pl(e));else if(za(t))s=function(l,u){const f=ap(l,!0,u==="fixed"),p=f.top+l.clientTop,g=f.left+l.clientLeft,v=No(l)?Cd(l):{x:1,y:1};return{width:l.clientWidth*v.x,height:l.clientHeight*v.y,x:g*v.x,y:p*v.y}}(t,i);else{const l={...t};if(P1()){var o,a;const u=Nr(e);l.x-=((o=u.visualViewport)==null?void 0:o.offsetLeft)||0,l.y-=((a=u.visualViewport)==null?void 0:a.offsetTop)||0}s=l}return II(s)}function UI(e,t){const i=Yd(e);return!(i===t||!za(i)||z0(i))&&(ko(i).position==="fixed"||UI(i,t))}function NA(e,t){return No(e)&&ko(e).position!=="fixed"?t?t(e):e.offsetParent:null}function OA(e,t){const i=Nr(e);if(!No(e))return i;let s=NA(e,t);for(;s&&$ne(s)&&ko(s).position==="static";)s=NA(s,t);return s&&(Fl(s)==="html"||Fl(s)==="body"&&ko(s).position==="static"&&!k1(s))?i:s||function(o){let a=Yd(o);for(;No(a)&&!z0(a);){if(k1(a))return a;a=Yd(a)}return null}(e)||i}function Une(e,t,i){const s=No(t),o=Pl(t),a=ap(e,!0,i==="fixed",t);let l={scrollLeft:0,scrollTop:0};const u={x:0,y:0};if(s||!s&&i!=="fixed")if((Fl(t)!=="body"||op(o))&&(l=$0(t)),No(t)){const f=ap(t,!0);u.x=f.x+t.clientLeft,u.y=f.y+t.clientTop}else o&&(u.x=BI(o));return{x:a.left+l.scrollLeft-u.x,y:a.top+l.scrollTop-u.y,width:a.width,height:a.height}}const Vne={getClippingRect:function(e){let{element:t,boundary:i,rootBoundary:s,strategy:o}=e;const a=i==="clippingAncestors"?function(p,g){const v=g.get(p);if(v)return v;let b=$I(p).filter(E=>za(E)&&Fl(E)!=="body"),w=null;const M=ko(p).position==="fixed";let x=M?Yd(p):p;for(;za(x)&&!z0(x);){const E=ko(x),C=k1(x);C||E.position!=="fixed"||(w=null),(M?!C&&!w:!C&&E.position==="static"&&w&&["absolute","fixed"].includes(w.position)||op(x)&&!C&&UI(p,x))?b=b.filter(k=>k!==x):w=E,x=Yd(x)}return g.set(p,b),b}(t,this._c):[].concat(i),l=[...a,s],u=l[0],f=l.reduce((p,g)=>{const v=LA(t,g,o);return p.top=Lh(v.top,p.top),p.right=IA(v.right,p.right),p.bottom=IA(v.bottom,p.bottom),p.left=Lh(v.left,p.left),p},LA(t,u,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:i,strategy:s}=e;const o=No(i),a=Pl(i);if(i===a)return t;let l={scrollLeft:0,scrollTop:0},u={x:1,y:1};const f={x:0,y:0};if((o||!o&&s!=="fixed")&&((Fl(i)!=="body"||op(a))&&(l=$0(i)),No(i))){const p=ap(i);u=Cd(i),f.x=p.x+i.clientLeft,f.y=p.y+i.clientTop}return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+f.x,y:t.y*u.y-l.scrollTop*u.y+f.y}},isElement:za,getDimensions:function(e){return OI(e)},getOffsetParent:OA,getDocumentElement:Pl,getScale:Cd,async getElementRects(e){let{reference:t,floating:i,strategy:s}=e;const o=this.getOffsetParent||OA,a=this.getDimensions;return{reference:Une(t,await o(i),s),floating:{x:0,y:0,...await a(i)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>ko(e).direction==="rtl"},Hne=(e,t,i)=>{const s=new Map,o={platform:Vne,...i},a={...o.platform,_c:s};return Ine(e,t,{...o,platform:a})};pt({});const Wne=e=>{if(!Jn)return;if(!e)return e;const t=Lr(e);return t||(Ti(e)?t:e)},Gne=({middleware:e,placement:t,strategy:i})=>{const s=X(),o=X(),a=X(),l=X(),u=X({}),f={x:a,y:l,placement:t,strategy:i,middlewareData:u},p=async()=>{if(!Jn)return;const g=Wne(s),v=Lr(o);if(!g||!v)return;const b=await Hne(g,v,{placement:h(t),strategy:h(i),middleware:h(e)});np(f).forEach(w=>{f[w].value=b[w]})};return _n(()=>{Dr(()=>{p()})}),{...f,update:p,referenceRef:s,contentRef:o}},Kne=({arrowRef:e,padding:t})=>({name:"arrow",options:{element:e,padding:t},fn(i){const s=h(e);return s?Fne({element:s,padding:t}).fn(i):{}}});function qne(e){const t=X();function i(){if(e.value==null)return;const{selectionStart:o,selectionEnd:a,value:l}=e.value;if(o==null||a==null)return;const u=l.slice(0,Math.max(0,o)),f=l.slice(Math.max(0,a));t.value={selectionStart:o,selectionEnd:a,value:l,beforeTxt:u,afterTxt:f}}function s(){if(e.value==null||t.value==null)return;const{value:o}=e.value,{beforeTxt:a,afterTxt:l,selectionStart:u}=t.value;if(a==null||l==null||u==null)return;let f=o.length;if(o.endsWith(l))f=o.length-l.length;else if(o.startsWith(a))f=a.length;else{const p=a[u-1],g=o.indexOf(p,u-1);g!==-1&&(f=g+1)}e.value.setSelectionRange(f,f)}return[i,s]}const jne=(e,t,i)=>Ed(e.subTree).filter(a=>{var l;return Hi(a)&&((l=a.type)==null?void 0:l.name)===t&&!!a.component}).map(a=>a.component.uid).map(a=>i[a]).filter(a=>!!a),VI=(e,t)=>{const i={},s=ki([]);return{children:s,addChild:l=>{i[l.uid]=l,s.value=jne(e,t,i)},removeChild:l=>{delete i[l],s.value=s.value.filter(u=>u.uid!==l)}}},Ds=Do({type:String,values:ra,required:!1}),HI=Symbol("size"),Xne=()=>{const e=Lt(HI,{});return D(()=>h(e.size)||"")},WI=Symbol(),Hv=X();function U0(e,t=void 0){const i=Tn()?Lt(WI,Hv):Hv;return e?D(()=>{var s,o;return(o=(s=i.value)==null?void 0:s[e])!=null?o:t}):i}function V0(e,t){const i=U0(),s=nt(e,D(()=>{var u;return((u=i.value)==null?void 0:u.namespace)||$v})),o=ii(D(()=>{var u;return(u=i.value)==null?void 0:u.locale})),a=uf(D(()=>{var u;return((u=i.value)==null?void 0:u.zIndex)||RI})),l=D(()=>{var u;return h(t)||((u=i.value)==null?void 0:u.size)||""});return WS(D(()=>h(i)||{})),{ns:s,locale:o,zIndex:a,size:l}}const WS=(e,t,i=!1)=>{var s;const o=!!Tn(),a=o?U0():void 0,l=(s=t==null?void 0:t.provide)!=null?s:o?On:void 0;if(!l)return;const u=D(()=>{const f=h(e);return a!=null&&a.value?Yne(a.value,f):f});return l(WI,u),l(lI,D(()=>u.value.locale)),l(cI,D(()=>u.value.namespace)),l(kI,D(()=>u.value.zIndex)),l(HI,{size:D(()=>u.value.size||"")}),(i||!Hv.value)&&(Hv.value=u.value),u},Yne=(e,t)=>{var i;const s=[...new Set([...np(e),...np(t)])],o={};for(const a of s)o[a]=(i=t[a])!=null?i:e[a];return o},Zne=pt({a11y:{type:Boolean,default:!0},locale:{type:De(Object)},size:Ds,button:{type:De(Object)},experimentalFeatures:{type:De(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:De(Object)},zIndex:Number,namespace:{type:String,default:"el"}}),I1={},Jne=_e({name:"ElConfigProvider",props:Zne,setup(e,{slots:t}){et(()=>e.message,s=>{Object.assign(I1,s??{})},{immediate:!0,deep:!0});const i=WS(e);return()=>qe(t,"default",{config:i==null?void 0:i.value})}}),Qne=Cn(Jne),eie="2.3.4",tie=(e=[])=>({version:eie,install:(i,s)=>{i[pA]||(i[pA]=!0,e.forEach(o=>i.use(o)),s&&WS(s,i,!0))}}),nie=pt({zIndex:{type:De([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),iie={scroll:({scrollTop:e,fixed:t})=>on(e)&&ds(t),[Ii]:e=>ds(e)};var ht=(e,t)=>{const i=e.__vccOpts||e;for(const[s,o]of t)i[s]=o;return i};const GI="ElAffix",sie=_e({name:GI}),rie=_e({...sie,props:nie,emits:iie,setup(e,{expose:t,emit:i}){const s=e,o=nt("affix"),a=ki(),l=ki(),u=ki(),{height:f}=r9(),{height:p,width:g,top:v,bottom:b,update:w}=PT(l,{windowScroll:!1}),M=PT(a),x=X(!1),E=X(0),C=X(0),k=D(()=>({height:x.value?`${p.value}px`:"",width:x.value?`${g.value}px`:""})),R=D(()=>{if(!x.value)return{};const F=s.offset?es(s.offset):0;return{height:`${p.value}px`,width:`${g.value}px`,top:s.position==="top"?F:"",bottom:s.position==="bottom"?F:"",transform:C.value?`translateY(${C.value}px)`:"",zIndex:s.zIndex}}),P=()=>{if(u.value)if(E.value=u.value instanceof Window?document.documentElement.scrollTop:u.value.scrollTop||0,s.position==="top")if(s.target){const F=M.bottom.value-s.offset-p.value;x.value=s.offset>v.value&&M.bottom.value>0,C.value=F<0?F:0}else x.value=s.offset>v.value;else if(s.target){const F=f.value-M.top.value-s.offset-p.value;x.value=f.value-s.offset<b.value&&f.value>M.top.value,C.value=F<0?-F:0}else x.value=f.value-s.offset<b.value},O=()=>{w(),i("scroll",{scrollTop:E.value,fixed:x.value})};return et(x,F=>i("change",F)),_n(()=>{var F;s.target?(a.value=(F=document.querySelector(s.target))!=null?F:void 0,a.value||vs(GI,`Target is not existed: ${s.target}`)):a.value=document.documentElement,u.value=ES(l.value,!0),w()}),Vi(u,"scroll",O),Dr(P),t({update:P,updateRoot:w}),(F,G)=>(B(),ne("div",{ref_key:"root",ref:l,class:U(h(o).b()),style:Wt(h(k))},[ae("div",{class:U({[h(o).m("fixed")]:x.value}),style:Wt(h(R))},[qe(F.$slots,"default")],6)],6))}});var oie=ht(rie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/affix/src/affix.vue"]]);const aie=Cn(oie),lie=pt({size:{type:De([Number,String])},color:{type:String}}),cie=_e({name:"ElIcon",inheritAttrs:!1}),uie=_e({...cie,props:lie,setup(e){const t=e,i=nt("icon"),s=D(()=>{const{size:o,color:a}=t;return!o&&!a?{}:{fontSize:Ts(o)?void 0:es(o),"--color":a}});return(o,a)=>(B(),ne("i",kn({class:h(i).b(),style:h(s)},o.$attrs),[qe(o.$slots,"default")],16))}});var die=ht(uie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const zt=Cn(die),fie=["light","dark"],hie=pt({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:np(Dl),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:fie,default:"light"}}),pie={close:e=>e instanceof MouseEvent},mie=_e({name:"ElAlert"}),gie=_e({...mie,props:hie,emits:pie,setup(e,{emit:t}){const i=e,{Close:s}=RS,o=Rs(),a=nt("alert"),l=X(!0),u=D(()=>Dl[i.type]),f=D(()=>[a.e("icon"),{[a.is("big")]:!!i.description||!!o.default}]),p=D(()=>({[a.is("bold")]:i.description||o.default})),g=v=>{l.value=!1,t("close",v)};return(v,b)=>(B(),Be(ns,{name:h(a).b("fade"),persisted:""},{default:ve(()=>[gn(ae("div",{class:U([h(a).b(),h(a).m(v.type),h(a).is("center",v.center),h(a).is(v.effect)]),role:"alert"},[v.showIcon&&h(u)?(B(),Be(h(zt),{key:0,class:U(h(f))},{default:ve(()=>[(B(),Be(Bn(h(u))))]),_:1},8,["class"])):Oe("v-if",!0),ae("div",{class:U(h(a).e("content"))},[v.title||v.$slots.title?(B(),ne("span",{key:0,class:U([h(a).e("title"),h(p)])},[qe(v.$slots,"title",{},()=>[Nn(ft(v.title),1)])],2)):Oe("v-if",!0),v.$slots.default||v.description?(B(),ne("p",{key:1,class:U(h(a).e("description"))},[qe(v.$slots,"default",{},()=>[Nn(ft(v.description),1)])],2)):Oe("v-if",!0),v.closable?(B(),ne(Ft,{key:2},[v.closeText?(B(),ne("div",{key:0,class:U([h(a).e("close-btn"),h(a).is("customed")]),onClick:g},ft(v.closeText),3)):(B(),Be(h(zt),{key:1,class:U(h(a).e("close-btn")),onClick:g},{default:ve(()=>[fe(h(s))]),_:1},8,["class"]))],64)):Oe("v-if",!0)],2)],2),[[oi,l.value]])]),_:3},8,["name"]))}});var vie=ht(gie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]);const yie=Cn(vie),ru=Symbol("formContextKey"),ia=Symbol("formItemContextKey"),fs=(e,t={})=>{const i=X(void 0),s=t.prop?i:fI("size"),o=t.global?i:Xne(),a=t.form?{size:void 0}:Lt(ru,void 0),l=t.formItem?{size:void 0}:Lt(ia,void 0);return D(()=>s.value||h(e)||(l==null?void 0:l.size)||(a==null?void 0:a.size)||o.value||"")},_r=e=>{const t=fI("disabled"),i=Lt(ru,void 0);return D(()=>t.value||h(e)||(i==null?void 0:i.disabled)||!1)},lr=()=>{const e=Lt(ru,void 0),t=Lt(ia,void 0);return{form:e,formItem:t}},Kl=(e,{formItemContext:t,disableIdGeneration:i,disableIdManagement:s})=>{i||(i=X(!1)),s||(s=X(!1));const o=X();let a;const l=D(()=>{var u;return!!(!e.label&&t&&t.inputIds&&((u=t.inputIds)==null?void 0:u.length)<=1)});return _n(()=>{a=et([Oi(e,"id"),i],([u,f])=>{const p=u??(f?void 0:so().value);p!==o.value&&(t!=null&&t.removeInputId&&(o.value&&t.removeInputId(o.value),!(s!=null&&s.value)&&!f&&p&&t.addInputId(p)),o.value=p)},{immediate:!0})}),$l(()=>{a&&a(),t!=null&&t.removeInputId&&o.value&&t.removeInputId(o.value)}),{isLabeledByFormItem:l,inputId:o}},bie=pt({size:{type:String,values:ra},disabled:Boolean}),_ie=pt({...bie,model:Object,rules:{type:De(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),wie={validate:(e,t,i)=>(Nt(e)||un(e))&&ds(t)&&un(i)};function Sie(){const e=X([]),t=D(()=>{if(!e.value.length)return"0";const a=Math.max(...e.value);return a?`${a}px`:""});function i(a){const l=e.value.indexOf(a);return l===-1&&t.value,l}function s(a,l){if(a&&l){const u=i(l);e.value.splice(u,1,a)}else a&&e.value.push(a)}function o(a){const l=i(a);l>-1&&e.value.splice(l,1)}return{autoLabelWidth:t,registerLabelWidth:s,deregisterLabelWidth:o}}const Og=(e,t)=>{const i=Vd(t);return i.length>0?e.filter(s=>s.prop&&i.includes(s.prop)):e},xie="ElForm",Mie=_e({name:xie}),Eie=_e({...Mie,props:_ie,emits:wie,setup(e,{expose:t,emit:i}){const s=e,o=[],a=fs(),l=nt("form"),u=D(()=>{const{labelPosition:k,inline:R}=s;return[l.b(),l.m(a.value||"default"),{[l.m(`label-${k}`)]:k,[l.m("inline")]:R}]}),f=k=>{o.push(k)},p=k=>{k.prop&&o.splice(o.indexOf(k),1)},g=(k=[])=>{s.model&&Og(o,k).forEach(R=>R.resetField())},v=(k=[])=>{Og(o,k).forEach(R=>R.clearValidate())},b=D(()=>!!s.model),w=k=>{if(o.length===0)return[];const R=Og(o,k);return R.length?R:[]},M=async k=>E(void 0,k),x=async(k=[])=>{if(!b.value)return!1;const R=w(k);if(R.length===0)return!0;let P={};for(const O of R)try{await O.validate("")}catch(F){P={...P,...F}}return Object.keys(P).length===0?!0:Promise.reject(P)},E=async(k=[],R)=>{const P=!an(R);try{const O=await x(k);return O===!0&&(R==null||R(O)),O}catch(O){if(O instanceof Error)throw O;const F=O;return s.scrollToError&&C(Object.keys(F)[0]),R==null||R(!1,F),P&&Promise.reject(F)}},C=k=>{var R;const P=Og(o,k)[0];P&&((R=P.$el)==null||R.scrollIntoView(s.scrollIntoViewOptions))};return et(()=>s.rules,()=>{s.validateOnRuleChange&&M().catch(k=>void 0)},{deep:!0}),On(ru,ai({...gs(s),emit:i,resetFields:g,clearValidate:v,validateField:E,addField:f,removeField:p,...Sie()})),t({validate:M,validateField:E,resetFields:g,clearValidate:v,scrollToField:C}),(k,R)=>(B(),ne("form",{class:U(h(u))},[qe(k.$slots,"default")],2))}});var Cie=ht(Eie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Nc.apply(this,arguments)}function Tie(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,lp(e,t)}function L1(e){return L1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},L1(e)}function lp(e,t){return lp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},lp(e,t)}function Aie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cv(e,t,i){return Aie()?cv=Reflect.construct.bind():cv=function(o,a,l){var u=[null];u.push.apply(u,a);var f=Function.bind.apply(o,u),p=new f;return l&&lp(p,l.prototype),p},cv.apply(null,arguments)}function Rie(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function N1(e){var t=typeof Map=="function"?new Map:void 0;return N1=function(s){if(s===null||!Rie(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(s))return t.get(s);t.set(s,o)}function o(){return cv(s,arguments,L1(this).constructor)}return o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),lp(o,s)},N1(e)}var kie=/%[sdj%]/g,Pie=function(){};typeof process<"u"&&process.env;function O1(e){if(!e||!e.length)return null;var t={};return e.forEach(function(i){var s=i.field;t[s]=t[s]||[],t[s].push(i)}),t}function Or(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];var o=0,a=i.length;if(typeof e=="function")return e.apply(null,i);if(typeof e=="string"){var l=e.replace(kie,function(u){if(u==="%%")return"%";if(o>=a)return u;switch(u){case"%s":return String(i[o++]);case"%d":return Number(i[o++]);case"%j":try{return JSON.stringify(i[o++])}catch{return"[Circular]"}break;default:return u}});return l}return e}function Iie(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function ws(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||Iie(t)&&typeof e=="string"&&!e)}function Lie(e,t,i){var s=[],o=0,a=e.length;function l(u){s.push.apply(s,u||[]),o++,o===a&&i(s)}e.forEach(function(u){t(u,l)})}function DA(e,t,i){var s=0,o=e.length;function a(l){if(l&&l.length){i(l);return}var u=s;s=s+1,u<o?t(e[u],a):i([])}a([])}function Nie(e){var t=[];return Object.keys(e).forEach(function(i){t.push.apply(t,e[i]||[])}),t}var FA=function(e){Tie(t,e);function t(i,s){var o;return o=e.call(this,"Async Validation Error")||this,o.errors=i,o.fields=s,o}return t}(N1(Error));function Oie(e,t,i,s,o){if(t.first){var a=new Promise(function(b,w){var M=function(C){return s(C),C.length?w(new FA(C,O1(C))):b(o)},x=Nie(e);DA(x,i,M)});return a.catch(function(b){return b}),a}var l=t.firstFields===!0?Object.keys(e):t.firstFields||[],u=Object.keys(e),f=u.length,p=0,g=[],v=new Promise(function(b,w){var M=function(E){if(g.push.apply(g,E),p++,p===f)return s(g),g.length?w(new FA(g,O1(g))):b(o)};u.length||(s(g),b(o)),u.forEach(function(x){var E=e[x];l.indexOf(x)!==-1?DA(E,i,M):Lie(E,i,M)})});return v.catch(function(b){return b}),v}function Die(e){return!!(e&&e.message!==void 0)}function Fie(e,t){for(var i=e,s=0;s<t.length;s++){if(i==null)return i;i=i[t[s]]}return i}function BA(e,t){return function(i){var s;return e.fullFields?s=Fie(t,e.fullFields):s=t[i.field||e.fullField],Die(i)?(i.field=i.field||e.fullField,i.fieldValue=s,i):{message:typeof i=="function"?i():i,fieldValue:s,field:i.field||e.fullField}}}function zA(e,t){if(t){for(var i in t)if(t.hasOwnProperty(i)){var s=t[i];typeof s=="object"&&typeof e[i]=="object"?e[i]=Nc({},e[i],s):e[i]=s}}return e}var KI=function(t,i,s,o,a,l){t.required&&(!s.hasOwnProperty(t.field)||ws(i,l||t.type))&&o.push(Or(a.messages.required,t.fullField))},Bie=function(t,i,s,o,a){(/^\s+$/.test(i)||i==="")&&o.push(Or(a.messages.whitespace,t.fullField))},Dg,zie=function(){if(Dg)return Dg;var e="[a-fA-F\\d:]",t=function(P){return P&&P.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},i="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",s="[a-fA-F\\d]{1,4}",o=(`
(?:
(?:`+s+":){7}(?:"+s+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+s+":){6}(?:"+i+"|:"+s+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+s+":){5}(?::"+i+"|(?::"+s+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+s+":){4}(?:(?::"+s+"){0,1}:"+i+"|(?::"+s+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+s+":){3}(?:(?::"+s+"){0,2}:"+i+"|(?::"+s+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+s+":){2}(?:(?::"+s+"){0,3}:"+i+"|(?::"+s+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+s+":){1}(?:(?::"+s+"){0,4}:"+i+"|(?::"+s+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+s+"){0,5}:"+i+"|(?::"+s+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+i+"$)|(?:^"+o+"$)"),l=new RegExp("^"+i+"$"),u=new RegExp("^"+o+"$"),f=function(P){return P&&P.exact?a:new RegExp("(?:"+t(P)+i+t(P)+")|(?:"+t(P)+o+t(P)+")","g")};f.v4=function(R){return R&&R.exact?l:new RegExp(""+t(R)+i+t(R),"g")},f.v6=function(R){return R&&R.exact?u:new RegExp(""+t(R)+o+t(R),"g")};var p="(?:(?:[a-z]+:)?//)",g="(?:\\S+(?::\\S*)?@)?",v=f.v4().source,b=f.v6().source,w="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",M="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",x="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",E="(?::\\d{2,5})?",C='(?:[/?#][^\\s"]*)?',k="(?:"+p+"|www\\.)"+g+"(?:localhost|"+v+"|"+b+"|"+w+M+x+")"+E+C;return Dg=new RegExp("(?:^"+k+"$)","i"),Dg},$A={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},wh={integer:function(t){return wh.number(t)&&parseInt(t,10)===t},float:function(t){return wh.number(t)&&!wh.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!wh.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match($A.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(zie())},hex:function(t){return typeof t=="string"&&!!t.match($A.hex)}},$ie=function(t,i,s,o,a){if(t.required&&i===void 0){KI(t,i,s,o,a);return}var l=["integer","float","array","regexp","object","method","email","number","date","url","hex"],u=t.type;l.indexOf(u)>-1?wh[u](i)||o.push(Or(a.messages.types[u],t.fullField,t.type)):u&&typeof i!==t.type&&o.push(Or(a.messages.types[u],t.fullField,t.type))},Uie=function(t,i,s,o,a){var l=typeof t.len=="number",u=typeof t.min=="number",f=typeof t.max=="number",p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=i,v=null,b=typeof i=="number",w=typeof i=="string",M=Array.isArray(i);if(b?v="number":w?v="string":M&&(v="array"),!v)return!1;M&&(g=i.length),w&&(g=i.replace(p,"_").length),l?g!==t.len&&o.push(Or(a.messages[v].len,t.fullField,t.len)):u&&!f&&g<t.min?o.push(Or(a.messages[v].min,t.fullField,t.min)):f&&!u&&g>t.max?o.push(Or(a.messages[v].max,t.fullField,t.max)):u&&f&&(g<t.min||g>t.max)&&o.push(Or(a.messages[v].range,t.fullField,t.min,t.max))},rd="enum",Vie=function(t,i,s,o,a){t[rd]=Array.isArray(t[rd])?t[rd]:[],t[rd].indexOf(i)===-1&&o.push(Or(a.messages[rd],t.fullField,t[rd].join(", ")))},Hie=function(t,i,s,o,a){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(i)||o.push(Or(a.messages.pattern.mismatch,t.fullField,i,t.pattern));else if(typeof t.pattern=="string"){var l=new RegExp(t.pattern);l.test(i)||o.push(Or(a.messages.pattern.mismatch,t.fullField,i,t.pattern))}}},Si={required:KI,whitespace:Bie,type:$ie,range:Uie,enum:Vie,pattern:Hie},Wie=function(t,i,s,o,a){var l=[],u=t.required||!t.required&&o.hasOwnProperty(t.field);if(u){if(ws(i,"string")&&!t.required)return s();Si.required(t,i,o,l,a,"string"),ws(i,"string")||(Si.type(t,i,o,l,a),Si.range(t,i,o,l,a),Si.pattern(t,i,o,l,a),t.whitespace===!0&&Si.whitespace(t,i,o,l,a))}s(l)},Gie=function(t,i,s,o,a){var l=[],u=t.required||!t.required&&o.hasOwnProperty(t.field);if(u){if(ws(i)&&!t.required)return s();Si.required(t,i,o,l,a),i!==void 0&&Si.type(t,i,o,l,a)}s(l)},Kie=function(t,i,s,o,a){var l=[],u=t.required||!t.required&&o.hasOwnProperty(t.field);if(u){if(i===""&&(i=void 0),ws(i)&&!t.required)return s();Si.required(t,i,o,l,a),i!==void 0&&(Si.type(t,i,o,l,a),Si.range(t,i,o,l,a))}s(l)},qie=function(t,i,s,o,a){var l=[],u=t.required||!t.required&&o.hasOwnProperty(t.field);if(u){if(ws(i)&&!t.required)return s();Si.required(t,i,o,l,a),i!==void 0&&Si.type(t,i,o,l,a)}s(l)},jie=function(t,i,s,o,a){var l=[],u=t.required||!t.required&&o.hasOwnProperty(t.field);if(u){if(ws(i)&&!t.required)return s();Si.required(t,i,o,l,a),ws(i)||Si.type(t,i,o,l,a)}s(l)},Xie=function(t,i,s,o,a){var l=[],u=t.required||!t.required&&o.hasOwnProperty(t.field);if(u){if(ws(i)&&!t.required)return s();Si.required(t,i,o,l,a),i!==void 0&&(Si.type(t,i,o,l,a),Si.range(t,i,o,l,a))}s(l)},Yie=function(t,i,s,o,a){var l=[],u=t.required||!t.required&&o.hasOwnProperty(t.field);if(u){if(ws(i)&&!t.required)return s();Si.required(t,i,o,l,a),i!==void 0&&(Si.type(t,i,o,l,a),Si.range(t,i,o,l,a))}s(l)},Zie=function(t,i,s,o,a){var l=[],u=t.required||!t.required&&o.hasOwnProperty(t.field);if(u){if(i==null&&!t.required)return s();Si.required(t,i,o,l,a,"array"),i!=null&&(Si.type(t,i,o,l,a),Si.range(t,i,o,l,a))}s(l)},Jie=function(t,i,s,o,a){var l=[],u=t.required||!t.required&&o.hasOwnProperty(t.field);if(u){if(ws(i)&&!t.required)return s();Si.required(t,i,o,l,a),i!==void 0&&Si.type(t,i,o,l,a)}s(l)},Qie="enum",ese=function(t,i,s,o,a){var l=[],u=t.required||!t.required&&o.hasOwnProperty(t.field);if(u){if(ws(i)&&!t.required)return s();Si.required(t,i,o,l,a),i!==void 0&&Si[Qie](t,i,o,l,a)}s(l)},tse=function(t,i,s,o,a){var l=[],u=t.required||!t.required&&o.hasOwnProperty(t.field);if(u){if(ws(i,"string")&&!t.required)return s();Si.required(t,i,o,l,a),ws(i,"string")||Si.pattern(t,i,o,l,a)}s(l)},nse=function(t,i,s,o,a){var l=[],u=t.required||!t.required&&o.hasOwnProperty(t.field);if(u){if(ws(i,"date")&&!t.required)return s();if(Si.required(t,i,o,l,a),!ws(i,"date")){var f;i instanceof Date?f=i:f=new Date(i),Si.type(t,f,o,l,a),f&&Si.range(t,f.getTime(),o,l,a)}}s(l)},ise=function(t,i,s,o,a){var l=[],u=Array.isArray(i)?"array":typeof i;Si.required(t,i,o,l,a,u),s(l)},N_=function(t,i,s,o,a){var l=t.type,u=[],f=t.required||!t.required&&o.hasOwnProperty(t.field);if(f){if(ws(i,l)&&!t.required)return s();Si.required(t,i,o,u,a,l),ws(i,l)||Si.type(t,i,o,u,a)}s(u)},sse=function(t,i,s,o,a){var l=[],u=t.required||!t.required&&o.hasOwnProperty(t.field);if(u){if(ws(i)&&!t.required)return s();Si.required(t,i,o,l,a)}s(l)},Nh={string:Wie,method:Gie,number:Kie,boolean:qie,regexp:jie,integer:Xie,float:Yie,array:Zie,object:Jie,enum:ese,pattern:tse,date:nse,url:N_,hex:N_,email:N_,required:ise,any:sse};function D1(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var F1=D1(),Fp=function(){function e(i){this.rules=null,this._messages=F1,this.define(i)}var t=e.prototype;return t.define=function(s){var o=this;if(!s)throw new Error("Cannot configure a schema with no rules");if(typeof s!="object"||Array.isArray(s))throw new Error("Rules must be an object");this.rules={},Object.keys(s).forEach(function(a){var l=s[a];o.rules[a]=Array.isArray(l)?l:[l]})},t.messages=function(s){return s&&(this._messages=zA(D1(),s)),this._messages},t.validate=function(s,o,a){var l=this;o===void 0&&(o={}),a===void 0&&(a=function(){});var u=s,f=o,p=a;if(typeof f=="function"&&(p=f,f={}),!this.rules||Object.keys(this.rules).length===0)return p&&p(null,u),Promise.resolve(u);function g(x){var E=[],C={};function k(P){if(Array.isArray(P)){var O;E=(O=E).concat.apply(O,P)}else E.push(P)}for(var R=0;R<x.length;R++)k(x[R]);E.length?(C=O1(E),p(E,C)):p(null,u)}if(f.messages){var v=this.messages();v===F1&&(v=D1()),zA(v,f.messages),f.messages=v}else f.messages=this.messages();var b={},w=f.keys||Object.keys(this.rules);w.forEach(function(x){var E=l.rules[x],C=u[x];E.forEach(function(k){var R=k;typeof R.transform=="function"&&(u===s&&(u=Nc({},u)),C=u[x]=R.transform(C)),typeof R=="function"?R={validator:R}:R=Nc({},R),R.validator=l.getValidationMethod(R),R.validator&&(R.field=x,R.fullField=R.fullField||x,R.type=l.getType(R),b[x]=b[x]||[],b[x].push({rule:R,value:C,source:u,field:x}))})});var M={};return Oie(b,f,function(x,E){var C=x.rule,k=(C.type==="object"||C.type==="array")&&(typeof C.fields=="object"||typeof C.defaultField=="object");k=k&&(C.required||!C.required&&x.value),C.field=x.field;function R(F,G){return Nc({},G,{fullField:C.fullField+"."+F,fullFields:C.fullFields?[].concat(C.fullFields,[F]):[F]})}function P(F){F===void 0&&(F=[]);var G=Array.isArray(F)?F:[F];!f.suppressWarning&&G.length&&e.warning("async-validator:",G),G.length&&C.message!==void 0&&(G=[].concat(C.message));var H=G.map(BA(C,u));if(f.first&&H.length)return M[C.field]=1,E(H);if(!k)E(H);else{if(C.required&&!x.value)return C.message!==void 0?H=[].concat(C.message).map(BA(C,u)):f.error&&(H=[f.error(C,Or(f.messages.required,C.field))]),E(H);var j={};C.defaultField&&Object.keys(x.value).map(function(Q){j[Q]=C.defaultField}),j=Nc({},j,x.rule.fields);var q={};Object.keys(j).forEach(function(Q){var Z=j[Q],re=Array.isArray(Z)?Z:[Z];q[Q]=re.map(R.bind(null,Q))});var ie=new e(q);ie.messages(f.messages),x.rule.options&&(x.rule.options.messages=f.messages,x.rule.options.error=f.error),ie.validate(x.value,x.rule.options||f,function(Q){var Z=[];H&&H.length&&Z.push.apply(Z,H),Q&&Q.length&&Z.push.apply(Z,Q),E(Z.length?Z:null)})}}var O;if(C.asyncValidator)O=C.asyncValidator(C,x.value,P,x.source,f);else if(C.validator){try{O=C.validator(C,x.value,P,x.source,f)}catch(F){console.error==null||console.error(F),f.suppressValidatorError||setTimeout(function(){throw F},0),P(F.message)}O===!0?P():O===!1?P(typeof C.message=="function"?C.message(C.fullField||C.field):C.message||(C.fullField||C.field)+" fails"):O instanceof Array?P(O):O instanceof Error&&P(O.message)}O&&O.then&&O.then(function(){return P()},function(F){return P(F)})},function(x){g(x)},u)},t.getType=function(s){if(s.type===void 0&&s.pattern instanceof RegExp&&(s.type="pattern"),typeof s.validator!="function"&&s.type&&!Nh.hasOwnProperty(s.type))throw new Error(Or("Unknown rule type %s",s.type));return s.type||"string"},t.getValidationMethod=function(s){if(typeof s.validator=="function")return s.validator;var o=Object.keys(s),a=o.indexOf("message");return a!==-1&&o.splice(a,1),o.length===1&&o[0]==="required"?Nh.required:Nh[this.getType(s)]||void 0},e}();Fp.register=function(t,i){if(typeof i!="function")throw new Error("Cannot register a validator by type, validator is not a function");Nh[t]=i};Fp.warning=Pie;Fp.messages=F1;Fp.validators=Nh;const rse=["","error","validating","success"],ose=pt({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:De([String,Array])},required:{type:Boolean,default:void 0},rules:{type:De([Object,Array])},error:String,validateStatus:{type:String,values:rse},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:ra}}),UA="ElLabelWrap";var ase=_e({name:UA,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const i=Lt(ru,void 0),s=Lt(ia);s||vs(UA,"usage: <el-form-item><label-wrap /></el-form-item>");const o=nt("form"),a=X(),l=X(0),u=()=>{var g;if((g=a.value)!=null&&g.firstElementChild){const v=window.getComputedStyle(a.value.firstElementChild).width;return Math.ceil(Number.parseFloat(v))}else return 0},f=(g="update")=>{Bt(()=>{t.default&&e.isAutoWidth&&(g==="update"?l.value=u():g==="remove"&&(i==null||i.deregisterLabelWidth(l.value)))})},p=()=>f("update");return _n(()=>{p()}),Di(()=>{f("remove")}),Ga(()=>p()),et(l,(g,v)=>{e.updateAll&&(i==null||i.registerLabelWidth(g,v))}),Gs(D(()=>{var g,v;return(v=(g=a.value)==null?void 0:g.firstElementChild)!=null?v:null}),p),()=>{var g,v;if(!t)return null;const{isAutoWidth:b}=e;if(b){const w=i==null?void 0:i.autoLabelWidth,M=s==null?void 0:s.hasLabel,x={};if(M&&w&&w!=="auto"){const E=Math.max(0,Number.parseInt(w,10)-l.value),C=i.labelPosition==="left"?"marginRight":"marginLeft";E&&(x[C]=`${E}px`)}return fe("div",{ref:a,class:[o.be("item","label-wrap")],style:x},[(g=t.default)==null?void 0:g.call(t)])}else return fe(Ft,{ref:a},[(v=t.default)==null?void 0:v.call(t)])}}});const lse=["role","aria-labelledby"],cse=_e({name:"ElFormItem"}),use=_e({...cse,props:ose,setup(e,{expose:t}){const i=e,s=Rs(),o=Lt(ru,void 0),a=Lt(ia,void 0),l=fs(void 0,{formItem:!1}),u=nt("form-item"),f=so().value,p=X([]),g=X(""),v=HG(g,100),b=X(""),w=X();let M,x=!1;const E=D(()=>{if((o==null?void 0:o.labelPosition)==="top")return{};const Ie=es(i.labelWidth||(o==null?void 0:o.labelWidth)||"");return Ie?{width:Ie}:{}}),C=D(()=>{if((o==null?void 0:o.labelPosition)==="top"||o!=null&&o.inline)return{};if(!i.label&&!i.labelWidth&&j)return{};const Ie=es(i.labelWidth||(o==null?void 0:o.labelWidth)||"");return!i.label&&!s.label?{marginLeft:Ie}:{}}),k=D(()=>[u.b(),u.m(l.value),u.is("error",g.value==="error"),u.is("validating",g.value==="validating"),u.is("success",g.value==="success"),u.is("required",re.value||i.required),u.is("no-asterisk",o==null?void 0:o.hideRequiredAsterisk),(o==null?void 0:o.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[u.m("feedback")]:o==null?void 0:o.statusIcon}]),R=D(()=>ds(i.inlineMessage)?i.inlineMessage:(o==null?void 0:o.inlineMessage)||!1),P=D(()=>[u.e("error"),{[u.em("error","inline")]:R.value}]),O=D(()=>i.prop?un(i.prop)?i.prop:i.prop.join("."):""),F=D(()=>!!(i.label||s.label)),G=D(()=>i.for||p.value.length===1?p.value[0]:void 0),H=D(()=>!G.value&&F.value),j=!!a,q=D(()=>{const Ie=o==null?void 0:o.model;if(!(!Ie||!i.prop))return av(Ie,i.prop).value}),ie=D(()=>{const{required:Ie}=i,ge=[];i.rules&&ge.push(...Vd(i.rules));const Le=o==null?void 0:o.rules;if(Le&&i.prop){const Ue=av(Le,i.prop).value;Ue&&ge.push(...Vd(Ue))}if(Ie!==void 0){const Ue=ge.map((ut,ue)=>[ut,ue]).filter(([ut])=>Object.keys(ut).includes("required"));if(Ue.length>0)for(const[ut,ue]of Ue)ut.required!==Ie&&(ge[ue]={...ut,required:Ie});else ge.push({required:Ie})}return ge}),Q=D(()=>ie.value.length>0),Z=Ie=>ie.value.filter(Le=>!Le.trigger||!Ie?!0:Array.isArray(Le.trigger)?Le.trigger.includes(Ie):Le.trigger===Ie).map(({trigger:Le,...Ue})=>Ue),re=D(()=>ie.value.some(Ie=>Ie.required)),ce=D(()=>{var Ie;return v.value==="error"&&i.showMessage&&((Ie=o==null?void 0:o.showMessage)!=null?Ie:!0)}),te=D(()=>`${i.label||""}${(o==null?void 0:o.labelSuffix)||""}`),W=Ie=>{g.value=Ie},ee=Ie=>{var ge,Le;const{errors:Ue,fields:ut}=Ie;(!Ue||!ut)&&console.error(Ie),W("error"),b.value=Ue?(Le=(ge=Ue==null?void 0:Ue[0])==null?void 0:ge.message)!=null?Le:`${i.prop} is required`:"",o==null||o.emit("validate",i.prop,!1,b.value)},J=()=>{W("success"),o==null||o.emit("validate",i.prop,!0,"")},pe=async Ie=>{const ge=O.value;return new Fp({[ge]:Ie}).validate({[ge]:q.value},{firstFields:!0}).then(()=>(J(),!0)).catch(Ue=>(ee(Ue),Promise.reject(Ue)))},Ee=async(Ie,ge)=>{if(x||!i.prop)return!1;const Le=an(ge);if(!Q.value)return ge==null||ge(!1),!1;const Ue=Z(Ie);return Ue.length===0?(ge==null||ge(!0),!0):(W("validating"),pe(Ue).then(()=>(ge==null||ge(!0),!0)).catch(ut=>{const{fields:ue}=ut;return ge==null||ge(!1,ue),Le?!1:Promise.reject(ue)}))},he=()=>{W(""),b.value="",x=!1},Ce=async()=>{const Ie=o==null?void 0:o.model;if(!Ie||!i.prop)return;const ge=av(Ie,i.prop);x=!0,ge.value=lA(M),await Bt(),he(),x=!1},Ge=Ie=>{p.value.includes(Ie)||p.value.push(Ie)},Te=Ie=>{p.value=p.value.filter(ge=>ge!==Ie)};et(()=>i.error,Ie=>{b.value=Ie||"",W(Ie?"error":"")},{immediate:!0}),et(()=>i.validateStatus,Ie=>W(Ie||""));const xe=ai({...gs(i),$el:w,size:l,validateState:g,labelId:f,inputIds:p,isGroup:H,hasLabel:F,addInputId:Ge,removeInputId:Te,resetField:Ce,clearValidate:he,validate:Ee});return On(ia,xe),_n(()=>{i.prop&&(o==null||o.addField(xe),M=lA(q.value))}),Di(()=>{o==null||o.removeField(xe)}),t({size:l,validateMessage:b,validateState:g,validate:Ee,clearValidate:he,resetField:Ce}),(Ie,ge)=>{var Le;return B(),ne("div",{ref_key:"formItemRef",ref:w,class:U(h(k)),role:h(H)?"group":void 0,"aria-labelledby":h(H)?h(f):void 0},[fe(h(ase),{"is-auto-width":h(E).width==="auto","update-all":((Le=h(o))==null?void 0:Le.labelWidth)==="auto"},{default:ve(()=>[h(F)?(B(),Be(Bn(h(G)?"label":"div"),{key:0,id:h(f),for:h(G),class:U(h(u).e("label")),style:Wt(h(E))},{default:ve(()=>[qe(Ie.$slots,"label",{label:h(te)},()=>[Nn(ft(h(te)),1)])]),_:3},8,["id","for","class","style"])):Oe("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),ae("div",{class:U(h(u).e("content")),style:Wt(h(C))},[qe(Ie.$slots,"default"),fe(pP,{name:`${h(u).namespace.value}-zoom-in-top`},{default:ve(()=>[h(ce)?qe(Ie.$slots,"error",{key:0,error:b.value},()=>[ae("div",{class:U(h(P))},ft(b.value),3)]):Oe("v-if",!0)]),_:3},8,["name"])],6)],10,lse)}}});var qI=ht(use,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const dse=Cn(Cie,{FormItem:qI}),fse=Yi(qI);let _o;const hse=`
  height:0 !important;
  visibility:hidden !important;
  ${d3()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,pse=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function mse(e){const t=window.getComputedStyle(e),i=t.getPropertyValue("box-sizing"),s=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),o=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:pse.map(l=>`${l}:${t.getPropertyValue(l)}`).join(";"),paddingSize:s,borderSize:o,boxSizing:i}}function VA(e,t=1,i){var s;_o||(_o=document.createElement("textarea"),document.body.appendChild(_o));const{paddingSize:o,borderSize:a,boxSizing:l,contextStyle:u}=mse(e);_o.setAttribute("style",`${u};${hse}`),_o.value=e.value||e.placeholder||"";let f=_o.scrollHeight;const p={};l==="border-box"?f=f+a:l==="content-box"&&(f=f-o),_o.value="";const g=_o.scrollHeight-o;if(on(t)){let v=g*t;l==="border-box"&&(v=v+o+a),f=Math.max(v,f),p.minHeight=`${v}px`}if(on(i)){let v=g*i;l==="border-box"&&(v=v+o+a),f=Math.min(v,f)}return p.height=`${f}px`,(s=_o.parentNode)==null||s.removeChild(_o),_o=void 0,p}const gse=pt({id:{type:String,default:void 0},size:Ds,disabled:Boolean,modelValue:{type:De([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:De([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Pi},prefixIcon:{type:Pi},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:De([Object,Array,String]),default:()=>Ui({})}}),vse={[Rn]:e=>un(e),input:e=>un(e),change:e=>un(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},yse=["role"],bse=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],_se=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],wse=_e({name:"ElInput",inheritAttrs:!1}),Sse=_e({...wse,props:gse,emits:vse,setup(e,{expose:t,emit:i}){const s=e,o=of(),a=Rs(),l=D(()=>{const We={};return s.containerRole==="combobox"&&(We["aria-haspopup"]=o["aria-haspopup"],We["aria-owns"]=o["aria-owns"],We["aria-expanded"]=o["aria-expanded"]),We}),u=D(()=>[s.type==="textarea"?E.b():x.b(),x.m(w.value),x.is("disabled",M.value),x.is("exceed",Ee.value),{[x.b("group")]:a.prepend||a.append,[x.bm("group","append")]:a.append,[x.bm("group","prepend")]:a.prepend,[x.m("prefix")]:a.prefix||s.prefixIcon,[x.m("suffix")]:a.suffix||s.suffixIcon||s.clearable||s.showPassword,[x.bm("suffix","password-clear")]:W.value&&ee.value},o.class]),f=D(()=>[x.e("wrapper"),x.is("focus",R.value)]),p=kS({excludeKeys:D(()=>Object.keys(l.value))}),{form:g,formItem:v}=lr(),{inputId:b}=Kl(s,{formItemContext:v}),w=fs(),M=_r(),x=nt("input"),E=nt("textarea"),C=ki(),k=ki(),R=X(!1),P=X(!1),O=X(!1),F=X(!1),G=X(),H=ki(s.inputStyle),j=D(()=>C.value||k.value),q=D(()=>{var We;return(We=g==null?void 0:g.statusIcon)!=null?We:!1}),ie=D(()=>(v==null?void 0:v.validateState)||""),Q=D(()=>ie.value&&rI[ie.value]),Z=D(()=>F.value?Bee:EJ),re=D(()=>[o.style,s.inputStyle]),ce=D(()=>[s.inputStyle,H.value,{resize:s.resize}]),te=D(()=>us(s.modelValue)?"":String(s.modelValue)),W=D(()=>s.clearable&&!M.value&&!s.readonly&&!!te.value&&(R.value||P.value)),ee=D(()=>s.showPassword&&!M.value&&!s.readonly&&!!te.value&&(!!te.value||R.value)),J=D(()=>s.showWordLimit&&!!p.value.maxlength&&(s.type==="text"||s.type==="textarea")&&!M.value&&!s.readonly&&!s.showPassword),pe=D(()=>te.value.length),Ee=D(()=>!!J.value&&pe.value>Number(p.value.maxlength)),he=D(()=>!!a.suffix||!!s.suffixIcon||W.value||s.showPassword||J.value||!!ie.value&&q.value),[Ce,Ge]=qne(C);Gs(k,We=>{if(Ie(),!J.value||s.resize!=="both")return;const _t=We[0],{width:Ut}=_t.contentRect;G.value={right:`calc(100% - ${Ut+15+6}px)`}});const Te=()=>{const{type:We,autosize:_t}=s;if(!(!Jn||We!=="textarea"||!k.value))if(_t){const Ut=Pn(_t)?_t.minRows:void 0,fn=Pn(_t)?_t.maxRows:void 0,Pe=VA(k.value,Ut,fn);H.value={overflowY:"hidden",...Pe},Bt(()=>{k.value.offsetHeight,H.value=Pe})}else H.value={minHeight:VA(k.value).minHeight}},Ie=(We=>{let _t=!1;return()=>{var Ut;if(_t||!s.autosize)return;((Ut=k.value)==null?void 0:Ut.offsetParent)===null||(We(),_t=!0)}})(Te),ge=()=>{const We=j.value;!We||We.value===te.value||(We.value=te.value)},Le=async We=>{Ce();let{value:_t}=We.target;if(s.formatter&&(_t=s.parser?s.parser(_t):_t,_t=s.formatter(_t)),!O.value){if(_t===te.value){ge();return}i(Rn,_t),i("input",_t),await Bt(),ge(),Ge()}},Ue=We=>{i("change",We.target.value)},ut=We=>{i("compositionstart",We),O.value=!0},ue=We=>{var _t;i("compositionupdate",We);const Ut=(_t=We.target)==null?void 0:_t.value,fn=Ut[Ut.length-1]||"";O.value=!O0(fn)},we=We=>{i("compositionend",We),O.value&&(O.value=!1,Le(We))},Ve=()=>{F.value=!F.value,Ye()},Ye=async()=>{var We;await Bt(),(We=j.value)==null||We.focus()},lt=()=>{var We;return(We=j.value)==null?void 0:We.blur()},He=We=>{R.value=!0,i("focus",We)},ct=We=>{var _t;R.value=!1,i("blur",We),s.validateEvent&&((_t=v==null?void 0:v.validate)==null||_t.call(v,"blur").catch(Ut=>void 0))},Qe=We=>{P.value=!1,i("mouseleave",We)},rt=We=>{P.value=!0,i("mouseenter",We)},Je=We=>{i("keydown",We)},Mt=()=>{var We;(We=j.value)==null||We.select()},yt=()=>{i(Rn,""),i("change",""),i("clear"),i("input","")};return et(()=>s.modelValue,()=>{var We;Bt(()=>Te()),s.validateEvent&&((We=v==null?void 0:v.validate)==null||We.call(v,"change").catch(_t=>void 0))}),et(te,()=>ge()),et(()=>s.type,async()=>{await Bt(),ge(),Te()}),_n(()=>{!s.formatter&&s.parser,ge(),Bt(Te)}),t({input:C,textarea:k,ref:j,textareaStyle:ce,autosize:Oi(s,"autosize"),focus:Ye,blur:lt,select:Mt,clear:yt,resizeTextarea:Te}),(We,_t)=>gn((B(),ne("div",kn(h(l),{class:h(u),style:h(re),role:We.containerRole,onMouseenter:rt,onMouseleave:Qe}),[Oe(" input "),We.type!=="textarea"?(B(),ne(Ft,{key:0},[Oe(" prepend slot "),We.$slots.prepend?(B(),ne("div",{key:0,class:U(h(x).be("group","prepend"))},[qe(We.$slots,"prepend")],2)):Oe("v-if",!0),ae("div",{class:U(h(f))},[Oe(" prefix slot "),We.$slots.prefix||We.prefixIcon?(B(),ne("span",{key:0,class:U(h(x).e("prefix"))},[ae("span",{class:U(h(x).e("prefix-inner")),onClick:Ye},[qe(We.$slots,"prefix"),We.prefixIcon?(B(),Be(h(zt),{key:0,class:U(h(x).e("icon"))},{default:ve(()=>[(B(),Be(Bn(We.prefixIcon)))]),_:1},8,["class"])):Oe("v-if",!0)],2)],2)):Oe("v-if",!0),ae("input",kn({id:h(b),ref_key:"input",ref:C,class:h(x).e("inner")},h(p),{type:We.showPassword?F.value?"text":"password":We.type,disabled:h(M),formatter:We.formatter,parser:We.parser,readonly:We.readonly,autocomplete:We.autocomplete,tabindex:We.tabindex,"aria-label":We.label,placeholder:We.placeholder,style:We.inputStyle,form:s.form,onCompositionstart:ut,onCompositionupdate:ue,onCompositionend:we,onInput:Le,onFocus:He,onBlur:ct,onChange:Ue,onKeydown:Je}),null,16,bse),Oe(" suffix slot "),h(he)?(B(),ne("span",{key:1,class:U(h(x).e("suffix"))},[ae("span",{class:U(h(x).e("suffix-inner")),onClick:Ye},[!h(W)||!h(ee)||!h(J)?(B(),ne(Ft,{key:0},[qe(We.$slots,"suffix"),We.suffixIcon?(B(),Be(h(zt),{key:0,class:U(h(x).e("icon"))},{default:ve(()=>[(B(),Be(Bn(We.suffixIcon)))]),_:1},8,["class"])):Oe("v-if",!0)],64)):Oe("v-if",!0),h(W)?(B(),Be(h(zt),{key:1,class:U([h(x).e("icon"),h(x).e("clear")]),onMousedown:rn(h(_i),["prevent"]),onClick:yt},{default:ve(()=>[fe(h(Hl))]),_:1},8,["class","onMousedown"])):Oe("v-if",!0),h(ee)?(B(),Be(h(zt),{key:2,class:U([h(x).e("icon"),h(x).e("password")]),onClick:Ve},{default:ve(()=>[(B(),Be(Bn(h(Z))))]),_:1},8,["class"])):Oe("v-if",!0),h(J)?(B(),ne("span",{key:3,class:U(h(x).e("count"))},[ae("span",{class:U(h(x).e("count-inner"))},ft(h(pe))+" / "+ft(h(p).maxlength),3)],2)):Oe("v-if",!0),h(ie)&&h(Q)&&h(q)?(B(),Be(h(zt),{key:4,class:U([h(x).e("icon"),h(x).e("validateIcon"),h(x).is("loading",h(ie)==="validating")])},{default:ve(()=>[(B(),Be(Bn(h(Q))))]),_:1},8,["class"])):Oe("v-if",!0)],2)],2)):Oe("v-if",!0)],2),Oe(" append slot "),We.$slots.append?(B(),ne("div",{key:1,class:U(h(x).be("group","append"))},[qe(We.$slots,"append")],2)):Oe("v-if",!0)],64)):(B(),ne(Ft,{key:1},[Oe(" textarea "),ae("textarea",kn({id:h(b),ref_key:"textarea",ref:k,class:h(E).e("inner")},h(p),{tabindex:We.tabindex,disabled:h(M),readonly:We.readonly,autocomplete:We.autocomplete,style:h(ce),"aria-label":We.label,placeholder:We.placeholder,form:s.form,onCompositionstart:ut,onCompositionupdate:ue,onCompositionend:we,onInput:Le,onFocus:He,onBlur:ct,onChange:Ue,onKeydown:Je}),null,16,_se),h(J)?(B(),ne("span",{key:0,style:Wt(G.value),class:U(h(x).e("count"))},ft(h(pe))+" / "+ft(h(p).maxlength),7)):Oe("v-if",!0)],64))],16,yse)),[[oi,We.type!=="hidden"]])}});var xse=ht(Sse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Ws=Cn(xse),pd=4,jI={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Mse=({move:e,size:t,bar:i})=>({[i.size]:t,transform:`translate${i.axis}(${e}%)`}),XI=Symbol("scrollbarContextKey"),Ese=pt({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Cse="Thumb",Tse=_e({__name:"thumb",props:Ese,setup(e){const t=e,i=Lt(XI),s=nt("scrollbar");i||vs(Cse,"can not inject scrollbar context");const o=X(),a=X(),l=X({}),u=X(!1);let f=!1,p=!1,g=Jn?document.onselectstart:null;const v=D(()=>jI[t.vertical?"vertical":"horizontal"]),b=D(()=>Mse({size:t.size,move:t.move,bar:v.value})),w=D(()=>o.value[v.value.offset]**2/i.wrapElement[v.value.scrollSize]/t.ratio/a.value[v.value.offset]),M=F=>{var G;if(F.stopPropagation(),F.ctrlKey||[1,2].includes(F.button))return;(G=window.getSelection())==null||G.removeAllRanges(),E(F);const H=F.currentTarget;H&&(l.value[v.value.axis]=H[v.value.offset]-(F[v.value.client]-H.getBoundingClientRect()[v.value.direction]))},x=F=>{if(!a.value||!o.value||!i.wrapElement)return;const G=Math.abs(F.target.getBoundingClientRect()[v.value.direction]-F[v.value.client]),H=a.value[v.value.offset]/2,j=(G-H)*100*w.value/o.value[v.value.offset];i.wrapElement[v.value.scroll]=j*i.wrapElement[v.value.scrollSize]/100},E=F=>{F.stopImmediatePropagation(),f=!0,document.addEventListener("mousemove",C),document.addEventListener("mouseup",k),g=document.onselectstart,document.onselectstart=()=>!1},C=F=>{if(!o.value||!a.value||f===!1)return;const G=l.value[v.value.axis];if(!G)return;const H=(o.value.getBoundingClientRect()[v.value.direction]-F[v.value.client])*-1,j=a.value[v.value.offset]-G,q=(H-j)*100*w.value/o.value[v.value.offset];i.wrapElement[v.value.scroll]=q*i.wrapElement[v.value.scrollSize]/100},k=()=>{f=!1,l.value[v.value.axis]=0,document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",k),O(),p&&(u.value=!1)},R=()=>{p=!1,u.value=!!t.size},P=()=>{p=!0,u.value=f};Di(()=>{O(),document.removeEventListener("mouseup",k)});const O=()=>{document.onselectstart!==g&&(document.onselectstart=g)};return Vi(Oi(i,"scrollbarElement"),"mousemove",R),Vi(Oi(i,"scrollbarElement"),"mouseleave",P),(F,G)=>(B(),Be(ns,{name:h(s).b("fade"),persisted:""},{default:ve(()=>[gn(ae("div",{ref_key:"instance",ref:o,class:U([h(s).e("bar"),h(s).is(h(v).key)]),onMousedown:x},[ae("div",{ref_key:"thumb",ref:a,class:U(h(s).e("thumb")),style:Wt(h(b)),onMousedown:M},null,38)],34),[[oi,F.always||u.value]])]),_:1},8,["name"]))}});var HA=ht(Tse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const Ase=pt({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),Rse=_e({__name:"bar",props:Ase,setup(e,{expose:t}){const i=e,s=X(0),o=X(0);return t({handleScroll:l=>{if(l){const u=l.offsetHeight-pd,f=l.offsetWidth-pd;o.value=l.scrollTop*100/u*i.ratioY,s.value=l.scrollLeft*100/f*i.ratioX}}}),(l,u)=>(B(),ne(Ft,null,[fe(HA,{move:s.value,ratio:l.ratioX,size:l.width,always:l.always},null,8,["move","ratio","size","always"]),fe(HA,{move:o.value,ratio:l.ratioY,size:l.height,vertical:"",always:l.always},null,8,["move","ratio","size","always"])],64))}});var kse=ht(Rse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const Pse=pt({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:De([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),Ise={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(on)},Lse="ElScrollbar",Nse=_e({name:Lse}),Ose=_e({...Nse,props:Pse,emits:Ise,setup(e,{expose:t,emit:i}){const s=e,o=nt("scrollbar");let a,l;const u=X(),f=X(),p=X(),g=X("0"),v=X("0"),b=X(),w=X(1),M=X(1),x=D(()=>{const G={};return s.height&&(G.height=es(s.height)),s.maxHeight&&(G.maxHeight=es(s.maxHeight)),[s.wrapStyle,G]}),E=D(()=>[s.wrapClass,o.e("wrap"),{[o.em("wrap","hidden-default")]:!s.native}]),C=D(()=>[o.e("view"),s.viewClass]),k=()=>{var G;f.value&&((G=b.value)==null||G.handleScroll(f.value),i("scroll",{scrollTop:f.value.scrollTop,scrollLeft:f.value.scrollLeft}))};function R(G,H){Pn(G)?f.value.scrollTo(G):on(G)&&on(H)&&f.value.scrollTo(G,H)}const P=G=>{on(G)&&(f.value.scrollTop=G)},O=G=>{on(G)&&(f.value.scrollLeft=G)},F=()=>{if(!f.value)return;const G=f.value.offsetHeight-pd,H=f.value.offsetWidth-pd,j=G**2/f.value.scrollHeight,q=H**2/f.value.scrollWidth,ie=Math.max(j,s.minSize),Q=Math.max(q,s.minSize);w.value=j/(G-j)/(ie/(G-ie)),M.value=q/(H-q)/(Q/(H-Q)),v.value=ie+pd<G?`${ie}px`:"",g.value=Q+pd<H?`${Q}px`:""};return et(()=>s.noresize,G=>{G?(a==null||a(),l==null||l()):({stop:a}=Gs(p,F),l=Vi("resize",F))},{immediate:!0}),et(()=>[s.maxHeight,s.height],()=>{s.native||Bt(()=>{var G;F(),f.value&&((G=b.value)==null||G.handleScroll(f.value))})}),On(XI,ai({scrollbarElement:u,wrapElement:f})),_n(()=>{s.native||Bt(()=>{F()})}),Ga(()=>F()),t({wrapRef:f,update:F,scrollTo:R,setScrollTop:P,setScrollLeft:O,handleScroll:k}),(G,H)=>(B(),ne("div",{ref_key:"scrollbarRef",ref:u,class:U(h(o).b())},[ae("div",{ref_key:"wrapRef",ref:f,class:U(h(E)),style:Wt(h(x)),onScroll:k},[(B(),Be(Bn(G.tag),{ref_key:"resizeRef",ref:p,class:U(h(C)),style:Wt(G.viewStyle)},{default:ve(()=>[qe(G.$slots,"default")]),_:3},8,["class","style"]))],38),G.native?Oe("v-if",!0):(B(),Be(kse,{key:0,ref_key:"barRef",ref:b,height:v.value,width:g.value,always:G.always,"ratio-x":M.value,"ratio-y":w.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var Dse=ht(Ose,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const ja=Cn(Dse),GS=Symbol("popper"),YI=Symbol("popperContent"),Fse=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],ZI=pt({role:{type:String,values:Fse,default:"tooltip"}}),Bse=_e({name:"ElPopper",inheritAttrs:!1}),zse=_e({...Bse,props:ZI,setup(e,{expose:t}){const i=e,s=X(),o=X(),a=X(),l=X(),u=D(()=>i.role),f={triggerRef:s,popperInstanceRef:o,contentRef:a,referenceRef:l,role:u};return t(f),On(GS,f),(p,g)=>qe(p.$slots,"default")}});var $se=ht(zse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const JI=pt({arrowOffset:{type:Number,default:5}}),Use=_e({name:"ElPopperArrow",inheritAttrs:!1}),Vse=_e({...Use,props:JI,setup(e,{expose:t}){const i=e,s=nt("popper"),{arrowOffset:o,arrowRef:a,arrowStyle:l}=Lt(YI,void 0);return et(()=>i.arrowOffset,u=>{o.value=u}),Di(()=>{a.value=void 0}),t({arrowRef:a}),(u,f)=>(B(),ne("span",{ref_key:"arrowRef",ref:a,class:U(h(s).e("arrow")),style:Wt(h(l)),"data-popper-arrow":""},null,6))}});var Hse=ht(Vse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const Wse="ElOnlyChild",QI=_e({name:Wse,setup(e,{slots:t,attrs:i}){var s;const o=Lt(AI),a=Pne((s=o==null?void 0:o.setForwardRef)!=null?s:_i);return()=>{var l;const u=(l=t.default)==null?void 0:l.call(t,i);if(!u||u.length>1)return null;const f=eL(u);return f?gn(Va(f,i),[[a]]):null}}});function eL(e){if(!e)return null;const t=e;for(const i of t){if(Pn(i))switch(i.type){case tr:continue;case rf:case"svg":return WA(i);case Ft:return eL(i.children);default:return i}return WA(i)}return null}function WA(e){const t=nt("only-child");return fe("span",{class:t.e("content")},[e])}const tL=pt({virtualRef:{type:De(Object)},virtualTriggering:Boolean,onMouseenter:{type:De(Function)},onMouseleave:{type:De(Function)},onClick:{type:De(Function)},onKeydown:{type:De(Function)},onFocus:{type:De(Function)},onBlur:{type:De(Function)},onContextmenu:{type:De(Function)},id:String,open:Boolean}),Gse=_e({name:"ElPopperTrigger",inheritAttrs:!1}),Kse=_e({...Gse,props:tL,setup(e,{expose:t}){const i=e,{role:s,triggerRef:o}=Lt(GS,void 0);kne(o);const a=D(()=>u.value?i.id:void 0),l=D(()=>{if(s&&s.value==="tooltip")return i.open&&i.id?i.id:void 0}),u=D(()=>{if(s&&s.value!=="tooltip")return s.value}),f=D(()=>u.value?`${i.open}`:void 0);let p;return _n(()=>{et(()=>i.virtualRef,g=>{g&&(o.value=Lr(g))},{immediate:!0}),et(o,(g,v)=>{p==null||p(),p=void 0,Io(g)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(b=>{var w;const M=i[b];M&&(g.addEventListener(b.slice(2).toLowerCase(),M),(w=v==null?void 0:v.removeEventListener)==null||w.call(v,b.slice(2).toLowerCase(),M))}),p=et([a,l,u,f],b=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((w,M)=>{us(b[M])?g.removeAttribute(w):g.setAttribute(w,b[M])})},{immediate:!0})),Io(v)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(b=>v.removeAttribute(b))},{immediate:!0})}),Di(()=>{p==null||p(),p=void 0}),t({triggerRef:o}),(g,v)=>g.virtualTriggering?Oe("v-if",!0):(B(),Be(h(QI),kn({key:0},g.$attrs,{"aria-controls":h(a),"aria-describedby":h(l),"aria-expanded":h(f),"aria-haspopup":h(u)}),{default:ve(()=>[qe(g.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var qse=ht(Kse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const O_="focus-trap.focus-after-trapped",D_="focus-trap.focus-after-released",jse="focus-trap.focusout-prevented",GA={cancelable:!0,bubbles:!1},Xse={cancelable:!0,bubbles:!1},KA="focusAfterTrapped",qA="focusAfterReleased",KS=Symbol("elFocusTrap"),qS=X(),H0=X(0),jS=X(0);let Fg=0;const nL=e=>{const t=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0||s===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)t.push(i.currentNode);return t},jA=(e,t)=>{for(const i of e)if(!Yse(i,t))return i},Yse=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},Zse=e=>{const t=nL(e),i=jA(t,e),s=jA(t.reverse(),e);return[i,s]},Jse=e=>e instanceof HTMLInputElement&&"select"in e,wl=(e,t)=>{if(e&&e.focus){const i=document.activeElement;e.focus({preventScroll:!0}),jS.value=window.performance.now(),e!==i&&Jse(e)&&t&&e.select()}};function XA(e,t){const i=[...e],s=e.indexOf(t);return s!==-1&&i.splice(s,1),i}const Qse=()=>{let e=[];return{push:s=>{const o=e[0];o&&s!==o&&o.pause(),e=XA(e,s),e.unshift(s)},remove:s=>{var o,a;e=XA(e,s),(a=(o=e[0])==null?void 0:o.resume)==null||a.call(o)}}},ere=(e,t=!1)=>{const i=document.activeElement;for(const s of e)if(wl(s,t),document.activeElement!==i)return},YA=Qse(),tre=()=>H0.value>jS.value,Bg=()=>{qS.value="pointer",H0.value=window.performance.now()},ZA=()=>{qS.value="keyboard",H0.value=window.performance.now()},nre=()=>(_n(()=>{Fg===0&&(document.addEventListener("mousedown",Bg),document.addEventListener("touchstart",Bg),document.addEventListener("keydown",ZA)),Fg++}),Di(()=>{Fg--,Fg<=0&&(document.removeEventListener("mousedown",Bg),document.removeEventListener("touchstart",Bg),document.removeEventListener("keydown",ZA))}),{focusReason:qS,lastUserFocusTimestamp:H0,lastAutomatedFocusTimestamp:jS}),zg=e=>new CustomEvent(jse,{...Xse,detail:e}),ire=_e({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[KA,qA,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const i=X();let s,o;const{focusReason:a}=nre();Cne(M=>{e.trapped&&!l.paused&&t("release-requested",M)});const l={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},u=M=>{if(!e.loop&&!e.trapped||l.paused)return;const{key:x,altKey:E,ctrlKey:C,metaKey:k,currentTarget:R,shiftKey:P}=M,{loop:O}=e,F=x===Xt.tab&&!E&&!C&&!k,G=document.activeElement;if(F&&G){const H=R,[j,q]=Zse(H);if(j&&q){if(!P&&G===q){const Q=zg({focusReason:a.value});t("focusout-prevented",Q),Q.defaultPrevented||(M.preventDefault(),O&&wl(j,!0))}else if(P&&[j,H].includes(G)){const Q=zg({focusReason:a.value});t("focusout-prevented",Q),Q.defaultPrevented||(M.preventDefault(),O&&wl(q,!0))}}else if(G===H){const Q=zg({focusReason:a.value});t("focusout-prevented",Q),Q.defaultPrevented||M.preventDefault()}}};On(KS,{focusTrapRef:i,onKeydown:u}),et(()=>e.focusTrapEl,M=>{M&&(i.value=M)},{immediate:!0}),et([i],([M],[x])=>{M&&(M.addEventListener("keydown",u),M.addEventListener("focusin",g),M.addEventListener("focusout",v)),x&&(x.removeEventListener("keydown",u),x.removeEventListener("focusin",g),x.removeEventListener("focusout",v))});const f=M=>{t(KA,M)},p=M=>t(qA,M),g=M=>{const x=h(i);if(!x)return;const E=M.target,C=M.relatedTarget,k=E&&x.contains(E);e.trapped||C&&x.contains(C)||(s=C),k&&t("focusin",M),!l.paused&&e.trapped&&(k?o=E:wl(o,!0))},v=M=>{const x=h(i);if(!(l.paused||!x))if(e.trapped){const E=M.relatedTarget;!us(E)&&!x.contains(E)&&setTimeout(()=>{if(!l.paused&&e.trapped){const C=zg({focusReason:a.value});t("focusout-prevented",C),C.defaultPrevented||wl(o,!0)}},0)}else{const E=M.target;E&&x.contains(E)||t("focusout",M)}};async function b(){await Bt();const M=h(i);if(M){YA.push(l);const x=M.contains(document.activeElement)?s:document.activeElement;if(s=x,!M.contains(x)){const C=new Event(O_,GA);M.addEventListener(O_,f),M.dispatchEvent(C),C.defaultPrevented||Bt(()=>{let k=e.focusStartEl;un(k)||(wl(k),document.activeElement!==k&&(k="first")),k==="first"&&ere(nL(M),!0),(document.activeElement===x||k==="container")&&wl(M)})}}}function w(){const M=h(i);if(M){M.removeEventListener(O_,f);const x=new CustomEvent(D_,{...GA,detail:{focusReason:a.value}});M.addEventListener(D_,p),M.dispatchEvent(x),!x.defaultPrevented&&(a.value=="keyboard"||!tre()||M.contains(document.activeElement))&&wl(s??document.body),M.removeEventListener(D_,f),YA.remove(l)}}return _n(()=>{e.trapped&&b(),et(()=>e.trapped,M=>{M?b():w()})}),Di(()=>{e.trapped&&w()}),{onKeydown:u}}});function sre(e,t,i,s,o,a){return qe(e.$slots,"default",{handleKeydown:e.onKeydown})}var W0=ht(ire,[["render",sre],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const rre=["fixed","absolute"],ore=pt({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:De(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:su,default:"bottom"},popperOptions:{type:De(Object),default:()=>({})},strategy:{type:String,values:rre,default:"absolute"}}),iL=pt({...ore,id:String,style:{type:De([String,Array,Object])},className:{type:De([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:De([String,Array,Object])},popperStyle:{type:De([String,Array,Object])},referenceEl:{type:De(Object)},triggerTargetEl:{type:De(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),are={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},lre=(e,t=[])=>{const{placement:i,strategy:s,popperOptions:o}=e,a={placement:i,strategy:s,...o,modifiers:[...ure(e),...t]};return dre(a,o==null?void 0:o.modifiers),a},cre=e=>{if(Jn)return Lr(e)};function ure(e){const{offset:t,gpuAcceleration:i,fallbackPlacements:s}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:s}},{name:"computeStyles",options:{gpuAcceleration:i}}]}function dre(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const fre=0,hre=e=>{const{popperInstanceRef:t,contentRef:i,triggerRef:s,role:o}=Lt(GS,void 0),a=X(),l=X(),u=D(()=>({name:"eventListeners",enabled:!!e.visible})),f=D(()=>{var C;const k=h(a),R=(C=h(l))!=null?C:fre;return{name:"arrow",enabled:!JX(k),options:{element:k,padding:R}}}),p=D(()=>({onFirstUpdate:()=>{M()},...lre(e,[h(f),h(u)])})),g=D(()=>cre(e.referenceEl)||h(s)),{attributes:v,state:b,styles:w,update:M,forceUpdate:x,instanceRef:E}=wne(g,i,p);return et(E,C=>t.value=C),_n(()=>{et(()=>{var C;return(C=h(g))==null?void 0:C.getBoundingClientRect()},()=>{M()})}),{attributes:v,arrowRef:a,contentRef:i,instanceRef:E,state:b,styles:w,role:o,forceUpdate:x,update:M}},pre=(e,{attributes:t,styles:i,role:s})=>{const{nextZIndex:o}=uf(),a=nt("popper"),l=D(()=>h(t).popper),u=X(e.zIndex||o()),f=D(()=>[a.b(),a.is("pure",e.pure),a.is(e.effect),e.popperClass]),p=D(()=>[{zIndex:h(u)},e.popperStyle||{},h(i).popper]),g=D(()=>s.value==="dialog"?"false":void 0),v=D(()=>h(i).arrow||{});return{ariaModal:g,arrowStyle:v,contentAttrs:l,contentClass:f,contentStyle:p,contentZIndex:u,updateZIndex:()=>{u.value=e.zIndex||o()}}},mre=(e,t)=>{const i=X(!1),s=X();return{focusStartRef:s,trapped:i,onFocusAfterReleased:p=>{var g;((g=p.detail)==null?void 0:g.focusReason)!=="pointer"&&(s.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:p=>{e.visible&&!i.value&&(p.target&&(s.value=p.target),i.value=!0)},onFocusoutPrevented:p=>{e.trapping||(p.detail.focusReason==="pointer"&&p.preventDefault(),i.value=!1)},onReleaseRequested:()=>{i.value=!1,t("close")}}},gre=_e({name:"ElPopperContent"}),vre=_e({...gre,props:iL,emits:are,setup(e,{expose:t,emit:i}){const s=e,{focusStartRef:o,trapped:a,onFocusAfterReleased:l,onFocusAfterTrapped:u,onFocusInTrap:f,onFocusoutPrevented:p,onReleaseRequested:g}=mre(s,i),{attributes:v,arrowRef:b,contentRef:w,styles:M,instanceRef:x,role:E,update:C}=hre(s),{ariaModal:k,arrowStyle:R,contentAttrs:P,contentClass:O,contentStyle:F,updateZIndex:G}=pre(s,{styles:M,attributes:v,role:E}),H=Lt(ia,void 0),j=X();On(YI,{arrowStyle:R,arrowRef:b,arrowOffset:j}),H&&(H.addInputId||H.removeInputId)&&On(ia,{...H,addInputId:_i,removeInputId:_i});let q;const ie=(Z=!0)=>{C(),Z&&G()},Q=()=>{ie(!1),s.visible&&s.focusOnShow?a.value=!0:s.visible===!1&&(a.value=!1)};return _n(()=>{et(()=>s.triggerTargetEl,(Z,re)=>{q==null||q(),q=void 0;const ce=h(Z||w.value),te=h(re||w.value);Io(ce)&&(q=et([E,()=>s.ariaLabel,k,()=>s.id],W=>{["role","aria-label","aria-modal","id"].forEach((ee,J)=>{us(W[J])?ce.removeAttribute(ee):ce.setAttribute(ee,W[J])})},{immediate:!0})),te!==ce&&Io(te)&&["role","aria-label","aria-modal","id"].forEach(W=>{te.removeAttribute(W)})},{immediate:!0}),et(()=>s.visible,Q,{immediate:!0})}),Di(()=>{q==null||q(),q=void 0}),t({popperContentRef:w,popperInstanceRef:x,updatePopper:ie,contentStyle:F}),(Z,re)=>(B(),ne("div",kn({ref_key:"contentRef",ref:w},h(P),{style:h(F),class:h(O),tabindex:"-1",onMouseenter:re[0]||(re[0]=ce=>Z.$emit("mouseenter",ce)),onMouseleave:re[1]||(re[1]=ce=>Z.$emit("mouseleave",ce))}),[fe(h(W0),{trapped:h(a),"trap-on-focus-in":!0,"focus-trap-el":h(w),"focus-start-el":h(o),onFocusAfterTrapped:h(u),onFocusAfterReleased:h(l),onFocusin:h(f),onFocusoutPrevented:h(p),onReleaseRequested:h(g)},{default:ve(()=>[qe(Z.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var yre=ht(vre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const sL=Cn($se),G0=Symbol("elTooltip"),Cs=pt({...Rne,...iL,appendTo:{type:De([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:De(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),cp=pt({...tL,disabled:Boolean,trigger:{type:De([String,Array]),default:"hover"},triggerKeys:{type:De(Array),default:()=>[Xt.enter,Xt.space]}}),{useModelToggleProps:bre,useModelToggleEmits:_re,useModelToggle:wre}=dI("visible"),Sre=pt({...ZI,...bre,...Cs,...cp,...JI,showArrow:{type:Boolean,default:!0}}),xre=[..._re,"before-show","before-hide","show","hide","open","close"],Mre=(e,t)=>Nt(e)?e.includes(t):e===t,od=(e,t,i)=>s=>{Mre(h(e),t)&&i(s)},Ere=_e({name:"ElTooltipTrigger"}),Cre=_e({...Ere,props:cp,setup(e,{expose:t}){const i=e,s=nt("tooltip"),{controlled:o,id:a,open:l,onOpen:u,onClose:f,onToggle:p}=Lt(G0,void 0),g=X(null),v=()=>{if(h(o)||i.disabled)return!0},b=Oi(i,"trigger"),w=Xi(v,od(b,"hover",u)),M=Xi(v,od(b,"hover",f)),x=Xi(v,od(b,"click",P=>{P.button===0&&p(P)})),E=Xi(v,od(b,"focus",u)),C=Xi(v,od(b,"focus",f)),k=Xi(v,od(b,"contextmenu",P=>{P.preventDefault(),p(P)})),R=Xi(v,P=>{const{code:O}=P;i.triggerKeys.includes(O)&&(P.preventDefault(),p(P))});return t({triggerRef:g}),(P,O)=>(B(),Be(h(qse),{id:h(a),"virtual-ref":P.virtualRef,open:h(l),"virtual-triggering":P.virtualTriggering,class:U(h(s).e("trigger")),onBlur:h(C),onClick:h(x),onContextmenu:h(k),onFocus:h(E),onMouseenter:h(w),onMouseleave:h(M),onKeydown:h(R)},{default:ve(()=>[qe(P.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var Tre=ht(Cre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const Are=_e({name:"ElTooltipContent",inheritAttrs:!1}),Rre=_e({...Are,props:Cs,setup(e,{expose:t}){const i=e,{selector:s}=CI(),o=nt("tooltip"),a=X(null),l=X(!1),{controlled:u,id:f,open:p,trigger:g,onClose:v,onOpen:b,onShow:w,onHide:M,onBeforeShow:x,onBeforeHide:E}=Lt(G0,void 0),C=D(()=>i.transition||`${o.namespace.value}-fade-in-linear`),k=D(()=>i.persistent);Di(()=>{l.value=!0});const R=D(()=>h(k)?!0:h(p)),P=D(()=>i.disabled?!1:h(p)),O=D(()=>i.appendTo||s.value),F=D(()=>{var W;return(W=i.style)!=null?W:{}}),G=D(()=>!h(p)),H=()=>{M()},j=()=>{if(h(u))return!0},q=Xi(j,()=>{i.enterable&&h(g)==="hover"&&b()}),ie=Xi(j,()=>{h(g)==="hover"&&v()}),Q=()=>{var W,ee;(ee=(W=a.value)==null?void 0:W.updatePopper)==null||ee.call(W),x==null||x()},Z=()=>{E==null||E()},re=()=>{w(),te=aS(D(()=>{var W;return(W=a.value)==null?void 0:W.popperContentRef}),()=>{if(h(u))return;h(g)!=="hover"&&v()})},ce=()=>{i.virtualTriggering||v()};let te;return et(()=>h(p),W=>{W||te==null||te()},{flush:"post"}),et(()=>i.content,()=>{var W,ee;(ee=(W=a.value)==null?void 0:W.updatePopper)==null||ee.call(W)}),t({contentRef:a}),(W,ee)=>(B(),Be(Sp,{disabled:!W.teleported,to:h(O)},[fe(ns,{name:h(C),onAfterLeave:H,onBeforeEnter:Q,onAfterEnter:re,onBeforeLeave:Z},{default:ve(()=>[h(R)?gn((B(),Be(h(yre),kn({key:0,id:h(f),ref_key:"contentRef",ref:a},W.$attrs,{"aria-label":W.ariaLabel,"aria-hidden":h(G),"boundaries-padding":W.boundariesPadding,"fallback-placements":W.fallbackPlacements,"gpu-acceleration":W.gpuAcceleration,offset:W.offset,placement:W.placement,"popper-options":W.popperOptions,strategy:W.strategy,effect:W.effect,enterable:W.enterable,pure:W.pure,"popper-class":W.popperClass,"popper-style":[W.popperStyle,h(F)],"reference-el":W.referenceEl,"trigger-target-el":W.triggerTargetEl,visible:h(P),"z-index":W.zIndex,onMouseenter:h(q),onMouseleave:h(ie),onBlur:ce,onClose:h(v)}),{default:ve(()=>[l.value?Oe("v-if",!0):qe(W.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[oi,h(P)]]):Oe("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var kre=ht(Rre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const Pre=["innerHTML"],Ire={key:1},Lre=_e({name:"ElTooltip"}),Nre=_e({...Lre,props:Sre,emits:xre,setup(e,{expose:t,emit:i}){const s=e;Ane();const o=so(),a=X(),l=X(),u=()=>{var C;const k=h(a);k&&((C=k.popperInstanceRef)==null||C.update())},f=X(!1),p=X(),{show:g,hide:v,hasUpdateHandler:b}=wre({indicator:f,toggleReason:p}),{onOpen:w,onClose:M}=TI({showAfter:Oi(s,"showAfter"),hideAfter:Oi(s,"hideAfter"),autoClose:Oi(s,"autoClose"),open:g,close:v}),x=D(()=>ds(s.visible)&&!b.value);On(G0,{controlled:x,id:o,open:sf(f),trigger:Oi(s,"trigger"),onOpen:C=>{w(C)},onClose:C=>{M(C)},onToggle:C=>{h(f)?M(C):w(C)},onShow:()=>{i("show",p.value)},onHide:()=>{i("hide",p.value)},onBeforeShow:()=>{i("before-show",p.value)},onBeforeHide:()=>{i("before-hide",p.value)},updatePopper:u}),et(()=>s.disabled,C=>{C&&f.value&&(f.value=!1)});const E=()=>{var C,k;const R=(k=(C=l.value)==null?void 0:C.contentRef)==null?void 0:k.popperContentRef;return R&&R.contains(document.activeElement)};return Vk(()=>f.value&&v()),t({popperRef:a,contentRef:l,isFocusInsideContent:E,updatePopper:u,onOpen:w,onClose:M,hide:v}),(C,k)=>(B(),Be(h(sL),{ref_key:"popperRef",ref:a,role:C.role},{default:ve(()=>[fe(Tre,{disabled:C.disabled,trigger:C.trigger,"trigger-keys":C.triggerKeys,"virtual-ref":C.virtualRef,"virtual-triggering":C.virtualTriggering},{default:ve(()=>[C.$slots.default?qe(C.$slots,"default",{key:0}):Oe("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),fe(kre,{ref_key:"contentRef",ref:l,"aria-label":C.ariaLabel,"boundaries-padding":C.boundariesPadding,content:C.content,disabled:C.disabled,effect:C.effect,enterable:C.enterable,"fallback-placements":C.fallbackPlacements,"hide-after":C.hideAfter,"gpu-acceleration":C.gpuAcceleration,offset:C.offset,persistent:C.persistent,"popper-class":C.popperClass,"popper-style":C.popperStyle,placement:C.placement,"popper-options":C.popperOptions,pure:C.pure,"raw-content":C.rawContent,"reference-el":C.referenceEl,"trigger-target-el":C.triggerTargetEl,"show-after":C.showAfter,strategy:C.strategy,teleported:C.teleported,transition:C.transition,"virtual-triggering":C.virtualTriggering,"z-index":C.zIndex,"append-to":C.appendTo},{default:ve(()=>[qe(C.$slots,"content",{},()=>[C.rawContent?(B(),ne("span",{key:0,innerHTML:C.content},null,8,Pre)):(B(),ne("span",Ire,ft(C.content),1))]),C.showArrow?(B(),Be(h(Hse),{key:0,"arrow-offset":C.arrowOffset},null,8,["arrow-offset"])):Oe("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Ore=ht(Nre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const ar=Cn(Ore),Dre=pt({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:De(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:De([Function,Array]),default:_i},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},label:{type:String},teleported:Cs.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String}),Fre={[Rn]:e=>un(e),[ir]:e=>un(e),[Ii]:e=>un(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>Pn(e)},Bre=["aria-expanded","aria-owns"],zre={key:0},$re=["id","aria-selected","onClick"],rL="ElAutocomplete",Ure=_e({name:rL,inheritAttrs:!1}),Vre=_e({...Ure,props:Dre,emits:Fre,setup(e,{expose:t,emit:i}){const s=e,o=kS(),a=of(),l=_r(),u=nt("autocomplete"),f=X(),p=X(),g=X(),v=X();let b=!1,w=!1;const M=X([]),x=X(-1),E=X(""),C=X(!1),k=X(!1),R=X(!1),P=D(()=>u.b(String(F0()))),O=D(()=>a.style),F=D(()=>(M.value.length>0||R.value)&&C.value),G=D(()=>!s.hideLoading&&R.value),H=D(()=>f.value?Array.from(f.value.$el.querySelectorAll("input")):[]),j=async()=>{await Bt(),F.value&&(E.value=`${f.value.$el.offsetWidth}px`)},q=()=>{x.value=-1},Q=or(async xe=>{if(k.value)return;const Ie=ge=>{R.value=!1,!k.value&&(Nt(ge)?(M.value=ge,x.value=s.highlightFirstItem?0:-1):vs(rL,"autocomplete suggestions must be an array"))};if(R.value=!0,Nt(s.fetchSuggestions))Ie(s.fetchSuggestions);else{const ge=await s.fetchSuggestions(xe,Ie);Nt(ge)&&Ie(ge)}},s.debounce),Z=xe=>{const Ie=!!xe;if(i(ir,xe),i(Rn,xe),k.value=!1,C.value||(C.value=Ie),!s.triggerOnFocus&&!xe){k.value=!0,M.value=[];return}Q(xe)},re=xe=>{var Ie;l.value||(((Ie=xe.target)==null?void 0:Ie.tagName)!=="INPUT"||H.value.includes(document.activeElement))&&(C.value=!0)},ce=xe=>{i(Ii,xe)},te=xe=>{w?w=!1:(C.value=!0,i("focus",xe),s.triggerOnFocus&&!b&&Q(String(s.modelValue)))},W=xe=>{setTimeout(()=>{var Ie;if((Ie=g.value)!=null&&Ie.isFocusInsideContent()){w=!0;return}C.value&&Ee(),i("blur",xe)})},ee=()=>{C.value=!1,i(Rn,""),i("clear")},J=async()=>{F.value&&x.value>=0&&x.value<M.value.length?Ge(M.value[x.value]):s.selectWhenUnmatched&&(i("select",{value:s.modelValue}),M.value=[],x.value=-1)},pe=xe=>{F.value&&(xe.preventDefault(),xe.stopPropagation(),Ee())},Ee=()=>{C.value=!1},he=()=>{var xe;(xe=f.value)==null||xe.focus()},Ce=()=>{var xe;(xe=f.value)==null||xe.blur()},Ge=async xe=>{i(ir,xe[s.valueKey]),i(Rn,xe[s.valueKey]),i("select",xe),M.value=[],x.value=-1},Te=xe=>{if(!F.value||R.value)return;if(xe<0){x.value=-1;return}xe>=M.value.length&&(xe=M.value.length-1);const Ie=p.value.querySelector(`.${u.be("suggestion","wrap")}`),Le=Ie.querySelectorAll(`.${u.be("suggestion","list")} li`)[xe],Ue=Ie.scrollTop,{offsetTop:ut,scrollHeight:ue}=Le;ut+ue>Ue+Ie.clientHeight&&(Ie.scrollTop+=ue),ut<Ue&&(Ie.scrollTop-=ue),x.value=xe,f.value.ref.setAttribute("aria-activedescendant",`${P.value}-item-${x.value}`)};return aS(v,()=>{F.value&&Ee()}),_n(()=>{f.value.ref.setAttribute("role","textbox"),f.value.ref.setAttribute("aria-autocomplete","list"),f.value.ref.setAttribute("aria-controls","id"),f.value.ref.setAttribute("aria-activedescendant",`${P.value}-item-${x.value}`),b=f.value.ref.hasAttribute("readonly")}),t({highlightedIndex:x,activated:C,loading:R,inputRef:f,popperRef:g,suggestions:M,handleSelect:Ge,handleKeyEnter:J,focus:he,blur:Ce,close:Ee,highlight:Te}),(xe,Ie)=>(B(),Be(h(ar),{ref_key:"popperRef",ref:g,visible:h(F),placement:xe.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[h(u).e("popper"),xe.popperClass],teleported:xe.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${h(u).namespace.value}-zoom-in-top`,persistent:"",onBeforeShow:j,onHide:q},{content:ve(()=>[ae("div",{ref_key:"regionRef",ref:p,class:U([h(u).b("suggestion"),h(u).is("loading",h(G))]),style:Wt({[xe.fitInputWidth?"width":"minWidth"]:E.value,outline:"none"}),role:"region"},[fe(h(ja),{id:h(P),tag:"ul","wrap-class":h(u).be("suggestion","wrap"),"view-class":h(u).be("suggestion","list"),role:"listbox"},{default:ve(()=>[h(G)?(B(),ne("li",zre,[fe(h(zt),{class:U(h(u).is("loading"))},{default:ve(()=>[fe(h(Wl))]),_:1},8,["class"])])):(B(!0),ne(Ft,{key:1},Un(M.value,(ge,Le)=>(B(),ne("li",{id:`${h(P)}-item-${Le}`,key:Le,class:U({highlighted:x.value===Le}),role:"option","aria-selected":x.value===Le,onClick:Ue=>Ge(ge)},[qe(xe.$slots,"default",{item:ge},()=>[Nn(ft(ge[xe.valueKey]),1)])],10,$re))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:ve(()=>[ae("div",{ref_key:"listboxRef",ref:v,class:U([h(u).b(),xe.$attrs.class]),style:Wt(h(O)),role:"combobox","aria-haspopup":"listbox","aria-expanded":h(F),"aria-owns":h(P)},[fe(h(Ws),kn({ref_key:"inputRef",ref:f},h(o),{clearable:xe.clearable,disabled:h(l),name:xe.name,"model-value":xe.modelValue,onInput:Z,onChange:ce,onFocus:te,onBlur:W,onClear:ee,onKeydown:[Ie[0]||(Ie[0]=ei(rn(ge=>Te(x.value-1),["prevent"]),["up"])),Ie[1]||(Ie[1]=ei(rn(ge=>Te(x.value+1),["prevent"]),["down"])),ei(J,["enter"]),ei(Ee,["tab"]),ei(pe,["esc"])],onMousedown:re}),Ua({_:2},[xe.$slots.prepend?{name:"prepend",fn:ve(()=>[qe(xe.$slots,"prepend")])}:void 0,xe.$slots.append?{name:"append",fn:ve(()=>[qe(xe.$slots,"append")])}:void 0,xe.$slots.prefix?{name:"prefix",fn:ve(()=>[qe(xe.$slots,"prefix")])}:void 0,xe.$slots.suffix?{name:"suffix",fn:ve(()=>[qe(xe.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","onKeydown"])],14,Bre)]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var Hre=ht(Vre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/autocomplete/src/autocomplete.vue"]]);const Wre=Cn(Hre),Gre=pt({size:{type:[Number,String],values:ra,default:"",validator:e=>on(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:Pi},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:De(String),default:"cover"}}),Kre={error:e=>e instanceof Event},qre=["src","alt","srcset"],jre=_e({name:"ElAvatar"}),Xre=_e({...jre,props:Gre,emits:Kre,setup(e,{emit:t}){const i=e,s=nt("avatar"),o=X(!1),a=D(()=>{const{size:p,icon:g,shape:v}=i,b=[s.b()];return un(p)&&b.push(s.m(p)),g&&b.push(s.m("icon")),v&&b.push(s.m(v)),b}),l=D(()=>{const{size:p}=i;return on(p)?s.cssVarBlock({size:es(p)||""}):void 0}),u=D(()=>({objectFit:i.fit}));et(()=>i.src,()=>o.value=!1);function f(p){o.value=!0,t("error",p)}return(p,g)=>(B(),ne("span",{class:U(h(a)),style:Wt(h(l))},[(p.src||p.srcSet)&&!o.value?(B(),ne("img",{key:0,src:p.src,alt:p.alt,srcset:p.srcSet,style:Wt(h(u)),onError:f},null,44,qre)):p.icon?(B(),Be(h(zt),{key:1},{default:ve(()=>[(B(),Be(Bn(p.icon)))]),_:1})):qe(p.$slots,"default",{key:2})],6))}});var Yre=ht(Xre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/avatar/src/avatar.vue"]]);const Zre=Cn(Yre),Jre={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},Qre={click:e=>e instanceof MouseEvent},eoe=(e,t,i)=>{const s=ki(),o=ki(),a=X(!1),l=()=>{s.value&&(a.value=s.value.scrollTop>=e.visibilityHeight)},u=p=>{var g;(g=s.value)==null||g.scrollTo({top:0,behavior:"smooth"}),t("click",p)},f=u3(l,300,!0);return Vi(o,"scroll",f),_n(()=>{var p;o.value=document,s.value=document.documentElement,e.target&&(s.value=(p=document.querySelector(e.target))!=null?p:void 0,s.value||vs(i,`target does not exist: ${e.target}`),o.value=s.value)}),{visible:a,handleClick:u}},oL="ElBacktop",toe=_e({name:oL}),noe=_e({...toe,props:Jre,emits:Qre,setup(e,{emit:t}){const i=e,s=nt("backtop"),{handleClick:o,visible:a}=eoe(i,t,oL),l=D(()=>({right:`${i.right}px`,bottom:`${i.bottom}px`}));return(u,f)=>(B(),Be(ns,{name:`${h(s).namespace.value}-fade-in`},{default:ve(()=>[h(a)?(B(),ne("div",{key:0,style:Wt(h(l)),class:U(h(s).b()),onClick:f[0]||(f[0]=rn((...p)=>h(o)&&h(o)(...p),["stop"]))},[qe(u.$slots,"default",{},()=>[fe(h(zt),{class:U(h(s).e("icon"))},{default:ve(()=>[fe(h(rZ))]),_:1},8,["class"])])],6)):Oe("v-if",!0)]),_:3},8,["name"]))}});var ioe=ht(noe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/backtop/src/backtop.vue"]]);const soe=Cn(ioe),roe=pt({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),ooe=["textContent"],aoe=_e({name:"ElBadge"}),loe=_e({...aoe,props:roe,setup(e,{expose:t}){const i=e,s=nt("badge"),o=D(()=>i.isDot?"":on(i.value)&&on(i.max)?i.max<i.value?`${i.max}+`:`${i.value}`:`${i.value}`);return t({content:o}),(a,l)=>(B(),ne("div",{class:U(h(s).b())},[qe(a.$slots,"default"),fe(ns,{name:`${h(s).namespace.value}-zoom-in-center`,persisted:""},{default:ve(()=>[gn(ae("sup",{class:U([h(s).e("content"),h(s).em("content",a.type),h(s).is("fixed",!!a.$slots.default),h(s).is("dot",a.isDot)]),textContent:ft(h(o))},null,10,ooe),[[oi,!a.hidden&&(h(o)||a.isDot)]])]),_:1},8,["name"])],2))}});var coe=ht(loe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const aL=Cn(coe),lL=Symbol("breadcrumbKey"),uoe=pt({separator:{type:String,default:"/"},separatorIcon:{type:Pi}}),doe=_e({name:"ElBreadcrumb"}),foe=_e({...doe,props:uoe,setup(e){const t=e,i=nt("breadcrumb"),s=X();return On(lL,t),_n(()=>{const o=s.value.querySelectorAll(`.${i.e("item")}`);o.length&&o[o.length-1].setAttribute("aria-current","page")}),(o,a)=>(B(),ne("div",{ref_key:"breadcrumb",ref:s,class:U(h(i).b()),"aria-label":"Breadcrumb",role:"navigation"},[qe(o.$slots,"default")],2))}});var hoe=ht(foe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb.vue"]]);const poe=pt({to:{type:De([String,Object]),default:""},replace:{type:Boolean,default:!1}}),moe=_e({name:"ElBreadcrumbItem"}),goe=_e({...moe,props:poe,setup(e){const t=e,i=Tn(),s=Lt(lL,void 0),o=nt("breadcrumb"),{separator:a,separatorIcon:l}=gs(s),u=i.appContext.config.globalProperties.$router,f=X(),p=()=>{!t.to||!u||(t.replace?u.replace(t.to):u.push(t.to))};return(g,v)=>(B(),ne("span",{class:U(h(o).e("item"))},[ae("span",{ref_key:"link",ref:f,class:U([h(o).e("inner"),h(o).is("link",!!g.to)]),role:"link",onClick:p},[qe(g.$slots,"default")],2),h(l)?(B(),Be(h(zt),{key:0,class:U(h(o).e("separator"))},{default:ve(()=>[(B(),Be(Bn(h(l))))]),_:1},8,["class"])):(B(),ne("span",{key:1,class:U(h(o).e("separator")),role:"presentation"},ft(h(a)),3))],2))}});var cL=ht(goe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb-item.vue"]]);const voe=Cn(hoe,{BreadcrumbItem:cL}),yoe=Yi(cL),uL=Symbol("buttonGroupContextKey"),boe=(e,t)=>{ta({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},D(()=>e.type==="text"));const i=Lt(uL,void 0),s=U0("button"),{form:o}=lr(),a=fs(D(()=>i==null?void 0:i.size)),l=_r(),u=X(),f=Rs(),p=D(()=>e.type||(i==null?void 0:i.type)||""),g=D(()=>{var M,x,E;return(E=(x=e.autoInsertSpace)!=null?x:(M=s.value)==null?void 0:M.autoInsertSpace)!=null?E:!1}),v=D(()=>e.tag==="button"?{ariaDisabled:l.value||e.loading,disabled:l.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),b=D(()=>{var M;const x=(M=f.default)==null?void 0:M.call(f);if(g.value&&(x==null?void 0:x.length)===1){const E=x[0];if((E==null?void 0:E.type)===rf){const C=E.children;return/^\p{Unified_Ideograph}{2}$/u.test(C.trim())}}return!1});return{_disabled:l,_size:a,_type:p,_ref:u,_props:v,shouldAddSpace:b,handleClick:M=>{e.nativeType==="reset"&&(o==null||o.resetFields()),t("click",M)}}},B1=["default","primary","success","warning","info","danger","text",""],_oe=["button","submit","reset"],z1=pt({size:Ds,disabled:Boolean,type:{type:String,values:B1,default:""},icon:{type:Pi},nativeType:{type:String,values:_oe,default:"button"},loading:Boolean,loadingIcon:{type:Pi,default:()=>Wl},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:De([String,Object]),default:"button"}}),woe={click:e=>e instanceof MouseEvent};function Ns(e,t){Soe(e)&&(e="100%");var i=xoe(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),i&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function $g(e){return Math.min(1,Math.max(0,e))}function Soe(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function xoe(e){return typeof e=="string"&&e.indexOf("%")!==-1}function dL(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Ug(e){return e<=1?"".concat(Number(e)*100,"%"):e}function Oc(e){return e.length===1?"0"+e:String(e)}function Moe(e,t,i){return{r:Ns(e,255)*255,g:Ns(t,255)*255,b:Ns(i,255)*255}}function JA(e,t,i){e=Ns(e,255),t=Ns(t,255),i=Ns(i,255);var s=Math.max(e,t,i),o=Math.min(e,t,i),a=0,l=0,u=(s+o)/2;if(s===o)l=0,a=0;else{var f=s-o;switch(l=u>.5?f/(2-s-o):f/(s+o),s){case e:a=(t-i)/f+(t<i?6:0);break;case t:a=(i-e)/f+2;break;case i:a=(e-t)/f+4;break}a/=6}return{h:a,s:l,l:u}}function F_(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*(6*i):i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function Eoe(e,t,i){var s,o,a;if(e=Ns(e,360),t=Ns(t,100),i=Ns(i,100),t===0)o=i,a=i,s=i;else{var l=i<.5?i*(1+t):i+t-i*t,u=2*i-l;s=F_(u,l,e+1/3),o=F_(u,l,e),a=F_(u,l,e-1/3)}return{r:s*255,g:o*255,b:a*255}}function QA(e,t,i){e=Ns(e,255),t=Ns(t,255),i=Ns(i,255);var s=Math.max(e,t,i),o=Math.min(e,t,i),a=0,l=s,u=s-o,f=s===0?0:u/s;if(s===o)a=0;else{switch(s){case e:a=(t-i)/u+(t<i?6:0);break;case t:a=(i-e)/u+2;break;case i:a=(e-t)/u+4;break}a/=6}return{h:a,s:f,v:l}}function Coe(e,t,i){e=Ns(e,360)*6,t=Ns(t,100),i=Ns(i,100);var s=Math.floor(e),o=e-s,a=i*(1-t),l=i*(1-o*t),u=i*(1-(1-o)*t),f=s%6,p=[i,l,a,a,u,i][f],g=[u,i,i,l,a,a][f],v=[a,a,u,i,i,l][f];return{r:p*255,g:g*255,b:v*255}}function eR(e,t,i,s){var o=[Oc(Math.round(e).toString(16)),Oc(Math.round(t).toString(16)),Oc(Math.round(i).toString(16))];return s&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function Toe(e,t,i,s,o){var a=[Oc(Math.round(e).toString(16)),Oc(Math.round(t).toString(16)),Oc(Math.round(i).toString(16)),Oc(Aoe(s))];return o&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function Aoe(e){return Math.round(parseFloat(e)*255).toString(16)}function tR(e){return Pr(e)/255}function Pr(e){return parseInt(e,16)}function Roe(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var $1={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function koe(e){var t={r:0,g:0,b:0},i=1,s=null,o=null,a=null,l=!1,u=!1;return typeof e=="string"&&(e=Loe(e)),typeof e=="object"&&(Ta(e.r)&&Ta(e.g)&&Ta(e.b)?(t=Moe(e.r,e.g,e.b),l=!0,u=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Ta(e.h)&&Ta(e.s)&&Ta(e.v)?(s=Ug(e.s),o=Ug(e.v),t=Coe(e.h,s,o),l=!0,u="hsv"):Ta(e.h)&&Ta(e.s)&&Ta(e.l)&&(s=Ug(e.s),a=Ug(e.l),t=Eoe(e.h,s,a),l=!0,u="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(i=e.a)),i=dL(i),{ok:l,format:e.format||u,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:i}}var Poe="[-\\+]?\\d+%?",Ioe="[-\\+]?\\d*\\.\\d+%?",Tl="(?:".concat(Ioe,")|(?:").concat(Poe,")"),B_="[\\s|\\(]+(".concat(Tl,")[,|\\s]+(").concat(Tl,")[,|\\s]+(").concat(Tl,")\\s*\\)?"),z_="[\\s|\\(]+(".concat(Tl,")[,|\\s]+(").concat(Tl,")[,|\\s]+(").concat(Tl,")[,|\\s]+(").concat(Tl,")\\s*\\)?"),wo={CSS_UNIT:new RegExp(Tl),rgb:new RegExp("rgb"+B_),rgba:new RegExp("rgba"+z_),hsl:new RegExp("hsl"+B_),hsla:new RegExp("hsla"+z_),hsv:new RegExp("hsv"+B_),hsva:new RegExp("hsva"+z_),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Loe(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if($1[e])e=$1[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i=wo.rgb.exec(e);return i?{r:i[1],g:i[2],b:i[3]}:(i=wo.rgba.exec(e),i?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=wo.hsl.exec(e),i?{h:i[1],s:i[2],l:i[3]}:(i=wo.hsla.exec(e),i?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=wo.hsv.exec(e),i?{h:i[1],s:i[2],v:i[3]}:(i=wo.hsva.exec(e),i?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=wo.hex8.exec(e),i?{r:Pr(i[1]),g:Pr(i[2]),b:Pr(i[3]),a:tR(i[4]),format:t?"name":"hex8"}:(i=wo.hex6.exec(e),i?{r:Pr(i[1]),g:Pr(i[2]),b:Pr(i[3]),format:t?"name":"hex"}:(i=wo.hex4.exec(e),i?{r:Pr(i[1]+i[1]),g:Pr(i[2]+i[2]),b:Pr(i[3]+i[3]),a:tR(i[4]+i[4]),format:t?"name":"hex8"}:(i=wo.hex3.exec(e),i?{r:Pr(i[1]+i[1]),g:Pr(i[2]+i[2]),b:Pr(i[3]+i[3]),format:t?"name":"hex"}:!1)))))))))}function Ta(e){return!!wo.CSS_UNIT.exec(String(e))}var fL=function(){function e(t,i){t===void 0&&(t=""),i===void 0&&(i={});var s;if(t instanceof e)return t;typeof t=="number"&&(t=Roe(t)),this.originalInput=t;var o=koe(t);this.originalInput=t,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=(s=i.format)!==null&&s!==void 0?s:o.format,this.gradientType=i.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),i,s,o,a=t.r/255,l=t.g/255,u=t.b/255;return a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),l<=.03928?s=l/12.92:s=Math.pow((l+.055)/1.055,2.4),u<=.03928?o=u/12.92:o=Math.pow((u+.055)/1.055,2.4),.2126*i+.7152*s+.0722*o},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=dL(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=QA(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=QA(this.r,this.g,this.b),i=Math.round(t.h*360),s=Math.round(t.s*100),o=Math.round(t.v*100);return this.a===1?"hsv(".concat(i,", ").concat(s,"%, ").concat(o,"%)"):"hsva(".concat(i,", ").concat(s,"%, ").concat(o,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=JA(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=JA(this.r,this.g,this.b),i=Math.round(t.h*360),s=Math.round(t.s*100),o=Math.round(t.l*100);return this.a===1?"hsl(".concat(i,", ").concat(s,"%, ").concat(o,"%)"):"hsla(".concat(i,", ").concat(s,"%, ").concat(o,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),eR(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),Toe(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),i=Math.round(this.g),s=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(i,", ").concat(s,")"):"rgba(".concat(t,", ").concat(i,", ").concat(s,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(i){return"".concat(Math.round(Ns(i,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(i){return Math.round(Ns(i,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+eR(this.r,this.g,this.b,!1),i=0,s=Object.entries($1);i<s.length;i++){var o=s[i],a=o[0],l=o[1];if(t===l)return a}return!1},e.prototype.toString=function(t){var i=!!t;t=t??this.format;var s=!1,o=this.a<1&&this.a>=0,a=!i&&o&&(t.startsWith("hex")||t==="name");return a?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(s=this.toRgbString()),t==="prgb"&&(s=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(s=this.toHexString()),t==="hex3"&&(s=this.toHexString(!0)),t==="hex4"&&(s=this.toHex8String(!0)),t==="hex8"&&(s=this.toHex8String()),t==="name"&&(s=this.toName()),t==="hsl"&&(s=this.toHslString()),t==="hsv"&&(s=this.toHsvString()),s||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var i=this.toHsl();return i.l+=t/100,i.l=$g(i.l),new e(i)},e.prototype.brighten=function(t){t===void 0&&(t=10);var i=this.toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(t/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(t/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(t/100)))),new e(i)},e.prototype.darken=function(t){t===void 0&&(t=10);var i=this.toHsl();return i.l-=t/100,i.l=$g(i.l),new e(i)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var i=this.toHsl();return i.s-=t/100,i.s=$g(i.s),new e(i)},e.prototype.saturate=function(t){t===void 0&&(t=10);var i=this.toHsl();return i.s+=t/100,i.s=$g(i.s),new e(i)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var i=this.toHsl(),s=(i.h+t)%360;return i.h=s<0?360+s:s,new e(i)},e.prototype.mix=function(t,i){i===void 0&&(i=50);var s=this.toRgb(),o=new e(t).toRgb(),a=i/100,l={r:(o.r-s.r)*a+s.r,g:(o.g-s.g)*a+s.g,b:(o.b-s.b)*a+s.b,a:(o.a-s.a)*a+s.a};return new e(l)},e.prototype.analogous=function(t,i){t===void 0&&(t=6),i===void 0&&(i=30);var s=this.toHsl(),o=360/i,a=[this];for(s.h=(s.h-(o*t>>1)+720)%360;--t;)s.h=(s.h+o)%360,a.push(new e(s));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var i=this.toHsv(),s=i.h,o=i.s,a=i.v,l=[],u=1/t;t--;)l.push(new e({h:s,s:o,v:a})),a=(a+u)%1;return l},e.prototype.splitcomplement=function(){var t=this.toHsl(),i=t.h;return[this,new e({h:(i+72)%360,s:t.s,l:t.l}),new e({h:(i+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var i=this.toRgb(),s=new e(t).toRgb(),o=i.a+s.a*(1-i.a);return new e({r:(i.r*i.a+s.r*s.a*(1-i.a))/o,g:(i.g*i.a+s.g*s.a*(1-i.a))/o,b:(i.b*i.a+s.b*s.a*(1-i.a))/o,a:o})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var i=this.toHsl(),s=i.h,o=[this],a=360/t,l=1;l<t;l++)o.push(new e({h:(s+l*a)%360,s:i.s,l:i.l}));return o},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function bl(e,t=20){return e.mix("#141414",t).toString()}function Noe(e){const t=_r(),i=nt("button");return D(()=>{let s={};const o=e.color;if(o){const a=new fL(o),l=e.dark?a.tint(20).toString():bl(a,20);if(e.plain)s=i.cssVarBlock({"bg-color":e.dark?bl(a,90):a.tint(90).toString(),"text-color":o,"border-color":e.dark?bl(a,50):a.tint(50).toString(),"hover-text-color":`var(${i.cssVarName("color-white")})`,"hover-bg-color":o,"hover-border-color":o,"active-bg-color":l,"active-text-color":`var(${i.cssVarName("color-white")})`,"active-border-color":l}),t.value&&(s[i.cssVarBlockName("disabled-bg-color")]=e.dark?bl(a,90):a.tint(90).toString(),s[i.cssVarBlockName("disabled-text-color")]=e.dark?bl(a,50):a.tint(50).toString(),s[i.cssVarBlockName("disabled-border-color")]=e.dark?bl(a,80):a.tint(80).toString());else{const u=e.dark?bl(a,30):a.tint(30).toString(),f=a.isDark()?`var(${i.cssVarName("color-white")})`:`var(${i.cssVarName("color-black")})`;if(s=i.cssVarBlock({"bg-color":o,"text-color":f,"border-color":o,"hover-bg-color":u,"hover-text-color":f,"hover-border-color":u,"active-bg-color":l,"active-border-color":l}),t.value){const p=e.dark?bl(a,50):a.tint(50).toString();s[i.cssVarBlockName("disabled-bg-color")]=p,s[i.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${i.cssVarName("color-white")})`,s[i.cssVarBlockName("disabled-border-color")]=p}}}return s})}const Ooe=_e({name:"ElButton"}),Doe=_e({...Ooe,props:z1,emits:woe,setup(e,{expose:t,emit:i}){const s=e,o=Noe(s),a=nt("button"),{_ref:l,_size:u,_type:f,_disabled:p,_props:g,shouldAddSpace:v,handleClick:b}=boe(s,i);return t({ref:l,size:u,type:f,disabled:p,shouldAddSpace:v}),(w,M)=>(B(),Be(Bn(w.tag),kn({ref_key:"_ref",ref:l},h(g),{class:[h(a).b(),h(a).m(h(f)),h(a).m(h(u)),h(a).is("disabled",h(p)),h(a).is("loading",w.loading),h(a).is("plain",w.plain),h(a).is("round",w.round),h(a).is("circle",w.circle),h(a).is("text",w.text),h(a).is("link",w.link),h(a).is("has-bg",w.bg)],style:h(o),onClick:h(b)}),{default:ve(()=>[w.loading?(B(),ne(Ft,{key:0},[w.$slots.loading?qe(w.$slots,"loading",{key:0}):(B(),Be(h(zt),{key:1,class:U(h(a).is("loading"))},{default:ve(()=>[(B(),Be(Bn(w.loadingIcon)))]),_:1},8,["class"]))],64)):w.icon||w.$slots.icon?(B(),Be(h(zt),{key:1},{default:ve(()=>[w.icon?(B(),Be(Bn(w.icon),{key:0})):qe(w.$slots,"icon",{key:1})]),_:3})):Oe("v-if",!0),w.$slots.default?(B(),ne("span",{key:2,class:U({[h(a).em("text","expand")]:h(v)})},[qe(w.$slots,"default")],2)):Oe("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Foe=ht(Doe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const Boe={size:z1.size,type:z1.type},zoe=_e({name:"ElButtonGroup"}),$oe=_e({...zoe,props:Boe,setup(e){const t=e;On(uL,ai({size:Oi(t,"size"),type:Oi(t,"type")}));const i=nt("button");return(s,o)=>(B(),ne("div",{class:U(`${h(i).b("group")}`)},[qe(s.$slots,"default")],2))}});var hL=ht($oe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const Os=Cn(Foe,{ButtonGroup:hL}),pL=Yi(hL);var Xa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mL={exports:{}};(function(e,t){(function(i,s){e.exports=s()})(Xa,function(){var i=1e3,s=6e4,o=36e5,a="millisecond",l="second",u="minute",f="hour",p="day",g="week",v="month",b="quarter",w="year",M="date",x="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Z){var re=["th","st","nd","rd"],ce=Z%100;return"["+Z+(re[(ce-20)%10]||re[ce]||re[0])+"]"}},R=function(Z,re,ce){var te=String(Z);return!te||te.length>=re?Z:""+Array(re+1-te.length).join(ce)+Z},P={s:R,z:function(Z){var re=-Z.utcOffset(),ce=Math.abs(re),te=Math.floor(ce/60),W=ce%60;return(re<=0?"+":"-")+R(te,2,"0")+":"+R(W,2,"0")},m:function Z(re,ce){if(re.date()<ce.date())return-Z(ce,re);var te=12*(ce.year()-re.year())+(ce.month()-re.month()),W=re.clone().add(te,v),ee=ce-W<0,J=re.clone().add(te+(ee?-1:1),v);return+(-(te+(ce-W)/(ee?W-J:J-W))||0)},a:function(Z){return Z<0?Math.ceil(Z)||0:Math.floor(Z)},p:function(Z){return{M:v,y:w,w:g,d:p,D:M,h:f,m:u,s:l,ms:a,Q:b}[Z]||String(Z||"").toLowerCase().replace(/s$/,"")},u:function(Z){return Z===void 0}},O="en",F={};F[O]=k;var G=function(Z){return Z instanceof ie},H=function Z(re,ce,te){var W;if(!re)return O;if(typeof re=="string"){var ee=re.toLowerCase();F[ee]&&(W=ee),ce&&(F[ee]=ce,W=ee);var J=re.split("-");if(!W&&J.length>1)return Z(J[0])}else{var pe=re.name;F[pe]=re,W=pe}return!te&&W&&(O=W),W||!te&&O},j=function(Z,re){if(G(Z))return Z.clone();var ce=typeof re=="object"?re:{};return ce.date=Z,ce.args=arguments,new ie(ce)},q=P;q.l=H,q.i=G,q.w=function(Z,re){return j(Z,{locale:re.$L,utc:re.$u,x:re.$x,$offset:re.$offset})};var ie=function(){function Z(ce){this.$L=H(ce.locale,null,!0),this.parse(ce)}var re=Z.prototype;return re.parse=function(ce){this.$d=function(te){var W=te.date,ee=te.utc;if(W===null)return new Date(NaN);if(q.u(W))return new Date;if(W instanceof Date)return new Date(W);if(typeof W=="string"&&!/Z$/i.test(W)){var J=W.match(E);if(J){var pe=J[2]-1||0,Ee=(J[7]||"0").substring(0,3);return ee?new Date(Date.UTC(J[1],pe,J[3]||1,J[4]||0,J[5]||0,J[6]||0,Ee)):new Date(J[1],pe,J[3]||1,J[4]||0,J[5]||0,J[6]||0,Ee)}}return new Date(W)}(ce),this.$x=ce.x||{},this.init()},re.init=function(){var ce=this.$d;this.$y=ce.getFullYear(),this.$M=ce.getMonth(),this.$D=ce.getDate(),this.$W=ce.getDay(),this.$H=ce.getHours(),this.$m=ce.getMinutes(),this.$s=ce.getSeconds(),this.$ms=ce.getMilliseconds()},re.$utils=function(){return q},re.isValid=function(){return this.$d.toString()!==x},re.isSame=function(ce,te){var W=j(ce);return this.startOf(te)<=W&&W<=this.endOf(te)},re.isAfter=function(ce,te){return j(ce)<this.startOf(te)},re.isBefore=function(ce,te){return this.endOf(te)<j(ce)},re.$g=function(ce,te,W){return q.u(ce)?this[te]:this.set(W,ce)},re.unix=function(){return Math.floor(this.valueOf()/1e3)},re.valueOf=function(){return this.$d.getTime()},re.startOf=function(ce,te){var W=this,ee=!!q.u(te)||te,J=q.p(ce),pe=function(ge,Le){var Ue=q.w(W.$u?Date.UTC(W.$y,Le,ge):new Date(W.$y,Le,ge),W);return ee?Ue:Ue.endOf(p)},Ee=function(ge,Le){return q.w(W.toDate()[ge].apply(W.toDate("s"),(ee?[0,0,0,0]:[23,59,59,999]).slice(Le)),W)},he=this.$W,Ce=this.$M,Ge=this.$D,Te="set"+(this.$u?"UTC":"");switch(J){case w:return ee?pe(1,0):pe(31,11);case v:return ee?pe(1,Ce):pe(0,Ce+1);case g:var xe=this.$locale().weekStart||0,Ie=(he<xe?he+7:he)-xe;return pe(ee?Ge-Ie:Ge+(6-Ie),Ce);case p:case M:return Ee(Te+"Hours",0);case f:return Ee(Te+"Minutes",1);case u:return Ee(Te+"Seconds",2);case l:return Ee(Te+"Milliseconds",3);default:return this.clone()}},re.endOf=function(ce){return this.startOf(ce,!1)},re.$set=function(ce,te){var W,ee=q.p(ce),J="set"+(this.$u?"UTC":""),pe=(W={},W[p]=J+"Date",W[M]=J+"Date",W[v]=J+"Month",W[w]=J+"FullYear",W[f]=J+"Hours",W[u]=J+"Minutes",W[l]=J+"Seconds",W[a]=J+"Milliseconds",W)[ee],Ee=ee===p?this.$D+(te-this.$W):te;if(ee===v||ee===w){var he=this.clone().set(M,1);he.$d[pe](Ee),he.init(),this.$d=he.set(M,Math.min(this.$D,he.daysInMonth())).$d}else pe&&this.$d[pe](Ee);return this.init(),this},re.set=function(ce,te){return this.clone().$set(ce,te)},re.get=function(ce){return this[q.p(ce)]()},re.add=function(ce,te){var W,ee=this;ce=Number(ce);var J=q.p(te),pe=function(Ce){var Ge=j(ee);return q.w(Ge.date(Ge.date()+Math.round(Ce*ce)),ee)};if(J===v)return this.set(v,this.$M+ce);if(J===w)return this.set(w,this.$y+ce);if(J===p)return pe(1);if(J===g)return pe(7);var Ee=(W={},W[u]=s,W[f]=o,W[l]=i,W)[J]||1,he=this.$d.getTime()+ce*Ee;return q.w(he,this)},re.subtract=function(ce,te){return this.add(-1*ce,te)},re.format=function(ce){var te=this,W=this.$locale();if(!this.isValid())return W.invalidDate||x;var ee=ce||"YYYY-MM-DDTHH:mm:ssZ",J=q.z(this),pe=this.$H,Ee=this.$m,he=this.$M,Ce=W.weekdays,Ge=W.months,Te=function(Le,Ue,ut,ue){return Le&&(Le[Ue]||Le(te,ee))||ut[Ue].slice(0,ue)},xe=function(Le){return q.s(pe%12||12,Le,"0")},Ie=W.meridiem||function(Le,Ue,ut){var ue=Le<12?"AM":"PM";return ut?ue.toLowerCase():ue},ge={YY:String(this.$y).slice(-2),YYYY:this.$y,M:he+1,MM:q.s(he+1,2,"0"),MMM:Te(W.monthsShort,he,Ge,3),MMMM:Te(Ge,he),D:this.$D,DD:q.s(this.$D,2,"0"),d:String(this.$W),dd:Te(W.weekdaysMin,this.$W,Ce,2),ddd:Te(W.weekdaysShort,this.$W,Ce,3),dddd:Ce[this.$W],H:String(pe),HH:q.s(pe,2,"0"),h:xe(1),hh:xe(2),a:Ie(pe,Ee,!0),A:Ie(pe,Ee,!1),m:String(Ee),mm:q.s(Ee,2,"0"),s:String(this.$s),ss:q.s(this.$s,2,"0"),SSS:q.s(this.$ms,3,"0"),Z:J};return ee.replace(C,function(Le,Ue){return Ue||ge[Le]||J.replace(":","")})},re.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},re.diff=function(ce,te,W){var ee,J=q.p(te),pe=j(ce),Ee=(pe.utcOffset()-this.utcOffset())*s,he=this-pe,Ce=q.m(this,pe);return Ce=(ee={},ee[w]=Ce/12,ee[v]=Ce,ee[b]=Ce/3,ee[g]=(he-Ee)/6048e5,ee[p]=(he-Ee)/864e5,ee[f]=he/o,ee[u]=he/s,ee[l]=he/i,ee)[J]||he,W?Ce:q.a(Ce)},re.daysInMonth=function(){return this.endOf(v).$D},re.$locale=function(){return F[this.$L]},re.locale=function(ce,te){if(!ce)return this.$L;var W=this.clone(),ee=H(ce,te,!0);return ee&&(W.$L=ee),W},re.clone=function(){return q.w(this.$d,this)},re.toDate=function(){return new Date(this.valueOf())},re.toJSON=function(){return this.isValid()?this.toISOString():null},re.toISOString=function(){return this.$d.toISOString()},re.toString=function(){return this.$d.toUTCString()},Z}(),Q=ie.prototype;return j.prototype=Q,[["$ms",a],["$s",l],["$m",u],["$H",f],["$W",p],["$M",v],["$y",w],["$D",M]].forEach(function(Z){Q[Z[1]]=function(re){return this.$g(re,Z[0],Z[1])}}),j.extend=function(Z,re){return Z.$i||(Z(re,ie,j),Z.$i=!0),j},j.locale=H,j.isDayjs=G,j.unix=function(Z){return j(1e3*Z)},j.en=F[O],j.Ls=F,j.p={},j})})(mL);var Uoe=mL.exports;const xn=oa(Uoe);var gL={exports:{}};(function(e,t){(function(i,s){e.exports=s()})(Xa,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,a=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,u={},f=function(x){return(x=+x)+(x>68?1900:2e3)},p=function(x){return function(E){this[x]=+E}},g=[/[+-]\d\d:?(\d\d)?|Z/,function(x){(this.zone||(this.zone={})).offset=function(E){if(!E||E==="Z")return 0;var C=E.match(/([+-]|\d\d)/g),k=60*C[1]+(+C[2]||0);return k===0?0:C[0]==="+"?-k:k}(x)}],v=function(x){var E=u[x];return E&&(E.indexOf?E:E.s.concat(E.f))},b=function(x,E){var C,k=u.meridiem;if(k){for(var R=1;R<=24;R+=1)if(x.indexOf(k(R,0,E))>-1){C=R>12;break}}else C=x===(E?"pm":"PM");return C},w={A:[l,function(x){this.afternoon=b(x,!1)}],a:[l,function(x){this.afternoon=b(x,!0)}],S:[/\d/,function(x){this.milliseconds=100*+x}],SS:[o,function(x){this.milliseconds=10*+x}],SSS:[/\d{3}/,function(x){this.milliseconds=+x}],s:[a,p("seconds")],ss:[a,p("seconds")],m:[a,p("minutes")],mm:[a,p("minutes")],H:[a,p("hours")],h:[a,p("hours")],HH:[a,p("hours")],hh:[a,p("hours")],D:[a,p("day")],DD:[o,p("day")],Do:[l,function(x){var E=u.ordinal,C=x.match(/\d+/);if(this.day=C[0],E)for(var k=1;k<=31;k+=1)E(k).replace(/\[|\]/g,"")===x&&(this.day=k)}],M:[a,p("month")],MM:[o,p("month")],MMM:[l,function(x){var E=v("months"),C=(v("monthsShort")||E.map(function(k){return k.slice(0,3)})).indexOf(x)+1;if(C<1)throw new Error;this.month=C%12||C}],MMMM:[l,function(x){var E=v("months").indexOf(x)+1;if(E<1)throw new Error;this.month=E%12||E}],Y:[/[+-]?\d+/,p("year")],YY:[o,function(x){this.year=f(x)}],YYYY:[/\d{4}/,p("year")],Z:g,ZZ:g};function M(x){var E,C;E=x,C=u&&u.formats;for(var k=(x=E.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(j,q,ie){var Q=ie&&ie.toUpperCase();return q||C[ie]||i[ie]||C[Q].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Z,re,ce){return re||ce.slice(1)})})).match(s),R=k.length,P=0;P<R;P+=1){var O=k[P],F=w[O],G=F&&F[0],H=F&&F[1];k[P]=H?{regex:G,parser:H}:O.replace(/^\[|\]$/g,"")}return function(j){for(var q={},ie=0,Q=0;ie<R;ie+=1){var Z=k[ie];if(typeof Z=="string")Q+=Z.length;else{var re=Z.regex,ce=Z.parser,te=j.slice(Q),W=re.exec(te)[0];ce.call(q,W),j=j.replace(W,"")}}return function(ee){var J=ee.afternoon;if(J!==void 0){var pe=ee.hours;J?pe<12&&(ee.hours+=12):pe===12&&(ee.hours=0),delete ee.afternoon}}(q),q}}return function(x,E,C){C.p.customParseFormat=!0,x&&x.parseTwoDigitYear&&(f=x.parseTwoDigitYear);var k=E.prototype,R=k.parse;k.parse=function(P){var O=P.date,F=P.utc,G=P.args;this.$u=F;var H=G[1];if(typeof H=="string"){var j=G[2]===!0,q=G[3]===!0,ie=j||q,Q=G[2];q&&(Q=G[2]),u=this.$locale(),!j&&Q&&(u=C.Ls[Q]),this.$d=function(te,W,ee){try{if(["x","X"].indexOf(W)>-1)return new Date((W==="X"?1e3:1)*te);var J=M(W)(te),pe=J.year,Ee=J.month,he=J.day,Ce=J.hours,Ge=J.minutes,Te=J.seconds,xe=J.milliseconds,Ie=J.zone,ge=new Date,Le=he||(pe||Ee?1:ge.getDate()),Ue=pe||ge.getFullYear(),ut=0;pe&&!Ee||(ut=Ee>0?Ee-1:ge.getMonth());var ue=Ce||0,we=Ge||0,Ve=Te||0,Ye=xe||0;return Ie?new Date(Date.UTC(Ue,ut,Le,ue,we,Ve,Ye+60*Ie.offset*1e3)):ee?new Date(Date.UTC(Ue,ut,Le,ue,we,Ve,Ye)):new Date(Ue,ut,Le,ue,we,Ve,Ye)}catch{return new Date("")}}(O,H,F),this.init(),Q&&Q!==!0&&(this.$L=this.locale(Q).$L),ie&&O!=this.format(H)&&(this.$d=new Date("")),u={}}else if(H instanceof Array)for(var Z=H.length,re=1;re<=Z;re+=1){G[1]=H[re-1];var ce=C.apply(this,G);if(ce.isValid()){this.$d=ce.$d,this.$L=ce.$L,this.init();break}re===Z&&(this.$d=new Date(""))}else R.call(this,P)}}})})(gL);var Voe=gL.exports;const XS=oa(Voe),nR=["hours","minutes","seconds"],U1="HH:mm:ss",dd="YYYY-MM-DD",Hoe={date:dd,dates:dd,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${dd} ${U1}`,monthrange:"YYYY-MM",daterange:dd,datetimerange:`${dd} ${U1}`},$_=(e,t)=>[e>0?e-1:void 0,e,e<t?e+1:void 0],Il=e=>Array.from(Array.from({length:e}).keys()),vL=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),yL=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),iR=function(e,t){const i=jc(e),s=jc(t);return i&&s?e.getTime()===t.getTime():!i&&!s?e===t:!1},sR=function(e,t){const i=Nt(e),s=Nt(t);return i&&s?e.length!==t.length?!1:e.every((o,a)=>iR(o,t[a])):!i&&!s?iR(e,t):!1},rR=function(e,t,i){const s=jr(t)||t==="x"?xn(e).locale(i):xn(e,t).locale(i);return s.isValid()?s:void 0},oR=function(e,t,i){return jr(t)?e:t==="x"?+e:xn(e).locale(i).format(t)},U_=(e,t)=>{var i;const s=[],o=t==null?void 0:t();for(let a=0;a<e;a++)s.push((i=o==null?void 0:o.includes(a))!=null?i:!1);return s},bL=pt({disabledHours:{type:De(Function)},disabledMinutes:{type:De(Function)},disabledSeconds:{type:De(Function)}}),_L=pt({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),YS=pt({id:{type:De([Array,String])},name:{type:De([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:De([String,Object]),default:Hl},editable:{type:Boolean,default:!0},prefixIcon:{type:De([String,Object]),default:""},size:Ds,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:De(Object),default:()=>({})},modelValue:{type:De([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:De([Date,Array])},defaultTime:{type:De([Date,Array])},isRange:{type:Boolean,default:!1},...bL,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:De([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),Woe=["id","name","placeholder","value","disabled","readonly"],Goe=["id","name","placeholder","value","disabled","readonly"],Koe=_e({name:"Picker"}),qoe=_e({...Koe,props:YS,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:t,emit:i}){const s=e,{lang:o}=ii(),a=nt("date"),l=nt("input"),u=nt("range"),{form:f,formItem:p}=lr(),g=Lt("ElPopperOptions",{}),v=X(),b=X(),w=X(!1),M=X(!1),x=X(null);let E=!1,C=!1;et(w,me=>{me?Bt(()=>{me&&(x.value=s.modelValue)}):(He.value=null,Bt(()=>{k(s.modelValue)}))});const k=(me,Se)=>{(Se||!sR(me,x.value))&&(i("change",me),s.validateEvent&&(p==null||p.validate("change").catch(it=>void 0)))},R=me=>{if(!sR(s.modelValue,me)){let Se;Nt(me)?Se=me.map(it=>oR(it,s.valueFormat,o.value)):me&&(Se=oR(me,s.valueFormat,o.value)),i("update:modelValue",me&&Se,o.value)}},P=me=>{i("keydown",me)},O=D(()=>{if(b.value){const me=we.value?b.value:b.value.$el;return Array.from(me.querySelectorAll("input"))}return[]}),F=(me,Se,it)=>{const vt=O.value;vt.length&&(!it||it==="min"?(vt[0].setSelectionRange(me,Se),vt[0].focus()):it==="max"&&(vt[1].setSelectionRange(me,Se),vt[1].focus()))},G=()=>{ce(!0,!0),Bt(()=>{C=!1})},H=(me="",Se=!1)=>{Se||(C=!0),w.value=Se;let it;Nt(me)?it=me.map(vt=>vt.toDate()):it=me&&me.toDate(),He.value=null,R(it)},j=()=>{M.value=!0},q=()=>{i("visible-change",!0)},ie=me=>{(me==null?void 0:me.key)===Xt.esc&&ce(!0,!0)},Q=()=>{M.value=!1,w.value=!1,C=!1,i("visible-change",!1)},Z=()=>{w.value=!0},re=()=>{w.value=!1},ce=(me=!0,Se=!1)=>{C=Se;const[it,vt]=h(O);let tn=it;!me&&we.value&&(tn=vt),tn&&tn.focus()},te=me=>{s.readonly||J.value||w.value||C||(w.value=!0,i("focus",me))};let W;const ee=me=>{const Se=async()=>{setTimeout(()=>{var it;W===Se&&(!((it=v.value)!=null&&it.isFocusInsideContent()&&!E)&&O.value.filter(vt=>vt.contains(document.activeElement)).length===0&&(ct(),w.value=!1,i("blur",me),s.validateEvent&&(p==null||p.validate("blur").catch(vt=>void 0))),E=!1)},0)};W=Se,Se()},J=D(()=>s.disabled||(f==null?void 0:f.disabled)),pe=D(()=>{let me;if(ge.value?Pe.value.getDefaultValue&&(me=Pe.value.getDefaultValue()):Nt(s.modelValue)?me=s.modelValue.map(Se=>rR(Se,s.valueFormat,o.value)):me=rR(s.modelValue,s.valueFormat,o.value),Pe.value.getRangeAvailableTime){const Se=Pe.value.getRangeAvailableTime(me);Br(Se,me)||(me=Se,R(Nt(me)?me.map(it=>it.toDate()):me.toDate()))}return Nt(me)&&me.some(Se=>!Se)&&(me=[]),me}),Ee=D(()=>{if(!Pe.value.panelReady)return"";const me=rt(pe.value);return Nt(He.value)?[He.value[0]||me&&me[0]||"",He.value[1]||me&&me[1]||""]:He.value!==null?He.value:!Ce.value&&ge.value||!w.value&&ge.value?"":me?Ge.value?me.join(", "):me:""}),he=D(()=>s.type.includes("time")),Ce=D(()=>s.type.startsWith("time")),Ge=D(()=>s.type==="dates"),Te=D(()=>s.prefixIcon||(he.value?J3:jY)),xe=X(!1),Ie=me=>{s.readonly||J.value||xe.value&&(me.stopPropagation(),G(),R(null),k(null,!0),xe.value=!1,w.value=!1,Pe.value.handleClear&&Pe.value.handleClear())},ge=D(()=>{const{modelValue:me}=s;return!me||Nt(me)&&!me.filter(Boolean).length}),Le=async me=>{var Se;s.readonly||J.value||(((Se=me.target)==null?void 0:Se.tagName)!=="INPUT"||O.value.includes(document.activeElement))&&(w.value=!0)},Ue=()=>{s.readonly||J.value||!ge.value&&s.clearable&&(xe.value=!0)},ut=()=>{xe.value=!1},ue=me=>{var Se;s.readonly||J.value||(((Se=me.touches[0].target)==null?void 0:Se.tagName)!=="INPUT"||O.value.includes(document.activeElement))&&(w.value=!0)},we=D(()=>s.type.includes("range")),Ve=fs(),Ye=D(()=>{var me,Se;return(Se=(me=h(v))==null?void 0:me.popperRef)==null?void 0:Se.contentRef}),lt=D(()=>{var me;return h(we)?h(b):(me=h(b))==null?void 0:me.$el});aS(lt,me=>{const Se=h(Ye),it=h(lt);Se&&(me.target===Se||me.composedPath().includes(Se))||me.target===it||me.composedPath().includes(it)||(w.value=!1)});const He=X(null),ct=()=>{if(He.value){const me=Qe(Ee.value);me&&Je(me)&&(R(Nt(me)?me.map(Se=>Se.toDate()):me.toDate()),He.value=null)}He.value===""&&(R(null),k(null),He.value=null)},Qe=me=>me?Pe.value.parseUserInput(me):null,rt=me=>me?Pe.value.formatToString(me):null,Je=me=>Pe.value.isValidValue(me),Mt=async me=>{if(s.readonly||J.value)return;const{code:Se}=me;if(P(me),Se===Xt.esc){w.value===!0&&(w.value=!1,me.preventDefault(),me.stopPropagation());return}if(Se===Xt.down&&(Pe.value.handleFocusPicker&&(me.preventDefault(),me.stopPropagation()),w.value===!1&&(w.value=!0,await Bt()),Pe.value.handleFocusPicker)){Pe.value.handleFocusPicker();return}if(Se===Xt.tab){E=!0;return}if(Se===Xt.enter||Se===Xt.numpadEnter){(He.value===null||He.value===""||Je(Qe(Ee.value)))&&(ct(),w.value=!1),me.stopPropagation();return}if(He.value){me.stopPropagation();return}Pe.value.handleKeydownInput&&Pe.value.handleKeydownInput(me)},yt=me=>{He.value=me,w.value||(w.value=!0)},We=me=>{const Se=me.target;He.value?He.value=[Se.value,He.value[1]]:He.value=[Se.value,null]},_t=me=>{const Se=me.target;He.value?He.value=[He.value[0],Se.value]:He.value=[null,Se.value]},Ut=()=>{var me;const Se=He.value,it=Qe(Se&&Se[0]),vt=h(pe);if(it&&it.isValid()){He.value=[rt(it),((me=Ee.value)==null?void 0:me[1])||null];const tn=[it,vt&&(vt[1]||null)];Je(tn)&&(R(tn),He.value=null)}},fn=()=>{var me;const Se=h(He),it=Qe(Se&&Se[1]),vt=h(pe);if(it&&it.isValid()){He.value=[((me=h(Ee))==null?void 0:me[0])||null,rt(it)];const tn=[vt&&vt[0],it];Je(tn)&&(R(tn),He.value=null)}},Pe=X({}),$e=me=>{Pe.value[me[0]]=me[1],Pe.value.panelReady=!0},tt=me=>{i("calendar-change",me)},Fe=(me,Se,it)=>{i("panel-change",me,Se,it)};return On("EP_PICKER_BASE",{props:s}),t({focus:ce,handleFocusInput:te,handleBlurInput:ee,handleOpen:Z,handleClose:re,onPick:H}),(me,Se)=>(B(),Be(h(ar),kn({ref_key:"refPopper",ref:v,visible:w.value,effect:"light",pure:"",trigger:"click"},me.$attrs,{role:"dialog",teleported:"",transition:`${h(a).namespace.value}-zoom-in-top`,"popper-class":[`${h(a).namespace.value}-picker__popper`,me.popperClass],"popper-options":h(g),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:j,onShow:q,onHide:Q}),{default:ve(()=>[h(we)?(B(),ne("div",{key:1,ref_key:"inputRef",ref:b,class:U([h(a).b("editor"),h(a).bm("editor",me.type),h(l).e("wrapper"),h(a).is("disabled",h(J)),h(a).is("active",w.value),h(u).b("editor"),h(Ve)?h(u).bm("editor",h(Ve)):"",me.$attrs.class]),style:Wt(me.$attrs.style),onClick:te,onMouseenter:Ue,onMouseleave:ut,onTouchstart:ue,onKeydown:Mt},[h(Te)?(B(),Be(h(zt),{key:0,class:U([h(l).e("icon"),h(u).e("icon")]),onMousedown:rn(Le,["prevent"]),onTouchstart:ue},{default:ve(()=>[(B(),Be(Bn(h(Te))))]),_:1},8,["class","onMousedown"])):Oe("v-if",!0),ae("input",{id:me.id&&me.id[0],autocomplete:"off",name:me.name&&me.name[0],placeholder:me.startPlaceholder,value:h(Ee)&&h(Ee)[0],disabled:h(J),readonly:!me.editable||me.readonly,class:U(h(u).b("input")),onMousedown:Le,onInput:We,onChange:Ut,onFocus:te,onBlur:ee},null,42,Woe),qe(me.$slots,"range-separator",{},()=>[ae("span",{class:U(h(u).b("separator"))},ft(me.rangeSeparator),3)]),ae("input",{id:me.id&&me.id[1],autocomplete:"off",name:me.name&&me.name[1],placeholder:me.endPlaceholder,value:h(Ee)&&h(Ee)[1],disabled:h(J),readonly:!me.editable||me.readonly,class:U(h(u).b("input")),onMousedown:Le,onFocus:te,onBlur:ee,onInput:_t,onChange:fn},null,42,Goe),me.clearIcon?(B(),Be(h(zt),{key:1,class:U([h(l).e("icon"),h(u).e("close-icon"),{[h(u).e("close-icon--hidden")]:!xe.value}]),onClick:Ie},{default:ve(()=>[(B(),Be(Bn(me.clearIcon)))]),_:1},8,["class"])):Oe("v-if",!0)],38)):(B(),Be(h(Ws),{key:0,id:me.id,ref_key:"inputRef",ref:b,"container-role":"combobox","model-value":h(Ee),name:me.name,size:h(Ve),disabled:h(J),placeholder:me.placeholder,class:U([h(a).b("editor"),h(a).bm("editor",me.type),me.$attrs.class]),style:Wt(me.$attrs.style),readonly:!me.editable||me.readonly||h(Ge)||me.type==="week",label:me.label,tabindex:me.tabindex,"validate-event":!1,onInput:yt,onFocus:te,onBlur:ee,onKeydown:Mt,onChange:ct,onMousedown:Le,onMouseenter:Ue,onMouseleave:ut,onTouchstart:ue,onClick:Se[0]||(Se[0]=rn(()=>{},["stop"]))},{prefix:ve(()=>[h(Te)?(B(),Be(h(zt),{key:0,class:U(h(l).e("icon")),onMousedown:rn(Le,["prevent"]),onTouchstart:ue},{default:ve(()=>[(B(),Be(Bn(h(Te))))]),_:1},8,["class","onMousedown"])):Oe("v-if",!0)]),suffix:ve(()=>[xe.value&&me.clearIcon?(B(),Be(h(zt),{key:0,class:U(`${h(l).e("icon")} clear-icon`),onClick:rn(Ie,["stop"])},{default:ve(()=>[(B(),Be(Bn(me.clearIcon)))]),_:1},8,["class","onClick"])):Oe("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:ve(()=>[qe(me.$slots,"default",{visible:w.value,actualVisible:M.value,parsedValue:h(pe),format:me.format,unlinkPanels:me.unlinkPanels,type:me.type,defaultValue:me.defaultValue,onPick:H,onSelectRange:F,onSetPickerOption:$e,onCalendarChange:tt,onPanelChange:Fe,onKeydown:ie,onMousedown:Se[1]||(Se[1]=rn(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var wL=ht(qoe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const joe=pt({..._L,datetimeRole:String,parsedValue:{type:De(Object)}}),SL=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:i})=>{const s=(l,u,f,p)=>{const g={hour:e,minute:t,second:i};let v=l;return["hour","minute","second"].forEach(b=>{if(g[b]){let w;const M=g[b];switch(b){case"minute":{w=M(v.hour(),u,p);break}case"second":{w=M(v.hour(),v.minute(),u,p);break}default:{w=M(u,p);break}}if(w!=null&&w.length&&!w.includes(v[b]())){const x=f?0:w.length-1;v=v[b](w[x])}}}),v},o={};return{timePickerOptions:o,getAvailableTime:s,onSetOption:([l,u])=>{o[l]=u}}},V_=e=>{const t=(s,o)=>s||o,i=s=>s!==!0;return e.map(t).filter(i)},xL=(e,t,i)=>({getHoursList:(l,u)=>U_(24,e&&(()=>e==null?void 0:e(l,u))),getMinutesList:(l,u,f)=>U_(60,t&&(()=>t==null?void 0:t(l,u,f))),getSecondsList:(l,u,f,p)=>U_(60,i&&(()=>i==null?void 0:i(l,u,f,p)))}),ML=(e,t,i)=>{const{getHoursList:s,getMinutesList:o,getSecondsList:a}=xL(e,t,i);return{getAvailableHours:(p,g)=>V_(s(p,g)),getAvailableMinutes:(p,g,v)=>V_(o(p,g,v)),getAvailableSeconds:(p,g,v,b)=>V_(a(p,g,v,b))}},EL=e=>{const t=X(e.parsedValue);return et(()=>e.visible,i=>{i||(t.value=e.parsedValue)}),t},Sl=new Map;let aR;Jn&&(document.addEventListener("mousedown",e=>aR=e),document.addEventListener("mouseup",e=>{for(const t of Sl.values())for(const{documentHandler:i}of t)i(e,aR)}));function lR(e,t){let i=[];return Array.isArray(t.arg)?i=t.arg:Io(t.arg)&&i.push(t.arg),function(s,o){const a=t.instance.popperRef,l=s.target,u=o==null?void 0:o.target,f=!t||!t.instance,p=!l||!u,g=e.contains(l)||e.contains(u),v=e===l,b=i.length&&i.some(M=>M==null?void 0:M.contains(l))||i.length&&i.includes(u),w=a&&(a.contains(l)||a.contains(u));f||p||g||v||b||w||t.value(s,o)}}const Bl={beforeMount(e,t){Sl.has(e)||Sl.set(e,[]),Sl.get(e).push({documentHandler:lR(e,t),bindingFn:t.value})},updated(e,t){Sl.has(e)||Sl.set(e,[]);const i=Sl.get(e),s=i.findIndex(a=>a.bindingFn===t.oldValue),o={documentHandler:lR(e,t),bindingFn:t.value};s>=0?i.splice(s,1,o):i.push(o)},unmounted(e){Sl.delete(e)}},Xoe=100,Yoe=600,Wv={beforeMount(e,t){const i=t.value,{interval:s=Xoe,delay:o=Yoe}=an(i)?{}:i;let a,l;const u=()=>an(i)?i():i.handler(),f=()=>{l&&(clearTimeout(l),l=void 0),a&&(clearInterval(a),a=void 0)};e.addEventListener("mousedown",p=>{p.button===0&&(f(),u(),document.addEventListener("mouseup",()=>f(),{once:!0}),l=setTimeout(()=>{a=setInterval(()=>{u()},s)},o))})}},V1="_trap-focus-children",Dc=[],cR=e=>{if(Dc.length===0)return;const t=Dc[Dc.length-1][V1];if(t.length>0&&e.code===Xt.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const i=e.shiftKey,s=e.target===t[0],o=e.target===t[t.length-1];s&&i&&(e.preventDefault(),t[t.length-1].focus()),o&&!i&&(e.preventDefault(),t[0].focus())}},Zoe={beforeMount(e){e[V1]=wT(e),Dc.push(e),Dc.length<=1&&document.addEventListener("keydown",cR)},updated(e){Bt(()=>{e[V1]=wT(e)})},unmounted(){Dc.shift(),Dc.length===0&&document.removeEventListener("keydown",cR)}};var uR=!1,Pc,H1,W1,uv,dv,CL,fv,G1,K1,q1,TL,j1,X1,AL,RL;function fr(){if(!uR){uR=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),i=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(j1=/\b(iPhone|iP[ao]d)/.exec(e),X1=/\b(iP[ao]d)/.exec(e),q1=/Android/i.exec(e),AL=/FBAN\/\w+;/i.exec(e),RL=/Mobile/i.exec(e),TL=!!/Win64/.exec(e),t){Pc=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,Pc&&document&&document.documentMode&&(Pc=document.documentMode);var s=/(?:Trident\/(\d+.\d+))/.exec(e);CL=s?parseFloat(s[1])+4:Pc,H1=t[2]?parseFloat(t[2]):NaN,W1=t[3]?parseFloat(t[3]):NaN,uv=t[4]?parseFloat(t[4]):NaN,uv?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),dv=t&&t[1]?parseFloat(t[1]):NaN):dv=NaN}else Pc=H1=W1=dv=uv=NaN;if(i){if(i[1]){var o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);fv=o?parseFloat(o[1].replace("_",".")):!0}else fv=!1;G1=!!i[2],K1=!!i[3]}else fv=G1=K1=!1}}var Y1={ie:function(){return fr()||Pc},ieCompatibilityMode:function(){return fr()||CL>Pc},ie64:function(){return Y1.ie()&&TL},firefox:function(){return fr()||H1},opera:function(){return fr()||W1},webkit:function(){return fr()||uv},safari:function(){return Y1.webkit()},chrome:function(){return fr()||dv},windows:function(){return fr()||G1},osx:function(){return fr()||fv},linux:function(){return fr()||K1},iphone:function(){return fr()||j1},mobile:function(){return fr()||j1||X1||q1||RL},nativeApp:function(){return fr()||AL},android:function(){return fr()||q1},ipad:function(){return fr()||X1}},Joe=Y1,Vg=!!(typeof window<"u"&&window.document&&window.document.createElement),Qoe={canUseDOM:Vg,canUseWorkers:typeof Worker<"u",canUseEventListeners:Vg&&!!(window.addEventListener||window.attachEvent),canUseViewport:Vg&&!!window.screen,isInWorker:!Vg},kL=Qoe,PL;kL.canUseDOM&&(PL=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function eae(e,t){if(!kL.canUseDOM||t&&!("addEventListener"in document))return!1;var i="on"+e,s=i in document;if(!s){var o=document.createElement("div");o.setAttribute(i,"return;"),s=typeof o[i]=="function"}return!s&&PL&&e==="wheel"&&(s=document.implementation.hasFeature("Events.wheel","3.0")),s}var tae=eae,dR=10,fR=40,hR=800;function IL(e){var t=0,i=0,s=0,o=0;return"detail"in e&&(i=e.detail),"wheelDelta"in e&&(i=-e.wheelDelta/120),"wheelDeltaY"in e&&(i=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=i,i=0),s=t*dR,o=i*dR,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(s=e.deltaX),(s||o)&&e.deltaMode&&(e.deltaMode==1?(s*=fR,o*=fR):(s*=hR,o*=hR)),s&&!t&&(t=s<1?-1:1),o&&!i&&(i=o<1?-1:1),{spinX:t,spinY:i,pixelX:s,pixelY:o}}IL.getEventType=function(){return Joe.firefox()?"DOMMouseScroll":tae("wheel")?"wheel":"mousewheel"};var nae=IL;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const iae=function(e,t){if(e&&e.addEventListener){const i=function(s){const o=nae(s);t&&Reflect.apply(t,this,[s,o])};e.addEventListener("wheel",i,{passive:!0})}},sae={beforeMount(e,t){iae(e,t.value)}},rae=pt({role:{type:String,required:!0},spinnerDate:{type:De(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:De(String),default:""},...bL}),oae=["onClick"],aae=["onMouseenter"],lae=_e({__name:"basic-time-spinner",props:rae,emits:["change","select-range","set-option"],setup(e,{emit:t}){const i=e,s=nt("time"),{getHoursList:o,getMinutesList:a,getSecondsList:l}=xL(i.disabledHours,i.disabledMinutes,i.disabledSeconds);let u=!1;const f=X(),p=X(),g=X(),v=X(),b={hours:p,minutes:g,seconds:v},w=D(()=>i.showSeconds?nR:nR.slice(0,2)),M=D(()=>{const{spinnerDate:J}=i,pe=J.hour(),Ee=J.minute(),he=J.second();return{hours:pe,minutes:Ee,seconds:he}}),x=D(()=>{const{hours:J,minutes:pe}=h(M);return{hours:o(i.role),minutes:a(J,i.role),seconds:l(J,pe,i.role)}}),E=D(()=>{const{hours:J,minutes:pe,seconds:Ee}=h(M);return{hours:$_(J,23),minutes:$_(pe,59),seconds:$_(Ee,59)}}),C=or(J=>{u=!1,P(J)},200),k=J=>{if(!!!i.amPmMode)return"";const Ee=i.amPmMode==="A";let he=J<12?" am":" pm";return Ee&&(he=he.toUpperCase()),he},R=J=>{let pe;switch(J){case"hours":pe=[0,2];break;case"minutes":pe=[3,5];break;case"seconds":pe=[6,8];break}const[Ee,he]=pe;t("select-range",Ee,he),f.value=J},P=J=>{G(J,h(M)[J])},O=()=>{P("hours"),P("minutes"),P("seconds")},F=J=>J.querySelector(`.${s.namespace.value}-scrollbar__wrap`),G=(J,pe)=>{if(i.arrowControl)return;const Ee=h(b[J]);Ee&&Ee.$el&&(F(Ee.$el).scrollTop=Math.max(0,pe*H(J)))},H=J=>{const pe=h(b[J]);return(pe==null?void 0:pe.$el.querySelector("li").offsetHeight)||0},j=()=>{ie(1)},q=()=>{ie(-1)},ie=J=>{f.value||R("hours");const pe=f.value,Ee=h(M)[pe],he=f.value==="hours"?24:60,Ce=Q(pe,Ee,J,he);Z(pe,Ce),G(pe,Ce),Bt(()=>R(pe))},Q=(J,pe,Ee,he)=>{let Ce=(pe+Ee+he)%he;const Ge=h(x)[J];for(;Ge[Ce]&&Ce!==pe;)Ce=(Ce+Ee+he)%he;return Ce},Z=(J,pe)=>{if(h(x)[J][pe])return;const{hours:Ce,minutes:Ge,seconds:Te}=h(M);let xe;switch(J){case"hours":xe=i.spinnerDate.hour(pe).minute(Ge).second(Te);break;case"minutes":xe=i.spinnerDate.hour(Ce).minute(pe).second(Te);break;case"seconds":xe=i.spinnerDate.hour(Ce).minute(Ge).second(pe);break}t("change",xe)},re=(J,{value:pe,disabled:Ee})=>{Ee||(Z(J,pe),R(J),G(J,pe))},ce=J=>{u=!0,C(J);const pe=Math.min(Math.round((F(h(b[J]).$el).scrollTop-(te(J)*.5-10)/H(J)+3)/H(J)),J==="hours"?23:59);Z(J,pe)},te=J=>h(b[J]).$el.offsetHeight,W=()=>{const J=pe=>{const Ee=h(b[pe]);Ee&&Ee.$el&&(F(Ee.$el).onscroll=()=>{ce(pe)})};J("hours"),J("minutes"),J("seconds")};_n(()=>{Bt(()=>{!i.arrowControl&&W(),O(),i.role==="start"&&R("hours")})});const ee=(J,pe)=>{b[pe].value=J};return t("set-option",[`${i.role}_scrollDown`,ie]),t("set-option",[`${i.role}_emitSelectRange`,R]),et(()=>i.spinnerDate,()=>{u||O()}),(J,pe)=>(B(),ne("div",{class:U([h(s).b("spinner"),{"has-seconds":J.showSeconds}])},[J.arrowControl?Oe("v-if",!0):(B(!0),ne(Ft,{key:0},Un(h(w),Ee=>(B(),Be(h(ja),{key:Ee,ref_for:!0,ref:he=>ee(he,Ee),class:U(h(s).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":h(s).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:he=>R(Ee),onMousemove:he=>P(Ee)},{default:ve(()=>[(B(!0),ne(Ft,null,Un(h(x)[Ee],(he,Ce)=>(B(),ne("li",{key:Ce,class:U([h(s).be("spinner","item"),h(s).is("active",Ce===h(M)[Ee]),h(s).is("disabled",he)]),onClick:Ge=>re(Ee,{value:Ce,disabled:he})},[Ee==="hours"?(B(),ne(Ft,{key:0},[Nn(ft(("0"+(J.amPmMode?Ce%12||12:Ce)).slice(-2))+ft(k(Ce)),1)],64)):(B(),ne(Ft,{key:1},[Nn(ft(("0"+Ce).slice(-2)),1)],64))],10,oae))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),J.arrowControl?(B(!0),ne(Ft,{key:1},Un(h(w),Ee=>(B(),ne("div",{key:Ee,class:U([h(s).be("spinner","wrapper"),h(s).is("arrow")]),onMouseenter:he=>R(Ee)},[gn((B(),Be(h(zt),{class:U(["arrow-up",h(s).be("spinner","arrow")])},{default:ve(()=>[fe(h(P0))]),_:1},8,["class"])),[[h(Wv),q]]),gn((B(),Be(h(zt),{class:U(["arrow-down",h(s).be("spinner","arrow")])},{default:ve(()=>[fe(h(Vl))]),_:1},8,["class"])),[[h(Wv),j]]),ae("ul",{class:U(h(s).be("spinner","list"))},[(B(!0),ne(Ft,null,Un(h(E)[Ee],(he,Ce)=>(B(),ne("li",{key:Ce,class:U([h(s).be("spinner","item"),h(s).is("active",he===h(M)[Ee]),h(s).is("disabled",h(x)[Ee][he])])},[typeof he=="number"?(B(),ne(Ft,{key:0},[Ee==="hours"?(B(),ne(Ft,{key:0},[Nn(ft(("0"+(J.amPmMode?he%12||12:he)).slice(-2))+ft(k(he)),1)],64)):(B(),ne(Ft,{key:1},[Nn(ft(("0"+he).slice(-2)),1)],64))],64)):Oe("v-if",!0)],2))),128))],2)],42,aae))),128)):Oe("v-if",!0)],2))}});var Z1=ht(lae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const cae=_e({__name:"panel-time-pick",props:joe,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const i=e,s=Lt("EP_PICKER_BASE"),{arrowControl:o,disabledHours:a,disabledMinutes:l,disabledSeconds:u,defaultValue:f}=s.props,{getAvailableHours:p,getAvailableMinutes:g,getAvailableSeconds:v}=ML(a,l,u),b=nt("time"),{t:w,lang:M}=ii(),x=X([0,2]),E=EL(i),C=D(()=>Ts(i.actualVisible)?`${b.namespace.value}-zoom-in-top`:""),k=D(()=>i.format.includes("ss")),R=D(()=>i.format.includes("A")?"A":i.format.includes("a")?"a":""),P=ee=>{const J=xn(ee).locale(M.value),pe=re(J);return J.isSame(pe)},O=()=>{t("pick",E.value,!1)},F=(ee=!1,J=!1)=>{J||t("pick",i.parsedValue,ee)},G=ee=>{if(!i.visible)return;const J=re(ee).millisecond(0);t("pick",J,!0)},H=(ee,J)=>{t("select-range",ee,J),x.value=[ee,J]},j=ee=>{const J=[0,3].concat(k.value?[6]:[]),pe=["hours","minutes"].concat(k.value?["seconds"]:[]),he=(J.indexOf(x.value[0])+ee+J.length)%J.length;ie.start_emitSelectRange(pe[he])},q=ee=>{const J=ee.code,{left:pe,right:Ee,up:he,down:Ce}=Xt;if([pe,Ee].includes(J)){j(J===pe?-1:1),ee.preventDefault();return}if([he,Ce].includes(J)){const Ge=J===he?-1:1;ie.start_scrollDown(Ge),ee.preventDefault();return}},{timePickerOptions:ie,onSetOption:Q,getAvailableTime:Z}=SL({getAvailableHours:p,getAvailableMinutes:g,getAvailableSeconds:v}),re=ee=>Z(ee,i.datetimeRole||"",!0),ce=ee=>ee?xn(ee,i.format).locale(M.value):null,te=ee=>ee?ee.format(i.format):null,W=()=>xn(f).locale(M.value);return t("set-picker-option",["isValidValue",P]),t("set-picker-option",["formatToString",te]),t("set-picker-option",["parseUserInput",ce]),t("set-picker-option",["handleKeydownInput",q]),t("set-picker-option",["getRangeAvailableTime",re]),t("set-picker-option",["getDefaultValue",W]),(ee,J)=>(B(),Be(ns,{name:h(C)},{default:ve(()=>[ee.actualVisible||ee.visible?(B(),ne("div",{key:0,class:U(h(b).b("panel"))},[ae("div",{class:U([h(b).be("panel","content"),{"has-seconds":h(k)}])},[fe(Z1,{ref:"spinner",role:ee.datetimeRole||"start","arrow-control":h(o),"show-seconds":h(k),"am-pm-mode":h(R),"spinner-date":ee.parsedValue,"disabled-hours":h(a),"disabled-minutes":h(l),"disabled-seconds":h(u),onChange:G,onSetOption:h(Q),onSelectRange:H},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),ae("div",{class:U(h(b).be("panel","footer"))},[ae("button",{type:"button",class:U([h(b).be("panel","btn"),"cancel"]),onClick:O},ft(h(w)("el.datepicker.cancel")),3),ae("button",{type:"button",class:U([h(b).be("panel","btn"),"confirm"]),onClick:J[0]||(J[0]=pe=>F())},ft(h(w)("el.datepicker.confirm")),3)],2)],2)):Oe("v-if",!0)]),_:1},8,["name"]))}});var Gv=ht(cae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const uae=pt({..._L,parsedValue:{type:De(Array)}}),dae=["disabled"],fae=_e({__name:"panel-time-range",props:uae,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const i=e,s=(Le,Ue)=>{const ut=[];for(let ue=Le;ue<=Ue;ue++)ut.push(ue);return ut},{t:o,lang:a}=ii(),l=nt("time"),u=nt("picker"),f=Lt("EP_PICKER_BASE"),{arrowControl:p,disabledHours:g,disabledMinutes:v,disabledSeconds:b,defaultValue:w}=f.props,M=D(()=>i.parsedValue[0]),x=D(()=>i.parsedValue[1]),E=EL(i),C=()=>{t("pick",E.value,!1)},k=D(()=>i.format.includes("ss")),R=D(()=>i.format.includes("A")?"A":i.format.includes("a")?"a":""),P=(Le=!1)=>{t("pick",[M.value,x.value],Le)},O=Le=>{H(Le.millisecond(0),x.value)},F=Le=>{H(M.value,Le.millisecond(0))},G=Le=>{const Ue=Le.map(ue=>xn(ue).locale(a.value)),ut=J(Ue);return Ue[0].isSame(ut[0])&&Ue[1].isSame(ut[1])},H=(Le,Ue)=>{t("pick",[Le,Ue],!0)},j=D(()=>M.value>x.value),q=X([0,2]),ie=(Le,Ue)=>{t("select-range",Le,Ue,"min"),q.value=[Le,Ue]},Q=D(()=>k.value?11:8),Z=(Le,Ue)=>{t("select-range",Le,Ue,"max");const ut=h(Q);q.value=[Le+ut,Ue+ut]},re=Le=>{const Ue=k.value?[0,3,6,11,14,17]:[0,3,8,11],ut=["hours","minutes"].concat(k.value?["seconds"]:[]),we=(Ue.indexOf(q.value[0])+Le+Ue.length)%Ue.length,Ve=Ue.length/2;we<Ve?Ce.start_emitSelectRange(ut[we]):Ce.end_emitSelectRange(ut[we-Ve])},ce=Le=>{const Ue=Le.code,{left:ut,right:ue,up:we,down:Ve}=Xt;if([ut,ue].includes(Ue)){re(Ue===ut?-1:1),Le.preventDefault();return}if([we,Ve].includes(Ue)){const Ye=Ue===we?-1:1,lt=q.value[0]<Q.value?"start":"end";Ce[`${lt}_scrollDown`](Ye),Le.preventDefault();return}},te=(Le,Ue)=>{const ut=g?g(Le):[],ue=Le==="start",Ve=(Ue||(ue?x.value:M.value)).hour(),Ye=ue?s(Ve+1,23):s(0,Ve-1);return I_(ut,Ye)},W=(Le,Ue,ut)=>{const ue=v?v(Le,Ue):[],we=Ue==="start",Ve=ut||(we?x.value:M.value),Ye=Ve.hour();if(Le!==Ye)return ue;const lt=Ve.minute(),He=we?s(lt+1,59):s(0,lt-1);return I_(ue,He)},ee=(Le,Ue,ut,ue)=>{const we=b?b(Le,Ue,ut):[],Ve=ut==="start",Ye=ue||(Ve?x.value:M.value),lt=Ye.hour(),He=Ye.minute();if(Le!==lt||Ue!==He)return we;const ct=Ye.second(),Qe=Ve?s(ct+1,59):s(0,ct-1);return I_(we,Qe)},J=([Le,Ue])=>[Ge(Le,"start",!0,Ue),Ge(Ue,"end",!1,Le)],{getAvailableHours:pe,getAvailableMinutes:Ee,getAvailableSeconds:he}=ML(te,W,ee),{timePickerOptions:Ce,getAvailableTime:Ge,onSetOption:Te}=SL({getAvailableHours:pe,getAvailableMinutes:Ee,getAvailableSeconds:he}),xe=Le=>Le?Nt(Le)?Le.map(Ue=>xn(Ue,i.format).locale(a.value)):xn(Le,i.format).locale(a.value):null,Ie=Le=>Le?Nt(Le)?Le.map(Ue=>Ue.format(i.format)):Le.format(i.format):null,ge=()=>{if(Nt(w))return w.map(Ue=>xn(Ue).locale(a.value));const Le=xn(w).locale(a.value);return[Le,Le.add(60,"m")]};return t("set-picker-option",["formatToString",Ie]),t("set-picker-option",["parseUserInput",xe]),t("set-picker-option",["isValidValue",G]),t("set-picker-option",["handleKeydownInput",ce]),t("set-picker-option",["getDefaultValue",ge]),t("set-picker-option",["getRangeAvailableTime",J]),(Le,Ue)=>Le.actualVisible?(B(),ne("div",{key:0,class:U([h(l).b("range-picker"),h(u).b("panel")])},[ae("div",{class:U(h(l).be("range-picker","content"))},[ae("div",{class:U(h(l).be("range-picker","cell"))},[ae("div",{class:U(h(l).be("range-picker","header"))},ft(h(o)("el.datepicker.startTime")),3),ae("div",{class:U([h(l).be("range-picker","body"),h(l).be("panel","content"),h(l).is("arrow",h(p)),{"has-seconds":h(k)}])},[fe(Z1,{ref:"minSpinner",role:"start","show-seconds":h(k),"am-pm-mode":h(R),"arrow-control":h(p),"spinner-date":h(M),"disabled-hours":te,"disabled-minutes":W,"disabled-seconds":ee,onChange:O,onSetOption:h(Te),onSelectRange:ie},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),ae("div",{class:U(h(l).be("range-picker","cell"))},[ae("div",{class:U(h(l).be("range-picker","header"))},ft(h(o)("el.datepicker.endTime")),3),ae("div",{class:U([h(l).be("range-picker","body"),h(l).be("panel","content"),h(l).is("arrow",h(p)),{"has-seconds":h(k)}])},[fe(Z1,{ref:"maxSpinner",role:"end","show-seconds":h(k),"am-pm-mode":h(R),"arrow-control":h(p),"spinner-date":h(x),"disabled-hours":te,"disabled-minutes":W,"disabled-seconds":ee,onChange:F,onSetOption:h(Te),onSelectRange:Z},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),ae("div",{class:U(h(l).be("panel","footer"))},[ae("button",{type:"button",class:U([h(l).be("panel","btn"),"cancel"]),onClick:Ue[0]||(Ue[0]=ut=>C())},ft(h(o)("el.datepicker.cancel")),3),ae("button",{type:"button",class:U([h(l).be("panel","btn"),"confirm"]),disabled:h(j),onClick:Ue[1]||(Ue[1]=ut=>P())},ft(h(o)("el.datepicker.confirm")),11,dae)],2)],2)):Oe("v-if",!0)}});var hae=ht(fae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue"]]);xn.extend(XS);var pae=_e({name:"ElTimePicker",install:null,props:{...YS,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,t){const i=X(),[s,o]=e.isRange?["timerange",hae]:["time",Gv],a=l=>t.emit("update:modelValue",l);return On("ElPopperOptions",e.popperOptions),t.expose({focus:l=>{var u;(u=i.value)==null||u.handleFocusInput(l)},blur:l=>{var u;(u=i.value)==null||u.handleBlurInput(l)},handleOpen:()=>{var l;(l=i.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=i.value)==null||l.handleClose()}}),()=>{var l;const u=(l=e.format)!=null?l:U1;return fe(wL,kn(e,{ref:i,type:s,format:u,"onUpdate:modelValue":a}),{default:f=>fe(o,f,null)})}}});const hv=pae;hv.install=e=>{e.component(hv.name,hv)};const mae=hv,gae=(e,t)=>{const i=e.subtract(1,"month").endOf("month").date();return Il(t).map((s,o)=>i-(t-o-1))},vae=e=>{const t=e.daysInMonth();return Il(t).map((i,s)=>s+1)},yae=e=>Il(e.length/7).map(t=>{const i=t*7;return e.slice(i,i+7)}),bae=pt({selectedDay:{type:De(Object)},range:{type:De(Array)},date:{type:De(Object),required:!0},hideHeader:{type:Boolean}}),_ae={pick:e=>Pn(e)};var LL={exports:{}};(function(e,t){(function(i,s){e.exports=s()})(Xa,function(){return function(i,s,o){var a=s.prototype,l=function(v){return v&&(v.indexOf?v:v.s)},u=function(v,b,w,M,x){var E=v.name?v:v.$locale(),C=l(E[b]),k=l(E[w]),R=C||k.map(function(O){return O.slice(0,M)});if(!x)return R;var P=E.weekStart;return R.map(function(O,F){return R[(F+(P||0))%7]})},f=function(){return o.Ls[o.locale()]},p=function(v,b){return v.formats[b]||function(w){return w.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(M,x,E){return x||E.slice(1)})}(v.formats[b.toUpperCase()])},g=function(){var v=this;return{months:function(b){return b?b.format("MMMM"):u(v,"months")},monthsShort:function(b){return b?b.format("MMM"):u(v,"monthsShort","months",3)},firstDayOfWeek:function(){return v.$locale().weekStart||0},weekdays:function(b){return b?b.format("dddd"):u(v,"weekdays")},weekdaysMin:function(b){return b?b.format("dd"):u(v,"weekdaysMin","weekdays",2)},weekdaysShort:function(b){return b?b.format("ddd"):u(v,"weekdaysShort","weekdays",3)},longDateFormat:function(b){return p(v.$locale(),b)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return g.bind(this)()},o.localeData=function(){var v=f();return{firstDayOfWeek:function(){return v.weekStart||0},weekdays:function(){return o.weekdays()},weekdaysShort:function(){return o.weekdaysShort()},weekdaysMin:function(){return o.weekdaysMin()},months:function(){return o.months()},monthsShort:function(){return o.monthsShort()},longDateFormat:function(b){return p(v,b)},meridiem:v.meridiem,ordinal:v.ordinal}},o.months=function(){return u(f(),"months")},o.monthsShort=function(){return u(f(),"monthsShort","months",3)},o.weekdays=function(v){return u(f(),"weekdays",null,null,v)},o.weekdaysShort=function(v){return u(f(),"weekdaysShort","weekdays",3,v)},o.weekdaysMin=function(v){return u(f(),"weekdaysMin","weekdays",2,v)}}})})(LL);var wae=LL.exports;const NL=oa(wae),Sae=(e,t)=>{xn.extend(NL);const i=xn.localeData().firstDayOfWeek(),{t:s,lang:o}=ii(),a=xn().locale(o.value),l=D(()=>!!e.range&&!!e.range.length),u=D(()=>{let b=[];if(l.value){const[w,M]=e.range,x=Il(M.date()-w.date()+1).map(k=>({text:w.date()+k,type:"current"}));let E=x.length%7;E=E===0?0:7-E;const C=Il(E).map((k,R)=>({text:R+1,type:"next"}));b=x.concat(C)}else{const w=e.date.startOf("month").day(),M=gae(e.date,(w-i+7)%7).map(k=>({text:k,type:"prev"})),x=vae(e.date).map(k=>({text:k,type:"current"}));b=[...M,...x];const E=7-(b.length%7||7),C=Il(E).map((k,R)=>({text:R+1,type:"next"}));b=b.concat(C)}return yae(b)}),f=D(()=>{const b=i;return b===0?L_.map(w=>s(`el.datepicker.weeks.${w}`)):L_.slice(b).concat(L_.slice(0,b)).map(w=>s(`el.datepicker.weeks.${w}`))}),p=(b,w)=>{switch(w){case"prev":return e.date.startOf("month").subtract(1,"month").date(b);case"next":return e.date.startOf("month").add(1,"month").date(b);case"current":return e.date.date(b)}};return{now:a,isInRange:l,rows:u,weekDays:f,getFormattedDate:p,handlePickDay:({text:b,type:w})=>{const M=p(b,w);t("pick",M)},getSlotData:({text:b,type:w})=>{const M=p(b,w);return{isSelected:M.isSame(e.selectedDay),type:`${w}-month`,day:M.format("YYYY-MM-DD"),date:M.toDate()}}}},xae={key:0},Mae=["onClick"],Eae=_e({name:"DateTable"}),Cae=_e({...Eae,props:bae,emits:_ae,setup(e,{expose:t,emit:i}){const s=e,{isInRange:o,now:a,rows:l,weekDays:u,getFormattedDate:f,handlePickDay:p,getSlotData:g}=Sae(s,i),v=nt("calendar-table"),b=nt("calendar-day"),w=({text:M,type:x})=>{const E=[x];if(x==="current"){const C=f(M,x);C.isSame(s.selectedDay,"day")&&E.push(b.is("selected")),C.isSame(a,"day")&&E.push(b.is("today"))}return E};return t({getFormattedDate:f}),(M,x)=>(B(),ne("table",{class:U([h(v).b(),h(v).is("range",h(o))]),cellspacing:"0",cellpadding:"0"},[M.hideHeader?Oe("v-if",!0):(B(),ne("thead",xae,[(B(!0),ne(Ft,null,Un(h(u),E=>(B(),ne("th",{key:E},ft(E),1))),128))])),ae("tbody",null,[(B(!0),ne(Ft,null,Un(h(l),(E,C)=>(B(),ne("tr",{key:C,class:U({[h(v).e("row")]:!0,[h(v).em("row","hide-border")]:C===0&&M.hideHeader})},[(B(!0),ne(Ft,null,Un(E,(k,R)=>(B(),ne("td",{key:R,class:U(w(k)),onClick:P=>h(p)(k)},[ae("div",{class:U(h(b).b())},[qe(M.$slots,"date-cell",{data:h(g)(k)},()=>[ae("span",null,ft(k.text),1)])],2)],10,Mae))),128))],2))),128))])],2))}});var pR=ht(Cae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/date-table.vue"]]);const Tae=(e,t)=>{const i=e.endOf("month"),s=t.startOf("month"),a=i.isSame(s,"week")?s.add(1,"week"):s;return[[e,i],[a.startOf("week"),t]]},Aae=(e,t)=>{const i=e.endOf("month"),s=e.add(1,"month").startOf("month"),o=i.isSame(s,"week")?s.add(1,"week"):s,a=o.endOf("month"),l=t.startOf("month"),u=a.isSame(l,"week")?l.add(1,"week"):l;return[[e,i],[o.startOf("week"),a],[u.startOf("week"),t]]},Rae=(e,t,i)=>{const s=Rs(),{lang:o}=ii(),a=X(),l=xn().locale(o.value),u=D({get(){return e.modelValue?p.value:a.value},set(C){if(!C)return;a.value=C;const k=C.toDate();t(ir,k),t(Rn,k)}}),f=D(()=>{if(!e.range)return[];const C=e.range.map(P=>xn(P).locale(o.value)),[k,R]=C;return k.isAfter(R)?[]:k.isSame(R,"month")?M(k,R):k.add(1,"month").month()!==R.month()?[]:M(k,R)}),p=D(()=>e.modelValue?xn(e.modelValue).locale(o.value):u.value||(f.value.length?f.value[0][0]:l)),g=D(()=>p.value.subtract(1,"month").date(1)),v=D(()=>p.value.add(1,"month").date(1)),b=D(()=>p.value.subtract(1,"year").date(1)),w=D(()=>p.value.add(1,"year").date(1)),M=(C,k)=>{const R=C.startOf("week"),P=k.endOf("week"),O=R.get("month"),F=P.get("month");return O===F?[[R,P]]:(O+1)%12===F?Tae(R,P):O+2===F||(O+1)%11===F?Aae(R,P):[]},x=C=>{u.value=C},E=C=>{const R={"prev-month":g.value,"next-month":v.value,"prev-year":b.value,"next-year":w.value,today:l}[C];R.isSame(p.value,"day")||x(R)};return ta({from:'"dateCell"',replacement:'"date-cell"',scope:"ElCalendar",version:"2.3.0",ref:"https://element-plus.org/en-US/component/calendar.html#slots",type:"Slot"},D(()=>!!s.dateCell)),{calculateValidatedDateRange:M,date:p,realSelectedDay:u,pickDay:x,selectDate:E,validatedRange:f}},kae=e=>Nt(e)&&e.length===2&&e.every(t=>jc(t)),Pae=pt({modelValue:{type:Date},range:{type:De(Array),validator:kae}}),Iae={[Rn]:e=>jc(e),[ir]:e=>jc(e)},Lae="ElCalendar",Nae=_e({name:Lae}),Oae=_e({...Nae,props:Pae,emits:Iae,setup(e,{expose:t,emit:i}){const s=e,o=nt("calendar"),{calculateValidatedDateRange:a,date:l,pickDay:u,realSelectedDay:f,selectDate:p,validatedRange:g}=Rae(s,i),{t:v}=ii(),b=D(()=>{const w=`el.datepicker.month${l.value.format("M")}`;return`${l.value.year()} ${v("el.datepicker.year")} ${v(w)}`});return t({selectedDay:f,pickDay:u,selectDate:p,calculateValidatedDateRange:a}),(w,M)=>(B(),ne("div",{class:U(h(o).b())},[ae("div",{class:U(h(o).e("header"))},[qe(w.$slots,"header",{date:h(b)},()=>[ae("div",{class:U(h(o).e("title"))},ft(h(b)),3),h(g).length===0?(B(),ne("div",{key:0,class:U(h(o).e("button-group"))},[fe(h(pL),null,{default:ve(()=>[fe(h(Os),{size:"small",onClick:M[0]||(M[0]=x=>h(p)("prev-month"))},{default:ve(()=>[Nn(ft(h(v)("el.datepicker.prevMonth")),1)]),_:1}),fe(h(Os),{size:"small",onClick:M[1]||(M[1]=x=>h(p)("today"))},{default:ve(()=>[Nn(ft(h(v)("el.datepicker.today")),1)]),_:1}),fe(h(Os),{size:"small",onClick:M[2]||(M[2]=x=>h(p)("next-month"))},{default:ve(()=>[Nn(ft(h(v)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):Oe("v-if",!0)])],2),h(g).length===0?(B(),ne("div",{key:0,class:U(h(o).e("body"))},[fe(pR,{date:h(l),"selected-day":h(f),onPick:h(u)},Ua({_:2},[w.$slots["date-cell"]||w.$slots.dateCell?{name:"date-cell",fn:ve(x=>[w.$slots["date-cell"]?qe(w.$slots,"date-cell",Eo(kn({key:0},x))):qe(w.$slots,"dateCell",Eo(kn({key:1},x)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(B(),ne("div",{key:1,class:U(h(o).e("body"))},[(B(!0),ne(Ft,null,Un(h(g),(x,E)=>(B(),Be(pR,{key:E,date:x[0],"selected-day":h(f),range:x,"hide-header":E!==0,onPick:h(u)},Ua({_:2},[w.$slots["date-cell"]||w.$slots.dateCell?{name:"date-cell",fn:ve(C=>[w.$slots["date-cell"]?qe(w.$slots,"date-cell",Eo(kn({key:0},C))):qe(w.$slots,"dateCell",Eo(kn({key:1},C)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var Dae=ht(Oae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/calendar.vue"]]);const Fae=Cn(Dae),Bae=pt({header:{type:String,default:""},bodyStyle:{type:De([String,Object,Array]),default:""},shadow:{type:String,values:["always","hover","never"],default:"always"}}),zae=_e({name:"ElCard"}),$ae=_e({...zae,props:Bae,setup(e){const t=nt("card");return(i,s)=>(B(),ne("div",{class:U([h(t).b(),h(t).is(`${i.shadow}-shadow`)])},[i.$slots.header||i.header?(B(),ne("div",{key:0,class:U(h(t).e("header"))},[qe(i.$slots,"header",{},()=>[Nn(ft(i.header),1)])],2)):Oe("v-if",!0),ae("div",{class:U(h(t).e("body")),style:Wt(i.bodyStyle)},[qe(i.$slots,"default")],6)],2))}});var Uae=ht($ae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]);const Vae=Cn(Uae),Hae=pt({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),Wae={change:(e,t)=>[e,t].every(on)},OL=Symbol("carouselContextKey"),mR=300,Gae=(e,t,i)=>{const{children:s,addChild:o,removeChild:a}=VI(Tn(),"ElCarouselItem"),l=X(-1),u=X(null),f=X(!1),p=X(),g=D(()=>e.arrow!=="never"&&!h(w)),v=D(()=>s.value.some(te=>te.props.label.toString().length>0)),b=D(()=>e.type==="card"),w=D(()=>e.direction==="vertical"),M=Wc(te=>{R(te)},mR,{trailing:!0}),x=Wc(te=>{ie(te)},mR);function E(){u.value&&(clearInterval(u.value),u.value=null)}function C(){e.interval<=0||!e.autoplay||u.value||(u.value=setInterval(()=>k(),e.interval))}const k=()=>{l.value<s.value.length-1?l.value=l.value+1:e.loop&&(l.value=0)};function R(te){if(un(te)){const J=s.value.filter(pe=>pe.props.name===te);J.length>0&&(te=s.value.indexOf(J[0]))}if(te=Number(te),Number.isNaN(te)||te!==Math.floor(te))return;const W=s.value.length,ee=l.value;te<0?l.value=e.loop?W-1:0:te>=W?l.value=e.loop?0:W-1:l.value=te,ee===l.value&&P(ee),re()}function P(te){s.value.forEach((W,ee)=>{W.translateItem(ee,l.value,te)})}function O(te,W){var ee,J,pe,Ee;const he=h(s),Ce=he.length;if(Ce===0||!te.states.inStage)return!1;const Ge=W+1,Te=W-1,xe=Ce-1,Ie=he[xe].states.active,ge=he[0].states.active,Le=(J=(ee=he[Ge])==null?void 0:ee.states)==null?void 0:J.active,Ue=(Ee=(pe=he[Te])==null?void 0:pe.states)==null?void 0:Ee.active;return W===xe&&ge||Le?"left":W===0&&Ie||Ue?"right":!1}function F(){f.value=!0,e.pauseOnHover&&E()}function G(){f.value=!1,C()}function H(te){h(w)||s.value.forEach((W,ee)=>{te===O(W,ee)&&(W.states.hover=!0)})}function j(){h(w)||s.value.forEach(te=>{te.states.hover=!1})}function q(te){l.value=te}function ie(te){e.trigger==="hover"&&te!==l.value&&(l.value=te)}function Q(){R(l.value-1)}function Z(){R(l.value+1)}function re(){E(),C()}et(()=>l.value,(te,W)=>{P(W),W>-1&&t("change",te,W)}),et(()=>e.autoplay,te=>{te?C():E()}),et(()=>e.loop,()=>{R(l.value)}),et(()=>e.interval,()=>{re()}),et(()=>s.value,()=>{s.value.length>0&&R(e.initialIndex)});const ce=ki();return _n(()=>{ce.value=Gs(p.value,()=>{P()}),C()}),Di(()=>{E(),p.value&&ce.value&&ce.value.stop()}),On(OL,{root:p,isCardType:b,isVertical:w,items:s,loop:e.loop,addItem:o,removeItem:a,setActiveItem:R}),{root:p,activeIndex:l,arrowDisplay:g,hasLabel:v,hover:f,isCardType:b,items:s,handleButtonEnter:H,handleButtonLeave:j,handleIndicatorClick:q,handleMouseEnter:F,handleMouseLeave:G,setActiveItem:R,prev:Q,next:Z,throttledArrowClick:M,throttledIndicatorHover:x}},Kae=["onMouseenter","onClick"],qae={key:0},jae="ElCarousel",Xae=_e({name:jae}),Yae=_e({...Xae,props:Hae,emits:Wae,setup(e,{expose:t,emit:i}){const s=e,{root:o,activeIndex:a,arrowDisplay:l,hasLabel:u,hover:f,isCardType:p,items:g,handleButtonEnter:v,handleButtonLeave:b,handleIndicatorClick:w,handleMouseEnter:M,handleMouseLeave:x,setActiveItem:E,prev:C,next:k,throttledArrowClick:R,throttledIndicatorHover:P}=Gae(s,i),O=nt("carousel"),F=D(()=>{const H=[O.b(),O.m(s.direction)];return h(p)&&H.push(O.m("card")),H}),G=D(()=>{const H=[O.e("indicators"),O.em("indicators",s.direction)];return h(u)&&H.push(O.em("indicators","labels")),(s.indicatorPosition==="outside"||h(p))&&H.push(O.em("indicators","outside")),H});return t({setActiveItem:E,prev:C,next:k}),(H,j)=>(B(),ne("div",{ref_key:"root",ref:o,class:U(h(F)),onMouseenter:j[6]||(j[6]=rn((...q)=>h(M)&&h(M)(...q),["stop"])),onMouseleave:j[7]||(j[7]=rn((...q)=>h(x)&&h(x)(...q),["stop"]))},[ae("div",{class:U(h(O).e("container")),style:Wt({height:H.height})},[h(l)?(B(),Be(ns,{key:0,name:"carousel-arrow-left",persisted:""},{default:ve(()=>[gn(ae("button",{type:"button",class:U([h(O).e("arrow"),h(O).em("arrow","left")]),onMouseenter:j[0]||(j[0]=q=>h(v)("left")),onMouseleave:j[1]||(j[1]=(...q)=>h(b)&&h(b)(...q)),onClick:j[2]||(j[2]=rn(q=>h(R)(h(a)-1),["stop"]))},[fe(h(zt),null,{default:ve(()=>[fe(h(Ol))]),_:1})],34),[[oi,(H.arrow==="always"||h(f))&&(s.loop||h(a)>0)]])]),_:1})):Oe("v-if",!0),h(l)?(B(),Be(ns,{key:1,name:"carousel-arrow-right",persisted:""},{default:ve(()=>[gn(ae("button",{type:"button",class:U([h(O).e("arrow"),h(O).em("arrow","right")]),onMouseenter:j[3]||(j[3]=q=>h(v)("right")),onMouseleave:j[4]||(j[4]=(...q)=>h(b)&&h(b)(...q)),onClick:j[5]||(j[5]=rn(q=>h(R)(h(a)+1),["stop"]))},[fe(h(zt),null,{default:ve(()=>[fe(h(nr))]),_:1})],34),[[oi,(H.arrow==="always"||h(f))&&(s.loop||h(a)<h(g).length-1)]])]),_:1})):Oe("v-if",!0),qe(H.$slots,"default")],6),H.indicatorPosition!=="none"?(B(),ne("ul",{key:0,class:U(h(G))},[(B(!0),ne(Ft,null,Un(h(g),(q,ie)=>(B(),ne("li",{key:ie,class:U([h(O).e("indicator"),h(O).em("indicator",H.direction),h(O).is("active",ie===h(a))]),onMouseenter:Q=>h(P)(ie),onClick:rn(Q=>h(w)(ie),["stop"])},[ae("button",{class:U(h(O).e("button"))},[h(u)?(B(),ne("span",qae,ft(q.props.label),1)):Oe("v-if",!0)],2)],42,Kae))),128))],2)):Oe("v-if",!0)],34))}});var Zae=ht(Yae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const Jae=pt({name:{type:String,default:""},label:{type:[String,Number],default:""}}),Qae=(e,t)=>{const i=Lt(OL),s=Tn(),o=.83,a=X(!1),l=X(0),u=X(1),f=X(!1),p=X(!1),g=X(!1),v=X(!1),{isCardType:b,isVertical:w}=i;function M(R,P,O){const F=O-1,G=P-1,H=P+1,j=O/2;return P===0&&R===F?-1:P===F&&R===0?O:R<G&&P-R>=j?O+1:R>H&&R-P>=j?-2:R}function x(R,P){var O;const F=((O=i.root.value)==null?void 0:O.offsetWidth)||0;return g.value?F*((2-o)*(R-P)+1)/4:R<P?-(1+o)*F/4:(3+o)*F/4}function E(R,P,O){const F=i.root.value;return F?((O?F.offsetHeight:F.offsetWidth)||0)*(R-P):0}const C=(R,P,O)=>{var F;const G=h(b),H=(F=i.items.value.length)!=null?F:Number.NaN,j=R===P;!G&&!Ts(O)&&(v.value=j||R===O),!j&&H>2&&i.loop&&(R=M(R,P,H));const q=h(w);f.value=j,G?(g.value=Math.round(Math.abs(R-P))<=1,l.value=x(R,P),u.value=h(f)?1:o):l.value=E(R,P,q),p.value=!0};function k(){if(i&&h(b)){const R=i.items.value.findIndex(({uid:P})=>P===s.uid);i.setActiveItem(R)}}return _n(()=>{i.addItem({props:e,states:ai({hover:a,translate:l,scale:u,active:f,ready:p,inStage:g,animating:v}),uid:s.uid,translateItem:C})}),$l(()=>{i.removeItem(s.uid)}),{active:f,animating:v,hover:a,inStage:g,isVertical:w,translate:l,isCardType:b,scale:u,ready:p,handleItemClick:k}},ele=_e({name:"ElCarouselItem"}),tle=_e({...ele,props:Jae,setup(e){const t=e,i=nt("carousel"),{active:s,animating:o,hover:a,inStage:l,isVertical:u,translate:f,isCardType:p,scale:g,ready:v,handleItemClick:b}=Qae(t),w=D(()=>{const x=`${`translate${h(u)?"Y":"X"}`}(${h(f)}px)`,E=`scale(${h(g)})`;return{transform:[x,E].join(" ")}});return(M,x)=>gn((B(),ne("div",{class:U([h(i).e("item"),h(i).is("active",h(s)),h(i).is("in-stage",h(l)),h(i).is("hover",h(a)),h(i).is("animating",h(o)),{[h(i).em("item","card")]:h(p)}]),style:Wt(h(w)),onClick:x[0]||(x[0]=(...E)=>h(b)&&h(b)(...E))},[h(p)?gn((B(),ne("div",{key:0,class:U(h(i).e("mask"))},null,2)),[[oi,!h(s)]]):Oe("v-if",!0),qe(M.$slots,"default")],6)),[[oi,h(v)]])}});var DL=ht(tle,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const nle=Cn(Zae,{CarouselItem:DL}),ile=Yi(DL),FL={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:Ds,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},BL={[Rn]:e=>un(e)||on(e)||ds(e),change:e=>un(e)||on(e)||ds(e)},df=Symbol("checkboxGroupContextKey"),sle=({model:e,isChecked:t})=>{const i=Lt(df,void 0),s=D(()=>{var a,l;const u=(a=i==null?void 0:i.max)==null?void 0:a.value,f=(l=i==null?void 0:i.min)==null?void 0:l.value;return!Ts(u)&&e.value.length>=u&&!t.value||!Ts(f)&&e.value.length<=f&&t.value});return{isDisabled:_r(D(()=>(i==null?void 0:i.disabled.value)||s.value)),isLimitDisabled:s}},rle=(e,{model:t,isLimitExceeded:i,hasOwnLabel:s,isDisabled:o,isLabeledByFormItem:a})=>{const l=Lt(df,void 0),{formItem:u}=lr(),{emit:f}=Tn();function p(M){var x,E;return M===e.trueLabel||M===!0?(x=e.trueLabel)!=null?x:!0:(E=e.falseLabel)!=null?E:!1}function g(M,x){f("change",p(M),x)}function v(M){if(i.value)return;const x=M.target;f("change",p(x.checked),M)}async function b(M){i.value||!s.value&&!o.value&&a.value&&(M.composedPath().some(C=>C.tagName==="LABEL")||(t.value=p([!1,e.falseLabel].includes(t.value)),await Bt(),g(t.value,M)))}const w=D(()=>(l==null?void 0:l.validateEvent)||e.validateEvent);return et(()=>e.modelValue,()=>{w.value&&(u==null||u.validate("change").catch(M=>void 0))}),{handleChange:v,onClickRoot:b}},ole=e=>{const t=X(!1),{emit:i}=Tn(),s=Lt(df,void 0),o=D(()=>Ts(s)===!1),a=X(!1);return{model:D({get(){var u,f;return o.value?(u=s==null?void 0:s.modelValue)==null?void 0:u.value:(f=e.modelValue)!=null?f:t.value},set(u){var f,p;o.value&&Nt(u)?(a.value=((f=s==null?void 0:s.max)==null?void 0:f.value)!==void 0&&u.length>(s==null?void 0:s.max.value),a.value===!1&&((p=s==null?void 0:s.changeEvent)==null||p.call(s,u))):(i(Rn,u),t.value=u)}}),isGroup:o,isLimitExceeded:a}},ale=(e,t,{model:i})=>{const s=Lt(df,void 0),o=X(!1),a=D(()=>{const p=i.value;return ds(p)?p:Nt(p)?Pn(e.label)?p.map(hi).some(g=>Br(g,e.label)):p.map(hi).includes(e.label):p!=null?p===e.trueLabel:!!p}),l=fs(D(()=>{var p;return(p=s==null?void 0:s.size)==null?void 0:p.value}),{prop:!0}),u=fs(D(()=>{var p;return(p=s==null?void 0:s.size)==null?void 0:p.value})),f=D(()=>!!(t.default||e.label));return{checkboxButtonSize:l,isChecked:a,isFocused:o,checkboxSize:u,hasOwnLabel:f}},lle=(e,{model:t})=>{function i(){Nt(t.value)&&!t.value.includes(e.label)?t.value.push(e.label):t.value=e.trueLabel||!0}e.checked&&i()},zL=(e,t)=>{const{formItem:i}=lr(),{model:s,isGroup:o,isLimitExceeded:a}=ole(e),{isFocused:l,isChecked:u,checkboxButtonSize:f,checkboxSize:p,hasOwnLabel:g}=ale(e,t,{model:s}),{isDisabled:v}=sle({model:s,isChecked:u}),{inputId:b,isLabeledByFormItem:w}=Kl(e,{formItemContext:i,disableIdGeneration:g,disableIdManagement:o}),{handleChange:M,onClickRoot:x}=rle(e,{model:s,isLimitExceeded:a,hasOwnLabel:g,isDisabled:v,isLabeledByFormItem:w});return lle(e,{model:s}),{inputId:b,isLabeledByFormItem:w,isChecked:u,isDisabled:v,isFocused:l,checkboxButtonSize:f,checkboxSize:p,hasOwnLabel:g,model:s,handleChange:M,onClickRoot:x}},cle=["tabindex","role","aria-checked"],ule=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],dle=["id","aria-hidden","disabled","value","name","tabindex"],fle=_e({name:"ElCheckbox"}),hle=_e({...fle,props:FL,emits:BL,setup(e){const t=e,i=Rs(),{inputId:s,isLabeledByFormItem:o,isChecked:a,isDisabled:l,isFocused:u,checkboxSize:f,hasOwnLabel:p,model:g,handleChange:v,onClickRoot:b}=zL(t,i),w=nt("checkbox"),M=D(()=>[w.b(),w.m(f.value),w.is("disabled",l.value),w.is("bordered",t.border),w.is("checked",a.value)]),x=D(()=>[w.e("input"),w.is("disabled",l.value),w.is("checked",a.value),w.is("indeterminate",t.indeterminate),w.is("focus",u.value)]);return(E,C)=>(B(),Be(Bn(!h(p)&&h(o)?"span":"label"),{class:U(h(M)),"aria-controls":E.indeterminate?E.controls:null,onClick:h(b)},{default:ve(()=>[ae("span",{class:U(h(x)),tabindex:E.indeterminate?0:void 0,role:E.indeterminate?"checkbox":void 0,"aria-checked":E.indeterminate?"mixed":void 0},[E.trueLabel||E.falseLabel?gn((B(),ne("input",{key:0,id:h(s),"onUpdate:modelValue":C[0]||(C[0]=k=>Ti(g)?g.value=k:null),class:U(h(w).e("original")),type:"checkbox","aria-hidden":E.indeterminate?"true":"false",name:E.name,tabindex:E.tabindex,disabled:h(l),"true-value":E.trueLabel,"false-value":E.falseLabel,onChange:C[1]||(C[1]=(...k)=>h(v)&&h(v)(...k)),onFocus:C[2]||(C[2]=k=>u.value=!0),onBlur:C[3]||(C[3]=k=>u.value=!1)},null,42,ule)),[[Nv,h(g)]]):gn((B(),ne("input",{key:1,id:h(s),"onUpdate:modelValue":C[4]||(C[4]=k=>Ti(g)?g.value=k:null),class:U(h(w).e("original")),type:"checkbox","aria-hidden":E.indeterminate?"true":"false",disabled:h(l),value:E.label,name:E.name,tabindex:E.tabindex,onChange:C[5]||(C[5]=(...k)=>h(v)&&h(v)(...k)),onFocus:C[6]||(C[6]=k=>u.value=!0),onBlur:C[7]||(C[7]=k=>u.value=!1)},null,42,dle)),[[Nv,h(g)]]),ae("span",{class:U(h(w).e("inner"))},null,2)],10,cle),h(p)?(B(),ne("span",{key:0,class:U(h(w).e("label"))},[qe(E.$slots,"default"),E.$slots.default?Oe("v-if",!0):(B(),ne(Ft,{key:0},[Nn(ft(E.label),1)],64))],2)):Oe("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var ple=ht(hle,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const mle=["name","tabindex","disabled","true-value","false-value"],gle=["name","tabindex","disabled","value"],vle=_e({name:"ElCheckboxButton"}),yle=_e({...vle,props:FL,emits:BL,setup(e){const t=e,i=Rs(),{isFocused:s,isChecked:o,isDisabled:a,checkboxButtonSize:l,model:u,handleChange:f}=zL(t,i),p=Lt(df,void 0),g=nt("checkbox"),v=D(()=>{var w,M,x,E;const C=(M=(w=p==null?void 0:p.fill)==null?void 0:w.value)!=null?M:"";return{backgroundColor:C,borderColor:C,color:(E=(x=p==null?void 0:p.textColor)==null?void 0:x.value)!=null?E:"",boxShadow:C?`-1px 0 0 0 ${C}`:void 0}}),b=D(()=>[g.b("button"),g.bm("button",l.value),g.is("disabled",a.value),g.is("checked",o.value),g.is("focus",s.value)]);return(w,M)=>(B(),ne("label",{class:U(h(b))},[w.trueLabel||w.falseLabel?gn((B(),ne("input",{key:0,"onUpdate:modelValue":M[0]||(M[0]=x=>Ti(u)?u.value=x:null),class:U(h(g).be("button","original")),type:"checkbox",name:w.name,tabindex:w.tabindex,disabled:h(a),"true-value":w.trueLabel,"false-value":w.falseLabel,onChange:M[1]||(M[1]=(...x)=>h(f)&&h(f)(...x)),onFocus:M[2]||(M[2]=x=>s.value=!0),onBlur:M[3]||(M[3]=x=>s.value=!1)},null,42,mle)),[[Nv,h(u)]]):gn((B(),ne("input",{key:1,"onUpdate:modelValue":M[4]||(M[4]=x=>Ti(u)?u.value=x:null),class:U(h(g).be("button","original")),type:"checkbox",name:w.name,tabindex:w.tabindex,disabled:h(a),value:w.label,onChange:M[5]||(M[5]=(...x)=>h(f)&&h(f)(...x)),onFocus:M[6]||(M[6]=x=>s.value=!0),onBlur:M[7]||(M[7]=x=>s.value=!1)},null,42,gle)),[[Nv,h(u)]]),w.$slots.default||w.label?(B(),ne("span",{key:2,class:U(h(g).be("button","inner")),style:Wt(h(o)?h(v):void 0)},[qe(w.$slots,"default",{},()=>[Nn(ft(w.label),1)])],6)):Oe("v-if",!0)],2))}});var $L=ht(yle,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const ble=pt({modelValue:{type:De(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Ds,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),_le={[Rn]:e=>Nt(e),change:e=>Nt(e)},wle=_e({name:"ElCheckboxGroup"}),Sle=_e({...wle,props:ble,emits:_le,setup(e,{emit:t}){const i=e,s=nt("checkbox"),{formItem:o}=lr(),{inputId:a,isLabeledByFormItem:l}=Kl(i,{formItemContext:o}),u=async p=>{t(Rn,p),await Bt(),t("change",p)},f=D({get(){return i.modelValue},set(p){u(p)}});return On(df,{...Oa(gs(i),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:f,changeEvent:u}),et(()=>i.modelValue,()=>{i.validateEvent&&(o==null||o.validate("change").catch(p=>void 0))}),(p,g)=>{var v;return B(),Be(Bn(p.tag),{id:h(a),class:U(h(s).b("group")),role:"group","aria-label":h(l)?void 0:p.label||"checkbox-group","aria-labelledby":h(l)?(v=h(o))==null?void 0:v.labelId:void 0},{default:ve(()=>[qe(p.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var UL=ht(Sle,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const ro=Cn(ple,{CheckboxButton:$L,CheckboxGroup:UL}),xle=Yi($L),VL=Yi(UL),HL=pt({size:Ds,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),Mle=pt({...HL,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),WL={[Rn]:e=>un(e)||on(e)||ds(e),[Ii]:e=>un(e)||on(e)||ds(e)},GL=Symbol("radioGroupKey"),KL=(e,t)=>{const i=X(),s=Lt(GL,void 0),o=D(()=>!!s),a=D({get(){return o.value?s.modelValue:e.modelValue},set(g){o.value?s.changeEvent(g):t&&t(Rn,g),i.value.checked=e.modelValue===e.label}}),l=fs(D(()=>s==null?void 0:s.size)),u=_r(D(()=>s==null?void 0:s.disabled)),f=X(!1),p=D(()=>u.value||o.value&&a.value!==e.label?-1:0);return{radioRef:i,isGroup:o,radioGroup:s,focus:f,size:l,disabled:u,tabIndex:p,modelValue:a}},Ele=["value","name","disabled"],Cle=_e({name:"ElRadio"}),Tle=_e({...Cle,props:Mle,emits:WL,setup(e,{emit:t}){const i=e,s=nt("radio"),{radioRef:o,radioGroup:a,focus:l,size:u,disabled:f,modelValue:p}=KL(i,t);function g(){Bt(()=>t("change",p.value))}return(v,b)=>{var w;return B(),ne("label",{class:U([h(s).b(),h(s).is("disabled",h(f)),h(s).is("focus",h(l)),h(s).is("bordered",v.border),h(s).is("checked",h(p)===v.label),h(s).m(h(u))])},[ae("span",{class:U([h(s).e("input"),h(s).is("disabled",h(f)),h(s).is("checked",h(p)===v.label)])},[gn(ae("input",{ref_key:"radioRef",ref:o,"onUpdate:modelValue":b[0]||(b[0]=M=>Ti(p)?p.value=M:null),class:U(h(s).e("original")),value:v.label,name:v.name||((w=h(a))==null?void 0:w.name),disabled:h(f),type:"radio",onFocus:b[1]||(b[1]=M=>l.value=!0),onBlur:b[2]||(b[2]=M=>l.value=!1),onChange:g},null,42,Ele),[[mP,h(p)]]),ae("span",{class:U(h(s).e("inner"))},null,2)],2),ae("span",{class:U(h(s).e("label")),onKeydown:b[3]||(b[3]=rn(()=>{},["stop"]))},[qe(v.$slots,"default",{},()=>[Nn(ft(v.label),1)])],34)],2)}}});var Ale=ht(Tle,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const Rle=pt({...HL,name:{type:String,default:""}}),kle=["value","name","disabled"],Ple=_e({name:"ElRadioButton"}),Ile=_e({...Ple,props:Rle,setup(e){const t=e,i=nt("radio"),{radioRef:s,focus:o,size:a,disabled:l,modelValue:u,radioGroup:f}=KL(t),p=D(()=>({backgroundColor:(f==null?void 0:f.fill)||"",borderColor:(f==null?void 0:f.fill)||"",boxShadow:f!=null&&f.fill?`-1px 0 0 0 ${f.fill}`:"",color:(f==null?void 0:f.textColor)||""}));return(g,v)=>{var b;return B(),ne("label",{class:U([h(i).b("button"),h(i).is("active",h(u)===g.label),h(i).is("disabled",h(l)),h(i).is("focus",h(o)),h(i).bm("button",h(a))])},[gn(ae("input",{ref_key:"radioRef",ref:s,"onUpdate:modelValue":v[0]||(v[0]=w=>Ti(u)?u.value=w:null),class:U(h(i).be("button","original-radio")),value:g.label,type:"radio",name:g.name||((b=h(f))==null?void 0:b.name),disabled:h(l),onFocus:v[1]||(v[1]=w=>o.value=!0),onBlur:v[2]||(v[2]=w=>o.value=!1)},null,42,kle),[[mP,h(u)]]),ae("span",{class:U(h(i).be("button","inner")),style:Wt(h(u)===g.label?h(p):{}),onKeydown:v[3]||(v[3]=rn(()=>{},["stop"]))},[qe(g.$slots,"default",{},()=>[Nn(ft(g.label),1)])],38)],2)}}});var qL=ht(Ile,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const Lle=pt({id:{type:String,default:void 0},size:Ds,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),Nle=WL,Ole=["id","aria-label","aria-labelledby"],Dle=_e({name:"ElRadioGroup"}),Fle=_e({...Dle,props:Lle,emits:Nle,setup(e,{emit:t}){const i=e,s=nt("radio"),o=so(),a=X(),{formItem:l}=lr(),{inputId:u,isLabeledByFormItem:f}=Kl(i,{formItemContext:l}),p=v=>{t(Rn,v),Bt(()=>t("change",v))};_n(()=>{const v=a.value.querySelectorAll("[type=radio]"),b=v[0];!Array.from(v).some(w=>w.checked)&&b&&(b.tabIndex=0)});const g=D(()=>i.name||o.value);return On(GL,ai({...gs(i),changeEvent:p,name:g})),et(()=>i.modelValue,()=>{i.validateEvent&&(l==null||l.validate("change").catch(v=>void 0))}),(v,b)=>(B(),ne("div",{id:h(u),ref_key:"radioGroupRef",ref:a,class:U(h(s).b("group")),role:"radiogroup","aria-label":h(f)?void 0:v.label||"radio-group","aria-labelledby":h(f)?h(l).labelId:void 0},[qe(v.$slots,"default")],10,Ole))}});var jL=ht(Fle,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const XL=Cn(Ale,{RadioButton:qL,RadioGroup:jL}),Ble=Yi(jL),zle=Yi(qL);var $le=_e({name:"NodeContent",setup(){return{ns:nt("cascader-node")}},render(){const{ns:e}=this,{node:t,panel:i}=this.$parent,{data:s,label:o}=t,{renderLabelFn:a}=i;return Yt("span",{class:e.e("label")},a?a({node:t,data:s}):o)}});const ZS=Symbol(),Ule=_e({name:"ElCascaderNode",components:{ElCheckbox:ro,ElRadio:XL,NodeContent:$le,ElIcon:zt,Check:Np,Loading:Wl,ArrowRight:nr},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const i=Lt(ZS),s=nt("cascader-node"),o=D(()=>i.isHoverMenu),a=D(()=>i.config.multiple),l=D(()=>i.config.checkStrictly),u=D(()=>{var F;return(F=i.checkedNodes[0])==null?void 0:F.uid}),f=D(()=>e.node.isDisabled),p=D(()=>e.node.isLeaf),g=D(()=>l.value&&!p.value||!f.value),v=D(()=>w(i.expandingNode)),b=D(()=>l.value&&i.checkedNodes.some(w)),w=F=>{var G;const{level:H,uid:j}=e.node;return((G=F==null?void 0:F.pathNodes[H-1])==null?void 0:G.uid)===j},M=()=>{v.value||i.expandNode(e.node)},x=F=>{const{node:G}=e;F!==G.checked&&i.handleCheckChange(G,F)},E=()=>{i.lazyLoad(e.node,()=>{p.value||M()})},C=F=>{o.value&&(k(),!p.value&&t("expand",F))},k=()=>{const{node:F}=e;!g.value||F.loading||(F.loaded?M():E())},R=()=>{o.value&&!p.value||(p.value&&!f.value&&!l.value&&!a.value?O(!0):k())},P=F=>{l.value?(x(F),e.node.loaded&&M()):O(F)},O=F=>{e.node.loaded?(x(F),!l.value&&M()):E()};return{panel:i,isHoverMenu:o,multiple:a,checkStrictly:l,checkedNodeId:u,isDisabled:f,isLeaf:p,expandable:g,inExpandingPath:v,inCheckedPath:b,ns:s,handleHoverExpand:C,handleExpand:k,handleClick:R,handleCheck:O,handleSelectCheck:P}}}),Vle=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],Hle=ae("span",null,null,-1);function Wle(e,t,i,s,o,a){const l=cn("el-checkbox"),u=cn("el-radio"),f=cn("check"),p=cn("el-icon"),g=cn("node-content"),v=cn("loading"),b=cn("arrow-right");return B(),ne("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:U([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:t[2]||(t[2]=(...w)=>e.handleHoverExpand&&e.handleHoverExpand(...w)),onFocus:t[3]||(t[3]=(...w)=>e.handleHoverExpand&&e.handleHoverExpand(...w)),onClick:t[4]||(t[4]=(...w)=>e.handleClick&&e.handleClick(...w))},[Oe(" prefix "),e.multiple?(B(),Be(l,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:t[0]||(t[0]=rn(()=>{},["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(B(),Be(u,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:t[1]||(t[1]=rn(()=>{},["stop"]))},{default:ve(()=>[Oe(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),Hle]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(B(),Be(p,{key:2,class:U(e.ns.e("prefix"))},{default:ve(()=>[fe(f)]),_:1},8,["class"])):Oe("v-if",!0),Oe(" content "),fe(g),Oe(" postfix "),e.isLeaf?Oe("v-if",!0):(B(),ne(Ft,{key:3},[e.node.loading?(B(),Be(p,{key:0,class:U([e.ns.is("loading"),e.ns.e("postfix")])},{default:ve(()=>[fe(v)]),_:1},8,["class"])):(B(),Be(p,{key:1,class:U(["arrow-right",e.ns.e("postfix")])},{default:ve(()=>[fe(b)]),_:1},8,["class"]))],64))],42,Vle)}var Gle=ht(Ule,[["render",Wle],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const Kle=_e({name:"ElCascaderMenu",components:{Loading:Wl,ElIcon:zt,ElScrollbar:ja,ElCascaderNode:Gle},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=Tn(),i=nt("cascader-menu"),{t:s}=ii(),o=F0();let a=null,l=null;const u=Lt(ZS),f=X(null),p=D(()=>!e.nodes.length),g=D(()=>!u.initialLoaded),v=D(()=>`cascader-menu-${o}-${e.index}`),b=E=>{a=E.target},w=E=>{if(!(!u.isHoverMenu||!a||!f.value))if(a.contains(E.target)){M();const C=t.vnode.el,{left:k}=C.getBoundingClientRect(),{offsetWidth:R,offsetHeight:P}=C,O=E.clientX-k,F=a.offsetTop,G=F+a.offsetHeight;f.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${O} ${F} L${R} 0 V${F} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${O} ${G} L${R} ${P} V${G} Z" />
        `}else l||(l=window.setTimeout(x,u.config.hoverThreshold))},M=()=>{l&&(clearTimeout(l),l=null)},x=()=>{f.value&&(f.value.innerHTML="",M())};return{ns:i,panel:u,hoverZone:f,isEmpty:p,isLoading:g,menuId:v,t:s,handleExpand:b,handleMouseMove:w,clearHoverZone:x}}});function qle(e,t,i,s,o,a){const l=cn("el-cascader-node"),u=cn("loading"),f=cn("el-icon"),p=cn("el-scrollbar");return B(),Be(p,{key:e.menuId,tag:"ul",role:"menu",class:U(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:ve(()=>{var g;return[(B(!0),ne(Ft,null,Un(e.nodes,v=>(B(),Be(l,{key:v.uid,node:v,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(B(),ne("div",{key:0,class:U(e.ns.e("empty-text"))},[fe(f,{size:"14",class:U(e.ns.is("loading"))},{default:ve(()=>[fe(u)]),_:1},8,["class"]),Nn(" "+ft(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(B(),ne("div",{key:1,class:U(e.ns.e("empty-text"))},ft(e.t("el.cascader.noData")),3)):(g=e.panel)!=null&&g.isHoverMenu?(B(),ne("svg",{key:2,ref:"hoverZone",class:U(e.ns.e("hover-zone"))},null,2)):Oe("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var jle=ht(Kle,[["render",qle],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]);let Xle=0;const Yle=e=>{const t=[e];let{parent:i}=e;for(;i;)t.unshift(i),i=i.parent;return t};let J1=class Q1{constructor(t,i,s,o=!1){this.data=t,this.config=i,this.parent=s,this.root=o,this.uid=Xle++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:a,label:l,children:u}=i,f=t[u],p=Yle(this);this.level=o?0:s?s.level+1:1,this.value=t[a],this.label=t[l],this.pathNodes=p,this.pathValues=p.map(g=>g.value),this.pathLabels=p.map(g=>g.label),this.childrenData=f,this.children=(f||[]).map(g=>new Q1(g,i,this)),this.loaded=!i.lazy||this.isLeaf||!jr(f)}get isDisabled(){const{data:t,parent:i,config:s}=this,{disabled:o,checkStrictly:a}=s;return(an(o)?o(t,this):!!t[o])||!a&&(i==null?void 0:i.isDisabled)}get isLeaf(){const{data:t,config:i,childrenData:s,loaded:o}=this,{lazy:a,leaf:l}=i,u=an(l)?l(t,this):t[l];return Ts(u)?a&&!o?!1:!(Array.isArray(s)&&s.length):!!u}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(t){const{childrenData:i,children:s}=this,o=new Q1(t,this.config,this);return Array.isArray(i)?i.push(t):this.childrenData=[t],s.push(o),o}calcText(t,i){const s=t?this.pathLabels.join(i):this.label;return this.text=s,s}broadcast(t,...i){const s=`onParent${Xo(t)}`;this.children.forEach(o=>{o&&(o.broadcast(t,...i),o[s]&&o[s](...i))})}emit(t,...i){const{parent:s}=this,o=`onChild${Xo(t)}`;s&&(s[o]&&s[o](...i),s.emit(t,...i))}onParentCheck(t){this.isDisabled||this.setCheckState(t)}onChildCheck(){const{children:t}=this,i=t.filter(o=>!o.isDisabled),s=i.length?i.every(o=>o.checked):!1;this.setCheckState(s)}setCheckState(t){const i=this.children.length,s=this.children.reduce((o,a)=>{const l=a.checked?1:a.indeterminate?.5:0;return o+l},0);this.checked=this.loaded&&this.children.filter(o=>!o.isDisabled).every(o=>o.loaded&&o.checked)&&t,this.indeterminate=this.loaded&&s!==i&&s>0}doCheck(t){if(this.checked===t)return;const{checkStrictly:i,multiple:s}=this.config;i||!s?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check"))}};const ew=(e,t)=>e.reduce((i,s)=>(s.isLeaf?i.push(s):(!t&&i.push(s),i=i.concat(ew(s.children,t))),i),[]);class gR{constructor(t,i){this.config=i;const s=(t||[]).map(o=>new J1(o,this.config));this.nodes=s,this.allNodes=ew(s,!1),this.leafNodes=ew(s,!0)}getNodes(){return this.nodes}getFlattedNodes(t){return t?this.leafNodes:this.allNodes}appendNode(t,i){const s=i?i.appendChild(t):new J1(t,this.config);i||this.nodes.push(s),this.allNodes.push(s),s.isLeaf&&this.leafNodes.push(s)}appendNodes(t,i){t.forEach(s=>this.appendNode(s,i))}getNodeByValue(t,i=!1){return!t&&t!==0?null:this.getFlattedNodes(i).find(o=>Br(o.value,t)||Br(o.pathValues,t))||null}getSameNode(t){return t&&this.getFlattedNodes(!1).find(({value:s,level:o})=>Br(t.value,s)&&t.level===o)||null}}const YL=pt({modelValue:{type:De([Number,String,Array])},options:{type:De(Array),default:()=>[]},props:{type:De(Object),default:()=>({})}}),Zle={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:_i,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},Jle=e=>D(()=>({...Zle,...e.props})),vR=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},Qle=e=>{if(!e)return;const t=e.querySelector("input");t?t.click():o3(e)&&e.click()},ece=(e,t)=>{const i=t.slice(0),s=i.map(a=>a.uid),o=e.reduce((a,l)=>{const u=s.indexOf(l.uid);return u>-1&&(a.push(l),i.splice(u,1),s.splice(u,1)),a},[]);return o.push(...i),o},tce=_e({name:"ElCascaderPanel",components:{ElCascaderMenu:jle},props:{...YL,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Rn,Ii,"close","expand-change"],setup(e,{emit:t,slots:i}){let s=!1;const o=nt("cascader"),a=Jle(e);let l=null;const u=X(!0),f=X([]),p=X(null),g=X([]),v=X(null),b=X([]),w=D(()=>a.value.expandTrigger==="hover"),M=D(()=>e.renderLabel||i.default),x=()=>{const{options:Q}=e,Z=a.value;s=!1,l=new gR(Q,Z),g.value=[l.getNodes()],Z.lazy&&jr(e.options)?(u.value=!1,E(void 0,re=>{re&&(l=new gR(re,Z),g.value=[l.getNodes()]),u.value=!0,H(!1,!0)})):H(!1,!0)},E=(Q,Z)=>{const re=a.value;Q=Q||new J1({},re,void 0,!0),Q.loading=!0;const ce=te=>{const W=Q,ee=W.root?null:W;te&&(l==null||l.appendNodes(te,ee)),W.loading=!1,W.loaded=!0,W.childrenData=W.childrenData||[],Z&&Z(te)};re.lazyLoad(Q,ce)},C=(Q,Z)=>{var re;const{level:ce}=Q,te=g.value.slice(0,ce);let W;Q.isLeaf?W=Q.pathNodes[ce-2]:(W=Q,te.push(Q.children)),((re=v.value)==null?void 0:re.uid)!==(W==null?void 0:W.uid)&&(v.value=Q,g.value=te,!Z&&t("expand-change",(Q==null?void 0:Q.pathValues)||[]))},k=(Q,Z,re=!0)=>{const{checkStrictly:ce,multiple:te}=a.value,W=b.value[0];s=!0,!te&&(W==null||W.doCheck(!1)),Q.doCheck(Z),G(),re&&!te&&!ce&&t("close"),!re&&!te&&!ce&&R(Q)},R=Q=>{Q&&(Q=Q.parent,R(Q),Q&&C(Q))},P=Q=>l==null?void 0:l.getFlattedNodes(Q),O=Q=>{var Z;return(Z=P(Q))==null?void 0:Z.filter(re=>re.checked!==!1)},F=()=>{b.value.forEach(Q=>Q.doCheck(!1)),G(),g.value=g.value.slice(0,1),v.value=null,t("expand-change",[])},G=()=>{var Q;const{checkStrictly:Z,multiple:re}=a.value,ce=b.value,te=O(!Z),W=ece(ce,te),ee=W.map(J=>J.valueByOption);b.value=W,p.value=re?ee:(Q=ee[0])!=null?Q:null},H=(Q=!1,Z=!1)=>{const{modelValue:re}=e,{lazy:ce,multiple:te,checkStrictly:W}=a.value,ee=!W;if(!(!u.value||s||!Z&&Br(re,p.value)))if(ce&&!Q){const pe=mA(ZX(Ba(re))).map(Ee=>l==null?void 0:l.getNodeByValue(Ee)).filter(Ee=>!!Ee&&!Ee.loaded&&!Ee.loading);pe.length?pe.forEach(Ee=>{E(Ee,()=>H(!1,Z))}):H(!0,Z)}else{const J=te?Ba(re):[re],pe=mA(J.map(Ee=>l==null?void 0:l.getNodeByValue(Ee,ee)));j(pe,Z),p.value=xS(re)}},j=(Q,Z=!0)=>{const{checkStrictly:re}=a.value,ce=b.value,te=Q.filter(J=>!!J&&(re||J.isLeaf)),W=l==null?void 0:l.getSameNode(v.value),ee=Z&&W||te[0];ee?ee.pathNodes.forEach(J=>C(J,!0)):v.value=null,ce.forEach(J=>J.doCheck(!1)),te.forEach(J=>J.doCheck(!0)),b.value=te,Bt(q)},q=()=>{Jn&&f.value.forEach(Q=>{const Z=Q==null?void 0:Q.$el;if(Z){const re=Z.querySelector(`.${o.namespace.value}-scrollbar__wrap`),ce=Z.querySelector(`.${o.b("node")}.${o.is("active")}`)||Z.querySelector(`.${o.b("node")}.in-active-path`);Y3(re,ce)}})},ie=Q=>{const Z=Q.target,{code:re}=Q;switch(re){case Xt.up:case Xt.down:{Q.preventDefault();const ce=re===Xt.up?-1:1;ov(a3(Z,ce,`.${o.b("node")}[tabindex="-1"]`));break}case Xt.left:{Q.preventDefault();const ce=f.value[vR(Z)-1],te=ce==null?void 0:ce.$el.querySelector(`.${o.b("node")}[aria-expanded="true"]`);ov(te);break}case Xt.right:{Q.preventDefault();const ce=f.value[vR(Z)+1],te=ce==null?void 0:ce.$el.querySelector(`.${o.b("node")}[tabindex="-1"]`);ov(te);break}case Xt.enter:Qle(Z);break}};return On(ZS,ai({config:a,expandingNode:v,checkedNodes:b,isHoverMenu:w,initialLoaded:u,renderLabelFn:M,lazyLoad:E,expandNode:C,handleCheckChange:k})),et([a,()=>e.options],x,{deep:!0,immediate:!0}),et(()=>e.modelValue,()=>{s=!1,H()},{deep:!0}),et(()=>p.value,Q=>{Br(Q,e.modelValue)||(t(Rn,Q),t(Ii,Q))}),Wk(()=>f.value=[]),_n(()=>!jr(e.modelValue)&&H()),{ns:o,menuList:f,menus:g,checkedNodes:b,handleKeyDown:ie,handleCheckChange:k,getFlattedNodes:P,getCheckedNodes:O,clearCheckedNodes:F,calculateCheckedValue:G,scrollToExpandingNode:q}}});function nce(e,t,i,s,o,a){const l=cn("el-cascader-menu");return B(),ne("div",{class:U([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:t[0]||(t[0]=(...u)=>e.handleKeyDown&&e.handleKeyDown(...u))},[(B(!0),ne(Ft,null,Un(e.menus,(u,f)=>(B(),Be(l,{key:f,ref_for:!0,ref:p=>e.menuList[f]=p,index:f,nodes:[...u]},null,8,["index","nodes"]))),128))],34)}var pv=ht(tce,[["render",nce],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);pv.install=e=>{e.component(pv.name,pv)};const ZL=pv,ice=ZL,JS=pt({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:ra,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),sce={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},rce=_e({name:"ElTag"}),oce=_e({...rce,props:JS,emits:sce,setup(e,{emit:t}){const i=e,s=fs(),o=nt("tag"),a=D(()=>{const{type:f,hit:p,effect:g,closable:v,round:b}=i;return[o.b(),o.is("closable",v),o.m(f),o.m(s.value),o.m(g),o.is("hit",p),o.is("round",b)]}),l=f=>{t("close",f)},u=f=>{t("click",f)};return(f,p)=>f.disableTransitions?(B(),ne("span",{key:0,class:U(h(a)),style:Wt({backgroundColor:f.color}),onClick:u},[ae("span",{class:U(h(o).e("content"))},[qe(f.$slots,"default")],2),f.closable?(B(),Be(h(zt),{key:0,class:U(h(o).e("close")),onClick:rn(l,["stop"])},{default:ve(()=>[fe(h(Lo))]),_:1},8,["class","onClick"])):Oe("v-if",!0)],6)):(B(),Be(ns,{key:1,name:`${h(o).namespace.value}-zoom-in-center`,appear:""},{default:ve(()=>[ae("span",{class:U(h(a)),style:Wt({backgroundColor:f.color}),onClick:u},[ae("span",{class:U(h(o).e("content"))},[qe(f.$slots,"default")],2),f.closable?(B(),Be(h(zt),{key:0,class:U(h(o).e("close")),onClick:rn(l,["stop"])},{default:ve(()=>[fe(h(Lo))]),_:1},8,["class","onClick"])):Oe("v-if",!0)],6)]),_:3},8,["name"]))}});var ace=ht(oce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const up=Cn(ace),lce=pt({...YL,size:Ds,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:De(Function),default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:De(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:Cs.teleported,tagType:{...JS.type,default:"info"},validateEvent:{type:Boolean,default:!0}}),cce={[Rn]:e=>!!e||e===null,[Ii]:e=>!!e||e===null,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,visibleChange:e=>ds(e),expandChange:e=>!!e,removeTag:e=>!!e},uce={key:0},dce=["placeholder","onKeydown"],fce=["onClick"],hce="ElCascader",pce=_e({name:hce}),mce=_e({...pce,props:lce,emits:cce,setup(e,{expose:t,emit:i}){const s=e,o={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:Fe})=>{const{modifiersData:me,placement:Se}=Fe;["right","left","bottom","top"].includes(Se)||(me.arrow.x=35)},requires:["arrow"]}]},a=of();let l=0,u=0;const f=nt("cascader"),p=nt("input"),{t:g}=ii(),{form:v,formItem:b}=lr(),w=X(null),M=X(null),x=X(null),E=X(null),C=X(null),k=X(!1),R=X(!1),P=X(!1),O=X(!1),F=X(""),G=X(""),H=X([]),j=X([]),q=X([]),ie=X(!1),Q=D(()=>a.style),Z=D(()=>s.disabled||(v==null?void 0:v.disabled)),re=D(()=>s.placeholder||g("el.cascader.placeholder")),ce=D(()=>G.value||H.value.length>0||ie.value?"":re.value),te=fs(),W=D(()=>["small"].includes(te.value)?"small":"default"),ee=D(()=>!!s.props.multiple),J=D(()=>!s.filterable||ee.value),pe=D(()=>ee.value?G.value:F.value),Ee=D(()=>{var Fe;return((Fe=E.value)==null?void 0:Fe.checkedNodes)||[]}),he=D(()=>!s.clearable||Z.value||P.value||!R.value?!1:!!Ee.value.length),Ce=D(()=>{const{showAllLevels:Fe,separator:me}=s,Se=Ee.value;return Se.length?ee.value?"":Se[0].calcText(Fe,me):""}),Ge=D({get(){return xS(s.modelValue)},set(Fe){i(Rn,Fe),i(Ii,Fe),s.validateEvent&&(b==null||b.validate("change").catch(me=>void 0))}}),Te=D(()=>[f.b(),f.m(te.value),f.is("disabled",Z.value),a.class]),xe=D(()=>[p.e("icon"),"icon-arrow-down",f.is("reverse",k.value)]),Ie=D(()=>f.is("focus",k.value||O.value)),ge=D(()=>{var Fe,me;return(me=(Fe=w.value)==null?void 0:Fe.popperRef)==null?void 0:me.contentRef}),Le=Fe=>{var me,Se,it;Z.value||(Fe=Fe??!k.value,Fe!==k.value&&(k.value=Fe,(Se=(me=M.value)==null?void 0:me.input)==null||Se.setAttribute("aria-expanded",`${Fe}`),Fe?(Ue(),Bt((it=E.value)==null?void 0:it.scrollToExpandingNode)):s.filterable&&yt(),i("visibleChange",Fe)))},Ue=()=>{Bt(()=>{var Fe;(Fe=w.value)==null||Fe.updatePopper()})},ut=()=>{P.value=!1},ue=Fe=>{const{showAllLevels:me,separator:Se}=s;return{node:Fe,key:Fe.uid,text:Fe.calcText(me,Se),hitState:!1,closable:!Z.value&&!Fe.isDisabled,isCollapseTag:!1}},we=Fe=>{var me;const Se=Fe.node;Se.doCheck(!1),(me=E.value)==null||me.calculateCheckedValue(),i("removeTag",Se.valueByOption)},Ve=()=>{if(!ee.value)return;const Fe=Ee.value,me=[],Se=[];if(Fe.forEach(it=>Se.push(ue(it))),j.value=Se,Fe.length){const[it,...vt]=Fe,tn=vt.length;me.push(ue(it)),tn&&(s.collapseTags?me.push({key:-1,text:`+ ${tn}`,closable:!1,isCollapseTag:!0}):vt.forEach(Xe=>me.push(ue(Xe))))}H.value=me},Ye=()=>{var Fe,me;const{filterMethod:Se,showAllLevels:it,separator:vt}=s,tn=(me=(Fe=E.value)==null?void 0:Fe.getFlattedNodes(!s.props.checkStrictly))==null?void 0:me.filter(Xe=>Xe.isDisabled?!1:(Xe.calcText(it,vt),Se(Xe,pe.value)));ee.value&&(H.value.forEach(Xe=>{Xe.hitState=!1}),j.value.forEach(Xe=>{Xe.hitState=!1})),P.value=!0,q.value=tn,Ue()},lt=()=>{var Fe;let me;P.value&&C.value?me=C.value.$el.querySelector(`.${f.e("suggestion-item")}`):me=(Fe=E.value)==null?void 0:Fe.$el.querySelector(`.${f.b("node")}[tabindex="-1"]`),me&&(me.focus(),!P.value&&me.click())},He=()=>{var Fe,me;const Se=(Fe=M.value)==null?void 0:Fe.input,it=x.value,vt=(me=C.value)==null?void 0:me.$el;if(!(!Jn||!Se)){if(vt){const tn=vt.querySelector(`.${f.e("suggestion-list")}`);tn.style.minWidth=`${Se.offsetWidth}px`}if(it){const{offsetHeight:tn}=it,Xe=H.value.length>0?`${Math.max(tn+6,l)}px`:`${l}px`;Se.style.height=Xe,Ue()}}},ct=Fe=>{var me;return(me=E.value)==null?void 0:me.getCheckedNodes(Fe)},Qe=Fe=>{Ue(),i("expandChange",Fe)},rt=Fe=>{var me;const Se=(me=Fe.target)==null?void 0:me.value;if(Fe.type==="compositionend")ie.value=!1,Bt(()=>tt(Se));else{const it=Se[Se.length-1]||"";ie.value=!O0(it)}},Je=Fe=>{if(!ie.value)switch(Fe.code){case Xt.enter:Le();break;case Xt.down:Le(!0),Bt(lt),Fe.preventDefault();break;case Xt.esc:k.value===!0&&(Fe.preventDefault(),Fe.stopPropagation(),Le(!1));break;case Xt.tab:Le(!1);break}},Mt=()=>{var Fe;(Fe=E.value)==null||Fe.clearCheckedNodes(),!k.value&&s.filterable&&yt(),Le(!1)},yt=()=>{const{value:Fe}=Ce;F.value=Fe,G.value=Fe},We=Fe=>{var me,Se;const{checked:it}=Fe;ee.value?(me=E.value)==null||me.handleCheckChange(Fe,!it,!1):(!it&&((Se=E.value)==null||Se.handleCheckChange(Fe,!0,!1)),Le(!1))},_t=Fe=>{const me=Fe.target,{code:Se}=Fe;switch(Se){case Xt.up:case Xt.down:{const it=Se===Xt.up?-1:1;ov(a3(me,it,`.${f.e("suggestion-item")}[tabindex="-1"]`));break}case Xt.enter:me.click();break}},Ut=()=>{const Fe=H.value,me=Fe[Fe.length-1];u=G.value?0:u+1,!(!me||!u||s.collapseTags&&Fe.length>1)&&(me.hitState?we(me):me.hitState=!0)},fn=Fe=>{const me=Fe.target,Se=f.e("search-input");me.className===Se&&(O.value=!0),i("focus",Fe)},Pe=Fe=>{O.value=!1,i("blur",Fe)},$e=or(()=>{const{value:Fe}=pe;if(!Fe)return;const me=s.beforeFilter(Fe);zh(me)?me.then(Ye).catch(()=>{}):me!==!1?Ye():ut()},s.debounce),tt=(Fe,me)=>{!k.value&&Le(!0),!(me!=null&&me.isComposing)&&(Fe?$e():ut())};return et(P,Ue),et([Ee,Z],Ve),et(H,()=>{Bt(()=>He())}),et(Ce,yt,{immediate:!0}),_n(()=>{const Fe=M.value.input,me=Number.parseFloat(qG(p.cssVarName("input-height"),Fe).value)-2;l=Fe.offsetHeight||me,Gs(Fe,He)}),t({getCheckedNodes:ct,cascaderPanelRef:E,togglePopperVisible:Le,contentRef:ge}),(Fe,me)=>(B(),Be(h(ar),{ref_key:"tooltipRef",ref:w,visible:k.value,teleported:Fe.teleported,"popper-class":[h(f).e("dropdown"),Fe.popperClass],"popper-options":o,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${h(f).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:ut},{default:ve(()=>[gn((B(),ne("div",{class:U(h(Te)),style:Wt(h(Q)),onClick:me[5]||(me[5]=()=>Le(h(J)?void 0:!0)),onKeydown:Je,onMouseenter:me[6]||(me[6]=Se=>R.value=!0),onMouseleave:me[7]||(me[7]=Se=>R.value=!1)},[fe(h(Ws),{ref_key:"input",ref:M,modelValue:F.value,"onUpdate:modelValue":me[1]||(me[1]=Se=>F.value=Se),placeholder:h(ce),readonly:h(J),disabled:h(Z),"validate-event":!1,size:h(te),class:U(h(Ie)),tabindex:h(ee)&&Fe.filterable&&!h(Z)?-1:void 0,onCompositionstart:rt,onCompositionupdate:rt,onCompositionend:rt,onFocus:fn,onBlur:Pe,onInput:tt},{suffix:ve(()=>[h(he)?(B(),Be(h(zt),{key:"clear",class:U([h(p).e("icon"),"icon-circle-close"]),onClick:rn(Mt,["stop"])},{default:ve(()=>[fe(h(Hl))]),_:1},8,["class","onClick"])):(B(),Be(h(zt),{key:"arrow-down",class:U(h(xe)),onClick:me[0]||(me[0]=rn(Se=>Le(),["stop"]))},{default:ve(()=>[fe(h(Vl))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),h(ee)?(B(),ne("div",{key:0,ref_key:"tagWrapper",ref:x,class:U(h(f).e("tags"))},[(B(!0),ne(Ft,null,Un(H.value,Se=>(B(),Be(h(up),{key:Se.key,type:Fe.tagType,size:h(W),hit:Se.hitState,closable:Se.closable,"disable-transitions":"",onClose:it=>we(Se)},{default:ve(()=>[Se.isCollapseTag===!1?(B(),ne("span",uce,ft(Se.text),1)):(B(),Be(h(ar),{key:1,disabled:k.value||!Fe.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:ve(()=>[ae("span",null,ft(Se.text),1)]),content:ve(()=>[ae("div",{class:U(h(f).e("collapse-tags"))},[(B(!0),ne(Ft,null,Un(j.value.slice(1),(it,vt)=>(B(),ne("div",{key:vt,class:U(h(f).e("collapse-tag"))},[(B(),Be(h(up),{key:it.key,class:"in-tooltip",type:Fe.tagType,size:h(W),hit:it.hitState,closable:it.closable,"disable-transitions":"",onClose:tn=>we(it)},{default:ve(()=>[ae("span",null,ft(it.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),Fe.filterable&&!h(Z)?gn((B(),ne("input",{key:0,"onUpdate:modelValue":me[2]||(me[2]=Se=>G.value=Se),type:"text",class:U(h(f).e("search-input")),placeholder:h(Ce)?"":h(re),onInput:me[3]||(me[3]=Se=>tt(G.value,Se)),onClick:me[4]||(me[4]=rn(Se=>Le(!0),["stop"])),onKeydown:ei(Ut,["delete"]),onCompositionstart:rt,onCompositionupdate:rt,onCompositionend:rt,onFocus:fn,onBlur:Pe},null,42,dce)),[[Yw,G.value]]):Oe("v-if",!0)],2)):Oe("v-if",!0)],38)),[[h(Bl),()=>Le(!1),h(ge)]])]),content:ve(()=>[gn(fe(h(ZL),{ref_key:"cascaderPanelRef",ref:E,modelValue:h(Ge),"onUpdate:modelValue":me[8]||(me[8]=Se=>Ti(Ge)?Ge.value=Se:null),options:Fe.options,props:s.props,border:!1,"render-label":Fe.$slots.default,onExpandChange:Qe,onClose:me[9]||(me[9]=Se=>Fe.$nextTick(()=>Le(!1)))},null,8,["modelValue","options","props","render-label"]),[[oi,!P.value]]),Fe.filterable?gn((B(),Be(h(ja),{key:0,ref_key:"suggestionPanel",ref:C,tag:"ul",class:U(h(f).e("suggestion-panel")),"view-class":h(f).e("suggestion-list"),onKeydown:_t},{default:ve(()=>[q.value.length?(B(!0),ne(Ft,{key:0},Un(q.value,Se=>(B(),ne("li",{key:Se.uid,class:U([h(f).e("suggestion-item"),h(f).is("checked",Se.checked)]),tabindex:-1,onClick:it=>We(Se)},[ae("span",null,ft(Se.text),1),Se.checked?(B(),Be(h(zt),{key:0},{default:ve(()=>[fe(h(Np))]),_:1})):Oe("v-if",!0)],10,fce))),128)):qe(Fe.$slots,"empty",{key:1},()=>[ae("li",{class:U(h(f).e("empty-text"))},ft(h(g)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[oi,P.value]]):Oe("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var mv=ht(mce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/cascader.vue"]]);mv.install=e=>{e.component(mv.name,mv)};const gce=mv,vce=gce,yce=pt({checked:{type:Boolean,default:!1}}),bce={"update:checked":e=>ds(e),[Ii]:e=>ds(e)},_ce=_e({name:"ElCheckTag"}),wce=_e({..._ce,props:yce,emits:bce,setup(e,{emit:t}){const i=e,s=nt("check-tag"),o=()=>{const a=!i.checked;t(Ii,a),t("update:checked",a)};return(a,l)=>(B(),ne("span",{class:U([h(s).b(),h(s).is("checked",a.checked)]),onClick:o},[qe(a.$slots,"default")],2))}});var Sce=ht(wce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/check-tag/src/check-tag.vue"]]);const xce=Cn(Sce),JL=Symbol("rowContextKey"),Mce=["start","center","end","space-around","space-between","space-evenly"],Ece=["top","middle","bottom"],Cce=pt({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:Mce,default:"start"},align:{type:String,values:Ece,default:"top"}}),Tce=_e({name:"ElRow"}),Ace=_e({...Tce,props:Cce,setup(e){const t=e,i=nt("row"),s=D(()=>t.gutter);On(JL,{gutter:s});const o=D(()=>{const l={};return t.gutter&&(l.marginRight=l.marginLeft=`-${t.gutter/2}px`),l}),a=D(()=>[i.b(),i.is(`justify-${t.justify}`,t.justify!=="start"),i.is(`align-${t.align}`,t.align!=="top")]);return(l,u)=>(B(),Be(Bn(l.tag),{class:U(h(a)),style:Wt(h(o))},{default:ve(()=>[qe(l.$slots,"default")]),_:3},8,["class","style"]))}});var Rce=ht(Ace,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const kce=Cn(Rce),Pce=pt({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:De([Number,Object]),default:()=>Ui({})},sm:{type:De([Number,Object]),default:()=>Ui({})},md:{type:De([Number,Object]),default:()=>Ui({})},lg:{type:De([Number,Object]),default:()=>Ui({})},xl:{type:De([Number,Object]),default:()=>Ui({})}}),Ice=_e({name:"ElCol"}),Lce=_e({...Ice,props:Pce,setup(e){const t=e,{gutter:i}=Lt(JL,{gutter:D(()=>0)}),s=nt("col"),o=D(()=>{const l={};return i.value&&(l.paddingLeft=l.paddingRight=`${i.value/2}px`),l}),a=D(()=>{const l=[];return["span","offset","pull","push"].forEach(p=>{const g=t[p];on(g)&&(p==="span"?l.push(s.b(`${t[p]}`)):g>0&&l.push(s.b(`${p}-${t[p]}`)))}),["xs","sm","md","lg","xl"].forEach(p=>{on(t[p])?l.push(s.b(`${p}-${t[p]}`)):Pn(t[p])&&Object.entries(t[p]).forEach(([g,v])=>{l.push(g!=="span"?s.b(`${p}-${g}-${v}`):s.b(`${p}-${v}`))})}),i.value&&l.push(s.is("guttered")),[s.b(),l]});return(l,u)=>(B(),Be(Bn(l.tag),{class:U(h(a)),style:Wt(h(o))},{default:ve(()=>[qe(l.$slots,"default")]),_:3},8,["class","style"]))}});var Nce=ht(Lce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const Oce=Cn(Nce),yR=e=>typeof on(e),Dce=pt({accordion:Boolean,modelValue:{type:De([Array,String,Number]),default:()=>Ui([])}}),Fce={[Rn]:yR,[Ii]:yR},QL=Symbol("collapseContextKey"),Bce=(e,t)=>{const i=X(Vd(e.modelValue)),s=a=>{i.value=a;const l=e.accordion?i.value[0]:i.value;t(Rn,l),t(Ii,l)},o=a=>{if(e.accordion)s([i.value[0]===a?"":a]);else{const l=[...i.value],u=l.indexOf(a);u>-1?l.splice(u,1):l.push(a),s(l)}};return et(()=>e.modelValue,()=>i.value=Vd(e.modelValue),{deep:!0}),On(QL,{activeNames:i,handleItemClick:o}),{activeNames:i,setActiveNames:s}},zce=()=>{const e=nt("collapse");return{rootKls:D(()=>e.b())}},$ce=_e({name:"ElCollapse"}),Uce=_e({...$ce,props:Dce,emits:Fce,setup(e,{expose:t,emit:i}){const s=e,{activeNames:o,setActiveNames:a}=Bce(s,i),{rootKls:l}=zce();return t({activeNames:o,setActiveNames:a}),(u,f)=>(B(),ne("div",{class:U(h(l)),role:"tablist","aria-multiselectable":"true"},[qe(u.$slots,"default")],2))}});var Vce=ht(Uce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const Hce=_e({name:"ElCollapseTransition"}),Wce=_e({...Hce,setup(e){const t=nt("collapse-transition"),i={beforeEnter(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0},enter(s){s.dataset.oldOverflow=s.style.overflow,s.scrollHeight!==0?(s.style.maxHeight=`${s.scrollHeight}px`,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom):(s.style.maxHeight=0,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom),s.style.overflow="hidden"},afterEnter(s){s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow},beforeLeave(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.dataset.oldOverflow=s.style.overflow,s.style.maxHeight=`${s.scrollHeight}px`,s.style.overflow="hidden"},leave(s){s.scrollHeight!==0&&(s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0)},afterLeave(s){s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom}};return(s,o)=>(B(),Be(ns,kn({name:h(t).b()},zV(i)),{default:ve(()=>[qe(s.$slots,"default")]),_:3},16,["name"]))}});var gv=ht(Wce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);gv.install=e=>{e.component(gv.name,gv)};const K0=gv,Gce=K0,Kce=pt({title:{type:String,default:""},name:{type:De([String,Number]),default:()=>F0()},disabled:Boolean}),qce=e=>{const t=Lt(QL),i=X(!1),s=X(!1),o=X(F0()),a=D(()=>t==null?void 0:t.activeNames.value.includes(e.name));return{focusing:i,id:o,isActive:a,handleFocus:()=>{setTimeout(()=>{s.value?s.value=!1:i.value=!0},50)},handleHeaderClick:()=>{e.disabled||(t==null||t.handleItemClick(e.name),i.value=!1,s.value=!0)},handleEnterClick:()=>{t==null||t.handleItemClick(e.name)}}},jce=(e,{focusing:t,isActive:i,id:s})=>{const o=nt("collapse"),a=D(()=>[o.b("item"),o.is("active",h(i)),o.is("disabled",e.disabled)]),l=D(()=>[o.be("item","header"),o.is("active",h(i)),{focusing:h(t)&&!e.disabled}]),u=D(()=>[o.be("item","arrow"),o.is("active",h(i))]),f=D(()=>o.be("item","wrap")),p=D(()=>o.be("item","content")),g=D(()=>o.b(`content-${h(s)}`)),v=D(()=>o.b(`head-${h(s)}`));return{arrowKls:u,headKls:l,rootKls:a,itemWrapperKls:f,itemContentKls:p,scopedContentId:g,scopedHeadId:v}},Xce=["aria-expanded","aria-controls","aria-describedby"],Yce=["id","tabindex"],Zce=["id","aria-hidden","aria-labelledby"],Jce=_e({name:"ElCollapseItem"}),Qce=_e({...Jce,props:Kce,setup(e,{expose:t}){const i=e,{focusing:s,id:o,isActive:a,handleFocus:l,handleHeaderClick:u,handleEnterClick:f}=qce(i),{arrowKls:p,headKls:g,rootKls:v,itemWrapperKls:b,itemContentKls:w,scopedContentId:M,scopedHeadId:x}=jce(i,{focusing:s,isActive:a,id:o});return t({isActive:a}),(E,C)=>(B(),ne("div",{class:U(h(v))},[ae("div",{role:"tab","aria-expanded":h(a),"aria-controls":h(M),"aria-describedby":h(M)},[ae("div",{id:h(x),class:U(h(g)),role:"button",tabindex:E.disabled?-1:0,onClick:C[0]||(C[0]=(...k)=>h(u)&&h(u)(...k)),onKeypress:C[1]||(C[1]=ei(rn((...k)=>h(f)&&h(f)(...k),["stop","prevent"]),["space","enter"])),onFocus:C[2]||(C[2]=(...k)=>h(l)&&h(l)(...k)),onBlur:C[3]||(C[3]=k=>s.value=!1)},[qe(E.$slots,"title",{},()=>[Nn(ft(E.title),1)]),fe(h(zt),{class:U(h(p))},{default:ve(()=>[fe(h(nr))]),_:1},8,["class"])],42,Yce)],8,Xce),fe(h(K0),null,{default:ve(()=>[gn(ae("div",{id:h(M),class:U(h(b)),role:"tabpanel","aria-hidden":!h(a),"aria-labelledby":h(x)},[ae("div",{class:U(h(w))},[qe(E.$slots,"default")],2)],10,Zce),[[oi,h(a)]])]),_:3})],2))}});var eN=ht(Qce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const eue=Cn(Vce,{CollapseItem:eN}),tue=Yi(eN),nue=pt({color:{type:De(Object),required:!0},vertical:{type:Boolean,default:!1}});let H_=!1;function dp(e,t){if(!Jn)return;const i=function(a){var l;(l=t.drag)==null||l.call(t,a)},s=function(a){var l;document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",s),document.removeEventListener("touchmove",i),document.removeEventListener("touchend",s),document.onselectstart=null,document.ondragstart=null,H_=!1,(l=t.end)==null||l.call(t,a)},o=function(a){var l;H_||(a.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",i),document.addEventListener("mouseup",s),document.addEventListener("touchmove",i),document.addEventListener("touchend",s),H_=!0,(l=t.start)==null||l.call(t,a))};e.addEventListener("mousedown",o),e.addEventListener("touchstart",o)}const iue=e=>{const t=Tn(),i=ki(),s=ki();function o(l){l.target!==i.value&&a(l)}function a(l){if(!s.value||!i.value)return;const f=t.vnode.el.getBoundingClientRect(),{clientX:p,clientY:g}=lS(l);if(e.vertical){let v=g-f.top;v=Math.max(i.value.offsetHeight/2,v),v=Math.min(v,f.height-i.value.offsetHeight/2),e.color.set("alpha",Math.round((v-i.value.offsetHeight/2)/(f.height-i.value.offsetHeight)*100))}else{let v=p-f.left;v=Math.max(i.value.offsetWidth/2,v),v=Math.min(v,f.width-i.value.offsetWidth/2),e.color.set("alpha",Math.round((v-i.value.offsetWidth/2)/(f.width-i.value.offsetWidth)*100))}}return{thumb:i,bar:s,handleDrag:a,handleClick:o}},sue=(e,{bar:t,thumb:i,handleDrag:s})=>{const o=Tn(),a=nt("color-alpha-slider"),l=X(0),u=X(0),f=X();function p(){if(!i.value||e.vertical)return 0;const k=o.vnode.el,R=e.color.get("alpha");return k?Math.round(R*(k.offsetWidth-i.value.offsetWidth/2)/100):0}function g(){if(!i.value)return 0;const k=o.vnode.el;if(!e.vertical)return 0;const R=e.color.get("alpha");return k?Math.round(R*(k.offsetHeight-i.value.offsetHeight/2)/100):0}function v(){if(e.color&&e.color.value){const{r:k,g:R,b:P}=e.color.toRgb();return`linear-gradient(to right, rgba(${k}, ${R}, ${P}, 0) 0%, rgba(${k}, ${R}, ${P}, 1) 100%)`}return""}function b(){l.value=p(),u.value=g(),f.value=v()}_n(()=>{if(!t.value||!i.value)return;const k={drag:R=>{s(R)},end:R=>{s(R)}};dp(t.value,k),dp(i.value,k),b()}),et(()=>e.color.get("alpha"),()=>b()),et(()=>e.color.value,()=>b());const w=D(()=>[a.b(),a.is("vertical",e.vertical)]),M=D(()=>a.e("bar")),x=D(()=>a.e("thumb")),E=D(()=>({background:f.value})),C=D(()=>({left:es(l.value),top:es(u.value)}));return{rootKls:w,barKls:M,barStyle:E,thumbKls:x,thumbStyle:C,update:b}},rue="ElColorAlphaSlider",oue=_e({name:rue}),aue=_e({...oue,props:nue,setup(e,{expose:t}){const i=e,{bar:s,thumb:o,handleDrag:a,handleClick:l}=iue(i),{rootKls:u,barKls:f,barStyle:p,thumbKls:g,thumbStyle:v,update:b}=sue(i,{bar:s,thumb:o,handleDrag:a});return t({update:b,bar:s,thumb:o}),(w,M)=>(B(),ne("div",{class:U(h(u))},[ae("div",{ref_key:"bar",ref:s,class:U(h(f)),style:Wt(h(p)),onClick:M[0]||(M[0]=(...x)=>h(l)&&h(l)(...x))},null,6),ae("div",{ref_key:"thumb",ref:o,class:U(h(g)),style:Wt(h(v))},null,6)],2))}});var lue=ht(aue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue"]]);const cue=_e({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const t=nt("color-hue-slider"),i=Tn(),s=X(),o=X(),a=X(0),l=X(0),u=D(()=>e.color.get("hue"));et(()=>u.value,()=>{b()});function f(w){w.target!==s.value&&p(w)}function p(w){if(!o.value||!s.value)return;const x=i.vnode.el.getBoundingClientRect(),{clientX:E,clientY:C}=lS(w);let k;if(e.vertical){let R=C-x.top;R=Math.min(R,x.height-s.value.offsetHeight/2),R=Math.max(s.value.offsetHeight/2,R),k=Math.round((R-s.value.offsetHeight/2)/(x.height-s.value.offsetHeight)*360)}else{let R=E-x.left;R=Math.min(R,x.width-s.value.offsetWidth/2),R=Math.max(s.value.offsetWidth/2,R),k=Math.round((R-s.value.offsetWidth/2)/(x.width-s.value.offsetWidth)*360)}e.color.set("hue",k)}function g(){if(!s.value)return 0;const w=i.vnode.el;if(e.vertical)return 0;const M=e.color.get("hue");return w?Math.round(M*(w.offsetWidth-s.value.offsetWidth/2)/360):0}function v(){if(!s.value)return 0;const w=i.vnode.el;if(!e.vertical)return 0;const M=e.color.get("hue");return w?Math.round(M*(w.offsetHeight-s.value.offsetHeight/2)/360):0}function b(){a.value=g(),l.value=v()}return _n(()=>{if(!o.value||!s.value)return;const w={drag:M=>{p(M)},end:M=>{p(M)}};dp(o.value,w),dp(s.value,w),b()}),{bar:o,thumb:s,thumbLeft:a,thumbTop:l,hueValue:u,handleClick:f,update:b,ns:t}}});function uue(e,t,i,s,o,a){return B(),ne("div",{class:U([e.ns.b(),e.ns.is("vertical",e.vertical)])},[ae("div",{ref:"bar",class:U(e.ns.e("bar")),onClick:t[0]||(t[0]=(...l)=>e.handleClick&&e.handleClick(...l))},null,2),ae("div",{ref:"thumb",class:U(e.ns.e("thumb")),style:Wt({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var due=ht(cue,[["render",uue],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue"]]);const fue=pt({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:Ds,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:De(Array)},validateEvent:{type:Boolean,default:!0}}),hue={[Rn]:e=>un(e)||us(e),[Ii]:e=>un(e)||us(e),activeChange:e=>un(e)||us(e)},tN=Symbol("colorPickerContextKey"),bR=function(e,t,i){return[e,t*i/((e=(2-t)*i)<1?e:2-e)||0,e/2]},pue=function(e){return typeof e=="string"&&e.includes(".")&&Number.parseFloat(e)===1},mue=function(e){return typeof e=="string"&&e.includes("%")},Td=function(e,t){pue(e)&&(e="100%");const i=mue(e);return e=Math.min(t,Math.max(0,Number.parseFloat(`${e}`))),i&&(e=Number.parseInt(`${e*t}`,10)/100),Math.abs(e-t)<1e-6?1:e%t/Number.parseFloat(t)},_R={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},vv=e=>{e=Math.min(Math.round(e),255);const t=Math.floor(e/16),i=e%16;return`${_R[t]||t}${_R[i]||i}`},wR=function({r:e,g:t,b:i}){return Number.isNaN(+e)||Number.isNaN(+t)||Number.isNaN(+i)?"":`#${vv(e)}${vv(t)}${vv(i)}`},W_={A:10,B:11,C:12,D:13,E:14,F:15},Ec=function(e){return e.length===2?(W_[e[0].toUpperCase()]||+e[0])*16+(W_[e[1].toUpperCase()]||+e[1]):W_[e[1].toUpperCase()]||+e[1]},gue=function(e,t,i){t=t/100,i=i/100;let s=t;const o=Math.max(i,.01);i*=2,t*=i<=1?i:2-i,s*=o<=1?o:2-o;const a=(i+t)/2,l=i===0?2*s/(o+s):2*t/(i+t);return{h:e,s:l*100,v:a*100}},SR=(e,t,i)=>{e=Td(e,255),t=Td(t,255),i=Td(i,255);const s=Math.max(e,t,i),o=Math.min(e,t,i);let a;const l=s,u=s-o,f=s===0?0:u/s;if(s===o)a=0;else{switch(s){case e:{a=(t-i)/u+(t<i?6:0);break}case t:{a=(i-e)/u+2;break}case i:{a=(e-t)/u+4;break}}a/=6}return{h:a*360,s:f*100,v:l*100}},gh=function(e,t,i){e=Td(e,360)*6,t=Td(t,100),i=Td(i,100);const s=Math.floor(e),o=e-s,a=i*(1-t),l=i*(1-o*t),u=i*(1-(1-o)*t),f=s%6,p=[i,l,a,a,u,i][f],g=[u,i,i,l,a,a][f],v=[a,a,u,i,i,l][f];return{r:Math.round(p*255),g:Math.round(g*255),b:Math.round(v*255)}};class Oh{constructor(t={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const i in t)Gn(t,i)&&(this[i]=t[i]);t.value?this.fromString(t.value):this.doOnChange()}set(t,i){if(arguments.length===1&&typeof t=="object"){for(const s in t)Gn(t,s)&&this.set(s,t[s]);return}this[`_${t}`]=i,this.doOnChange()}get(t){return t==="alpha"?Math.floor(this[`_${t}`]):this[`_${t}`]}toRgb(){return gh(this._hue,this._saturation,this._value)}fromString(t){if(!t){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const i=(s,o,a)=>{this._hue=Math.max(0,Math.min(360,s)),this._saturation=Math.max(0,Math.min(100,o)),this._value=Math.max(0,Math.min(100,a)),this.doOnChange()};if(t.includes("hsl")){const s=t.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(o=>o!=="").map((o,a)=>a>2?Number.parseFloat(o):Number.parseInt(o,10));if(s.length===4?this._alpha=Number.parseFloat(s[3])*100:s.length===3&&(this._alpha=100),s.length>=3){const{h:o,s:a,v:l}=gue(s[0],s[1],s[2]);i(o,a,l)}}else if(t.includes("hsv")){const s=t.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(o=>o!=="").map((o,a)=>a>2?Number.parseFloat(o):Number.parseInt(o,10));s.length===4?this._alpha=Number.parseFloat(s[3])*100:s.length===3&&(this._alpha=100),s.length>=3&&i(s[0],s[1],s[2])}else if(t.includes("rgb")){const s=t.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(o=>o!=="").map((o,a)=>a>2?Number.parseFloat(o):Number.parseInt(o,10));if(s.length===4?this._alpha=Number.parseFloat(s[3])*100:s.length===3&&(this._alpha=100),s.length>=3){const{h:o,s:a,v:l}=SR(s[0],s[1],s[2]);i(o,a,l)}}else if(t.includes("#")){const s=t.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(s))return;let o,a,l;s.length===3?(o=Ec(s[0]+s[0]),a=Ec(s[1]+s[1]),l=Ec(s[2]+s[2])):(s.length===6||s.length===8)&&(o=Ec(s.slice(0,2)),a=Ec(s.slice(2,4)),l=Ec(s.slice(4,6))),s.length===8?this._alpha=Ec(s.slice(6))/255*100:(s.length===3||s.length===6)&&(this._alpha=100);const{h:u,s:f,v:p}=SR(o,a,l);i(u,f,p)}}compare(t){return Math.abs(t._hue-this._hue)<2&&Math.abs(t._saturation-this._saturation)<1&&Math.abs(t._value-this._value)<1&&Math.abs(t._alpha-this._alpha)<1}doOnChange(){const{_hue:t,_saturation:i,_value:s,_alpha:o,format:a}=this;if(this.enableAlpha)switch(a){case"hsl":{const l=bR(t,i/100,s/100);this.value=`hsla(${t}, ${Math.round(l[1]*100)}%, ${Math.round(l[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${t}, ${Math.round(i)}%, ${Math.round(s)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${wR(gh(t,i,s))}${vv(o*255/100)}`;break}default:{const{r:l,g:u,b:f}=gh(t,i,s);this.value=`rgba(${l}, ${u}, ${f}, ${this.get("alpha")/100})`}}else switch(a){case"hsl":{const l=bR(t,i/100,s/100);this.value=`hsl(${t}, ${Math.round(l[1]*100)}%, ${Math.round(l[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${t}, ${Math.round(i)}%, ${Math.round(s)}%)`;break}case"rgb":{const{r:l,g:u,b:f}=gh(t,i,s);this.value=`rgb(${l}, ${u}, ${f})`;break}default:this.value=wR(gh(t,i,s))}}}const vue=_e({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(e){const t=nt("color-predefine"),{currentColor:i}=Lt(tN),s=X(a(e.colors,e.color));et(()=>i.value,l=>{const u=new Oh;u.fromString(l),s.value.forEach(f=>{f.selected=u.compare(f)})}),Dr(()=>{s.value=a(e.colors,e.color)});function o(l){e.color.fromString(e.colors[l])}function a(l,u){return l.map(f=>{const p=new Oh;return p.enableAlpha=!0,p.format="rgba",p.fromString(f),p.selected=p.value===u.value,p})}return{rgbaColors:s,handleSelect:o,ns:t}}}),yue=["onClick"];function bue(e,t,i,s,o,a){return B(),ne("div",{class:U(e.ns.b())},[ae("div",{class:U(e.ns.e("colors"))},[(B(!0),ne(Ft,null,Un(e.rgbaColors,(l,u)=>(B(),ne("div",{key:e.colors[u],class:U([e.ns.e("color-selector"),e.ns.is("alpha",l._alpha<100),{selected:l.selected}]),onClick:f=>e.handleSelect(u)},[ae("div",{style:Wt({backgroundColor:l.value})},null,4)],10,yue))),128))],2)],2)}var _ue=ht(vue,[["render",bue],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue"]]);const wue=_e({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const t=nt("color-svpanel"),i=Tn(),s=X(0),o=X(0),a=X("hsl(0, 100%, 50%)"),l=D(()=>{const p=e.color.get("hue"),g=e.color.get("value");return{hue:p,value:g}});function u(){const p=e.color.get("saturation"),g=e.color.get("value"),v=i.vnode.el,{clientWidth:b,clientHeight:w}=v;o.value=p*b/100,s.value=(100-g)*w/100,a.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}function f(p){const v=i.vnode.el.getBoundingClientRect(),{clientX:b,clientY:w}=lS(p);let M=b-v.left,x=w-v.top;M=Math.max(0,M),M=Math.min(M,v.width),x=Math.max(0,x),x=Math.min(x,v.height),o.value=M,s.value=x,e.color.set({saturation:M/v.width*100,value:100-x/v.height*100})}return et(()=>l.value,()=>{u()}),_n(()=>{dp(i.vnode.el,{drag:p=>{f(p)},end:p=>{f(p)}}),u()}),{cursorTop:s,cursorLeft:o,background:a,colorValue:l,handleDrag:f,update:u,ns:t}}}),Sue=ae("div",null,null,-1),xue=[Sue];function Mue(e,t,i,s,o,a){return B(),ne("div",{class:U(e.ns.b()),style:Wt({backgroundColor:e.background})},[ae("div",{class:U(e.ns.e("white"))},null,2),ae("div",{class:U(e.ns.e("black"))},null,2),ae("div",{class:U(e.ns.e("cursor")),style:Wt({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},xue,6)],6)}var Eue=ht(wue,[["render",Mue],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue"]]);const Cue=["id","aria-label","aria-labelledby","aria-description","tabindex","onKeydown"],Tue=_e({name:"ElColorPicker"}),Aue=_e({...Tue,props:fue,emits:hue,setup(e,{expose:t,emit:i}){const s=e,{t:o}=ii(),a=nt("color"),{formItem:l}=lr(),u=fs(),f=_r(),{inputId:p,isLabeledByFormItem:g}=Kl(s,{formItemContext:l}),v=X(),b=X(),w=X(),M=X();let x=!0;const E=ai(new Oh({enableAlpha:s.showAlpha,format:s.colorFormat||"",value:s.modelValue})),C=X(!1),k=X(!1),R=X(""),P=D(()=>!s.modelValue&&!k.value?"transparent":j(E,s.showAlpha)),O=D(()=>!s.modelValue&&!k.value?"":E.value),F=D(()=>g.value?void 0:s.label||o("el.colorpicker.defaultLabel")),G=D(()=>g.value?l==null?void 0:l.labelId:void 0),H=D(()=>[a.b("picker"),a.is("disabled",f.value),a.bm("picker",u.value)]);function j(J,pe){if(!(J instanceof Oh))throw new TypeError("color should be instance of _color Class");const{r:Ee,g:he,b:Ce}=J.toRgb();return pe?`rgba(${Ee}, ${he}, ${Ce}, ${J.get("alpha")/100})`:`rgb(${Ee}, ${he}, ${Ce})`}function q(J){C.value=J}const ie=or(q,100);function Q(){f.value||q(!0)}function Z(){ie(!1),re()}function re(){Bt(()=>{s.modelValue?E.fromString(s.modelValue):(E.value="",Bt(()=>{k.value=!1}))})}function ce(){f.value||ie(!C.value)}function te(){E.fromString(R.value)}function W(){const J=E.value;i(Rn,J),i("change",J),s.validateEvent&&(l==null||l.validate("change").catch(pe=>void 0)),ie(!1),Bt(()=>{const pe=new Oh({enableAlpha:s.showAlpha,format:s.colorFormat||"",value:s.modelValue});E.compare(pe)||re()})}function ee(){ie(!1),i(Rn,null),i("change",null),s.modelValue!==null&&s.validateEvent&&(l==null||l.validate("change").catch(J=>void 0)),re()}return _n(()=>{s.modelValue&&(R.value=O.value)}),et(()=>s.modelValue,J=>{J?J&&J!==E.value&&(x=!1,E.fromString(J)):k.value=!1}),et(()=>O.value,J=>{R.value=J,x&&i("activeChange",J),x=!0}),et(()=>E.value,()=>{!s.modelValue&&!k.value&&(k.value=!0)}),et(()=>C.value,()=>{Bt(()=>{var J,pe,Ee;(J=v.value)==null||J.update(),(pe=b.value)==null||pe.update(),(Ee=w.value)==null||Ee.update()})}),On(tN,{currentColor:O}),t({color:E,show:Q,hide:Z}),(J,pe)=>(B(),Be(h(ar),{ref_key:"popper",ref:M,visible:C.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[h(a).be("picker","panel"),h(a).b("dropdown"),J.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${h(a).namespace.value}-zoom-in-top`,persistent:""},{content:ve(()=>[gn((B(),ne("div",null,[ae("div",{class:U(h(a).be("dropdown","main-wrapper"))},[fe(due,{ref_key:"hue",ref:v,class:"hue-slider",color:h(E),vertical:""},null,8,["color"]),fe(Eue,{ref:"svPanel",color:h(E)},null,8,["color"])],2),J.showAlpha?(B(),Be(lue,{key:0,ref_key:"alpha",ref:w,color:h(E)},null,8,["color"])):Oe("v-if",!0),J.predefine?(B(),Be(_ue,{key:1,ref:"predefine",color:h(E),colors:J.predefine},null,8,["color","colors"])):Oe("v-if",!0),ae("div",{class:U(h(a).be("dropdown","btns"))},[ae("span",{class:U(h(a).be("dropdown","value"))},[fe(h(Ws),{modelValue:R.value,"onUpdate:modelValue":pe[0]||(pe[0]=Ee=>R.value=Ee),"validate-event":!1,size:"small",onKeyup:ei(te,["enter"]),onBlur:te},null,8,["modelValue","onKeyup"])],2),fe(h(Os),{class:U(h(a).be("dropdown","link-btn")),text:"",size:"small",onClick:ee},{default:ve(()=>[Nn(ft(h(o)("el.colorpicker.clear")),1)]),_:1},8,["class"]),fe(h(Os),{plain:"",size:"small",class:U(h(a).be("dropdown","btn")),onClick:W},{default:ve(()=>[Nn(ft(h(o)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)])),[[h(Bl),Z]])]),default:ve(()=>[ae("div",{id:h(p),class:U(h(H)),role:"button","aria-label":h(F),"aria-labelledby":h(G),"aria-description":h(o)("el.colorpicker.description",{color:J.modelValue||""}),tabindex:J.tabindex,onKeydown:ei(ce,["enter"])},[h(f)?(B(),ne("div",{key:0,class:U(h(a).be("picker","mask"))},null,2)):Oe("v-if",!0),ae("div",{class:U(h(a).be("picker","trigger")),onClick:ce},[ae("span",{class:U([h(a).be("picker","color"),h(a).is("alpha",J.showAlpha)])},[ae("span",{class:U(h(a).be("picker","color-inner")),style:Wt({backgroundColor:h(P)})},[gn(fe(h(zt),{class:U([h(a).be("picker","icon"),h(a).is("icon-arrow-down")])},{default:ve(()=>[fe(h(Vl))]),_:1},8,["class"]),[[oi,J.modelValue||k.value]]),!J.modelValue&&!k.value?(B(),Be(h(zt),{key:0,class:U([h(a).be("picker","empty"),h(a).is("icon-close")])},{default:ve(()=>[fe(h(Lo))]),_:1},8,["class"])):Oe("v-if",!0)],6)],2)],2)],42,Cue)]),_:1},8,["visible","popper-class","transition"]))}});var Rue=ht(Aue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/color-picker.vue"]]);const kue=Cn(Rue),Pue=_e({name:"ElContainer"}),Iue=_e({...Pue,props:{direction:{type:String}},setup(e){const t=e,i=Rs(),s=nt("container"),o=D(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:i&&i.default?i.default().some(l=>{const u=l.type.name;return u==="ElHeader"||u==="ElFooter"}):!1);return(a,l)=>(B(),ne("section",{class:U([h(s).b(),h(s).is("vertical",h(o))])},[qe(a.$slots,"default")],2))}});var Lue=ht(Iue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const Nue=_e({name:"ElAside"}),Oue=_e({...Nue,props:{width:{type:String,default:null}},setup(e){const t=e,i=nt("aside"),s=D(()=>t.width?i.cssVarBlock({width:t.width}):{});return(o,a)=>(B(),ne("aside",{class:U(h(i).b()),style:Wt(h(s))},[qe(o.$slots,"default")],6))}});var nN=ht(Oue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const Due=_e({name:"ElFooter"}),Fue=_e({...Due,props:{height:{type:String,default:null}},setup(e){const t=e,i=nt("footer"),s=D(()=>t.height?i.cssVarBlock({height:t.height}):{});return(o,a)=>(B(),ne("footer",{class:U(h(i).b()),style:Wt(h(s))},[qe(o.$slots,"default")],6))}});var iN=ht(Fue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const Bue=_e({name:"ElHeader"}),zue=_e({...Bue,props:{height:{type:String,default:null}},setup(e){const t=e,i=nt("header"),s=D(()=>t.height?i.cssVarBlock({height:t.height}):{});return(o,a)=>(B(),ne("header",{class:U(h(i).b()),style:Wt(h(s))},[qe(o.$slots,"default")],6))}});var sN=ht(zue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const $ue=_e({name:"ElMain"}),Uue=_e({...$ue,setup(e){const t=nt("main");return(i,s)=>(B(),ne("main",{class:U(h(t).b())},[qe(i.$slots,"default")],2))}});var rN=ht(Uue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const Vue=Cn(Lue,{Aside:nN,Footer:iN,Header:sN,Main:rN}),Hue=Yi(nN),Wue=Yi(iN),Gue=Yi(sN),Kue=Yi(rN);var oN={exports:{}};(function(e,t){(function(i,s){e.exports=s()})(Xa,function(){return function(i,s){var o=s.prototype,a=o.format;o.format=function(l){var u=this,f=this.$locale();if(!this.isValid())return a.bind(this)(l);var p=this.$utils(),g=(l||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(v){switch(v){case"Q":return Math.ceil((u.$M+1)/3);case"Do":return f.ordinal(u.$D);case"gggg":return u.weekYear();case"GGGG":return u.isoWeekYear();case"wo":return f.ordinal(u.week(),"W");case"w":case"ww":return p.s(u.week(),v==="w"?1:2,"0");case"W":case"WW":return p.s(u.isoWeek(),v==="W"?1:2,"0");case"k":case"kk":return p.s(String(u.$H===0?24:u.$H),v==="k"?1:2,"0");case"X":return Math.floor(u.$d.getTime()/1e3);case"x":return u.$d.getTime();case"z":return"["+u.offsetName()+"]";case"zzz":return"["+u.offsetName("long")+"]";default:return v}});return a.bind(this)(g)}}})})(oN);var que=oN.exports;const jue=oa(que);var aN={exports:{}};(function(e,t){(function(i,s){e.exports=s()})(Xa,function(){var i="week",s="year";return function(o,a,l){var u=a.prototype;u.week=function(f){if(f===void 0&&(f=null),f!==null)return this.add(7*(f-this.week()),"day");var p=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var g=l(this).startOf(s).add(1,s).date(p),v=l(this).endOf(i);if(g.isBefore(v))return 1}var b=l(this).startOf(s).date(p).startOf(i).subtract(1,"millisecond"),w=this.diff(b,i,!0);return w<0?l(this).startOf("week").week():Math.ceil(w)},u.weeks=function(f){return f===void 0&&(f=null),this.week(f)}}})})(aN);var Xue=aN.exports;const Yue=oa(Xue);var lN={exports:{}};(function(e,t){(function(i,s){e.exports=s()})(Xa,function(){return function(i,s){s.prototype.weekYear=function(){var o=this.month(),a=this.week(),l=this.year();return a===1&&o===11?l+1:o===0&&a>=52?l-1:l}}})})(lN);var Zue=lN.exports;const Jue=oa(Zue);var cN={exports:{}};(function(e,t){(function(i,s){e.exports=s()})(Xa,function(){return function(i,s,o){s.prototype.dayOfYear=function(a){var l=Math.round((o(this).startOf("day")-o(this).startOf("year"))/864e5)+1;return a==null?l:this.add(a-l,"day")}}})})(cN);var Que=cN.exports;const ede=oa(Que);var uN={exports:{}};(function(e,t){(function(i,s){e.exports=s()})(Xa,function(){return function(i,s){s.prototype.isSameOrAfter=function(o,a){return this.isSame(o,a)||this.isAfter(o,a)}}})})(uN);var tde=uN.exports;const nde=oa(tde);var dN={exports:{}};(function(e,t){(function(i,s){e.exports=s()})(Xa,function(){return function(i,s){s.prototype.isSameOrBefore=function(o,a){return this.isSame(o,a)||this.isBefore(o,a)}}})})(dN);var ide=dN.exports;const sde=oa(ide),QS=Symbol(),rde=pt({...YS,type:{type:De(String),default:"date"}}),ode=["date","dates","year","month","week","range"],ex=pt({disabledDate:{type:De(Function)},date:{type:De(Object),required:!0},minDate:{type:De(Object)},maxDate:{type:De(Object)},parsedValue:{type:De([Object,Array])},rangeState:{type:De(Object),default:()=>({endDate:null,selecting:!1})}}),fN=pt({type:{type:De(String),required:!0,values:ite}}),hN=pt({unlinkPanels:Boolean,parsedValue:{type:De(Array)}}),pN=e=>({type:String,values:ode,default:e}),ade=pt({...fN,parsedValue:{type:De([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),lde=pt({...ex,cellClassName:{type:De(Function)},showWeekNumber:Boolean,selectionMode:pN("date")}),tw=e=>{if(!Nt(e))return!1;const[t,i]=e;return xn.isDayjs(t)&&xn.isDayjs(i)&&t.isSameOrBefore(i)},mN=(e,{lang:t,unit:i,unlinkPanels:s})=>{let o;if(Nt(e)){let[a,l]=e.map(u=>xn(u).locale(t));return s||(l=a.add(1,i)),[a,l]}else e?o=xn(e):o=xn();return o=o.locale(t),[o,o.add(1,i)]},cde=(e,t,{columnIndexOffset:i,startDate:s,nextEndDate:o,now:a,unit:l,relativeDateGetter:u,setCellMetadata:f,setRowMetadata:p})=>{for(let g=0;g<e.row;g++){const v=t[g];for(let b=0;b<e.column;b++){let w=v[b+i];w||(w={row:g,column:b,type:"normal",inRange:!1,start:!1,end:!1});const M=g*e.column+b,x=u(M);w.dayjs=x,w.date=x.toDate(),w.timestamp=x.valueOf(),w.type="normal",w.inRange=!!(s&&x.isSameOrAfter(s,l)&&o&&x.isSameOrBefore(o,l))||!!(s&&x.isSameOrBefore(s,l)&&o&&x.isSameOrAfter(o,l)),s!=null&&s.isSameOrAfter(o)?(w.start=!!o&&x.isSame(o,l),w.end=s&&x.isSame(s,l)):(w.start=!!s&&x.isSame(s,l),w.end=!!o&&x.isSame(o,l)),x.isSame(a,l)&&(w.type="today"),f==null||f(w,{rowIndex:g,columnIndex:b}),v[b+i]=w}p==null||p(v)}},ude=pt({cell:{type:De(Object)}});var dde=_e({name:"ElDatePickerCell",props:ude,setup(e){const t=nt("date-table-cell"),{slots:i}=Lt(QS);return()=>{const{cell:s}=e;if(i.default){const o=i.default(s).filter(a=>a.patchFlag!==-2&&a.type.toString()!=="Symbol(Comment)");if(o.length)return o}return fe("div",{class:t.b()},[fe("span",{class:t.e("text")},[s==null?void 0:s.text])])}}});const fde=["aria-label","onMousedown"],hde={key:0,scope:"col"},pde=["aria-label"],mde=["aria-current","aria-selected","tabindex"],gde=_e({__name:"basic-date-table",props:lde,emits:["changerange","pick","select"],setup(e,{expose:t,emit:i}){const s=e,o=nt("date-table"),{t:a,lang:l}=ii(),u=X(),f=X(),p=X(),g=X(),v=X([[],[],[],[],[],[]]);let b=!1;const w=s.date.$locale().weekStart||7,M=s.date.locale("en").localeData().weekdaysShort().map(he=>he.toLowerCase()),x=D(()=>w>3?7-w:-w),E=D(()=>{const he=s.date.startOf("month");return he.subtract(he.day()||7,"day")}),C=D(()=>M.concat(M).slice(w,w+7)),k=D(()=>E3(H.value).some(he=>he.isCurrent)),R=D(()=>{const he=s.date.startOf("month"),Ce=he.day()||7,Ge=he.daysInMonth(),Te=he.subtract(1,"month").daysInMonth();return{startOfMonthDay:Ce,dateCountOfMonth:Ge,dateCountOfLastMonth:Te}}),P=D(()=>s.selectionMode==="dates"?Ba(s.parsedValue):[]),O=(he,{count:Ce,rowIndex:Ge,columnIndex:Te})=>{const{startOfMonthDay:xe,dateCountOfMonth:Ie,dateCountOfLastMonth:ge}=h(R),Le=h(x);if(Ge>=0&&Ge<=1){const Ue=xe+Le<0?7+xe+Le:xe+Le;if(Te+Ge*7>=Ue)return he.text=Ce,!0;he.text=ge-(Ue-Te%7)+1+Ge*7,he.type="prev-month"}else return Ce<=Ie?he.text=Ce:(he.text=Ce-Ie,he.type="next-month"),!0;return!1},F=(he,{columnIndex:Ce,rowIndex:Ge},Te)=>{const{disabledDate:xe,cellClassName:Ie}=s,ge=h(P),Le=O(he,{count:Te,rowIndex:Ge,columnIndex:Ce}),Ue=he.dayjs.toDate();return he.selected=ge.find(ut=>ut.valueOf()===he.dayjs.valueOf()),he.isSelected=!!he.selected,he.isCurrent=ie(he),he.disabled=xe==null?void 0:xe(Ue),he.customClass=Ie==null?void 0:Ie(Ue),Le},G=he=>{if(s.selectionMode==="week"){const[Ce,Ge]=s.showWeekNumber?[1,7]:[0,6],Te=Ee(he[Ce+1]);he[Ce].inRange=Te,he[Ce].start=Te,he[Ge].inRange=Te,he[Ge].end=Te}},H=D(()=>{const{minDate:he,maxDate:Ce,rangeState:Ge,showWeekNumber:Te}=s,xe=x.value,Ie=v.value,ge="day";let Le=1;if(Te)for(let Ue=0;Ue<6;Ue++)Ie[Ue][0]||(Ie[Ue][0]={type:"week",text:E.value.add(Ue*7+1,ge).week()});return cde({row:6,column:7},Ie,{startDate:he,columnIndexOffset:Te?1:0,nextEndDate:Ge.endDate||Ce||Ge.selecting&&he||null,now:xn().locale(h(l)).startOf(ge),unit:ge,relativeDateGetter:Ue=>E.value.add(Ue-xe,ge),setCellMetadata:(...Ue)=>{F(...Ue,Le)&&(Le+=1)},setRowMetadata:G}),Ie});et(()=>s.date,async()=>{var he,Ce;(he=u.value)!=null&&he.contains(document.activeElement)&&(await Bt(),(Ce=f.value)==null||Ce.focus())});const j=async()=>{var he;(he=f.value)==null||he.focus()},q=(he="")=>["normal","today"].includes(he),ie=he=>s.selectionMode==="date"&&q(he.type)&&Q(he,s.parsedValue),Q=(he,Ce)=>Ce?xn(Ce).locale(l.value).isSame(s.date.date(Number(he.text)),"day"):!1,Z=he=>{const Ce=[];return q(he.type)&&!he.disabled?(Ce.push("available"),he.type==="today"&&Ce.push("today")):Ce.push(he.type),ie(he)&&Ce.push("current"),he.inRange&&(q(he.type)||s.selectionMode==="week")&&(Ce.push("in-range"),he.start&&Ce.push("start-date"),he.end&&Ce.push("end-date")),he.disabled&&Ce.push("disabled"),he.selected&&Ce.push("selected"),he.customClass&&Ce.push(he.customClass),Ce.join(" ")},re=(he,Ce)=>{const Ge=he*7+(Ce-(s.showWeekNumber?1:0))-x.value;return E.value.add(Ge,"day")},ce=he=>{var Ce;if(!s.rangeState.selecting)return;let Ge=he.target;if(Ge.tagName==="SPAN"&&(Ge=(Ce=Ge.parentNode)==null?void 0:Ce.parentNode),Ge.tagName==="DIV"&&(Ge=Ge.parentNode),Ge.tagName!=="TD")return;const Te=Ge.parentNode.rowIndex-1,xe=Ge.cellIndex;H.value[Te][xe].disabled||(Te!==p.value||xe!==g.value)&&(p.value=Te,g.value=xe,i("changerange",{selecting:!0,endDate:re(Te,xe)}))},te=he=>!k.value&&(he==null?void 0:he.text)===1&&he.type==="normal"||he.isCurrent,W=he=>{b||k.value||s.selectionMode!=="date"||pe(he,!0)},ee=he=>{he.target.closest("td")&&(b=!0)},J=he=>{he.target.closest("td")&&(b=!1)},pe=(he,Ce=!1)=>{const Ge=he.target.closest("td");if(!Ge)return;const Te=Ge.parentNode.rowIndex-1,xe=Ge.cellIndex,Ie=H.value[Te][xe];if(Ie.disabled||Ie.type==="week")return;const ge=re(Te,xe);if(s.selectionMode==="range")!s.rangeState.selecting||!s.minDate?(i("pick",{minDate:ge,maxDate:null}),i("select",!0)):(ge>=s.minDate?i("pick",{minDate:s.minDate,maxDate:ge}):i("pick",{minDate:ge,maxDate:s.minDate}),i("select",!1));else if(s.selectionMode==="date")i("pick",ge,Ce);else if(s.selectionMode==="week"){const Le=ge.week(),Ue=`${ge.year()}w${Le}`;i("pick",{year:ge.year(),week:Le,value:Ue,date:ge.startOf("week")})}else if(s.selectionMode==="dates"){const Le=Ie.selected?Ba(s.parsedValue).filter(Ue=>(Ue==null?void 0:Ue.valueOf())!==ge.valueOf()):Ba(s.parsedValue).concat([ge]);i("pick",Le)}},Ee=he=>{if(s.selectionMode!=="week")return!1;let Ce=s.date.startOf("day");if(he.type==="prev-month"&&(Ce=Ce.subtract(1,"month")),he.type==="next-month"&&(Ce=Ce.add(1,"month")),Ce=Ce.date(Number.parseInt(he.text,10)),s.parsedValue&&!Array.isArray(s.parsedValue)){const Ge=(s.parsedValue.day()-w+7)%7-1;return s.parsedValue.subtract(Ge,"day").isSame(Ce,"day")}return!1};return t({focus:j}),(he,Ce)=>(B(),ne("table",{role:"grid","aria-label":h(a)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:U([h(o).b(),{"is-week-mode":he.selectionMode==="week"}]),onClick:pe,onMousemove:ce,onMousedown:rn(ee,["prevent"]),onMouseup:J},[ae("tbody",{ref_key:"tbodyRef",ref:u},[ae("tr",null,[he.showWeekNumber?(B(),ne("th",hde,ft(h(a)("el.datepicker.week")),1)):Oe("v-if",!0),(B(!0),ne(Ft,null,Un(h(C),(Ge,Te)=>(B(),ne("th",{key:Te,scope:"col","aria-label":h(a)("el.datepicker.weeksFull."+Ge)},ft(h(a)("el.datepicker.weeks."+Ge)),9,pde))),128))]),(B(!0),ne(Ft,null,Un(h(H),(Ge,Te)=>(B(),ne("tr",{key:Te,class:U([h(o).e("row"),{current:Ee(Ge[1])}])},[(B(!0),ne(Ft,null,Un(Ge,(xe,Ie)=>(B(),ne("td",{key:`${Te}.${Ie}`,ref_for:!0,ref:ge=>te(xe)&&(f.value=ge),class:U(Z(xe)),"aria-current":xe.isCurrent?"date":void 0,"aria-selected":xe.isCurrent,tabindex:te(xe)?0:-1,onFocus:W},[fe(h(dde),{cell:xe},null,8,["cell"])],42,mde))),128))],2))),128))],512)],42,fde))}});var nw=ht(gde,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const vde=pt({...ex,selectionMode:pN("month")}),yde=["aria-label"],bde=["aria-selected","aria-label","tabindex","onKeydown"],_de={class:"cell"},wde=_e({__name:"basic-month-table",props:vde,emits:["changerange","pick","select"],setup(e,{expose:t,emit:i}){const s=e,o=(P,O,F)=>{const G=xn().locale(F).startOf("month").month(O).year(P),H=G.daysInMonth();return Il(H).map(j=>G.add(j,"day").toDate())},a=nt("month-table"),{t:l,lang:u}=ii(),f=X(),p=X(),g=X(s.date.locale("en").localeData().monthsShort().map(P=>P.toLowerCase())),v=X([[],[],[]]),b=X(),w=X(),M=D(()=>{var P,O;const F=v.value,G=xn().locale(u.value).startOf("month");for(let H=0;H<3;H++){const j=F[H];for(let q=0;q<4;q++){const ie=j[q]||(j[q]={row:H,column:q,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});ie.type="normal";const Q=H*4+q,Z=s.date.startOf("year").month(Q),re=s.rangeState.endDate||s.maxDate||s.rangeState.selecting&&s.minDate||null;ie.inRange=!!(s.minDate&&Z.isSameOrAfter(s.minDate,"month")&&re&&Z.isSameOrBefore(re,"month"))||!!(s.minDate&&Z.isSameOrBefore(s.minDate,"month")&&re&&Z.isSameOrAfter(re,"month")),(P=s.minDate)!=null&&P.isSameOrAfter(re)?(ie.start=!!(re&&Z.isSame(re,"month")),ie.end=s.minDate&&Z.isSame(s.minDate,"month")):(ie.start=!!(s.minDate&&Z.isSame(s.minDate,"month")),ie.end=!!(re&&Z.isSame(re,"month"))),G.isSame(Z)&&(ie.type="today"),ie.text=Q,ie.disabled=((O=s.disabledDate)==null?void 0:O.call(s,Z.toDate()))||!1}}return F}),x=()=>{var P;(P=p.value)==null||P.focus()},E=P=>{const O={},F=s.date.year(),G=new Date,H=P.text;return O.disabled=s.disabledDate?o(F,H,u.value).every(s.disabledDate):!1,O.current=Ba(s.parsedValue).findIndex(j=>xn.isDayjs(j)&&j.year()===F&&j.month()===H)>=0,O.today=G.getFullYear()===F&&G.getMonth()===H,P.inRange&&(O["in-range"]=!0,P.start&&(O["start-date"]=!0),P.end&&(O["end-date"]=!0)),O},C=P=>{const O=s.date.year(),F=P.text;return Ba(s.date).findIndex(G=>G.year()===O&&G.month()===F)>=0},k=P=>{var O;if(!s.rangeState.selecting)return;let F=P.target;if(F.tagName==="A"&&(F=(O=F.parentNode)==null?void 0:O.parentNode),F.tagName==="DIV"&&(F=F.parentNode),F.tagName!=="TD")return;const G=F.parentNode.rowIndex,H=F.cellIndex;M.value[G][H].disabled||(G!==b.value||H!==w.value)&&(b.value=G,w.value=H,i("changerange",{selecting:!0,endDate:s.date.startOf("year").month(G*4+H)}))},R=P=>{var O;const F=(O=P.target)==null?void 0:O.closest("td");if((F==null?void 0:F.tagName)!=="TD"||Ro(F,"disabled"))return;const G=F.cellIndex,j=F.parentNode.rowIndex*4+G,q=s.date.startOf("year").month(j);s.selectionMode==="range"?s.rangeState.selecting?(s.minDate&&q>=s.minDate?i("pick",{minDate:s.minDate,maxDate:q}):i("pick",{minDate:q,maxDate:s.minDate}),i("select",!1)):(i("pick",{minDate:q,maxDate:null}),i("select",!0)):i("pick",j)};return et(()=>s.date,async()=>{var P,O;(P=f.value)!=null&&P.contains(document.activeElement)&&(await Bt(),(O=p.value)==null||O.focus())}),t({focus:x}),(P,O)=>(B(),ne("table",{role:"grid","aria-label":h(l)("el.datepicker.monthTablePrompt"),class:U(h(a).b()),onClick:R,onMousemove:k},[ae("tbody",{ref_key:"tbodyRef",ref:f},[(B(!0),ne(Ft,null,Un(h(M),(F,G)=>(B(),ne("tr",{key:G},[(B(!0),ne(Ft,null,Un(F,(H,j)=>(B(),ne("td",{key:j,ref_for:!0,ref:q=>C(H)&&(p.value=q),class:U(E(H)),"aria-selected":`${C(H)}`,"aria-label":h(l)(`el.datepicker.month${+H.text+1}`),tabindex:C(H)?0:-1,onKeydown:[ei(rn(R,["prevent","stop"]),["space"]),ei(rn(R,["prevent","stop"]),["enter"])]},[ae("div",null,[ae("span",_de,ft(h(l)("el.datepicker.months."+g.value[H.text])),1)])],42,bde))),128))]))),128))],512)],42,yde))}});var iw=ht(wde,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:Sde,disabledDate:xde,parsedValue:Mde}=ex,Ede=pt({date:Sde,disabledDate:xde,parsedValue:Mde}),Cde=["aria-label"],Tde=["aria-selected","tabindex","onKeydown"],Ade={class:"cell"},Rde={key:1},kde=_e({__name:"basic-year-table",props:Ede,emits:["pick"],setup(e,{expose:t,emit:i}){const s=e,o=(x,E)=>{const C=xn(String(x)).locale(E).startOf("year"),R=C.endOf("year").dayOfYear();return Il(R).map(P=>C.add(P,"day").toDate())},a=nt("year-table"),{t:l,lang:u}=ii(),f=X(),p=X(),g=D(()=>Math.floor(s.date.year()/10)*10),v=()=>{var x;(x=p.value)==null||x.focus()},b=x=>{const E={},C=xn().locale(u.value);return E.disabled=s.disabledDate?o(x,u.value).every(s.disabledDate):!1,E.current=Ba(s.parsedValue).findIndex(k=>k.year()===x)>=0,E.today=C.year()===x,E},w=x=>x===g.value&&s.date.year()<g.value&&s.date.year()>g.value+9||Ba(s.date).findIndex(E=>E.year()===x)>=0,M=x=>{const C=x.target.closest("td");if(C&&C.textContent){if(Ro(C,"disabled"))return;const k=C.textContent||C.innerText;i("pick",Number(k))}};return et(()=>s.date,async()=>{var x,E;(x=f.value)!=null&&x.contains(document.activeElement)&&(await Bt(),(E=p.value)==null||E.focus())}),t({focus:v}),(x,E)=>(B(),ne("table",{role:"grid","aria-label":h(l)("el.datepicker.yearTablePrompt"),class:U(h(a).b()),onClick:M},[ae("tbody",{ref_key:"tbodyRef",ref:f},[(B(),ne(Ft,null,Un(3,(C,k)=>ae("tr",{key:k},[(B(),ne(Ft,null,Un(4,(R,P)=>(B(),ne(Ft,{key:k+"_"+P},[k*4+P<10?(B(),ne("td",{key:0,ref_for:!0,ref:O=>w(h(g)+k*4+P)&&(p.value=O),class:U(["available",b(h(g)+k*4+P)]),"aria-selected":`${w(h(g)+k*4+P)}`,tabindex:w(h(g)+k*4+P)?0:-1,onKeydown:[ei(rn(M,["prevent","stop"]),["space"]),ei(rn(M,["prevent","stop"]),["enter"])]},[ae("span",Ade,ft(h(g)+k*4+P),1)],42,Tde)):(B(),ne("td",Rde))],64))),64))])),64))],512)],10,Cde))}});var Pde=ht(kde,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const Ide=["onClick"],Lde=["aria-label"],Nde=["aria-label"],Ode=["aria-label"],Dde=["aria-label"],Fde=_e({__name:"panel-date-pick",props:ade,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const i=e,s=($e,tt,Fe)=>!0,o=nt("picker-panel"),a=nt("date-picker"),l=of(),u=Rs(),{t:f,lang:p}=ii(),g=Lt("EP_PICKER_BASE"),v=Lt(G0),{shortcuts:b,disabledDate:w,cellClassName:M,defaultTime:x,arrowControl:E}=g.props,C=Oi(g.props,"defaultValue"),k=X(),R=X(xn().locale(p.value)),P=X(!1),O=D(()=>xn(x).locale(p.value)),F=D(()=>R.value.month()),G=D(()=>R.value.year()),H=X([]),j=X(null),q=X(null),ie=$e=>H.value.length>0?s($e,H.value,i.format||"HH:mm:ss"):!0,Q=$e=>x&&!ue.value&&!P.value?O.value.year($e.year()).month($e.month()).date($e.date()):xe.value?$e.millisecond(0):$e.startOf("day"),Z=($e,...tt)=>{if(!$e)t("pick",$e,...tt);else if(Nt($e)){const Fe=$e.map(Q);t("pick",Fe,...tt)}else t("pick",Q($e),...tt);j.value=null,q.value=null,P.value=!1},re=($e,tt)=>{if(pe.value==="date"){$e=$e;let Fe=i.parsedValue?i.parsedValue.year($e.year()).month($e.month()).date($e.date()):$e;ie(Fe)||(Fe=H.value[0][0].year($e.year()).month($e.month()).date($e.date())),R.value=Fe,Z(Fe,xe.value||tt)}else pe.value==="week"?Z($e.date):pe.value==="dates"&&Z($e,!0)},ce=$e=>{const tt=$e?"add":"subtract";R.value=R.value[tt](1,"month"),Pe("month")},te=$e=>{const tt=R.value,Fe=$e?"add":"subtract";R.value=W.value==="year"?tt[Fe](10,"year"):tt[Fe](1,"year"),Pe("year")},W=X("date"),ee=D(()=>{const $e=f("el.datepicker.year");if(W.value==="year"){const tt=Math.floor(G.value/10)*10;return $e?`${tt} ${$e} - ${tt+9} ${$e}`:`${tt} - ${tt+9}`}return`${G.value} ${$e}`}),J=$e=>{const tt=an($e.value)?$e.value():$e.value;if(tt){Z(xn(tt).locale(p.value));return}$e.onClick&&$e.onClick({attrs:l,slots:u,emit:t})},pe=D(()=>{const{type:$e}=i;return["week","month","year","dates"].includes($e)?$e:"date"}),Ee=D(()=>pe.value==="date"?W.value:pe.value),he=D(()=>!!b.length),Ce=async $e=>{R.value=R.value.startOf("month").month($e),pe.value==="month"?Z(R.value,!1):(W.value="date",["month","year","date","week"].includes(pe.value)&&(Z(R.value,!0),await Bt(),_t())),Pe("month")},Ge=async $e=>{pe.value==="year"?(R.value=R.value.startOf("year").year($e),Z(R.value,!1)):(R.value=R.value.year($e),W.value="month",["month","year","date","week"].includes(pe.value)&&(Z(R.value,!0),await Bt(),_t())),Pe("year")},Te=async $e=>{W.value=$e,await Bt(),_t()},xe=D(()=>i.type==="datetime"||i.type==="datetimerange"),Ie=D(()=>xe.value||pe.value==="dates"),ge=()=>{if(pe.value==="dates")Z(i.parsedValue);else{let $e=i.parsedValue;if(!$e){const tt=xn(x).locale(p.value),Fe=We();$e=tt.year(Fe.year()).month(Fe.month()).date(Fe.date())}R.value=$e,Z($e)}},Le=()=>{const tt=xn().locale(p.value).toDate();P.value=!0,(!w||!w(tt))&&ie(tt)&&(R.value=xn().locale(p.value),Z(R.value))},Ue=D(()=>yL(i.format)),ut=D(()=>vL(i.format)),ue=D(()=>{if(q.value)return q.value;if(!(!i.parsedValue&&!C.value))return(i.parsedValue||R.value).format(Ue.value)}),we=D(()=>{if(j.value)return j.value;if(!(!i.parsedValue&&!C.value))return(i.parsedValue||R.value).format(ut.value)}),Ve=X(!1),Ye=()=>{Ve.value=!0},lt=()=>{Ve.value=!1},He=$e=>({hour:$e.hour(),minute:$e.minute(),second:$e.second(),year:$e.year(),month:$e.month(),date:$e.date()}),ct=($e,tt,Fe)=>{const{hour:me,minute:Se,second:it}=He($e),vt=i.parsedValue?i.parsedValue.hour(me).minute(Se).second(it):$e;R.value=vt,Z(R.value,!0),Fe||(Ve.value=tt)},Qe=$e=>{const tt=xn($e,Ue.value).locale(p.value);if(tt.isValid()&&ie(tt)){const{year:Fe,month:me,date:Se}=He(R.value);R.value=tt.year(Fe).month(me).date(Se),q.value=null,Ve.value=!1,Z(R.value,!0)}},rt=$e=>{const tt=xn($e,ut.value).locale(p.value);if(tt.isValid()){if(w&&w(tt.toDate()))return;const{hour:Fe,minute:me,second:Se}=He(R.value);R.value=tt.hour(Fe).minute(me).second(Se),j.value=null,Z(R.value,!0)}},Je=$e=>xn.isDayjs($e)&&$e.isValid()&&(w?!w($e.toDate()):!0),Mt=$e=>pe.value==="dates"?$e.map(tt=>tt.format(i.format)):$e.format(i.format),yt=$e=>xn($e,i.format).locale(p.value),We=()=>{const $e=xn(C.value).locale(p.value);if(!C.value){const tt=O.value;return xn().hour(tt.hour()).minute(tt.minute()).second(tt.second()).locale(p.value)}return $e},_t=async()=>{var $e;["week","month","year","date"].includes(pe.value)&&(($e=k.value)==null||$e.focus(),pe.value==="week"&&fn(Xt.down))},Ut=$e=>{const{code:tt}=$e;[Xt.up,Xt.down,Xt.left,Xt.right,Xt.home,Xt.end,Xt.pageUp,Xt.pageDown].includes(tt)&&(fn(tt),$e.stopPropagation(),$e.preventDefault()),[Xt.enter,Xt.space,Xt.numpadEnter].includes(tt)&&j.value===null&&q.value===null&&($e.preventDefault(),Z(R.value,!1))},fn=$e=>{var tt;const{up:Fe,down:me,left:Se,right:it,home:vt,end:tn,pageUp:Xe,pageDown:Ct}=Xt,bn={year:{[Fe]:-4,[me]:4,[Se]:-1,[it]:1,offset:(Dn,ui)=>Dn.setFullYear(Dn.getFullYear()+ui)},month:{[Fe]:-4,[me]:4,[Se]:-1,[it]:1,offset:(Dn,ui)=>Dn.setMonth(Dn.getMonth()+ui)},week:{[Fe]:-1,[me]:1,[Se]:-1,[it]:1,offset:(Dn,ui)=>Dn.setDate(Dn.getDate()+ui*7)},date:{[Fe]:-7,[me]:7,[Se]:-1,[it]:1,[vt]:Dn=>-Dn.getDay(),[tn]:Dn=>-Dn.getDay()+6,[Xe]:Dn=>-new Date(Dn.getFullYear(),Dn.getMonth(),0).getDate(),[Ct]:Dn=>new Date(Dn.getFullYear(),Dn.getMonth()+1,0).getDate(),offset:(Dn,ui)=>Dn.setDate(Dn.getDate()+ui)}},wn=R.value.toDate();for(;Math.abs(R.value.diff(wn,"year",!0))<1;){const Dn=bn[Ee.value];if(!Dn)return;if(Dn.offset(wn,an(Dn[$e])?Dn[$e](wn):(tt=Dn[$e])!=null?tt:0),w&&w(wn))break;const ui=xn(wn).locale(p.value);R.value=ui,t("pick",ui,!0);break}},Pe=$e=>{t("panel-change",R.value.toDate(),$e,W.value)};return et(()=>pe.value,$e=>{if(["month","year"].includes($e)){W.value=$e;return}W.value="date"},{immediate:!0}),et(()=>W.value,()=>{v==null||v.updatePopper()}),et(()=>C.value,$e=>{$e&&(R.value=We())},{immediate:!0}),et(()=>i.parsedValue,$e=>{if($e){if(pe.value==="dates"||Array.isArray($e))return;R.value=$e}else R.value=We()},{immediate:!0}),t("set-picker-option",["isValidValue",Je]),t("set-picker-option",["formatToString",Mt]),t("set-picker-option",["parseUserInput",yt]),t("set-picker-option",["handleFocusPicker",_t]),($e,tt)=>(B(),ne("div",{class:U([h(o).b(),h(a).b(),{"has-sidebar":$e.$slots.sidebar||h(he),"has-time":h(xe)}])},[ae("div",{class:U(h(o).e("body-wrapper"))},[qe($e.$slots,"sidebar",{class:U(h(o).e("sidebar"))}),h(he)?(B(),ne("div",{key:0,class:U(h(o).e("sidebar"))},[(B(!0),ne(Ft,null,Un(h(b),(Fe,me)=>(B(),ne("button",{key:me,type:"button",class:U(h(o).e("shortcut")),onClick:Se=>J(Fe)},ft(Fe.text),11,Ide))),128))],2)):Oe("v-if",!0),ae("div",{class:U(h(o).e("body"))},[h(xe)?(B(),ne("div",{key:0,class:U(h(a).e("time-header"))},[ae("span",{class:U(h(a).e("editor-wrap"))},[fe(h(Ws),{placeholder:h(f)("el.datepicker.selectDate"),"model-value":h(we),size:"small","validate-event":!1,onInput:tt[0]||(tt[0]=Fe=>j.value=Fe),onChange:rt},null,8,["placeholder","model-value"])],2),gn((B(),ne("span",{class:U(h(a).e("editor-wrap"))},[fe(h(Ws),{placeholder:h(f)("el.datepicker.selectTime"),"model-value":h(ue),size:"small","validate-event":!1,onFocus:Ye,onInput:tt[1]||(tt[1]=Fe=>q.value=Fe),onChange:Qe},null,8,["placeholder","model-value"]),fe(h(Gv),{visible:Ve.value,format:h(Ue),"time-arrow-control":h(E),"parsed-value":R.value,onPick:ct},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[h(Bl),lt]])],2)):Oe("v-if",!0),gn(ae("div",{class:U([h(a).e("header"),(W.value==="year"||W.value==="month")&&h(a).e("header--bordered")])},[ae("span",{class:U(h(a).e("prev-btn"))},[ae("button",{type:"button","aria-label":h(f)("el.datepicker.prevYear"),class:U(["d-arrow-left",h(o).e("icon-btn")]),onClick:tt[2]||(tt[2]=Fe=>te(!1))},[fe(h(zt),null,{default:ve(()=>[fe(h(Hd))]),_:1})],10,Lde),gn(ae("button",{type:"button","aria-label":h(f)("el.datepicker.prevMonth"),class:U([h(o).e("icon-btn"),"arrow-left"]),onClick:tt[3]||(tt[3]=Fe=>ce(!1))},[fe(h(zt),null,{default:ve(()=>[fe(h(Ol))]),_:1})],10,Nde),[[oi,W.value==="date"]])],2),ae("span",{role:"button",class:U(h(a).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:tt[4]||(tt[4]=ei(Fe=>Te("year"),["enter"])),onClick:tt[5]||(tt[5]=Fe=>Te("year"))},ft(h(ee)),35),gn(ae("span",{role:"button","aria-live":"polite",tabindex:"0",class:U([h(a).e("header-label"),{active:W.value==="month"}]),onKeydown:tt[6]||(tt[6]=ei(Fe=>Te("month"),["enter"])),onClick:tt[7]||(tt[7]=Fe=>Te("month"))},ft(h(f)(`el.datepicker.month${h(F)+1}`)),35),[[oi,W.value==="date"]]),ae("span",{class:U(h(a).e("next-btn"))},[gn(ae("button",{type:"button","aria-label":h(f)("el.datepicker.nextMonth"),class:U([h(o).e("icon-btn"),"arrow-right"]),onClick:tt[8]||(tt[8]=Fe=>ce(!0))},[fe(h(zt),null,{default:ve(()=>[fe(h(nr))]),_:1})],10,Ode),[[oi,W.value==="date"]]),ae("button",{type:"button","aria-label":h(f)("el.datepicker.nextYear"),class:U([h(o).e("icon-btn"),"d-arrow-right"]),onClick:tt[9]||(tt[9]=Fe=>te(!0))},[fe(h(zt),null,{default:ve(()=>[fe(h(Wd))]),_:1})],10,Dde)],2)],2),[[oi,W.value!=="time"]]),ae("div",{class:U(h(o).e("content")),onKeydown:Ut},[W.value==="date"?(B(),Be(nw,{key:0,ref_key:"currentViewRef",ref:k,"selection-mode":h(pe),date:R.value,"parsed-value":$e.parsedValue,"disabled-date":h(w),"cell-class-name":h(M),onPick:re},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):Oe("v-if",!0),W.value==="year"?(B(),Be(Pde,{key:1,ref_key:"currentViewRef",ref:k,date:R.value,"disabled-date":h(w),"parsed-value":$e.parsedValue,onPick:Ge},null,8,["date","disabled-date","parsed-value"])):Oe("v-if",!0),W.value==="month"?(B(),Be(iw,{key:2,ref_key:"currentViewRef",ref:k,date:R.value,"parsed-value":$e.parsedValue,"disabled-date":h(w),onPick:Ce},null,8,["date","parsed-value","disabled-date"])):Oe("v-if",!0)],34)],2)],2),gn(ae("div",{class:U(h(o).e("footer"))},[gn(fe(h(Os),{text:"",size:"small",class:U(h(o).e("link-btn")),onClick:Le},{default:ve(()=>[Nn(ft(h(f)("el.datepicker.now")),1)]),_:1},8,["class"]),[[oi,h(pe)!=="dates"]]),fe(h(Os),{plain:"",size:"small",class:U(h(o).e("link-btn")),onClick:ge},{default:ve(()=>[Nn(ft(h(f)("el.datepicker.confirm")),1)]),_:1},8,["class"])],2),[[oi,h(Ie)&&W.value==="date"]])],2))}});var Bde=ht(Fde,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const zde=pt({...fN,...hN}),$de=e=>{const{emit:t}=Tn(),i=of(),s=Rs();return a=>{const l=an(a.value)?a.value():a.value;if(l){t("pick",[xn(l[0]).locale(e.value),xn(l[1]).locale(e.value)]);return}a.onClick&&a.onClick({attrs:i,slots:s,emit:t})}},gN=(e,{defaultValue:t,leftDate:i,rightDate:s,unit:o,onParsedValueChanged:a})=>{const{emit:l}=Tn(),{pickerNs:u}=Lt(QS),f=nt("date-range-picker"),{t:p,lang:g}=ii(),v=$de(g),b=X(),w=X(),M=X({endDate:null,selecting:!1}),x=R=>{M.value=R},E=(R=!1)=>{const P=h(b),O=h(w);tw([P,O])&&l("pick",[P,O],R)},C=R=>{M.value.selecting=R,R||(M.value.endDate=null)},k=()=>{const[R,P]=mN(h(t),{lang:h(g),unit:o,unlinkPanels:e.unlinkPanels});b.value=void 0,w.value=void 0,i.value=R,s.value=P};return et(t,R=>{R&&k()},{immediate:!0}),et(()=>e.parsedValue,R=>{if(Nt(R)&&R.length===2){const[P,O]=R;b.value=P,i.value=P,w.value=O,a(h(b),h(w))}else k()},{immediate:!0}),{minDate:b,maxDate:w,rangeState:M,lang:g,ppNs:u,drpNs:f,handleChangeRange:x,handleRangeConfirm:E,handleShortcutClick:v,onSelect:C,t:p}},Ude=["onClick"],Vde=["disabled"],Hde=["disabled"],Wde=["disabled"],Gde=["disabled"],Hg="month",Kde=_e({__name:"panel-date-range",props:zde,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:t}){const i=e,s=Lt("EP_PICKER_BASE"),{disabledDate:o,cellClassName:a,format:l,defaultTime:u,arrowControl:f,clearable:p}=s.props,g=Oi(s.props,"shortcuts"),v=Oi(s.props,"defaultValue"),{lang:b}=ii(),w=X(xn().locale(b.value)),M=X(xn().locale(b.value).add(1,Hg)),{minDate:x,maxDate:E,rangeState:C,ppNs:k,drpNs:R,handleChangeRange:P,handleRangeConfirm:O,handleShortcutClick:F,onSelect:G,t:H}=gN(i,{defaultValue:v,leftDate:w,rightDate:M,unit:Hg,onParsedValueChanged:me}),j=X({min:null,max:null}),q=X({min:null,max:null}),ie=D(()=>`${w.value.year()} ${H("el.datepicker.year")} ${H(`el.datepicker.month${w.value.month()+1}`)}`),Q=D(()=>`${M.value.year()} ${H("el.datepicker.year")} ${H(`el.datepicker.month${M.value.month()+1}`)}`),Z=D(()=>w.value.year()),re=D(()=>w.value.month()),ce=D(()=>M.value.year()),te=D(()=>M.value.month()),W=D(()=>!!g.value.length),ee=D(()=>j.value.min!==null?j.value.min:x.value?x.value.format(Ce.value):""),J=D(()=>j.value.max!==null?j.value.max:E.value||x.value?(E.value||x.value).format(Ce.value):""),pe=D(()=>q.value.min!==null?q.value.min:x.value?x.value.format(he.value):""),Ee=D(()=>q.value.max!==null?q.value.max:E.value||x.value?(E.value||x.value).format(he.value):""),he=D(()=>yL(l)),Ce=D(()=>vL(l)),Ge=()=>{w.value=w.value.subtract(1,"year"),i.unlinkPanels||(M.value=w.value.add(1,"month")),ue("year")},Te=()=>{w.value=w.value.subtract(1,"month"),i.unlinkPanels||(M.value=w.value.add(1,"month")),ue("month")},xe=()=>{i.unlinkPanels?M.value=M.value.add(1,"year"):(w.value=w.value.add(1,"year"),M.value=w.value.add(1,"month")),ue("year")},Ie=()=>{i.unlinkPanels?M.value=M.value.add(1,"month"):(w.value=w.value.add(1,"month"),M.value=w.value.add(1,"month")),ue("month")},ge=()=>{w.value=w.value.add(1,"year"),ue("year")},Le=()=>{w.value=w.value.add(1,"month"),ue("month")},Ue=()=>{M.value=M.value.subtract(1,"year"),ue("year")},ut=()=>{M.value=M.value.subtract(1,"month"),ue("month")},ue=Se=>{t("panel-change",[w.value.toDate(),M.value.toDate()],Se)},we=D(()=>{const Se=(re.value+1)%12,it=re.value+1>=12?1:0;return i.unlinkPanels&&new Date(Z.value+it,Se)<new Date(ce.value,te.value)}),Ve=D(()=>i.unlinkPanels&&ce.value*12+te.value-(Z.value*12+re.value+1)>=12),Ye=D(()=>!(x.value&&E.value&&!C.value.selecting&&tw([x.value,E.value]))),lt=D(()=>i.type==="datetime"||i.type==="datetimerange"),He=(Se,it)=>{if(Se)return u?xn(u[it]||u).locale(b.value).year(Se.year()).month(Se.month()).date(Se.date()):Se},ct=(Se,it=!0)=>{const vt=Se.minDate,tn=Se.maxDate,Xe=He(vt,0),Ct=He(tn,1);E.value===Ct&&x.value===Xe||(t("calendar-change",[vt.toDate(),tn&&tn.toDate()]),E.value=Ct,x.value=Xe,!(!it||lt.value)&&O())},Qe=X(!1),rt=X(!1),Je=()=>{Qe.value=!1},Mt=()=>{rt.value=!1},yt=(Se,it)=>{j.value[it]=Se;const vt=xn(Se,Ce.value).locale(b.value);if(vt.isValid()){if(o&&o(vt.toDate()))return;it==="min"?(w.value=vt,x.value=(x.value||w.value).year(vt.year()).month(vt.month()).date(vt.date()),i.unlinkPanels||(M.value=vt.add(1,"month"),E.value=x.value.add(1,"month"))):(M.value=vt,E.value=(E.value||M.value).year(vt.year()).month(vt.month()).date(vt.date()),i.unlinkPanels||(w.value=vt.subtract(1,"month"),x.value=E.value.subtract(1,"month")))}},We=(Se,it)=>{j.value[it]=null},_t=(Se,it)=>{q.value[it]=Se;const vt=xn(Se,he.value).locale(b.value);vt.isValid()&&(it==="min"?(Qe.value=!0,x.value=(x.value||w.value).hour(vt.hour()).minute(vt.minute()).second(vt.second()),(!E.value||E.value.isBefore(x.value))&&(E.value=x.value)):(rt.value=!0,E.value=(E.value||M.value).hour(vt.hour()).minute(vt.minute()).second(vt.second()),M.value=E.value,E.value&&E.value.isBefore(x.value)&&(x.value=E.value)))},Ut=(Se,it)=>{q.value[it]=null,it==="min"?(w.value=x.value,Qe.value=!1):(M.value=E.value,rt.value=!1)},fn=(Se,it,vt)=>{q.value.min||(Se&&(w.value=Se,x.value=(x.value||w.value).hour(Se.hour()).minute(Se.minute()).second(Se.second())),vt||(Qe.value=it),(!E.value||E.value.isBefore(x.value))&&(E.value=x.value,M.value=Se))},Pe=(Se,it,vt)=>{q.value.max||(Se&&(M.value=Se,E.value=(E.value||M.value).hour(Se.hour()).minute(Se.minute()).second(Se.second())),vt||(rt.value=it),E.value&&E.value.isBefore(x.value)&&(x.value=E.value))},$e=()=>{w.value=mN(h(v),{lang:h(b),unit:"month",unlinkPanels:i.unlinkPanels})[0],M.value=w.value.add(1,"month"),t("pick",null)},tt=Se=>Nt(Se)?Se.map(it=>it.format(l)):Se.format(l),Fe=Se=>Nt(Se)?Se.map(it=>xn(it,l).locale(b.value)):xn(Se,l).locale(b.value);function me(Se,it){if(i.unlinkPanels&&it){const vt=(Se==null?void 0:Se.year())||0,tn=(Se==null?void 0:Se.month())||0,Xe=it.year(),Ct=it.month();M.value=vt===Xe&&tn===Ct?it.add(1,Hg):it}else M.value=w.value.add(1,Hg),it&&(M.value=M.value.hour(it.hour()).minute(it.minute()).second(it.second()))}return t("set-picker-option",["isValidValue",tw]),t("set-picker-option",["parseUserInput",Fe]),t("set-picker-option",["formatToString",tt]),t("set-picker-option",["handleClear",$e]),(Se,it)=>(B(),ne("div",{class:U([h(k).b(),h(R).b(),{"has-sidebar":Se.$slots.sidebar||h(W),"has-time":h(lt)}])},[ae("div",{class:U(h(k).e("body-wrapper"))},[qe(Se.$slots,"sidebar",{class:U(h(k).e("sidebar"))}),h(W)?(B(),ne("div",{key:0,class:U(h(k).e("sidebar"))},[(B(!0),ne(Ft,null,Un(h(g),(vt,tn)=>(B(),ne("button",{key:tn,type:"button",class:U(h(k).e("shortcut")),onClick:Xe=>h(F)(vt)},ft(vt.text),11,Ude))),128))],2)):Oe("v-if",!0),ae("div",{class:U(h(k).e("body"))},[h(lt)?(B(),ne("div",{key:0,class:U(h(R).e("time-header"))},[ae("span",{class:U(h(R).e("editors-wrap"))},[ae("span",{class:U(h(R).e("time-picker-wrap"))},[fe(h(Ws),{size:"small",disabled:h(C).selecting,placeholder:h(H)("el.datepicker.startDate"),class:U(h(R).e("editor")),"model-value":h(ee),"validate-event":!1,onInput:it[0]||(it[0]=vt=>yt(vt,"min")),onChange:it[1]||(it[1]=vt=>We(vt,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),gn((B(),ne("span",{class:U(h(R).e("time-picker-wrap"))},[fe(h(Ws),{size:"small",class:U(h(R).e("editor")),disabled:h(C).selecting,placeholder:h(H)("el.datepicker.startTime"),"model-value":h(pe),"validate-event":!1,onFocus:it[2]||(it[2]=vt=>Qe.value=!0),onInput:it[3]||(it[3]=vt=>_t(vt,"min")),onChange:it[4]||(it[4]=vt=>Ut(vt,"min"))},null,8,["class","disabled","placeholder","model-value"]),fe(h(Gv),{visible:Qe.value,format:h(he),"datetime-role":"start","time-arrow-control":h(f),"parsed-value":w.value,onPick:fn},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[h(Bl),Je]])],2),ae("span",null,[fe(h(zt),null,{default:ve(()=>[fe(h(nr))]),_:1})]),ae("span",{class:U([h(R).e("editors-wrap"),"is-right"])},[ae("span",{class:U(h(R).e("time-picker-wrap"))},[fe(h(Ws),{size:"small",class:U(h(R).e("editor")),disabled:h(C).selecting,placeholder:h(H)("el.datepicker.endDate"),"model-value":h(J),readonly:!h(x),"validate-event":!1,onInput:it[5]||(it[5]=vt=>yt(vt,"max")),onChange:it[6]||(it[6]=vt=>We(vt,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),gn((B(),ne("span",{class:U(h(R).e("time-picker-wrap"))},[fe(h(Ws),{size:"small",class:U(h(R).e("editor")),disabled:h(C).selecting,placeholder:h(H)("el.datepicker.endTime"),"model-value":h(Ee),readonly:!h(x),"validate-event":!1,onFocus:it[7]||(it[7]=vt=>h(x)&&(rt.value=!0)),onInput:it[8]||(it[8]=vt=>_t(vt,"max")),onChange:it[9]||(it[9]=vt=>Ut(vt,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),fe(h(Gv),{"datetime-role":"end",visible:rt.value,format:h(he),"time-arrow-control":h(f),"parsed-value":M.value,onPick:Pe},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[h(Bl),Mt]])],2)],2)):Oe("v-if",!0),ae("div",{class:U([[h(k).e("content"),h(R).e("content")],"is-left"])},[ae("div",{class:U(h(R).e("header"))},[ae("button",{type:"button",class:U([h(k).e("icon-btn"),"d-arrow-left"]),onClick:Ge},[fe(h(zt),null,{default:ve(()=>[fe(h(Hd))]),_:1})],2),ae("button",{type:"button",class:U([h(k).e("icon-btn"),"arrow-left"]),onClick:Te},[fe(h(zt),null,{default:ve(()=>[fe(h(Ol))]),_:1})],2),Se.unlinkPanels?(B(),ne("button",{key:0,type:"button",disabled:!h(Ve),class:U([[h(k).e("icon-btn"),{"is-disabled":!h(Ve)}],"d-arrow-right"]),onClick:ge},[fe(h(zt),null,{default:ve(()=>[fe(h(Wd))]),_:1})],10,Vde)):Oe("v-if",!0),Se.unlinkPanels?(B(),ne("button",{key:1,type:"button",disabled:!h(we),class:U([[h(k).e("icon-btn"),{"is-disabled":!h(we)}],"arrow-right"]),onClick:Le},[fe(h(zt),null,{default:ve(()=>[fe(h(nr))]),_:1})],10,Hde)):Oe("v-if",!0),ae("div",null,ft(h(ie)),1)],2),fe(nw,{"selection-mode":"range",date:w.value,"min-date":h(x),"max-date":h(E),"range-state":h(C),"disabled-date":h(o),"cell-class-name":h(a),onChangerange:h(P),onPick:ct,onSelect:h(G)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),ae("div",{class:U([[h(k).e("content"),h(R).e("content")],"is-right"])},[ae("div",{class:U(h(R).e("header"))},[Se.unlinkPanels?(B(),ne("button",{key:0,type:"button",disabled:!h(Ve),class:U([[h(k).e("icon-btn"),{"is-disabled":!h(Ve)}],"d-arrow-left"]),onClick:Ue},[fe(h(zt),null,{default:ve(()=>[fe(h(Hd))]),_:1})],10,Wde)):Oe("v-if",!0),Se.unlinkPanels?(B(),ne("button",{key:1,type:"button",disabled:!h(we),class:U([[h(k).e("icon-btn"),{"is-disabled":!h(we)}],"arrow-left"]),onClick:ut},[fe(h(zt),null,{default:ve(()=>[fe(h(Ol))]),_:1})],10,Gde)):Oe("v-if",!0),ae("button",{type:"button",class:U([h(k).e("icon-btn"),"d-arrow-right"]),onClick:xe},[fe(h(zt),null,{default:ve(()=>[fe(h(Wd))]),_:1})],2),ae("button",{type:"button",class:U([h(k).e("icon-btn"),"arrow-right"]),onClick:Ie},[fe(h(zt),null,{default:ve(()=>[fe(h(nr))]),_:1})],2),ae("div",null,ft(h(Q)),1)],2),fe(nw,{"selection-mode":"range",date:M.value,"min-date":h(x),"max-date":h(E),"range-state":h(C),"disabled-date":h(o),"cell-class-name":h(a),onChangerange:h(P),onPick:ct,onSelect:h(G)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),h(lt)?(B(),ne("div",{key:0,class:U(h(k).e("footer"))},[h(p)?(B(),Be(h(Os),{key:0,text:"",size:"small",class:U(h(k).e("link-btn")),onClick:$e},{default:ve(()=>[Nn(ft(h(H)("el.datepicker.clear")),1)]),_:1},8,["class"])):Oe("v-if",!0),fe(h(Os),{plain:"",size:"small",class:U(h(k).e("link-btn")),disabled:h(Ye),onClick:it[10]||(it[10]=vt=>h(O)(!1))},{default:ve(()=>[Nn(ft(h(H)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):Oe("v-if",!0)],2))}});var qde=ht(Kde,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const jde=pt({...hN}),Xde=["pick","set-picker-option"],Yde=({unlinkPanels:e,leftDate:t,rightDate:i})=>{const{t:s}=ii(),o=()=>{t.value=t.value.subtract(1,"year"),e.value||(i.value=i.value.subtract(1,"year"))},a=()=>{e.value||(t.value=t.value.add(1,"year")),i.value=i.value.add(1,"year")},l=()=>{t.value=t.value.add(1,"year")},u=()=>{i.value=i.value.subtract(1,"year")},f=D(()=>`${t.value.year()} ${s("el.datepicker.year")}`),p=D(()=>`${i.value.year()} ${s("el.datepicker.year")}`),g=D(()=>t.value.year()),v=D(()=>i.value.year()===t.value.year()?t.value.year()+1:i.value.year());return{leftPrevYear:o,rightNextYear:a,leftNextYear:l,rightPrevYear:u,leftLabel:f,rightLabel:p,leftYear:g,rightYear:v}},Zde=["onClick"],Jde=["disabled"],Qde=["disabled"],Wg="year",efe=_e({name:"DatePickerMonthRange"}),tfe=_e({...efe,props:jde,emits:Xde,setup(e,{emit:t}){const i=e,{lang:s}=ii(),o=Lt("EP_PICKER_BASE"),{shortcuts:a,disabledDate:l,format:u}=o.props,f=Oi(o.props,"defaultValue"),p=X(xn().locale(s.value)),g=X(xn().locale(s.value).add(1,Wg)),{minDate:v,maxDate:b,rangeState:w,ppNs:M,drpNs:x,handleChangeRange:E,handleRangeConfirm:C,handleShortcutClick:k,onSelect:R}=gN(i,{defaultValue:f,leftDate:p,rightDate:g,unit:Wg,onParsedValueChanged:te}),P=D(()=>!!a.length),{leftPrevYear:O,rightNextYear:F,leftNextYear:G,rightPrevYear:H,leftLabel:j,rightLabel:q,leftYear:ie,rightYear:Q}=Yde({unlinkPanels:Oi(i,"unlinkPanels"),leftDate:p,rightDate:g}),Z=D(()=>i.unlinkPanels&&Q.value>ie.value+1),re=(W,ee=!0)=>{const J=W.minDate,pe=W.maxDate;b.value===pe&&v.value===J||(b.value=pe,v.value=J,ee&&C())},ce=W=>W.map(ee=>ee.format(u));function te(W,ee){if(i.unlinkPanels&&ee){const J=(W==null?void 0:W.year())||0,pe=ee.year();g.value=J===pe?ee.add(1,Wg):ee}else g.value=p.value.add(1,Wg)}return t("set-picker-option",["formatToString",ce]),(W,ee)=>(B(),ne("div",{class:U([h(M).b(),h(x).b(),{"has-sidebar":!!W.$slots.sidebar||h(P)}])},[ae("div",{class:U(h(M).e("body-wrapper"))},[qe(W.$slots,"sidebar",{class:U(h(M).e("sidebar"))}),h(P)?(B(),ne("div",{key:0,class:U(h(M).e("sidebar"))},[(B(!0),ne(Ft,null,Un(h(a),(J,pe)=>(B(),ne("button",{key:pe,type:"button",class:U(h(M).e("shortcut")),onClick:Ee=>h(k)(J)},ft(J.text),11,Zde))),128))],2)):Oe("v-if",!0),ae("div",{class:U(h(M).e("body"))},[ae("div",{class:U([[h(M).e("content"),h(x).e("content")],"is-left"])},[ae("div",{class:U(h(x).e("header"))},[ae("button",{type:"button",class:U([h(M).e("icon-btn"),"d-arrow-left"]),onClick:ee[0]||(ee[0]=(...J)=>h(O)&&h(O)(...J))},[fe(h(zt),null,{default:ve(()=>[fe(h(Hd))]),_:1})],2),W.unlinkPanels?(B(),ne("button",{key:0,type:"button",disabled:!h(Z),class:U([[h(M).e("icon-btn"),{[h(M).is("disabled")]:!h(Z)}],"d-arrow-right"]),onClick:ee[1]||(ee[1]=(...J)=>h(G)&&h(G)(...J))},[fe(h(zt),null,{default:ve(()=>[fe(h(Wd))]),_:1})],10,Jde)):Oe("v-if",!0),ae("div",null,ft(h(j)),1)],2),fe(iw,{"selection-mode":"range",date:p.value,"min-date":h(v),"max-date":h(b),"range-state":h(w),"disabled-date":h(l),onChangerange:h(E),onPick:re,onSelect:h(R)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),ae("div",{class:U([[h(M).e("content"),h(x).e("content")],"is-right"])},[ae("div",{class:U(h(x).e("header"))},[W.unlinkPanels?(B(),ne("button",{key:0,type:"button",disabled:!h(Z),class:U([[h(M).e("icon-btn"),{"is-disabled":!h(Z)}],"d-arrow-left"]),onClick:ee[2]||(ee[2]=(...J)=>h(H)&&h(H)(...J))},[fe(h(zt),null,{default:ve(()=>[fe(h(Hd))]),_:1})],10,Qde)):Oe("v-if",!0),ae("button",{type:"button",class:U([h(M).e("icon-btn"),"d-arrow-right"]),onClick:ee[3]||(ee[3]=(...J)=>h(F)&&h(F)(...J))},[fe(h(zt),null,{default:ve(()=>[fe(h(Wd))]),_:1})],2),ae("div",null,ft(h(q)),1)],2),fe(iw,{"selection-mode":"range",date:g.value,"min-date":h(v),"max-date":h(b),"range-state":h(w),"disabled-date":h(l),onChangerange:h(E),onPick:re,onSelect:h(R)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var nfe=ht(tfe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const ife=function(e){switch(e){case"daterange":case"datetimerange":return qde;case"monthrange":return nfe;default:return Bde}};xn.extend(NL);xn.extend(jue);xn.extend(XS);xn.extend(Yue);xn.extend(Jue);xn.extend(ede);xn.extend(nde);xn.extend(sde);var sfe=_e({name:"ElDatePicker",install:null,props:rde,emits:["update:modelValue"],setup(e,{expose:t,emit:i,slots:s}){const o=nt("picker-panel");On("ElPopperOptions",ai(Oi(e,"popperOptions"))),On(QS,{slots:s,pickerNs:o});const a=X();t({focus:(f=!0)=>{var p;(p=a.value)==null||p.focus(f)},handleOpen:()=>{var f;(f=a.value)==null||f.handleOpen()},handleClose:()=>{var f;(f=a.value)==null||f.handleClose()}});const u=f=>{i("update:modelValue",f)};return()=>{var f;const p=(f=e.format)!=null?f:Hoe[e.type]||dd,g=ife(e.type);return fe(wL,kn(e,{format:p,type:e.type,ref:a,"onUpdate:modelValue":u}),{default:v=>fe(g,v,null),"range-separator":s["range-separator"]})}}});const yv=sfe;yv.install=e=>{e.component(yv.name,yv)};const rfe=yv,tx=Symbol("elDescriptions");var vh=_e({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String},type:{type:String}},setup(){return{descriptions:Lt(tx,{})}},render(){var e,t,i,s,o,a;const l=lte(this.cell),{border:u,direction:f}=this.descriptions,p=f==="vertical",g=((i=(t=(e=this.cell)==null?void 0:e.children)==null?void 0:t.label)==null?void 0:i.call(t))||l.label,v=(a=(o=(s=this.cell)==null?void 0:s.children)==null?void 0:o.default)==null?void 0:a.call(o),b=l.span,w=l.align?`is-${l.align}`:"",M=l.labelAlign?`is-${l.labelAlign}`:w,x=l.className,E=l.labelClassName,C={width:es(l.width),minWidth:es(l.minWidth)},k=nt("descriptions");switch(this.type){case"label":return Yt(this.tag,{style:C,class:[k.e("cell"),k.e("label"),k.is("bordered-label",u),k.is("vertical-label",p),M,E],colSpan:p?b:1},g);case"content":return Yt(this.tag,{style:C,class:[k.e("cell"),k.e("content"),k.is("bordered-content",u),k.is("vertical-content",p),w,x],colSpan:p?b:b*2-1},v);default:return Yt("td",{style:C,class:[k.e("cell"),w],colSpan:b},[us(g)?void 0:Yt("span",{class:[k.e("label"),E]},g),Yt("span",{class:[k.e("content"),x]},v)])}}});const ofe=pt({row:{type:Array,default:()=>[]}}),afe={key:1},lfe=_e({name:"ElDescriptionsRow"}),cfe=_e({...lfe,props:ofe,setup(e){const t=Lt(tx,{});return(i,s)=>h(t).direction==="vertical"?(B(),ne(Ft,{key:0},[ae("tr",null,[(B(!0),ne(Ft,null,Un(i.row,(o,a)=>(B(),Be(h(vh),{key:`tr1-${a}`,cell:o,tag:"th",type:"label"},null,8,["cell"]))),128))]),ae("tr",null,[(B(!0),ne(Ft,null,Un(i.row,(o,a)=>(B(),Be(h(vh),{key:`tr2-${a}`,cell:o,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(B(),ne("tr",afe,[(B(!0),ne(Ft,null,Un(i.row,(o,a)=>(B(),ne(Ft,{key:`tr3-${a}`},[h(t).border?(B(),ne(Ft,{key:0},[fe(h(vh),{cell:o,tag:"td",type:"label"},null,8,["cell"]),fe(h(vh),{cell:o,tag:"td",type:"content"},null,8,["cell"])],64)):(B(),Be(h(vh),{key:1,cell:o,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var ufe=ht(cfe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/descriptions-row.vue"]]);const dfe=pt({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:Ds,title:{type:String,default:""},extra:{type:String,default:""}}),ffe=_e({name:"ElDescriptions"}),hfe=_e({...ffe,props:dfe,setup(e){const t=e,i=nt("descriptions"),s=fs(),o=Rs();On(tx,t);const a=D(()=>[i.b(),i.m(s.value)]),l=(f,p,g,v=!1)=>(f.props||(f.props={}),p>g&&(f.props.span=g),v&&(f.props.span=p),f),u=()=>{var f;const p=Ed((f=o.default)==null?void 0:f.call(o)).filter(M=>{var x;return((x=M==null?void 0:M.type)==null?void 0:x.name)==="ElDescriptionsItem"}),g=[];let v=[],b=t.column,w=0;return p.forEach((M,x)=>{var E;const C=((E=M.props)==null?void 0:E.span)||1;if(x<p.length-1&&(w+=C>b?b:C),x===p.length-1){const k=t.column-w%t.column;v.push(l(M,k,b,!0)),g.push(v);return}C<b?(b-=C,v.push(M)):(v.push(l(M,C,b)),g.push(v),b=t.column,v=[])}),g};return(f,p)=>(B(),ne("div",{class:U(h(a))},[f.title||f.extra||f.$slots.title||f.$slots.extra?(B(),ne("div",{key:0,class:U(h(i).e("header"))},[ae("div",{class:U(h(i).e("title"))},[qe(f.$slots,"title",{},()=>[Nn(ft(f.title),1)])],2),ae("div",{class:U(h(i).e("extra"))},[qe(f.$slots,"extra",{},()=>[Nn(ft(f.extra),1)])],2)],2)):Oe("v-if",!0),ae("div",{class:U(h(i).e("body"))},[ae("table",{class:U([h(i).e("table"),h(i).is("bordered",f.border)])},[ae("tbody",null,[(B(!0),ne(Ft,null,Un(u(),(g,v)=>(B(),Be(ufe,{key:v,row:g},null,8,["row"]))),128))])],2)],2)],2))}});var pfe=ht(hfe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/description.vue"]]),vN=_e({name:"ElDescriptionsItem",props:{label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}});const mfe=Cn(pfe,{DescriptionsItem:vN}),gfe=Yi(vN),vfe=pt({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:De([String,Array,Object])},zIndex:{type:De([String,Number])}}),yfe={click:e=>e instanceof MouseEvent},bfe="overlay";var _fe=_e({name:"ElOverlay",props:vfe,emits:yfe,setup(e,{slots:t,emit:i}){const s=nt(bfe),o=f=>{i("click",f)},{onClick:a,onMousedown:l,onMouseup:u}=$S(e.customMaskEvent?void 0:o);return()=>e.mask?fe("div",{class:[s.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:l,onMouseup:u},[qe(t,"default")],Kr.STYLE|Kr.CLASS|Kr.PROPS,["onClick","onMouseup","onMousedown"]):Yt("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[qe(t,"default")])}});const nx=_fe,yN=Symbol("dialogInjectionKey"),bN=pt({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:Pi},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),wfe={close:()=>!0},Sfe=["aria-label"],xfe=["id"],Mfe=_e({name:"ElDialogContent"}),Efe=_e({...Mfe,props:bN,emits:wfe,setup(e){const t=e,{t:i}=ii(),{Close:s}=sI,{dialogRef:o,headerRef:a,bodyId:l,ns:u,style:f}=Lt(yN),{focusTrapRef:p}=Lt(KS),g=L0(p,o),v=D(()=>t.draggable);return aI(o,a,v),(b,w)=>(B(),ne("div",{ref:h(g),class:U([h(u).b(),h(u).is("fullscreen",b.fullscreen),h(u).is("draggable",h(v)),h(u).is("align-center",b.alignCenter),{[h(u).m("center")]:b.center},b.customClass]),style:Wt(h(f)),tabindex:"-1"},[ae("header",{ref_key:"headerRef",ref:a,class:U(h(u).e("header"))},[qe(b.$slots,"header",{},()=>[ae("span",{role:"heading",class:U(h(u).e("title"))},ft(b.title),3)]),b.showClose?(B(),ne("button",{key:0,"aria-label":h(i)("el.dialog.close"),class:U(h(u).e("headerbtn")),type:"button",onClick:w[0]||(w[0]=M=>b.$emit("close"))},[fe(h(zt),{class:U(h(u).e("close"))},{default:ve(()=>[(B(),Be(Bn(b.closeIcon||h(s))))]),_:1},8,["class"])],10,Sfe)):Oe("v-if",!0)],2),ae("div",{id:h(l),class:U(h(u).e("body"))},[qe(b.$slots,"default")],10,xfe),b.$slots.footer?(B(),ne("footer",{key:0,class:U(h(u).e("footer"))},[qe(b.$slots,"footer")],2)):Oe("v-if",!0)],6))}});var Cfe=ht(Efe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const _N=pt({...bN,appendToBody:{type:Boolean,default:!1},beforeClose:{type:De(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),wN={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Rn]:e=>ds(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},SN=(e,t)=>{const s=Tn().emit,{nextZIndex:o}=uf();let a="";const l=so(),u=so(),f=X(!1),p=X(!1),g=X(!1),v=X(e.zIndex||o());let b,w;const M=U0("namespace",$v),x=D(()=>{const re={},ce=`--${M.value}-dialog`;return e.fullscreen||(e.top&&(re[`${ce}-margin-top`]=e.top),e.width&&(re[`${ce}-width`]=es(e.width))),re}),E=D(()=>e.alignCenter?{display:"flex"}:{});function C(){s("opened")}function k(){s("closed"),s(Rn,!1),e.destroyOnClose&&(g.value=!1)}function R(){s("close")}function P(){w==null||w(),b==null||b(),e.openDelay&&e.openDelay>0?{stop:b}=Zc(()=>H(),e.openDelay):H()}function O(){b==null||b(),w==null||w(),e.closeDelay&&e.closeDelay>0?{stop:w}=Zc(()=>j(),e.closeDelay):j()}function F(){function re(ce){ce||(p.value=!0,f.value=!1)}e.beforeClose?e.beforeClose(re):O()}function G(){e.closeOnClickModal&&F()}function H(){Jn&&(f.value=!0)}function j(){f.value=!1}function q(){s("openAutoFocus")}function ie(){s("closeAutoFocus")}function Q(re){var ce;((ce=re.detail)==null?void 0:ce.focusReason)==="pointer"&&re.preventDefault()}e.lockScroll&&uI(f);function Z(){e.closeOnPressEscape&&F()}return et(()=>e.modelValue,re=>{re?(p.value=!1,P(),g.value=!0,v.value=e.zIndex?v.value++:o(),Bt(()=>{s("open"),t.value&&(t.value.scrollTop=0)})):f.value&&O()}),et(()=>e.fullscreen,re=>{t.value&&(re?(a=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=a)}),_n(()=>{e.modelValue&&(f.value=!0,g.value=!0,P())}),{afterEnter:C,afterLeave:k,beforeLeave:R,handleClose:F,onModalClick:G,close:O,doClose:j,onOpenAutoFocus:q,onCloseAutoFocus:ie,onCloseRequested:Z,onFocusoutPrevented:Q,titleId:l,bodyId:u,closed:p,style:x,overlayDialogStyle:E,rendered:g,visible:f,zIndex:v}},Tfe=["aria-label","aria-labelledby","aria-describedby"],Afe=_e({name:"ElDialog",inheritAttrs:!1}),Rfe=_e({...Afe,props:_N,emits:wN,setup(e,{expose:t}){const i=e,s=Rs();ta({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},D(()=>!!s.title)),ta({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},D(()=>!!i.customClass));const o=nt("dialog"),a=X(),l=X(),u=X(),{visible:f,titleId:p,bodyId:g,style:v,overlayDialogStyle:b,rendered:w,zIndex:M,afterEnter:x,afterLeave:E,beforeLeave:C,handleClose:k,onModalClick:R,onOpenAutoFocus:P,onCloseAutoFocus:O,onCloseRequested:F,onFocusoutPrevented:G}=SN(i,a);On(yN,{dialogRef:a,headerRef:l,bodyId:g,ns:o,rendered:w,style:v});const H=$S(R),j=D(()=>i.draggable&&!i.fullscreen);return t({visible:f,dialogContentRef:u}),(q,ie)=>(B(),Be(Sp,{to:"body",disabled:!q.appendToBody},[fe(ns,{name:"dialog-fade",onAfterEnter:h(x),onAfterLeave:h(E),onBeforeLeave:h(C),persisted:""},{default:ve(()=>[gn(fe(h(nx),{"custom-mask-event":"",mask:q.modal,"overlay-class":q.modalClass,"z-index":h(M)},{default:ve(()=>[ae("div",{role:"dialog","aria-modal":"true","aria-label":q.title||void 0,"aria-labelledby":q.title?void 0:h(p),"aria-describedby":h(g),class:U(`${h(o).namespace.value}-overlay-dialog`),style:Wt(h(b)),onClick:ie[0]||(ie[0]=(...Q)=>h(H).onClick&&h(H).onClick(...Q)),onMousedown:ie[1]||(ie[1]=(...Q)=>h(H).onMousedown&&h(H).onMousedown(...Q)),onMouseup:ie[2]||(ie[2]=(...Q)=>h(H).onMouseup&&h(H).onMouseup(...Q))},[fe(h(W0),{loop:"",trapped:h(f),"focus-start-el":"container",onFocusAfterTrapped:h(P),onFocusAfterReleased:h(O),onFocusoutPrevented:h(G),onReleaseRequested:h(F)},{default:ve(()=>[h(w)?(B(),Be(Cfe,kn({key:0,ref_key:"dialogContentRef",ref:u},q.$attrs,{"custom-class":q.customClass,center:q.center,"align-center":q.alignCenter,"close-icon":q.closeIcon,draggable:h(j),fullscreen:q.fullscreen,"show-close":q.showClose,title:q.title,onClose:h(k)}),Ua({header:ve(()=>[q.$slots.title?qe(q.$slots,"title",{key:1}):qe(q.$slots,"header",{key:0,close:h(k),titleId:h(p),titleClass:h(o).e("title")})]),default:ve(()=>[qe(q.$slots,"default")]),_:2},[q.$slots.footer?{name:"footer",fn:ve(()=>[qe(q.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):Oe("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Tfe)]),_:3},8,["mask","overlay-class","z-index"]),[[oi,h(f)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var kfe=ht(Rfe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Pfe=Cn(kfe),Ife=pt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:De(String),default:"solid"}}),Lfe=_e({name:"ElDivider"}),Nfe=_e({...Lfe,props:Ife,setup(e){const t=e,i=nt("divider"),s=D(()=>i.cssVar({"border-style":t.borderStyle}));return(o,a)=>(B(),ne("div",{class:U([h(i).b(),h(i).m(o.direction)]),style:Wt(h(s)),role:"separator"},[o.$slots.default&&o.direction!=="vertical"?(B(),ne("div",{key:0,class:U([h(i).e("text"),h(i).is(o.contentPosition)])},[qe(o.$slots,"default")],2)):Oe("v-if",!0)],6))}});var Ofe=ht(Nfe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const xN=Cn(Ofe),Dfe=pt({..._N,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}}),Ffe=wN,Bfe=_e({name:"ElDrawer",components:{ElOverlay:nx,ElFocusTrap:W0,ElIcon:zt,Close:Lo},inheritAttrs:!1,props:Dfe,emits:Ffe,setup(e,{slots:t}){ta({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},D(()=>!!t.title)),ta({scope:"el-drawer",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/drawer.html#attributes",type:"Attribute"},D(()=>!!e.customClass));const i=X(),s=X(),o=nt("drawer"),{t:a}=ii(),l=D(()=>e.direction==="rtl"||e.direction==="ltr"),u=D(()=>es(e.size));return{...SN(e,i),drawerRef:i,focusStartRef:s,isHorizontal:l,drawerSize:u,ns:o,t:a}}}),zfe=["aria-label","aria-labelledby","aria-describedby"],$fe=["id"],Ufe=["aria-label"],Vfe=["id"];function Hfe(e,t,i,s,o,a){const l=cn("close"),u=cn("el-icon"),f=cn("el-focus-trap"),p=cn("el-overlay");return B(),Be(Sp,{to:"body",disabled:!e.appendToBody},[fe(ns,{name:e.ns.b("fade"),onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave,persisted:""},{default:ve(()=>[gn(fe(p,{mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex,onClick:e.onModalClick},{default:ve(()=>[fe(f,{loop:"",trapped:e.visible,"focus-trap-el":e.drawerRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:ve(()=>[ae("div",kn({ref:"drawerRef","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:e.titleId,"aria-describedby":e.bodyId},e.$attrs,{class:[e.ns.b(),e.direction,e.visible&&"open",e.customClass],style:e.isHorizontal?"width: "+e.drawerSize:"height: "+e.drawerSize,role:"dialog",onClick:t[1]||(t[1]=rn(()=>{},["stop"]))}),[ae("span",{ref:"focusStartRef",class:U(e.ns.e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(B(),ne("header",{key:0,class:U(e.ns.e("header"))},[e.$slots.title?qe(e.$slots,"title",{key:1},()=>[Oe(" DEPRECATED SLOT ")]):qe(e.$slots,"header",{key:0,close:e.handleClose,titleId:e.titleId,titleClass:e.ns.e("title")},()=>[e.$slots.title?Oe("v-if",!0):(B(),ne("span",{key:0,id:e.titleId,role:"heading",class:U(e.ns.e("title"))},ft(e.title),11,$fe))]),e.showClose?(B(),ne("button",{key:2,"aria-label":e.t("el.drawer.close"),class:U(e.ns.e("close-btn")),type:"button",onClick:t[0]||(t[0]=(...g)=>e.handleClose&&e.handleClose(...g))},[fe(u,{class:U(e.ns.e("close"))},{default:ve(()=>[fe(l)]),_:1},8,["class"])],10,Ufe)):Oe("v-if",!0)],2)):Oe("v-if",!0),e.rendered?(B(),ne("div",{key:1,id:e.bodyId,class:U(e.ns.e("body"))},[qe(e.$slots,"default")],10,Vfe)):Oe("v-if",!0),e.$slots.footer?(B(),ne("div",{key:2,class:U(e.ns.e("footer"))},[qe(e.$slots,"footer")],2)):Oe("v-if",!0)],16,zfe)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[oi,e.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var Wfe=ht(Bfe,[["render",Hfe],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const Gfe=Cn(Wfe),Kfe=_e({inheritAttrs:!1});function qfe(e,t,i,s,o,a){return qe(e.$slots,"default")}var jfe=ht(Kfe,[["render",qfe],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const Xfe=_e({name:"ElCollectionItem",inheritAttrs:!1});function Yfe(e,t,i,s,o,a){return qe(e.$slots,"default")}var Zfe=ht(Xfe,[["render",Yfe],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const MN="data-el-collection-item",EN=e=>{const t=`El${e}Collection`,i=`${t}Item`,s=Symbol(t),o=Symbol(i),a={...jfe,name:t,setup(){const u=X(null),f=new Map;On(s,{itemMap:f,getItems:()=>{const g=h(u);if(!g)return[];const v=Array.from(g.querySelectorAll(`[${MN}]`));return[...f.values()].sort((w,M)=>v.indexOf(w.ref)-v.indexOf(M.ref))},collectionRef:u})}},l={...Zfe,name:i,setup(u,{attrs:f}){const p=X(null),g=Lt(s,void 0);On(o,{collectionItemRef:p}),_n(()=>{const v=h(p);v&&g.itemMap.set(v,{ref:v,...f})}),Di(()=>{const v=h(p);g.itemMap.delete(v)})}};return{COLLECTION_INJECTION_KEY:s,COLLECTION_ITEM_INJECTION_KEY:o,ElCollection:a,ElCollectionItem:l}},Jfe=pt({style:{type:De([String,Array,Object])},currentTabId:{type:De(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:De(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Qfe,ElCollectionItem:ehe,COLLECTION_INJECTION_KEY:ix,COLLECTION_ITEM_INJECTION_KEY:the}=EN("RovingFocusGroup"),sx=Symbol("elRovingFocusGroup"),CN=Symbol("elRovingFocusGroupItem"),nhe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},ihe=(e,t)=>{if(t!=="rtl")return e;switch(e){case Xt.right:return Xt.left;case Xt.left:return Xt.right;default:return e}},she=(e,t,i)=>{const s=ihe(e.key,i);if(!(t==="vertical"&&[Xt.left,Xt.right].includes(s))&&!(t==="horizontal"&&[Xt.up,Xt.down].includes(s)))return nhe[s]},rhe=(e,t)=>e.map((i,s)=>e[(s+t)%e.length]),rx=e=>{const{activeElement:t}=document;for(const i of e)if(i===t||(i.focus(),t!==document.activeElement))return},xR="currentTabIdChange",MR="rovingFocusGroup.entryFocus",ohe={bubbles:!1,cancelable:!0},ahe=_e({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:Jfe,emits:[xR,"entryFocus"],setup(e,{emit:t}){var i;const s=X((i=e.currentTabId||e.defaultCurrentTabId)!=null?i:null),o=X(!1),a=X(!1),l=X(null),{getItems:u}=Lt(ix,void 0),f=D(()=>[{outline:"none"},e.style]),p=x=>{t(xR,x)},g=()=>{o.value=!0},v=Xi(x=>{var E;(E=e.onMousedown)==null||E.call(e,x)},()=>{a.value=!0}),b=Xi(x=>{var E;(E=e.onFocus)==null||E.call(e,x)},x=>{const E=!h(a),{target:C,currentTarget:k}=x;if(C===k&&E&&!h(o)){const R=new Event(MR,ohe);if(k==null||k.dispatchEvent(R),!R.defaultPrevented){const P=u().filter(j=>j.focusable),O=P.find(j=>j.active),F=P.find(j=>j.id===h(s)),H=[O,F,...P].filter(Boolean).map(j=>j.ref);rx(H)}}a.value=!1}),w=Xi(x=>{var E;(E=e.onBlur)==null||E.call(e,x)},()=>{o.value=!1}),M=(...x)=>{t("entryFocus",...x)};On(sx,{currentTabbedId:sf(s),loop:Oi(e,"loop"),tabIndex:D(()=>h(o)?-1:0),rovingFocusGroupRef:l,rovingFocusGroupRootStyle:f,orientation:Oi(e,"orientation"),dir:Oi(e,"dir"),onItemFocus:p,onItemShiftTab:g,onBlur:w,onFocus:b,onMousedown:v}),et(()=>e.currentTabId,x=>{s.value=x??null}),Vi(l,MR,M)}});function lhe(e,t,i,s,o,a){return qe(e.$slots,"default")}var che=ht(ahe,[["render",lhe],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const uhe=_e({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:Qfe,ElRovingFocusGroupImpl:che}});function dhe(e,t,i,s,o,a){const l=cn("el-roving-focus-group-impl"),u=cn("el-focus-group-collection");return B(),Be(u,null,{default:ve(()=>[fe(l,Eo(f0(e.$attrs)),{default:ve(()=>[qe(e.$slots,"default")]),_:3},16)]),_:3})}var fhe=ht(uhe,[["render",dhe],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const hhe=_e({components:{ElRovingFocusCollectionItem:ehe},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:i,loop:s,onItemFocus:o,onItemShiftTab:a}=Lt(sx,void 0),{getItems:l}=Lt(ix,void 0),u=so(),f=X(null),p=Xi(w=>{t("mousedown",w)},w=>{e.focusable?o(h(u)):w.preventDefault()}),g=Xi(w=>{t("focus",w)},()=>{o(h(u))}),v=Xi(w=>{t("keydown",w)},w=>{const{key:M,shiftKey:x,target:E,currentTarget:C}=w;if(M===Xt.tab&&x){a();return}if(E!==C)return;const k=she(w);if(k){w.preventDefault();let P=l().filter(O=>O.focusable).map(O=>O.ref);switch(k){case"last":{P.reverse();break}case"prev":case"next":{k==="prev"&&P.reverse();const O=P.indexOf(C);P=s.value?rhe(P,O+1):P.slice(O+1);break}}Bt(()=>{rx(P)})}}),b=D(()=>i.value===h(u));return On(CN,{rovingFocusGroupItemRef:f,tabIndex:D(()=>h(b)?0:-1),handleMousedown:p,handleFocus:g,handleKeydown:v}),{id:u,handleKeydown:v,handleFocus:g,handleMousedown:p}}});function phe(e,t,i,s,o,a){const l=cn("el-roving-focus-collection-item");return B(),Be(l,{id:e.id,focusable:e.focusable,active:e.active},{default:ve(()=>[qe(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var mhe=ht(hhe,[["render",phe],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const bv=pt({trigger:cp.trigger,effect:{...Cs.effect,default:"light"},type:{type:De(String)},placement:{type:De(String),default:"bottom"},popperOptions:{type:De(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:De([Number,String]),default:0},maxHeight:{type:De([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:De(Object)},teleported:Cs.teleported}),TN=pt({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Pi}}),ghe=pt({onKeydown:{type:De(Function)}}),vhe=[Xt.down,Xt.pageDown,Xt.home],AN=[Xt.up,Xt.pageUp,Xt.end],yhe=[...vhe,...AN],{ElCollection:bhe,ElCollectionItem:_he,COLLECTION_INJECTION_KEY:whe,COLLECTION_ITEM_INJECTION_KEY:She}=EN("Dropdown"),q0=Symbol("elDropdown"),{ButtonGroup:xhe}=Os,Mhe=_e({name:"ElDropdown",components:{ElButton:Os,ElButtonGroup:xhe,ElScrollbar:ja,ElDropdownCollection:bhe,ElTooltip:ar,ElRovingFocusGroup:fhe,ElOnlyChild:QI,ElIcon:zt,ArrowDown:Vl},props:bv,emits:["visible-change","click","command"],setup(e,{emit:t}){const i=Tn(),s=nt("dropdown"),{t:o}=ii(),a=X(),l=X(),u=X(null),f=X(null),p=X(null),g=X(null),v=X(!1),b=[Xt.enter,Xt.space,Xt.down],w=D(()=>({maxHeight:es(e.maxHeight)})),M=D(()=>[s.m(P.value)]),x=so().value,E=D(()=>e.id||x);et([a,Oi(e,"trigger")],([te,W],[ee])=>{var J,pe,Ee;const he=Nt(W)?W:[W];(J=ee==null?void 0:ee.$el)!=null&&J.removeEventListener&&ee.$el.removeEventListener("pointerenter",F),(pe=te==null?void 0:te.$el)!=null&&pe.removeEventListener&&te.$el.removeEventListener("pointerenter",F),(Ee=te==null?void 0:te.$el)!=null&&Ee.addEventListener&&he.includes("hover")&&te.$el.addEventListener("pointerenter",F)},{immediate:!0}),Di(()=>{var te,W;(W=(te=a.value)==null?void 0:te.$el)!=null&&W.removeEventListener&&a.value.$el.removeEventListener("pointerenter",F)});function C(){k()}function k(){var te;(te=u.value)==null||te.onClose()}function R(){var te;(te=u.value)==null||te.onOpen()}const P=fs();function O(...te){t("command",...te)}function F(){var te,W;(W=(te=a.value)==null?void 0:te.$el)==null||W.focus()}function G(){}function H(){const te=h(f);te==null||te.focus(),g.value=null}function j(te){g.value=te}function q(te){v.value||(te.preventDefault(),te.stopImmediatePropagation())}function ie(){t("visible-change",!0)}function Q(te){(te==null?void 0:te.type)==="keydown"&&f.value.focus()}function Z(){t("visible-change",!1)}return On(q0,{contentRef:f,role:D(()=>e.role),triggerId:E,isUsingKeyboard:v,onItemEnter:G,onItemLeave:H}),On("elDropdown",{instance:i,dropdownSize:P,handleClick:C,commandHandler:O,trigger:Oi(e,"trigger"),hideOnClick:Oi(e,"hideOnClick")}),{t:o,ns:s,scrollbar:p,wrapStyle:w,dropdownTriggerKls:M,dropdownSize:P,triggerId:E,triggerKeys:b,currentTabId:g,handleCurrentTabIdChange:j,handlerMainButtonClick:te=>{t("click",te)},handleEntryFocus:q,handleClose:k,handleOpen:R,handleBeforeShowTooltip:ie,handleShowTooltip:Q,handleBeforeHideTooltip:Z,onFocusAfterTrapped:te=>{var W,ee;te.preventDefault(),(ee=(W=f.value)==null?void 0:W.focus)==null||ee.call(W,{preventScroll:!0})},popperRef:u,contentRef:f,triggeringElementRef:a,referenceElementRef:l}}});function Ehe(e,t,i,s,o,a){var l;const u=cn("el-dropdown-collection"),f=cn("el-roving-focus-group"),p=cn("el-scrollbar"),g=cn("el-only-child"),v=cn("el-tooltip"),b=cn("el-button"),w=cn("arrow-down"),M=cn("el-icon"),x=cn("el-button-group");return B(),ne("div",{class:U([e.ns.b(),e.ns.is("disabled",e.disabled)])},[fe(v,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(l=e.referenceElementRef)==null?void 0:l.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},Ua({content:ve(()=>[fe(p,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:ve(()=>[fe(f,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:ve(()=>[fe(u,null,{default:ve(()=>[qe(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:ve(()=>[fe(g,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:ve(()=>[qe(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(B(),Be(x,{key:0},{default:ve(()=>[fe(b,kn({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:ve(()=>[qe(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),fe(b,kn({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:ve(()=>[fe(M,{class:U(e.ns.e("icon"))},{default:ve(()=>[fe(w)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Oe("v-if",!0)],2)}var Che=ht(Mhe,[["render",Ehe],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const The=_e({name:"DropdownItemImpl",components:{ElIcon:zt},props:TN,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const i=nt("dropdown"),{role:s}=Lt(q0,void 0),{collectionItemRef:o}=Lt(She,void 0),{collectionItemRef:a}=Lt(the,void 0),{rovingFocusGroupItemRef:l,tabIndex:u,handleFocus:f,handleKeydown:p,handleMousedown:g}=Lt(CN,void 0),v=L0(o,a,l),b=D(()=>s.value==="menu"?"menuitem":s.value==="navigation"?"link":"button"),w=Xi(M=>{const{code:x}=M;if(x===Xt.enter||x===Xt.space)return M.preventDefault(),M.stopImmediatePropagation(),t("clickimpl",M),!0},p);return{ns:i,itemRef:v,dataset:{[MN]:""},role:b,tabIndex:u,handleFocus:f,handleKeydown:w,handleMousedown:g}}}),Ahe=["aria-disabled","tabindex","role"];function Rhe(e,t,i,s,o,a){const l=cn("el-icon");return B(),ne(Ft,null,[e.divided?(B(),ne("li",kn({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):Oe("v-if",!0),ae("li",kn({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t[0]||(t[0]=u=>e.$emit("clickimpl",u)),onFocus:t[1]||(t[1]=(...u)=>e.handleFocus&&e.handleFocus(...u)),onKeydown:t[2]||(t[2]=rn((...u)=>e.handleKeydown&&e.handleKeydown(...u),["self"])),onMousedown:t[3]||(t[3]=(...u)=>e.handleMousedown&&e.handleMousedown(...u)),onPointermove:t[4]||(t[4]=u=>e.$emit("pointermove",u)),onPointerleave:t[5]||(t[5]=u=>e.$emit("pointerleave",u))}),[e.icon?(B(),Be(l,{key:0},{default:ve(()=>[(B(),Be(Bn(e.icon)))]),_:1})):Oe("v-if",!0),qe(e.$slots,"default")],16,Ahe)],64)}var khe=ht(The,[["render",Rhe],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const RN=()=>{const e=Lt("elDropdown",{}),t=D(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},Phe=_e({name:"ElDropdownItem",components:{ElDropdownCollectionItem:_he,ElRovingFocusItem:mhe,ElDropdownItemImpl:khe},inheritAttrs:!1,props:TN,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:i}){const{elDropdown:s}=RN(),o=Tn(),a=X(null),l=D(()=>{var w,M;return(M=(w=h(a))==null?void 0:w.textContent)!=null?M:""}),{onItemEnter:u,onItemLeave:f}=Lt(q0,void 0),p=Xi(w=>(t("pointermove",w),w.defaultPrevented),ST(w=>{if(e.disabled){f(w);return}const M=w.currentTarget;M===document.activeElement||M.contains(document.activeElement)||(u(w),w.defaultPrevented||M==null||M.focus())})),g=Xi(w=>(t("pointerleave",w),w.defaultPrevented),ST(w=>{f(w)})),v=Xi(w=>{if(!e.disabled)return t("click",w),w.type!=="keydown"&&w.defaultPrevented},w=>{var M,x,E;if(e.disabled){w.stopImmediatePropagation();return}(M=s==null?void 0:s.hideOnClick)!=null&&M.value&&((x=s.handleClick)==null||x.call(s)),(E=s.commandHandler)==null||E.call(s,e.command,o,w)}),b=D(()=>({...e,...i}));return{handleClick:v,handlePointerMove:p,handlePointerLeave:g,textContent:l,propsAndAttrs:b}}});function Ihe(e,t,i,s,o,a){var l;const u=cn("el-dropdown-item-impl"),f=cn("el-roving-focus-item"),p=cn("el-dropdown-collection-item");return B(),Be(p,{disabled:e.disabled,"text-value":(l=e.textValue)!=null?l:e.textContent},{default:ve(()=>[fe(f,{focusable:!e.disabled},{default:ve(()=>[fe(u,kn(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:ve(()=>[qe(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var kN=ht(Phe,[["render",Ihe],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const Lhe=_e({name:"ElDropdownMenu",props:ghe,setup(e){const t=nt("dropdown"),{_elDropdownSize:i}=RN(),s=i.value,{focusTrapRef:o,onKeydown:a}=Lt(KS,void 0),{contentRef:l,role:u,triggerId:f}=Lt(q0,void 0),{collectionRef:p,getItems:g}=Lt(whe,void 0),{rovingFocusGroupRef:v,rovingFocusGroupRootStyle:b,tabIndex:w,onBlur:M,onFocus:x,onMousedown:E}=Lt(sx,void 0),{collectionRef:C}=Lt(ix,void 0),k=D(()=>[t.b("menu"),t.bm("menu",s==null?void 0:s.value)]),R=L0(l,p,o,v,C),P=Xi(F=>{var G;(G=e.onKeydown)==null||G.call(e,F)},F=>{const{currentTarget:G,code:H,target:j}=F;if(G.contains(j),Xt.tab===H&&F.stopImmediatePropagation(),F.preventDefault(),j!==h(l)||!yhe.includes(H))return;const ie=g().filter(Q=>!Q.disabled).map(Q=>Q.ref);AN.includes(H)&&ie.reverse(),rx(ie)});return{size:s,rovingFocusGroupRootStyle:b,tabIndex:w,dropdownKls:k,role:u,triggerId:f,dropdownListWrapperRef:R,handleKeydown:F=>{P(F),a(F)},onBlur:M,onFocus:x,onMousedown:E}}}),Nhe=["role","aria-labelledby"];function Ohe(e,t,i,s,o,a){return B(),ne("ul",{ref:e.dropdownListWrapperRef,class:U(e.dropdownKls),style:Wt(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:t[0]||(t[0]=(...l)=>e.onBlur&&e.onBlur(...l)),onFocus:t[1]||(t[1]=(...l)=>e.onFocus&&e.onFocus(...l)),onKeydown:t[2]||(t[2]=rn((...l)=>e.handleKeydown&&e.handleKeydown(...l),["self"])),onMousedown:t[3]||(t[3]=rn((...l)=>e.onMousedown&&e.onMousedown(...l),["self"]))},[qe(e.$slots,"default")],46,Nhe)}var PN=ht(Lhe,[["render",Ohe],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const Dhe=Cn(Che,{DropdownItem:kN,DropdownMenu:PN}),Fhe=Yi(kN),Bhe=Yi(PN),zhe={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},$he=["id"],Uhe=["stop-color"],Vhe=["stop-color"],Hhe=["id"],Whe=["stop-color"],Ghe=["stop-color"],Khe=["id"],qhe={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},jhe={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},Xhe={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},Yhe=["fill"],Zhe=["fill"],Jhe={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},Qhe=["fill"],epe=["fill"],tpe=["fill"],npe=["fill"],ipe=["fill"],spe={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},rpe=["fill","xlink:href"],ope=["fill","mask"],ape=["fill"],lpe=_e({name:"ImgEmpty"}),cpe=_e({...lpe,setup(e){const t=nt("empty"),i=so();return(s,o)=>(B(),ne("svg",zhe,[ae("defs",null,[ae("linearGradient",{id:`linearGradient-1-${h(i)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[ae("stop",{"stop-color":`var(${h(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,Uhe),ae("stop",{"stop-color":`var(${h(t).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,Vhe)],8,$he),ae("linearGradient",{id:`linearGradient-2-${h(i)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[ae("stop",{"stop-color":`var(${h(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,Whe),ae("stop",{"stop-color":`var(${h(t).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,Ghe)],8,Hhe),ae("rect",{id:`path-3-${h(i)}`,x:"0",y:"0",width:"17",height:"36"},null,8,Khe)]),ae("g",qhe,[ae("g",jhe,[ae("g",Xhe,[ae("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${h(t).cssVarBlockName("fill-color-3")})`},null,8,Yhe),ae("polygon",{id:"Rectangle-Copy-14",fill:`var(${h(t).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,Zhe),ae("g",Jhe,[ae("polygon",{id:"Rectangle-Copy-10",fill:`var(${h(t).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,Qhe),ae("polygon",{id:"Rectangle-Copy-11",fill:`var(${h(t).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,epe),ae("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${h(i)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,tpe),ae("polygon",{id:"Rectangle-Copy-13",fill:`var(${h(t).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,npe)]),ae("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${h(i)})`,x:"13",y:"45",width:"40",height:"36"},null,8,ipe),ae("g",spe,[ae("use",{id:"Mask",fill:`var(${h(t).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${h(i)}`},null,8,rpe),ae("polygon",{id:"Rectangle-Copy",fill:`var(${h(t).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${h(i)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,ope)]),ae("polygon",{id:"Rectangle-Copy-18",fill:`var(${h(t).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,ape)])])])]))}});var upe=ht(cpe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/img-empty.vue"]]);const dpe=pt({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),fpe=["src"],hpe={key:1},ppe=_e({name:"ElEmpty"}),mpe=_e({...ppe,props:dpe,setup(e){const t=e,{t:i}=ii(),s=nt("empty"),o=D(()=>t.description||i("el.table.emptyText")),a=D(()=>({width:es(t.imageSize)}));return(l,u)=>(B(),ne("div",{class:U(h(s).b())},[ae("div",{class:U(h(s).e("image")),style:Wt(h(a))},[l.image?(B(),ne("img",{key:0,src:l.image,ondragstart:"return false"},null,8,fpe)):qe(l.$slots,"image",{key:1},()=>[fe(upe)])],6),ae("div",{class:U(h(s).e("description"))},[l.$slots.description?qe(l.$slots,"description",{key:0}):(B(),ne("p",hpe,ft(h(o)),1))],2),l.$slots.default?(B(),ne("div",{key:0,class:U(h(s).e("bottom"))},[qe(l.$slots,"default")],2)):Oe("v-if",!0)],2))}});var gpe=ht(mpe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/empty.vue"]]);const IN=Cn(gpe),vpe=pt({urlList:{type:De(Array),default:()=>Ui([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:{type:Boolean,default:!1},teleported:{type:Boolean,default:!1},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),ype={close:()=>!0,switch:e=>on(e)},bpe=["src"],_pe=_e({name:"ElImageViewer"}),wpe=_e({..._pe,props:vpe,emits:ype,setup(e,{expose:t,emit:i}){const s=e,o={CONTAIN:{name:"contain",icon:Uc(yJ)},ORIGINAL:{name:"original",icon:Uc(KQ)}},{t:a}=ii(),l=nt("image-viewer"),{nextZIndex:u}=uf(),f=X(),p=X([]),g=B8(),v=X(!0),b=X(s.initialIndex),w=ki(o.CONTAIN),M=X({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),x=D(()=>{const{urlList:W}=s;return W.length<=1}),E=D(()=>b.value===0),C=D(()=>b.value===s.urlList.length-1),k=D(()=>s.urlList[b.value]),R=D(()=>{const{scale:W,deg:ee,offsetX:J,offsetY:pe,enableTransition:Ee}=M.value;let he=J/W,Ce=pe/W;switch(ee%360){case 90:case-270:[he,Ce]=[Ce,-he];break;case 180:case-180:[he,Ce]=[-he,-Ce];break;case 270:case-90:[he,Ce]=[-Ce,he];break}const Ge={transform:`scale(${W}) rotate(${ee}deg) translate(${he}px, ${Ce}px)`,transition:Ee?"transform .3s":""};return w.value.name===o.CONTAIN.name&&(Ge.maxWidth=Ge.maxHeight="100%"),Ge}),P=D(()=>on(s.zIndex)?s.zIndex:u());function O(){G(),i("close")}function F(){const W=Wc(J=>{switch(J.code){case Xt.esc:s.closeOnPressEscape&&O();break;case Xt.space:Q();break;case Xt.left:re();break;case Xt.up:te("zoomIn");break;case Xt.right:ce();break;case Xt.down:te("zoomOut");break}}),ee=Wc(J=>{const pe=J.deltaY||J.deltaX;te(pe<0?"zoomIn":"zoomOut",{zoomRate:s.zoomRate,enableTransition:!1})});g.run(()=>{Vi(document,"keydown",W),Vi(document,"wheel",ee)})}function G(){g.stop()}function H(){v.value=!1}function j(W){v.value=!1,W.target.alt=a("el.image.error")}function q(W){if(v.value||W.button!==0||!f.value)return;M.value.enableTransition=!1;const{offsetX:ee,offsetY:J}=M.value,pe=W.pageX,Ee=W.pageY,he=Wc(Ge=>{M.value={...M.value,offsetX:ee+Ge.pageX-pe,offsetY:J+Ge.pageY-Ee}}),Ce=Vi(document,"mousemove",he);Vi(document,"mouseup",()=>{Ce()}),W.preventDefault()}function ie(){M.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function Q(){if(v.value)return;const W=np(o),ee=Object.values(o),J=w.value.name,Ee=(ee.findIndex(he=>he.name===J)+1)%W.length;w.value=o[W[Ee]],ie()}function Z(W){const ee=s.urlList.length;b.value=(W+ee)%ee}function re(){E.value&&!s.infinite||Z(b.value-1)}function ce(){C.value&&!s.infinite||Z(b.value+1)}function te(W,ee={}){if(v.value)return;const{zoomRate:J,rotateDeg:pe,enableTransition:Ee}={zoomRate:s.zoomRate,rotateDeg:90,enableTransition:!0,...ee};switch(W){case"zoomOut":M.value.scale>.2&&(M.value.scale=Number.parseFloat((M.value.scale/J).toFixed(3)));break;case"zoomIn":M.value.scale<7&&(M.value.scale=Number.parseFloat((M.value.scale*J).toFixed(3)));break;case"clockwise":M.value.deg+=pe;break;case"anticlockwise":M.value.deg-=pe;break}M.value.enableTransition=Ee}return et(k,()=>{Bt(()=>{const W=p.value[0];W!=null&&W.complete||(v.value=!0)})}),et(b,W=>{ie(),i("switch",W)}),_n(()=>{var W,ee;F(),(ee=(W=f.value)==null?void 0:W.focus)==null||ee.call(W)}),t({setActiveItem:Z}),(W,ee)=>(B(),Be(Sp,{to:"body",disabled:!W.teleported},[fe(ns,{name:"viewer-fade",appear:""},{default:ve(()=>[ae("div",{ref_key:"wrapper",ref:f,tabindex:-1,class:U(h(l).e("wrapper")),style:Wt({zIndex:h(P)})},[ae("div",{class:U(h(l).e("mask")),onClick:ee[0]||(ee[0]=rn(J=>W.hideOnClickModal&&O(),["self"]))},null,2),Oe(" CLOSE "),ae("span",{class:U([h(l).e("btn"),h(l).e("close")]),onClick:O},[fe(h(zt),null,{default:ve(()=>[fe(h(Lo))]),_:1})],2),Oe(" ARROW "),h(x)?Oe("v-if",!0):(B(),ne(Ft,{key:0},[ae("span",{class:U([h(l).e("btn"),h(l).e("prev"),h(l).is("disabled",!W.infinite&&h(E))]),onClick:re},[fe(h(zt),null,{default:ve(()=>[fe(h(Ol))]),_:1})],2),ae("span",{class:U([h(l).e("btn"),h(l).e("next"),h(l).is("disabled",!W.infinite&&h(C))]),onClick:ce},[fe(h(zt),null,{default:ve(()=>[fe(h(nr))]),_:1})],2)],64)),Oe(" ACTIONS "),ae("div",{class:U([h(l).e("btn"),h(l).e("actions")])},[ae("div",{class:U(h(l).e("actions__inner"))},[fe(h(zt),{onClick:ee[1]||(ee[1]=J=>te("zoomOut"))},{default:ve(()=>[fe(h(ete))]),_:1}),fe(h(zt),{onClick:ee[2]||(ee[2]=J=>te("zoomIn"))},{default:ve(()=>[fe(h(nI))]),_:1}),ae("i",{class:U(h(l).e("actions__divider"))},null,2),fe(h(zt),{onClick:Q},{default:ve(()=>[(B(),Be(Bn(h(w).icon)))]),_:1}),ae("i",{class:U(h(l).e("actions__divider"))},null,2),fe(h(zt),{onClick:ee[3]||(ee[3]=J=>te("anticlockwise"))},{default:ve(()=>[fe(h(NQ))]),_:1}),fe(h(zt),{onClick:ee[4]||(ee[4]=J=>te("clockwise"))},{default:ve(()=>[fe(h($Q))]),_:1})],2)],2),Oe(" CANVAS "),ae("div",{class:U(h(l).e("canvas"))},[(B(!0),ne(Ft,null,Un(W.urlList,(J,pe)=>gn((B(),ne("img",{ref_for:!0,ref:Ee=>p.value[pe]=Ee,key:J,src:J,style:Wt(h(R)),class:U(h(l).e("img")),onLoad:H,onError:j,onMousedown:q},null,46,bpe)),[[oi,pe===b.value]])),128))],2),qe(W.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var Spe=ht(wpe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const LN=Cn(Spe),xpe=pt({hideOnClickModal:{type:Boolean,default:!1},src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:{type:Boolean,default:!1},scrollContainer:{type:De([String,Object])},previewSrcList:{type:De(Array),default:()=>Ui([])},previewTeleported:{type:Boolean,default:!1},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),Mpe={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>on(e),close:()=>!0,show:()=>!0},Epe=["src","loading"],Cpe={key:0},Tpe=_e({name:"ElImage",inheritAttrs:!1}),Ape=_e({...Tpe,props:xpe,emits:Mpe,setup(e,{emit:t}){const i=e;let s="";const{t:o}=ii(),a=nt("image"),l=of(),u=kS(),f=X(),p=X(!1),g=X(!0),v=X(!1),b=X(),w=X(),M=Jn&&"loading"in HTMLImageElement.prototype;let x,E;const C=D(()=>l.style),k=D(()=>{const{fit:W}=i;return Jn&&W?{objectFit:W}:{}}),R=D(()=>{const{previewSrcList:W}=i;return Array.isArray(W)&&W.length>0}),P=D(()=>{const{previewSrcList:W,initialIndex:ee}=i;let J=ee;return ee>W.length-1&&(J=0),J}),O=D(()=>i.loading==="eager"?!1:!M&&i.loading==="lazy"||i.lazy),F=()=>{Jn&&(g.value=!0,p.value=!1,f.value=i.src)};function G(W){g.value=!1,p.value=!1,t("load",W)}function H(W){g.value=!1,p.value=!0,t("error",W)}function j(){o9(b.value,w.value)&&(F(),Q())}const q=u3(j,200);async function ie(){var W;if(!Jn)return;await Bt();const{scrollContainer:ee}=i;Io(ee)?w.value=ee:un(ee)&&ee!==""?w.value=(W=document.querySelector(ee))!=null?W:void 0:b.value&&(w.value=ES(b.value)),w.value&&(x=Vi(w,"scroll",q),setTimeout(()=>j(),100))}function Q(){!Jn||!w.value||!q||(x==null||x(),w.value=void 0)}function Z(W){if(W.ctrlKey){if(W.deltaY<0)return W.preventDefault(),!1;if(W.deltaY>0)return W.preventDefault(),!1}}function re(){R.value&&(E=Vi("wheel",Z,{passive:!1}),s=document.body.style.overflow,document.body.style.overflow="hidden",v.value=!0,t("show"))}function ce(){E==null||E(),document.body.style.overflow=s,v.value=!1,t("close")}function te(W){t("switch",W)}return et(()=>i.src,()=>{O.value?(g.value=!0,p.value=!1,Q(),ie()):F()}),_n(()=>{O.value?ie():F()}),(W,ee)=>(B(),ne("div",{ref_key:"container",ref:b,class:U([h(a).b(),W.$attrs.class]),style:Wt(h(C))},[p.value?qe(W.$slots,"error",{key:0},()=>[ae("div",{class:U(h(a).e("error"))},ft(h(o)("el.image.error")),3)]):(B(),ne(Ft,{key:1},[f.value!==void 0?(B(),ne("img",kn({key:0},h(u),{src:f.value,loading:W.loading,style:h(k),class:[h(a).e("inner"),h(R)&&h(a).e("preview"),g.value&&h(a).is("loading")],onClick:re,onLoad:G,onError:H}),null,16,Epe)):Oe("v-if",!0),g.value?(B(),ne("div",{key:1,class:U(h(a).e("wrapper"))},[qe(W.$slots,"placeholder",{},()=>[ae("div",{class:U(h(a).e("placeholder"))},null,2)])],2)):Oe("v-if",!0)],64)),h(R)?(B(),ne(Ft,{key:2},[v.value?(B(),Be(h(LN),{key:0,"z-index":W.zIndex,"initial-index":h(P),infinite:W.infinite,"zoom-rate":W.zoomRate,"url-list":W.previewSrcList,"hide-on-click-modal":W.hideOnClickModal,teleported:W.previewTeleported,"close-on-press-escape":W.closeOnPressEscape,onClose:ce,onSwitch:te},{default:ve(()=>[W.$slots.viewer?(B(),ne("div",Cpe,[qe(W.$slots,"viewer")])):Oe("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):Oe("v-if",!0)],64)):Oe("v-if",!0)],6))}});var Rpe=ht(Ape,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const kpe=Cn(Rpe),Ppe=pt({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Ds,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||on(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),Ipe={[Ii]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[ir]:e=>on(e)||us(e),[Rn]:e=>on(e)||us(e)},Lpe=["aria-label","onKeydown"],Npe=["aria-label","onKeydown"],Ope=_e({name:"ElInputNumber"}),Dpe=_e({...Ope,props:Ppe,emits:Ipe,setup(e,{expose:t,emit:i}){const s=e,{t:o}=ii(),a=nt("input-number"),l=X(),u=ai({currentValue:s.modelValue,userInput:null}),{formItem:f}=lr(),p=D(()=>on(s.modelValue)&&s.modelValue<=s.min),g=D(()=>on(s.modelValue)&&s.modelValue>=s.max),v=D(()=>{const Z=C(s.step);return Ts(s.precision)?Math.max(C(s.modelValue),Z):(Z>s.precision,s.precision)}),b=D(()=>s.controls&&s.controlsPosition==="right"),w=fs(),M=_r(),x=D(()=>{if(u.userInput!==null)return u.userInput;let Z=u.currentValue;if(us(Z))return"";if(on(Z)){if(Number.isNaN(Z))return"";Ts(s.precision)||(Z=Z.toFixed(s.precision))}return Z}),E=(Z,re)=>{if(Ts(re)&&(re=v.value),re===0)return Math.round(Z);let ce=String(Z);const te=ce.indexOf(".");if(te===-1||!ce.replace(".","").split("")[te+re])return Z;const J=ce.length;return ce.charAt(J-1)==="5"&&(ce=`${ce.slice(0,Math.max(0,J-1))}6`),Number.parseFloat(Number(ce).toFixed(re))},C=Z=>{if(us(Z))return 0;const re=Z.toString(),ce=re.indexOf(".");let te=0;return ce!==-1&&(te=re.length-ce-1),te},k=(Z,re=1)=>on(Z)?E(Z+s.step*re):u.currentValue,R=()=>{if(s.readonly||M.value||g.value)return;const Z=Number(x.value)||0,re=k(Z);F(re),i(ir,u.currentValue)},P=()=>{if(s.readonly||M.value||p.value)return;const Z=Number(x.value)||0,re=k(Z,-1);F(re),i(ir,u.currentValue)},O=(Z,re)=>{const{max:ce,min:te,step:W,precision:ee,stepStrictly:J,valueOnClear:pe}=s;let Ee=Number(Z);if(us(Z)||Number.isNaN(Ee))return null;if(Z===""){if(pe===null)return null;Ee=un(pe)?{min:te,max:ce}[pe]:pe}return J&&(Ee=E(Math.round(Ee/W)*W,ee)),Ts(ee)||(Ee=E(Ee,ee)),(Ee>ce||Ee<te)&&(Ee=Ee>ce?ce:te,re&&i(Rn,Ee)),Ee},F=(Z,re=!0)=>{var ce;const te=u.currentValue,W=O(Z);if(!re){i(Rn,W);return}te!==W&&(u.userInput=null,i(Rn,W),i(Ii,W,te),s.validateEvent&&((ce=f==null?void 0:f.validate)==null||ce.call(f,"change").catch(ee=>void 0)),u.currentValue=W)},G=Z=>{u.userInput=Z;const re=Z===""?null:Number(Z);i(ir,re),F(re,!1)},H=Z=>{const re=Z!==""?Number(Z):"";(on(re)&&!Number.isNaN(re)||Z==="")&&F(re),u.userInput=null},j=()=>{var Z,re;(re=(Z=l.value)==null?void 0:Z.focus)==null||re.call(Z)},q=()=>{var Z,re;(re=(Z=l.value)==null?void 0:Z.blur)==null||re.call(Z)},ie=Z=>{i("focus",Z)},Q=Z=>{var re;i("blur",Z),s.validateEvent&&((re=f==null?void 0:f.validate)==null||re.call(f,"blur").catch(ce=>void 0))};return et(()=>s.modelValue,Z=>{const re=O(u.userInput),ce=O(Z,!0);!on(re)&&(!re||re!==ce)&&(u.currentValue=ce,u.userInput=null)},{immediate:!0}),_n(()=>{var Z;const{min:re,max:ce,modelValue:te}=s,W=(Z=l.value)==null?void 0:Z.input;if(W.setAttribute("role","spinbutton"),Number.isFinite(ce)?W.setAttribute("aria-valuemax",String(ce)):W.removeAttribute("aria-valuemax"),Number.isFinite(re)?W.setAttribute("aria-valuemin",String(re)):W.removeAttribute("aria-valuemin"),W.setAttribute("aria-valuenow",String(u.currentValue)),W.setAttribute("aria-disabled",String(M.value)),!on(te)&&te!=null){let ee=Number(te);Number.isNaN(ee)&&(ee=null),i(Rn,ee)}}),Ga(()=>{var Z;const re=(Z=l.value)==null?void 0:Z.input;re==null||re.setAttribute("aria-valuenow",`${u.currentValue}`)}),t({focus:j,blur:q}),(Z,re)=>(B(),ne("div",{class:U([h(a).b(),h(a).m(h(w)),h(a).is("disabled",h(M)),h(a).is("without-controls",!Z.controls),h(a).is("controls-right",h(b))]),onDragstart:re[1]||(re[1]=rn(()=>{},["prevent"]))},[Z.controls?gn((B(),ne("span",{key:0,role:"button","aria-label":h(o)("el.inputNumber.decrease"),class:U([h(a).e("decrease"),h(a).is("disabled",h(p))]),onKeydown:ei(P,["enter"])},[fe(h(zt),null,{default:ve(()=>[h(b)?(B(),Be(h(Vl),{key:0})):(B(),Be(h(eQ),{key:1}))]),_:1})],42,Lpe)),[[h(Wv),P]]):Oe("v-if",!0),Z.controls?gn((B(),ne("span",{key:1,role:"button","aria-label":h(o)("el.inputNumber.increase"),class:U([h(a).e("increase"),h(a).is("disabled",h(g))]),onKeydown:ei(R,["enter"])},[fe(h(zt),null,{default:ve(()=>[h(b)?(B(),Be(h(P0),{key:0})):(B(),Be(h(eI),{key:1}))]),_:1})],42,Npe)),[[h(Wv),R]]):Oe("v-if",!0),fe(h(Ws),{id:Z.id,ref_key:"input",ref:l,type:"number",step:Z.step,"model-value":h(x),placeholder:Z.placeholder,readonly:Z.readonly,disabled:h(M),size:h(w),max:Z.max,min:Z.min,name:Z.name,label:Z.label,"validate-event":!1,onWheel:re[0]||(re[0]=rn(()=>{},["prevent"])),onKeydown:[ei(rn(R,["prevent"]),["up"]),ei(rn(P,["prevent"]),["down"])],onBlur:Q,onFocus:ie,onInput:G,onChange:H},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var Fpe=ht(Dpe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const NN=Cn(Fpe),Bpe=pt({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:Pi}}),zpe={click:e=>e instanceof MouseEvent},$pe=["href"],Upe=_e({name:"ElLink"}),Vpe=_e({...Upe,props:Bpe,emits:zpe,setup(e,{emit:t}){const i=e,s=nt("link"),o=D(()=>[s.b(),s.m(i.type),s.is("disabled",i.disabled),s.is("underline",i.underline&&!i.disabled)]);function a(l){i.disabled||t("click",l)}return(l,u)=>(B(),ne("a",{class:U(h(o)),href:l.disabled||!l.href?void 0:l.href,onClick:a},[l.icon?(B(),Be(h(zt),{key:0},{default:ve(()=>[(B(),Be(Bn(l.icon)))]),_:1})):Oe("v-if",!0),l.$slots.default?(B(),ne("span",{key:1,class:U(h(s).e("inner"))},[qe(l.$slots,"default")],2)):Oe("v-if",!0),l.$slots.icon?qe(l.$slots,"icon",{key:2}):Oe("v-if",!0)],10,$pe))}});var Hpe=ht(Vpe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const Wpe=Cn(Hpe);let Gpe=class{constructor(t,i){this.parent=t,this.domNode=i,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t}addListeners(){const t=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,i=>{i.addEventListener("keydown",s=>{let o=!1;switch(s.code){case Xt.down:{this.gotoSubIndex(this.subIndex+1),o=!0;break}case Xt.up:{this.gotoSubIndex(this.subIndex-1),o=!0;break}case Xt.tab:{rv(t,"mouseleave");break}case Xt.enter:case Xt.space:{o=!0,s.currentTarget.click();break}}return o&&(s.preventDefault(),s.stopPropagation()),!1})})}},Kpe=class{constructor(t,i){this.domNode=t,this.submenu=null,this.submenu=null,this.init(i)}init(t){this.domNode.setAttribute("tabindex","0");const i=this.domNode.querySelector(`.${t}-menu`);i&&(this.submenu=new Gpe(this,i)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",t=>{let i=!1;switch(t.code){case Xt.down:{rv(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),i=!0;break}case Xt.up:{rv(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),i=!0;break}case Xt.tab:{rv(t.currentTarget,"mouseleave");break}case Xt.enter:case Xt.space:{i=!0,t.currentTarget.click();break}}i&&t.preventDefault()})}},qpe=class{constructor(t,i){this.domNode=t,this.init(i)}init(t){const i=this.domNode.childNodes;Array.from(i).forEach(s=>{s.nodeType===1&&new Kpe(s,t)})}};const jpe=_e({name:"ElMenuCollapseTransition",setup(){const e=nt("menu");return{listeners:{onBeforeEnter:i=>i.style.opacity="0.2",onEnter(i,s){Zo(i,`${e.namespace.value}-opacity-transition`),i.style.opacity="1",s()},onAfterEnter(i){gr(i,`${e.namespace.value}-opacity-transition`),i.style.opacity=""},onBeforeLeave(i){i.dataset||(i.dataset={}),Ro(i,e.m("collapse"))?(gr(i,e.m("collapse")),i.dataset.oldOverflow=i.style.overflow,i.dataset.scrollWidth=i.clientWidth.toString(),Zo(i,e.m("collapse"))):(Zo(i,e.m("collapse")),i.dataset.oldOverflow=i.style.overflow,i.dataset.scrollWidth=i.clientWidth.toString(),gr(i,e.m("collapse"))),i.style.width=`${i.scrollWidth}px`,i.style.overflow="hidden"},onLeave(i){Zo(i,"horizontal-collapse-transition"),i.style.width=`${i.dataset.scrollWidth}px`}}}}});function Xpe(e,t,i,s,o,a){return B(),Be(ns,kn({mode:"out-in"},e.listeners),{default:ve(()=>[qe(e.$slots,"default")]),_:3},16)}var Ype=ht(jpe,[["render",Xpe],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function ON(e,t){const i=D(()=>{let o=e.parent;const a=[t.value];for(;o.type.name!=="ElMenu";)o.props.index&&a.unshift(o.props.index),o=o.parent;return a});return{parentMenu:D(()=>{let o=e.parent;for(;o&&!["ElMenu","ElSubMenu"].includes(o.type.name);)o=o.parent;return o}),indexPath:i}}function Zpe(e){return D(()=>{const i=e.backgroundColor;return i?new fL(i).shade(20).toString():""})}const DN=(e,t)=>{const i=nt("menu");return D(()=>i.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":Zpe(e).value||"","active-color":e.activeTextColor||"",level:`${t}`}))},Jpe=pt({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:Pi},expandOpenIcon:{type:Pi},collapseCloseIcon:{type:Pi},collapseOpenIcon:{type:Pi}}),Gg="ElSubMenu";var ox=_e({name:Gg,props:Jpe,setup(e,{slots:t,expose:i}){ta({from:"popper-append-to-body",replacement:"teleported",scope:Gg,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},D(()=>e.popperAppendToBody!==void 0));const s=Tn(),{indexPath:o,parentMenu:a}=ON(s,D(()=>e.index)),l=nt("menu"),u=nt("sub-menu"),f=Lt("rootMenu");f||vs(Gg,"can not inject root menu");const p=Lt(`subMenu:${a.value.uid}`);p||vs(Gg,"can not inject sub menu");const g=X({}),v=X({});let b;const w=X(!1),M=X(),x=X(null),E=D(()=>ie.value==="horizontal"&&k.value?"bottom-start":"right-start"),C=D(()=>ie.value==="horizontal"&&k.value||ie.value==="vertical"&&!f.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?F.value?e.expandOpenIcon:e.expandCloseIcon:Vl:e.collapseCloseIcon&&e.collapseOpenIcon?F.value?e.collapseOpenIcon:e.collapseCloseIcon:nr),k=D(()=>p.level===0),R=D(()=>{var pe;const Ee=(pe=e.teleported)!=null?pe:e.popperAppendToBody;return Ee===void 0?k.value:Ee}),P=D(()=>f.props.collapse?`${l.namespace.value}-zoom-in-left`:`${l.namespace.value}-zoom-in-top`),O=D(()=>ie.value==="horizontal"&&k.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"]),F=D(()=>f.openedMenus.includes(e.index)),G=D(()=>{let pe=!1;return Object.values(g.value).forEach(Ee=>{Ee.active&&(pe=!0)}),Object.values(v.value).forEach(Ee=>{Ee.active&&(pe=!0)}),pe}),H=D(()=>f.props.backgroundColor||""),j=D(()=>f.props.activeTextColor||""),q=D(()=>f.props.textColor||""),ie=D(()=>f.props.mode),Q=ai({index:e.index,indexPath:o,active:G}),Z=DN(f.props,p.level+1),re=D(()=>ie.value!=="horizontal"?{color:q.value}:{borderBottomColor:G.value?f.props.activeTextColor?j.value:"":"transparent",color:G.value?j.value:q.value}),ce=()=>{var pe,Ee,he;return(he=(Ee=(pe=x.value)==null?void 0:pe.popperRef)==null?void 0:Ee.popperInstanceRef)==null?void 0:he.destroy()},te=pe=>{pe||ce()},W=()=>{f.props.menuTrigger==="hover"&&f.props.mode==="horizontal"||f.props.collapse&&f.props.mode==="vertical"||e.disabled||f.handleSubMenuClick({index:e.index,indexPath:o.value,active:G.value})},ee=(pe,Ee=e.showTimeout)=>{var he;pe.type!=="focus"&&(f.props.menuTrigger==="click"&&f.props.mode==="horizontal"||!f.props.collapse&&f.props.mode==="vertical"||e.disabled||(p.mouseInChild.value=!0,b==null||b(),{stop:b}=Zc(()=>{f.openMenu(e.index,o.value)},Ee),R.value&&((he=a.value.vnode.el)==null||he.dispatchEvent(new MouseEvent("mouseenter")))))},J=(pe=!1)=>{var Ee,he;f.props.menuTrigger==="click"&&f.props.mode==="horizontal"||!f.props.collapse&&f.props.mode==="vertical"||(b==null||b(),p.mouseInChild.value=!1,{stop:b}=Zc(()=>!w.value&&f.closeMenu(e.index,o.value),e.hideTimeout),R.value&&pe&&((Ee=s.parent)==null?void 0:Ee.type.name)==="ElSubMenu"&&((he=p.handleMouseleave)==null||he.call(p,!0)))};et(()=>f.props.collapse,pe=>te(!!pe));{const pe=he=>{v.value[he.index]=he},Ee=he=>{delete v.value[he.index]};On(`subMenu:${s.uid}`,{addSubMenu:pe,removeSubMenu:Ee,handleMouseleave:J,mouseInChild:w,level:p.level+1})}return i({opened:F}),_n(()=>{f.addSubMenu(Q),p.addSubMenu(Q)}),Di(()=>{p.removeSubMenu(Q),f.removeSubMenu(Q)}),()=>{var pe;const Ee=[(pe=t.title)==null?void 0:pe.call(t),Yt(zt,{class:u.e("icon-arrow"),style:{transform:F.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&f.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>un(C.value)?Yt(s.appContext.components[C.value]):Yt(C.value)})],he=f.isMenuPopup?Yt(ar,{ref:x,visible:F.value,effect:"light",pure:!0,offset:e.popperOffset,showArrow:!1,persistent:!0,popperClass:e.popperClass,placement:E.value,teleported:R.value,fallbackPlacements:O.value,transition:P.value,gpuAcceleration:!1},{content:()=>{var Ce;return Yt("div",{class:[l.m(ie.value),l.m("popup-container"),e.popperClass],onMouseenter:Ge=>ee(Ge,100),onMouseleave:()=>J(!0),onFocus:Ge=>ee(Ge,100)},[Yt("ul",{class:[l.b(),l.m("popup"),l.m(`popup-${E.value}`)],style:Z.value},[(Ce=t.default)==null?void 0:Ce.call(t)])])},default:()=>Yt("div",{class:u.e("title"),style:[re.value,{backgroundColor:H.value}],onClick:W},Ee)}):Yt(Ft,{},[Yt("div",{class:u.e("title"),style:[re.value,{backgroundColor:H.value}],ref:M,onClick:W},Ee),Yt(K0,{},{default:()=>{var Ce;return gn(Yt("ul",{role:"menu",class:[l.b(),l.m("inline")],style:Z.value},[(Ce=t.default)==null?void 0:Ce.call(t)]),[[oi,F.value]])}})]);return Yt("li",{class:[u.b(),u.is("active",G.value),u.is("opened",F.value),u.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:F.value,onMouseenter:ee,onMouseleave:()=>J(!0),onFocus:ee},[he])}}});const Qpe=pt({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:De(Array),default:()=>Ui([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),G_=e=>Array.isArray(e)&&e.every(t=>un(t)),eme={close:(e,t)=>un(e)&&G_(t),open:(e,t)=>un(e)&&G_(t),select:(e,t,i,s)=>un(e)&&G_(t)&&Pn(i)&&(s===void 0||s instanceof Promise)};var tme=_e({name:"ElMenu",props:Qpe,emits:eme,setup(e,{emit:t,slots:i,expose:s}){const o=Tn(),a=o.appContext.config.globalProperties.$router,l=X(),u=nt("menu"),f=nt("sub-menu"),p=X(-1),g=X(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),v=X(e.defaultActive),b=X({}),w=X({}),M=D(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),x=()=>{const ie=v.value&&b.value[v.value];if(!ie||e.mode==="horizontal"||e.collapse)return;ie.indexPath.forEach(Z=>{const re=w.value[Z];re&&E(Z,re.indexPath)})},E=(ie,Q)=>{g.value.includes(ie)||(e.uniqueOpened&&(g.value=g.value.filter(Z=>Q.includes(Z))),g.value.push(ie),t("open",ie,Q))},C=ie=>{const Q=g.value.indexOf(ie);Q!==-1&&g.value.splice(Q,1)},k=(ie,Q)=>{C(ie),t("close",ie,Q)},R=({index:ie,indexPath:Q})=>{g.value.includes(ie)?k(ie,Q):E(ie,Q)},P=ie=>{(e.mode==="horizontal"||e.collapse)&&(g.value=[]);const{index:Q,indexPath:Z}=ie;if(!(us(Q)||us(Z)))if(e.router&&a){const re=ie.route||Q,ce=a.push(re).then(te=>(te||(v.value=Q),te));t("select",Q,Z,{index:Q,indexPath:Z,route:re},ce)}else v.value=Q,t("select",Q,Z,{index:Q,indexPath:Z})},O=ie=>{const Q=b.value,Z=Q[ie]||v.value&&Q[v.value]||Q[e.defaultActive];Z?v.value=Z.index:v.value=ie},F=()=>{var ie,Q;if(!l.value)return-1;const Z=Array.from((Q=(ie=l.value)==null?void 0:ie.childNodes)!=null?Q:[]).filter(pe=>pe.nodeName!=="#text"||pe.nodeValue),re=64,ce=Number.parseInt(getComputedStyle(l.value).paddingLeft,10),te=Number.parseInt(getComputedStyle(l.value).paddingRight,10),W=l.value.clientWidth-ce-te;let ee=0,J=0;return Z.forEach((pe,Ee)=>{ee+=pe.offsetWidth||0,ee<=W-re&&(J=Ee+1)}),J===Z.length?-1:J},G=(ie,Q=33.34)=>{let Z;return()=>{Z&&clearTimeout(Z),Z=setTimeout(()=>{ie()},Q)}};let H=!0;const j=()=>{const ie=()=>{p.value=-1,Bt(()=>{p.value=F()})};H?ie():G(ie)(),H=!1};et(()=>e.defaultActive,ie=>{b.value[ie]||(v.value=""),O(ie)}),et(()=>e.collapse,ie=>{ie&&(g.value=[])}),et(b.value,x);let q;Dr(()=>{e.mode==="horizontal"&&e.ellipsis?q=Gs(l,j).stop:q==null||q()});{const ie=ce=>{w.value[ce.index]=ce},Q=ce=>{delete w.value[ce.index]};On("rootMenu",ai({props:e,openedMenus:g,items:b,subMenus:w,activeIndex:v,isMenuPopup:M,addMenuItem:ce=>{b.value[ce.index]=ce},removeMenuItem:ce=>{delete b.value[ce.index]},addSubMenu:ie,removeSubMenu:Q,openMenu:E,closeMenu:k,handleMenuItemClick:P,handleSubMenuClick:R})),On(`subMenu:${o.uid}`,{addSubMenu:ie,removeSubMenu:Q,mouseInChild:X(!1),level:0})}return _n(()=>{e.mode==="horizontal"&&new qpe(o.vnode.el,u.namespace.value)}),s({open:Q=>{const{indexPath:Z}=w.value[Q];Z.forEach(re=>E(re,Z))},close:C,handleResize:j}),()=>{var ie,Q;let Z=(Q=(ie=i.default)==null?void 0:ie.call(i))!=null?Q:[];const re=[];if(e.mode==="horizontal"&&l.value){const W=Ed(Z),ee=p.value===-1?W:W.slice(0,p.value),J=p.value===-1?[]:W.slice(p.value);J!=null&&J.length&&e.ellipsis&&(Z=ee,re.push(Yt(ox,{index:"sub-menu-more",class:f.e("hide-arrow")},{title:()=>Yt(zt,{class:f.e("icon-more")},{default:()=>Yt(dQ)}),default:()=>J})))}const ce=DN(e,0),te=Yt("ul",{key:String(e.collapse),role:"menubar",ref:l,style:ce.value,class:{[u.b()]:!0,[u.m(e.mode)]:!0,[u.m("collapse")]:e.collapse}},[...Z,...re]);return e.collapseTransition&&e.mode==="vertical"?Yt(Ype,()=>te):te}}});const nme=pt({index:{type:De([String,null]),default:null},route:{type:De([String,Object])},disabled:Boolean}),ime={click:e=>un(e.index)&&Array.isArray(e.indexPath)},K_="ElMenuItem",sme=_e({name:K_,components:{ElTooltip:ar},props:nme,emits:ime,setup(e,{emit:t}){const i=Tn(),s=Lt("rootMenu"),o=nt("menu"),a=nt("menu-item");s||vs(K_,"can not inject root menu");const{parentMenu:l,indexPath:u}=ON(i,Oi(e,"index")),f=Lt(`subMenu:${l.value.uid}`);f||vs(K_,"can not inject sub menu");const p=D(()=>e.index===s.activeIndex),g=ai({index:e.index,indexPath:u,active:p}),v=()=>{e.disabled||(s.handleMenuItemClick({index:e.index,indexPath:u.value,route:e.route}),t("click",g))};return _n(()=>{f.addSubMenu(g),s.addMenuItem(g)}),Di(()=>{f.removeSubMenu(g),s.removeMenuItem(g)}),{parentMenu:l,rootMenu:s,active:p,nsMenu:o,nsMenuItem:a,handleClick:v}}});function rme(e,t,i,s,o,a){const l=cn("el-tooltip");return B(),ne("li",{class:U([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:t[0]||(t[0]=(...u)=>e.handleClick&&e.handleClick(...u))},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(B(),Be(l,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:ve(()=>[qe(e.$slots,"title")]),default:ve(()=>[ae("div",{class:U(e.nsMenu.be("tooltip","trigger"))},[qe(e.$slots,"default")],2)]),_:3},8,["effect"])):(B(),ne(Ft,{key:1},[qe(e.$slots,"default"),qe(e.$slots,"title")],64))],2)}var FN=ht(sme,[["render",rme],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const ome={title:String},ame="ElMenuItemGroup",lme=_e({name:ame,props:ome,setup(){return{ns:nt("menu-item-group")}}});function cme(e,t,i,s,o,a){return B(),ne("li",{class:U(e.ns.b())},[ae("div",{class:U(e.ns.e("title"))},[e.$slots.title?qe(e.$slots,"title",{key:1}):(B(),ne(Ft,{key:0},[Nn(ft(e.title),1)],64))],2),ae("ul",null,[qe(e.$slots,"default")])],2)}var BN=ht(lme,[["render",cme],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const ume=Cn(tme,{MenuItem:FN,MenuItemGroup:BN,SubMenu:ox}),dme=Yi(FN),fme=Yi(BN),hme=Yi(ox),pme=pt({icon:{type:Pi,default:()=>VY},title:String,content:{type:String,default:""}}),mme={back:()=>!0},gme=["aria-label"],vme=_e({name:"ElPageHeader"}),yme=_e({...vme,props:pme,emits:mme,setup(e,{emit:t}){const i=Rs(),{t:s}=ii(),o=nt("page-header"),a=D(()=>[o.b(),{[o.m("has-breadcrumb")]:!!i.breadcrumb,[o.m("has-extra")]:!!i.extra,[o.is("contentful")]:!!i.default}]);function l(){t("back")}return(u,f)=>(B(),ne("div",{class:U(h(a))},[u.$slots.breadcrumb?(B(),ne("div",{key:0,class:U(h(o).e("breadcrumb"))},[qe(u.$slots,"breadcrumb")],2)):Oe("v-if",!0),ae("div",{class:U(h(o).e("header"))},[ae("div",{class:U(h(o).e("left"))},[ae("div",{class:U(h(o).e("back")),role:"button",tabindex:"0",onClick:l},[u.icon||u.$slots.icon?(B(),ne("div",{key:0,"aria-label":u.title||h(s)("el.pageHeader.title"),class:U(h(o).e("icon"))},[qe(u.$slots,"icon",{},()=>[u.icon?(B(),Be(h(zt),{key:0},{default:ve(()=>[(B(),Be(Bn(u.icon)))]),_:1})):Oe("v-if",!0)])],10,gme)):Oe("v-if",!0),ae("div",{class:U(h(o).e("title"))},[qe(u.$slots,"title",{},()=>[Nn(ft(u.title||h(s)("el.pageHeader.title")),1)])],2)],2),fe(h(xN),{direction:"vertical"}),ae("div",{class:U(h(o).e("content"))},[qe(u.$slots,"content",{},()=>[Nn(ft(u.content),1)])],2)],2),u.$slots.extra?(B(),ne("div",{key:0,class:U(h(o).e("extra"))},[qe(u.$slots,"extra")],2)):Oe("v-if",!0)],2),u.$slots.default?(B(),ne("div",{key:1,class:U(h(o).e("main"))},[qe(u.$slots,"default")],2)):Oe("v-if",!0)],2))}});var bme=ht(yme,[["__file","/home/runner/work/element-plus/element-plus/packages/components/page-header/src/page-header.vue"]]);const _me=Cn(bme),zN=Symbol("elPaginationKey"),wme=pt({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Pi}}),Sme={click:e=>e instanceof MouseEvent},xme=["disabled","aria-label","aria-disabled"],Mme={key:0},Eme=_e({name:"ElPaginationPrev"}),Cme=_e({...Eme,props:wme,emits:Sme,setup(e){const t=e,{t:i}=ii(),s=D(()=>t.disabled||t.currentPage<=1);return(o,a)=>(B(),ne("button",{type:"button",class:"btn-prev",disabled:h(s),"aria-label":o.prevText||h(i)("el.pagination.prev"),"aria-disabled":h(s),onClick:a[0]||(a[0]=l=>o.$emit("click",l))},[o.prevText?(B(),ne("span",Mme,ft(o.prevText),1)):(B(),Be(h(zt),{key:1},{default:ve(()=>[(B(),Be(Bn(o.prevIcon)))]),_:1}))],8,xme))}});var Tme=ht(Cme,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const Ame=pt({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Pi}}),Rme=["disabled","aria-label","aria-disabled"],kme={key:0},Pme=_e({name:"ElPaginationNext"}),Ime=_e({...Pme,props:Ame,emits:["click"],setup(e){const t=e,{t:i}=ii(),s=D(()=>t.disabled||t.currentPage===t.pageCount||t.pageCount===0);return(o,a)=>(B(),ne("button",{type:"button",class:"btn-next",disabled:h(s),"aria-label":o.nextText||h(i)("el.pagination.next"),"aria-disabled":h(s),onClick:a[0]||(a[0]=l=>o.$emit("click",l))},[o.nextText?(B(),ne("span",kme,ft(o.nextText),1)):(B(),Be(h(zt),{key:1},{default:ve(()=>[(B(),Be(Bn(o.nextIcon)))]),_:1}))],8,Rme))}});var Lme=ht(Ime,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const $N=Symbol("ElSelectGroup"),Bp=Symbol("ElSelect");function Nme(e,t){const i=Lt(Bp),s=Lt($N,{disabled:!1}),o=D(()=>Object.prototype.toString.call(e.value).toLowerCase()==="[object object]"),a=D(()=>i.props.multiple?v(i.props.modelValue,e.value):b(e.value,i.props.modelValue)),l=D(()=>{if(i.props.multiple){const x=i.props.modelValue||[];return!a.value&&x.length>=i.props.multipleLimit&&i.props.multipleLimit>0}else return!1}),u=D(()=>e.label||(o.value?"":e.value)),f=D(()=>e.value||e.label||""),p=D(()=>e.disabled||t.groupDisabled||l.value),g=Tn(),v=(x=[],E)=>{if(o.value){const C=i.props.valueKey;return x&&x.some(k=>hi($i(k,C))===$i(E,C))}else return x&&x.includes(E)},b=(x,E)=>{if(o.value){const{valueKey:C}=i.props;return $i(x,C)===$i(E,C)}else return x===E},w=()=>{!e.disabled&&!s.disabled&&(i.hoverIndex=i.optionsArray.indexOf(g.proxy))};et(()=>u.value,()=>{!e.created&&!i.props.remote&&i.setSelected()}),et(()=>e.value,(x,E)=>{const{remote:C,valueKey:k}=i.props;if(Object.is(x,E)||(i.onOptionDestroy(E,g.proxy),i.onOptionCreate(g.proxy)),!e.created&&!C){if(k&&typeof x=="object"&&typeof E=="object"&&x[k]===E[k])return;i.setSelected()}}),et(()=>s.disabled,()=>{t.groupDisabled=s.disabled},{immediate:!0});const{queryChange:M}=hi(i);return et(M,x=>{const{query:E}=h(x),C=new RegExp(q3(E),"i");t.visible=C.test(u.value)||e.created,t.visible||i.filteredOptionsCount--},{immediate:!0}),{select:i,currentLabel:u,currentValue:f,itemSelected:a,isDisabled:p,hoverItem:w}}const Ome=_e({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const t=nt("select"),i=ai({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:s,itemSelected:o,isDisabled:a,select:l,hoverItem:u}=Nme(e,i),{visible:f,hover:p}=gs(i),g=Tn().proxy;l.onOptionCreate(g),Di(()=>{const b=g.value,{selected:w}=l,x=(l.props.multiple?w:[w]).some(E=>E.value===g.value);Bt(()=>{l.cachedOptions.get(b)===g&&!x&&l.cachedOptions.delete(b)}),l.onOptionDestroy(b,g)});function v(){e.disabled!==!0&&i.groupDisabled!==!0&&l.handleOptionSelect(g,!0)}return{ns:t,currentLabel:s,itemSelected:o,isDisabled:a,select:l,hoverItem:u,visible:f,hover:p,selectOptionClick:v,states:i}}});function Dme(e,t,i,s,o,a){return gn((B(),ne("li",{class:U([e.ns.be("dropdown","item"),e.ns.is("disabled",e.isDisabled),{selected:e.itemSelected,hover:e.hover}]),onMouseenter:t[0]||(t[0]=(...l)=>e.hoverItem&&e.hoverItem(...l)),onClick:t[1]||(t[1]=rn((...l)=>e.selectOptionClick&&e.selectOptionClick(...l),["stop"]))},[qe(e.$slots,"default",{},()=>[ae("span",null,ft(e.currentLabel),1)])],34)),[[oi,e.visible]])}var ax=ht(Ome,[["render",Dme],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const Fme=_e({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Lt(Bp),t=nt("select"),i=D(()=>e.props.popperClass),s=D(()=>e.props.multiple),o=D(()=>e.props.fitInputWidth),a=X("");function l(){var u;a.value=`${(u=e.selectWrapper)==null?void 0:u.offsetWidth}px`}return _n(()=>{l(),Gs(e.selectWrapper,l)}),{ns:t,minWidth:a,popperClass:i,isMultiple:s,isFitInputWidth:o}}});function Bme(e,t,i,s,o,a){return B(),ne("div",{class:U([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:Wt({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[qe(e.$slots,"default")],6)}var zme=ht(Fme,[["render",Bme],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function $me(e){const{t}=ii();return ai({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:t("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1,mouseEnter:!1})}const Ume=(e,t,i)=>{const{t:s}=ii(),o=nt("select");ta({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},D(()=>e.suffixTransition===!1));const a=X(null),l=X(null),u=X(null),f=X(null),p=X(null),g=X(null),v=X(null),b=X(-1),w=ki({query:""}),M=ki(""),x=X([]);let E=0;const{form:C,formItem:k}=lr(),R=D(()=>!e.filterable||e.multiple||!t.visible),P=D(()=>e.disabled||(C==null?void 0:C.disabled)),O=D(()=>{const Xe=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!P.value&&t.inputHovering&&Xe}),F=D(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),G=D(()=>o.is("reverse",F.value&&t.visible&&e.suffixTransition)),H=D(()=>e.remote?300:0),j=D(()=>e.loading?e.loadingText||s("el.select.loading"):e.remote&&t.query===""&&t.options.size===0?!1:e.filterable&&t.query&&t.options.size>0&&t.filteredOptionsCount===0?e.noMatchText||s("el.select.noMatch"):t.options.size===0?e.noDataText||s("el.select.noData"):null),q=D(()=>{const Xe=Array.from(t.options.values()),Ct=[];return x.value.forEach(bn=>{const wn=Xe.findIndex(Dn=>Dn.currentLabel===bn);wn>-1&&Ct.push(Xe[wn])}),Ct.length?Ct:Xe}),ie=D(()=>Array.from(t.cachedOptions.values())),Q=D(()=>{const Xe=q.value.filter(Ct=>!Ct.created).some(Ct=>Ct.currentLabel===t.query);return e.filterable&&e.allowCreate&&t.query!==""&&!Xe}),Z=fs(),re=D(()=>["small"].includes(Z.value)?"small":"default"),ce=D({get(){return t.visible&&j.value!==!1},set(Xe){t.visible=Xe}});et([()=>P.value,()=>Z.value,()=>C==null?void 0:C.size],()=>{Bt(()=>{te()})}),et(()=>e.placeholder,Xe=>{t.cachedPlaceHolder=t.currentPlaceholder=Xe}),et(()=>e.modelValue,(Xe,Ct)=>{e.multiple&&(te(),Xe&&Xe.length>0||l.value&&t.query!==""?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",W(t.query))),pe(),e.filterable&&!e.multiple&&(t.inputLength=20),!Br(Xe,Ct)&&e.validateEvent&&(k==null||k.validate("change").catch(bn=>void 0))},{flush:"post",deep:!0}),et(()=>t.visible,Xe=>{var Ct,bn,wn,Dn,ui;Xe?((bn=(Ct=f.value)==null?void 0:Ct.updatePopper)==null||bn.call(Ct),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,(Dn=(wn=u.value)==null?void 0:wn.focus)==null||Dn.call(wn),e.multiple?(ui=l.value)==null||ui.focus():t.selectedLabel&&(t.currentPlaceholder=`${t.selectedLabel}`,t.selectedLabel=""),W(t.query),!e.multiple&&!e.remote&&(w.value.query="",rh(w),rh(M)))):(e.filterable&&(an(e.filterMethod)&&e.filterMethod(""),an(e.remoteMethod)&&e.remoteMethod("")),l.value&&l.value.blur(),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,he(),Bt(()=>{l.value&&l.value.value===""&&t.selected.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),i.emit("visible-change",Xe)}),et(()=>t.options.entries(),()=>{var Xe,Ct,bn;if(!Jn)return;(Ct=(Xe=f.value)==null?void 0:Xe.updatePopper)==null||Ct.call(Xe),e.multiple&&te();const wn=((bn=g.value)==null?void 0:bn.querySelectorAll("input"))||[];Array.from(wn).includes(document.activeElement)||pe(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&J()},{flush:"post"}),et(()=>t.hoverIndex,Xe=>{on(Xe)&&Xe>-1?b.value=q.value[Xe]||{}:b.value={},q.value.forEach(Ct=>{Ct.hover=b.value===Ct})});const te=()=>{Bt(()=>{var Xe,Ct;if(!a.value)return;const bn=a.value.$el.querySelector("input");E=E||(bn.clientHeight>0?bn.clientHeight+2:0);const wn=p.value,Dn=rte(Z.value||(C==null?void 0:C.size)),ui=Z.value||Dn===E||E<=0?Dn:E;!(bn.offsetParent===null)&&(bn.style.height=`${(t.selected.length===0?ui:Math.max(wn?wn.clientHeight+(wn.clientHeight>ui?6:0):0,ui))-2}px`),t.tagInMultiLine=Number.parseFloat(bn.style.height)>=ui,t.visible&&j.value!==!1&&((Ct=(Xe=f.value)==null?void 0:Xe.updatePopper)==null||Ct.call(Xe))})},W=async Xe=>{if(!(t.previousQuery===Xe||t.isOnComposition)){if(t.previousQuery===null&&(an(e.filterMethod)||an(e.remoteMethod))){t.previousQuery=Xe;return}t.previousQuery=Xe,Bt(()=>{var Ct,bn;t.visible&&((bn=(Ct=f.value)==null?void 0:Ct.updatePopper)==null||bn.call(Ct))}),t.hoverIndex=-1,e.multiple&&e.filterable&&Bt(()=>{const Ct=l.value.value.length*15+20;t.inputLength=e.collapseTags?Math.min(50,Ct):Ct,ee(),te()}),e.remote&&an(e.remoteMethod)?(t.hoverIndex=-1,e.remoteMethod(Xe)):an(e.filterMethod)?(e.filterMethod(Xe),rh(M)):(t.filteredOptionsCount=t.optionsCount,w.value.query=Xe,rh(w),rh(M)),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&(await Bt(),J())}},ee=()=>{t.currentPlaceholder!==""&&(t.currentPlaceholder=l.value.value?"":t.cachedPlaceHolder)},J=()=>{const Xe=q.value.filter(wn=>wn.visible&&!wn.disabled&&!wn.states.groupDisabled),Ct=Xe.find(wn=>wn.created),bn=Xe[0];t.hoverIndex=we(q.value,Ct||bn)},pe=()=>{var Xe;if(e.multiple)t.selectedLabel="";else{const bn=Ee(e.modelValue);(Xe=bn.props)!=null&&Xe.created?(t.createdLabel=bn.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=bn.currentLabel,t.selected=bn,e.filterable&&(t.query=t.selectedLabel);return}const Ct=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(bn=>{Ct.push(Ee(bn))}),t.selected=Ct,Bt(()=>{te()})},Ee=Xe=>{let Ct;const bn=jg(Xe).toLowerCase()==="object",wn=jg(Xe).toLowerCase()==="null",Dn=jg(Xe).toLowerCase()==="undefined";for(let st=t.cachedOptions.size-1;st>=0;st--){const Kt=ie.value[st];if(bn?$i(Kt.value,e.valueKey)===$i(Xe,e.valueKey):Kt.value===Xe){Ct={value:Xe,currentLabel:Kt.currentLabel,isDisabled:Kt.isDisabled};break}}if(Ct)return Ct;const ui=bn?Xe.label:!wn&&!Dn?Xe:"",Fi={value:Xe,currentLabel:ui};return e.multiple&&(Fi.hitState=!1),Fi},he=()=>{setTimeout(()=>{const Xe=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map(Ct=>q.value.findIndex(bn=>$i(bn,Xe)===$i(Ct,Xe)))):t.hoverIndex=-1:t.hoverIndex=q.value.findIndex(Ct=>tt(Ct)===tt(t.selected))},300)},Ce=()=>{var Xe,Ct;Ge(),(Ct=(Xe=f.value)==null?void 0:Xe.updatePopper)==null||Ct.call(Xe),e.multiple&&te()},Ge=()=>{var Xe;t.inputWidth=(Xe=a.value)==null?void 0:Xe.$el.offsetWidth},Te=()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,W(t.query))},xe=or(()=>{Te()},H.value),Ie=or(Xe=>{W(Xe.target.value)},H.value),ge=Xe=>{Br(e.modelValue,Xe)||i.emit(Ii,Xe)},Le=Xe=>{if(Xe.code!==Xt.delete){if(Xe.target.value.length<=0&&!Qe()){const Ct=e.modelValue.slice();Ct.pop(),i.emit(Rn,Ct),ge(Ct)}Xe.target.value.length===1&&e.modelValue.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}},Ue=(Xe,Ct)=>{const bn=t.selected.indexOf(Ct);if(bn>-1&&!P.value){const wn=e.modelValue.slice();wn.splice(bn,1),i.emit(Rn,wn),ge(wn),i.emit("remove-tag",Ct.value)}Xe.stopPropagation()},ut=Xe=>{Xe.stopPropagation();const Ct=e.multiple?[]:"";if(!un(Ct))for(const bn of t.selected)bn.isDisabled&&Ct.push(bn.value);i.emit(Rn,Ct),ge(Ct),t.hoverIndex=-1,t.visible=!1,i.emit("clear")},ue=(Xe,Ct)=>{var bn;if(e.multiple){const wn=(e.modelValue||[]).slice(),Dn=we(wn,Xe.value);Dn>-1?wn.splice(Dn,1):(e.multipleLimit<=0||wn.length<e.multipleLimit)&&wn.push(Xe.value),i.emit(Rn,wn),ge(wn),Xe.created&&(t.query="",W(""),t.inputLength=20),e.filterable&&((bn=l.value)==null||bn.focus())}else i.emit(Rn,Xe.value),ge(Xe.value),t.visible=!1;t.isSilentBlur=Ct,Ve(),!t.visible&&Bt(()=>{Ye(Xe)})},we=(Xe=[],Ct)=>{if(!Pn(Ct))return Xe.indexOf(Ct);const bn=e.valueKey;let wn=-1;return Xe.some((Dn,ui)=>hi($i(Dn,bn))===$i(Ct,bn)?(wn=ui,!0):!1),wn},Ve=()=>{t.softFocus=!0;const Xe=l.value||a.value;Xe&&(Xe==null||Xe.focus())},Ye=Xe=>{var Ct,bn,wn,Dn,ui;const Fi=Array.isArray(Xe)?Xe[0]:Xe;let st=null;if(Fi!=null&&Fi.value){const Kt=q.value.filter(Yn=>Yn.value===Fi.value);Kt.length>0&&(st=Kt[0].$el)}if(f.value&&st){const Kt=(Dn=(wn=(bn=(Ct=f.value)==null?void 0:Ct.popperRef)==null?void 0:bn.contentRef)==null?void 0:wn.querySelector)==null?void 0:Dn.call(wn,`.${o.be("dropdown","wrap")}`);Kt&&Y3(Kt,st)}(ui=v.value)==null||ui.handleScroll()},lt=Xe=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(Xe.value,Xe),t.cachedOptions.set(Xe.value,Xe)},He=(Xe,Ct)=>{t.options.get(Xe)===Ct&&(t.optionsCount--,t.filteredOptionsCount--,t.options.delete(Xe))},ct=Xe=>{Xe.code!==Xt.backspace&&Qe(!1),t.inputLength=l.value.value.length*15+20,te()},Qe=Xe=>{if(!Array.isArray(t.selected))return;const Ct=t.selected[t.selected.length-1];if(Ct)return Xe===!0||Xe===!1?(Ct.hitState=Xe,Xe):(Ct.hitState=!Ct.hitState,Ct.hitState)},rt=Xe=>{const Ct=Xe.target.value;if(Xe.type==="compositionend")t.isOnComposition=!1,Bt(()=>W(Ct));else{const bn=Ct[Ct.length-1]||"";t.isOnComposition=!O0(bn)}},Je=()=>{Bt(()=>Ye(t.selected))},Mt=Xe=>{t.softFocus?t.softFocus=!1:((e.automaticDropdown||e.filterable)&&(e.filterable&&!t.visible&&(t.menuVisibleOnFocus=!0),t.visible=!0),i.emit("focus",Xe))},yt=()=>{var Xe,Ct,bn;t.visible=!1,(Xe=a.value)==null||Xe.blur(),(bn=(Ct=u.value)==null?void 0:Ct.blur)==null||bn.call(Ct)},We=Xe=>{Bt(()=>{t.isSilentBlur?t.isSilentBlur=!1:i.emit("blur",Xe)}),t.softFocus=!1},_t=Xe=>{ut(Xe)},Ut=()=>{t.visible=!1},fn=Xe=>{t.visible&&(Xe.preventDefault(),Xe.stopPropagation(),t.visible=!1)},Pe=Xe=>{var Ct;Xe&&!t.mouseEnter||P.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:(!f.value||!f.value.isFocusInsideContent())&&(t.visible=!t.visible),t.visible&&((Ct=l.value||a.value)==null||Ct.focus()))},$e=()=>{t.visible?q.value[t.hoverIndex]&&ue(q.value[t.hoverIndex],void 0):Pe()},tt=Xe=>Pn(Xe.value)?$i(Xe.value,e.valueKey):Xe.value,Fe=D(()=>q.value.filter(Xe=>Xe.visible).every(Xe=>Xe.disabled)),me=D(()=>t.selected.slice(0,e.maxCollapseTags)),Se=D(()=>t.selected.slice(e.maxCollapseTags)),it=Xe=>{if(!t.visible){t.visible=!0;return}if(!(t.options.size===0||t.filteredOptionsCount===0)&&!t.isOnComposition&&!Fe.value){Xe==="next"?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):Xe==="prev"&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const Ct=q.value[t.hoverIndex];(Ct.disabled===!0||Ct.states.groupDisabled===!0||!Ct.visible)&&it(Xe),Bt(()=>Ye(b.value))}};return{optionList:x,optionsArray:q,selectSize:Z,handleResize:Ce,debouncedOnInputChange:xe,debouncedQueryChange:Ie,deletePrevTag:Le,deleteTag:Ue,deleteSelected:ut,handleOptionSelect:ue,scrollToOption:Ye,readonly:R,resetInputHeight:te,showClose:O,iconComponent:F,iconReverse:G,showNewOption:Q,collapseTagSize:re,setSelected:pe,managePlaceholder:ee,selectDisabled:P,emptyText:j,toggleLastOptionHitState:Qe,resetInputState:ct,handleComposition:rt,onOptionCreate:lt,onOptionDestroy:He,handleMenuEnter:Je,handleFocus:Mt,blur:yt,handleBlur:We,handleClearClick:_t,handleClose:Ut,handleKeydownEscape:fn,toggleMenu:Pe,selectOption:$e,getValueKey:tt,navigateOptions:it,dropMenuVisible:ce,queryChange:w,groupQueryChange:M,showTagList:me,collapseTagList:Se,reference:a,input:l,iOSInput:u,tooltipRef:f,tags:p,selectWrapper:g,scrollbar:v,handleMouseEnter:()=>{t.mouseEnter=!0},handleMouseLeave:()=>{t.mouseEnter=!1}}};var Vme=_e({name:"ElOptions",emits:["update-options"],setup(e,{slots:t,emit:i}){let s=[];function o(a,l){if(a.length!==l.length)return!1;for(const[u]of a.entries())if(a[u]!=l[u])return!1;return!0}return()=>{var a,l;const u=(a=t.default)==null?void 0:a.call(t),f=[];function p(g){Array.isArray(g)&&g.forEach(v=>{var b,w,M,x;const E=(b=(v==null?void 0:v.type)||{})==null?void 0:b.name;E==="ElOptionGroup"?p(!un(v.children)&&!Array.isArray(v.children)&&an((w=v.children)==null?void 0:w.default)?(M=v.children)==null?void 0:M.default():v.children):E==="ElOption"?f.push((x=v.props)==null?void 0:x.label):Array.isArray(v.children)&&p(v.children)})}return u.length&&p((l=u[0])==null?void 0:l.children),o(f,s)||(s=f,i("update-options",f)),u}}});const ER="ElSelect",Hme=_e({name:ER,componentName:ER,components:{ElInput:Ws,ElSelectMenu:zme,ElOption:ax,ElOptions:Vme,ElTag:up,ElScrollbar:ja,ElTooltip:ar,ElIcon:zt},directives:{ClickOutside:Bl},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:N0},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:Cs.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Pi,default:Hl},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:Pi,default:Vl},tagType:{...JS.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:su,default:"bottom-start"}},emits:[Rn,Ii,"remove-tag","clear","visible-change","focus","blur"],setup(e,t){const i=nt("select"),s=nt("input"),{t:o}=ii(),a=$me(e),{optionList:l,optionsArray:u,selectSize:f,readonly:p,handleResize:g,collapseTagSize:v,debouncedOnInputChange:b,debouncedQueryChange:w,deletePrevTag:M,deleteTag:x,deleteSelected:E,handleOptionSelect:C,scrollToOption:k,setSelected:R,resetInputHeight:P,managePlaceholder:O,showClose:F,selectDisabled:G,iconComponent:H,iconReverse:j,showNewOption:q,emptyText:ie,toggleLastOptionHitState:Q,resetInputState:Z,handleComposition:re,onOptionCreate:ce,onOptionDestroy:te,handleMenuEnter:W,handleFocus:ee,blur:J,handleBlur:pe,handleClearClick:Ee,handleClose:he,handleKeydownEscape:Ce,toggleMenu:Ge,selectOption:Te,getValueKey:xe,navigateOptions:Ie,dropMenuVisible:ge,reference:Le,input:Ue,iOSInput:ut,tooltipRef:ue,tags:we,selectWrapper:Ve,scrollbar:Ye,queryChange:lt,groupQueryChange:He,handleMouseEnter:ct,handleMouseLeave:Qe,showTagList:rt,collapseTagList:Je}=Ume(e,a,t),{focus:Mt}=fte(Le),{inputWidth:yt,selected:We,inputLength:_t,filteredOptionsCount:Ut,visible:fn,softFocus:Pe,selectedLabel:$e,hoverIndex:tt,query:Fe,inputHovering:me,currentPlaceholder:Se,menuVisibleOnFocus:it,isOnComposition:vt,isSilentBlur:tn,options:Xe,cachedOptions:Ct,optionsCount:bn,prefixWidth:wn,tagInMultiLine:Dn}=gs(a),ui=D(()=>{const ti=[i.b()],qi=h(f);return qi&&ti.push(i.m(qi)),e.disabled&&ti.push(i.m("disabled")),ti}),Fi=D(()=>({maxWidth:`${h(yt)-32}px`,width:"100%"})),st=D(()=>({maxWidth:`${h(yt)>123?h(yt)-123:h(yt)-75}px`}));On(Bp,ai({props:e,options:Xe,optionsArray:u,cachedOptions:Ct,optionsCount:bn,filteredOptionsCount:Ut,hoverIndex:tt,handleOptionSelect:C,onOptionCreate:ce,onOptionDestroy:te,selectWrapper:Ve,selected:We,setSelected:R,queryChange:lt,groupQueryChange:He})),_n(()=>{a.cachedPlaceHolder=Se.value=e.placeholder||(()=>o("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(Se.value=""),Gs(Ve,g),e.remote&&e.multiple&&P(),Bt(()=>{const ti=Le.value&&Le.value.$el;if(ti&&(yt.value=ti.getBoundingClientRect().width,t.slots.prefix)){const qi=ti.querySelector(`.${s.e("prefix")}`);wn.value=Math.max(qi.getBoundingClientRect().width+5,30)}}),R()}),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(Rn,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(Rn,"");const Kt=D(()=>{var ti,qi;return(qi=(ti=ue.value)==null?void 0:ti.popperRef)==null?void 0:qi.contentRef});return{isIOS:l3,onOptionsRendered:ti=>{l.value=ti},tagInMultiLine:Dn,prefixWidth:wn,selectSize:f,readonly:p,handleResize:g,collapseTagSize:v,debouncedOnInputChange:b,debouncedQueryChange:w,deletePrevTag:M,deleteTag:x,deleteSelected:E,handleOptionSelect:C,scrollToOption:k,inputWidth:yt,selected:We,inputLength:_t,filteredOptionsCount:Ut,visible:fn,softFocus:Pe,selectedLabel:$e,hoverIndex:tt,query:Fe,inputHovering:me,currentPlaceholder:Se,menuVisibleOnFocus:it,isOnComposition:vt,isSilentBlur:tn,options:Xe,resetInputHeight:P,managePlaceholder:O,showClose:F,selectDisabled:G,iconComponent:H,iconReverse:j,showNewOption:q,emptyText:ie,toggleLastOptionHitState:Q,resetInputState:Z,handleComposition:re,handleMenuEnter:W,handleFocus:ee,blur:J,handleBlur:pe,handleClearClick:Ee,handleClose:he,handleKeydownEscape:Ce,toggleMenu:Ge,selectOption:Te,getValueKey:xe,navigateOptions:Ie,dropMenuVisible:ge,focus:Mt,reference:Le,input:Ue,iOSInput:ut,tooltipRef:ue,popperPaneRef:Kt,tags:we,selectWrapper:Ve,scrollbar:Ye,wrapperKls:ui,selectTagsStyle:Fi,nsSelect:i,tagTextStyle:st,handleMouseEnter:ct,handleMouseLeave:Qe,showTagList:rt,collapseTagList:Je}}}),Wme=["disabled","autocomplete"],Gme=["disabled"],Kme={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function qme(e,t,i,s,o,a){const l=cn("el-tag"),u=cn("el-tooltip"),f=cn("el-icon"),p=cn("el-input"),g=cn("el-option"),v=cn("el-options"),b=cn("el-scrollbar"),w=cn("el-select-menu"),M=Id("click-outside");return gn((B(),ne("div",{ref:"selectWrapper",class:U(e.wrapperKls),onMouseenter:t[21]||(t[21]=(...x)=>e.handleMouseEnter&&e.handleMouseEnter(...x)),onMouseleave:t[22]||(t[22]=(...x)=>e.handleMouseLeave&&e.handleMouseLeave(...x)),onClick:t[23]||(t[23]=rn((...x)=>e.toggleMenu&&e.toggleMenu(...x),["stop"]))},[fe(u,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:ve(()=>[ae("div",{class:"select-trigger",onMouseenter:t[19]||(t[19]=x=>e.inputHovering=!0),onMouseleave:t[20]||(t[20]=x=>e.inputHovering=!1)},[e.multiple?(B(),ne("div",{key:0,ref:"tags",class:U([e.nsSelect.e("tags"),e.nsSelect.is("disabled",e.selectDisabled)]),style:Wt(e.selectTagsStyle)},[e.collapseTags&&e.selected.length?(B(),Be(ns,{key:0,onAfterLeave:e.resetInputHeight},{default:ve(()=>[ae("span",{class:U([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(B(!0),ne(Ft,null,Un(e.showTagList,x=>(B(),Be(l,{key:e.getValueKey(x),closable:!e.selectDisabled&&!x.isDisabled,size:e.collapseTagSize,hit:x.hitState,type:e.tagType,"disable-transitions":"",onClose:E=>e.deleteTag(E,x)},{default:ve(()=>[ae("span",{class:U(e.nsSelect.e("tags-text")),style:Wt(e.tagTextStyle)},ft(x.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),e.selected.length>e.maxCollapseTags?(B(),Be(l,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:ve(()=>[e.collapseTagsTooltip?(B(),Be(u,{key:0,disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:ve(()=>[ae("span",{class:U(e.nsSelect.e("tags-text"))},"+ "+ft(e.selected.length-e.maxCollapseTags),3)]),content:ve(()=>[ae("div",{class:U(e.nsSelect.e("collapse-tags"))},[(B(!0),ne(Ft,null,Un(e.collapseTagList,x=>(B(),ne("div",{key:e.getValueKey(x),class:U(e.nsSelect.e("collapse-tag"))},[fe(l,{class:"in-tooltip",closable:!e.selectDisabled&&!x.isDisabled,size:e.collapseTagSize,hit:x.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:E=>e.deleteTag(E,x)},{default:ve(()=>[ae("span",{class:U(e.nsSelect.e("tags-text")),style:Wt({maxWidth:e.inputWidth-75+"px"})},ft(x.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(B(),ne("span",{key:1,class:U(e.nsSelect.e("tags-text"))},"+ "+ft(e.selected.length-e.maxCollapseTags),3))]),_:1},8,["size","type"])):Oe("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):Oe("v-if",!0),e.collapseTags?Oe("v-if",!0):(B(),Be(ns,{key:1,onAfterLeave:e.resetInputHeight},{default:ve(()=>[ae("span",{class:U([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(B(!0),ne(Ft,null,Un(e.selected,x=>(B(),Be(l,{key:e.getValueKey(x),closable:!e.selectDisabled&&!x.isDisabled,size:e.collapseTagSize,hit:x.hitState,type:e.tagType,"disable-transitions":"",onClose:E=>e.deleteTag(E,x)},{default:ve(()=>[ae("span",{class:U(e.nsSelect.e("tags-text")),style:Wt({maxWidth:e.inputWidth-75+"px"})},ft(x.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],2)]),_:1},8,["onAfterLeave"])),e.filterable?gn((B(),ne("input",{key:2,ref:"input","onUpdate:modelValue":t[0]||(t[0]=x=>e.query=x),type:"text",class:U([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize),e.nsSelect.is("disabled",e.selectDisabled)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:Wt({marginLeft:e.prefixWidth&&!e.selected.length||e.tagInMultiLine?`${e.prefixWidth}px`:"",flexGrow:1,width:`${e.inputLength/(e.inputWidth-32)}%`,maxWidth:`${e.inputWidth-42}px`}),onFocus:t[1]||(t[1]=(...x)=>e.handleFocus&&e.handleFocus(...x)),onBlur:t[2]||(t[2]=(...x)=>e.handleBlur&&e.handleBlur(...x)),onKeyup:t[3]||(t[3]=(...x)=>e.managePlaceholder&&e.managePlaceholder(...x)),onKeydown:[t[4]||(t[4]=(...x)=>e.resetInputState&&e.resetInputState(...x)),t[5]||(t[5]=ei(rn(x=>e.navigateOptions("next"),["prevent"]),["down"])),t[6]||(t[6]=ei(rn(x=>e.navigateOptions("prev"),["prevent"]),["up"])),t[7]||(t[7]=ei((...x)=>e.handleKeydownEscape&&e.handleKeydownEscape(...x),["esc"])),t[8]||(t[8]=ei(rn((...x)=>e.selectOption&&e.selectOption(...x),["stop","prevent"]),["enter"])),t[9]||(t[9]=ei((...x)=>e.deletePrevTag&&e.deletePrevTag(...x),["delete"])),t[10]||(t[10]=ei(x=>e.visible=!1,["tab"]))],onCompositionstart:t[11]||(t[11]=(...x)=>e.handleComposition&&e.handleComposition(...x)),onCompositionupdate:t[12]||(t[12]=(...x)=>e.handleComposition&&e.handleComposition(...x)),onCompositionend:t[13]||(t[13]=(...x)=>e.handleComposition&&e.handleComposition(...x)),onInput:t[14]||(t[14]=(...x)=>e.debouncedQueryChange&&e.debouncedQueryChange(...x))},null,46,Wme)),[[Yw,e.query]]):Oe("v-if",!0)],6)):Oe("v-if",!0),Oe(" fix: https://github.com/element-plus/element-plus/issues/11415 "),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(B(),ne("input",{key:1,ref:"iOSInput",class:U([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize),e.nsSelect.em("input","iOS")]),disabled:e.selectDisabled,type:"text"},null,10,Gme)):Oe("v-if",!0),fe(p,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[15]||(t[15]=x=>e.selectedLabel=x),type:"text",placeholder:typeof e.currentPlaceholder=="function"?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:U([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[t[16]||(t[16]=ei(rn(x=>e.navigateOptions("next"),["stop","prevent"]),["down"])),t[17]||(t[17]=ei(rn(x=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),ei(rn(e.selectOption,["stop","prevent"]),["enter"]),ei(e.handleKeydownEscape,["esc"]),t[18]||(t[18]=ei(x=>e.visible=!1,["tab"]))]},Ua({suffix:ve(()=>[e.iconComponent&&!e.showClose?(B(),Be(f,{key:0,class:U([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:ve(()=>[(B(),Be(Bn(e.iconComponent)))]),_:1},8,["class"])):Oe("v-if",!0),e.showClose&&e.clearIcon?(B(),Be(f,{key:1,class:U([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:ve(()=>[(B(),Be(Bn(e.clearIcon)))]),_:1},8,["class","onClick"])):Oe("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:ve(()=>[ae("div",Kme,[qe(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:ve(()=>[fe(w,null,{default:ve(()=>[gn(fe(b,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:U([e.nsSelect.is("empty",!e.allowCreate&&!!e.query&&e.filteredOptionsCount===0)])},{default:ve(()=>[e.showNewOption?(B(),Be(g,{key:0,value:e.query,created:!0},null,8,["value"])):Oe("v-if",!0),fe(v,{onUpdateOptions:e.onOptionsRendered},{default:ve(()=>[qe(e.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[oi,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(B(),ne(Ft,{key:0},[e.$slots.empty?qe(e.$slots,"empty",{key:0}):(B(),ne("p",{key:1,class:U(e.nsSelect.be("dropdown","empty"))},ft(e.emptyText),3))],64)):Oe("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[M,e.handleClose,e.popperPaneRef]])}var jme=ht(Hme,[["render",qme],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const Xme=_e({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const t=nt("select"),i=X(!0),s=Tn(),o=X([]);On($N,ai({...gs(e)}));const a=Lt(Bp);_n(()=>{o.value=l(s.subTree)});const l=f=>{const p=[];return Array.isArray(f.children)&&f.children.forEach(g=>{var v;g.type&&g.type.name==="ElOption"&&g.component&&g.component.proxy?p.push(g.component.proxy):(v=g.children)!=null&&v.length&&p.push(...l(g))}),p},{groupQueryChange:u}=hi(a);return et(u,()=>{i.value=o.value.some(f=>f.visible===!0)},{flush:"post"}),{visible:i,ns:t}}});function Yme(e,t,i,s,o,a){return gn((B(),ne("ul",{class:U(e.ns.be("group","wrap"))},[ae("li",{class:U(e.ns.be("group","title"))},ft(e.label),3),ae("li",null,[ae("ul",{class:U(e.ns.b("group"))},[qe(e.$slots,"default")],2)])],2)),[[oi,e.visible]])}var UN=ht(Xme,[["render",Yme],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const Qc=Cn(jme,{Option:ax,OptionGroup:UN}),Kv=Yi(ax),Zme=Yi(UN),lx=()=>Lt(zN,{}),Jme=pt({pageSize:{type:Number,required:!0},pageSizes:{type:De(Array),default:()=>Ui([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,size:{type:String,values:ra}}),Qme=_e({name:"ElPaginationSizes"}),ege=_e({...Qme,props:Jme,emits:["page-size-change"],setup(e,{emit:t}){const i=e,{t:s}=ii(),o=nt("pagination"),a=lx(),l=X(i.pageSize);et(()=>i.pageSizes,(p,g)=>{if(!Br(p,g)&&Array.isArray(p)){const v=p.includes(i.pageSize)?i.pageSize:i.pageSizes[0];t("page-size-change",v)}}),et(()=>i.pageSize,p=>{l.value=p});const u=D(()=>i.pageSizes);function f(p){var g;p!==l.value&&(l.value=p,(g=a.handleSizeChange)==null||g.call(a,Number(p)))}return(p,g)=>(B(),ne("span",{class:U(h(o).e("sizes"))},[fe(h(Qc),{"model-value":l.value,disabled:p.disabled,"popper-class":p.popperClass,size:p.size,"validate-event":!1,onChange:f},{default:ve(()=>[(B(!0),ne(Ft,null,Un(h(u),v=>(B(),Be(h(Kv),{key:v,value:v,label:v+h(s)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size"])],2))}});var tge=ht(ege,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const nge=pt({size:{type:String,values:ra}}),ige=["disabled"],sge=_e({name:"ElPaginationJumper"}),rge=_e({...sge,props:nge,setup(e){const{t}=ii(),i=nt("pagination"),{pageCount:s,disabled:o,currentPage:a,changeEvent:l}=lx(),u=X(),f=D(()=>{var v;return(v=u.value)!=null?v:a==null?void 0:a.value});function p(v){u.value=v?+v:""}function g(v){v=Math.trunc(+v),l==null||l(v),u.value=void 0}return(v,b)=>(B(),ne("span",{class:U(h(i).e("jump")),disabled:h(o)},[ae("span",{class:U([h(i).e("goto")])},ft(h(t)("el.pagination.goto")),3),fe(h(Ws),{size:v.size,class:U([h(i).e("editor"),h(i).is("in-pagination")]),min:1,max:h(s),disabled:h(o),"model-value":h(f),"validate-event":!1,label:h(t)("el.pagination.page"),type:"number","onUpdate:modelValue":p,onChange:g},null,8,["size","class","max","disabled","model-value","label"]),ae("span",{class:U([h(i).e("classifier")])},ft(h(t)("el.pagination.pageClassifier")),3)],10,ige))}});var oge=ht(rge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const age=pt({total:{type:Number,default:1e3}}),lge=["disabled"],cge=_e({name:"ElPaginationTotal"}),uge=_e({...cge,props:age,setup(e){const{t}=ii(),i=nt("pagination"),{disabled:s}=lx();return(o,a)=>(B(),ne("span",{class:U(h(i).e("total")),disabled:h(s)},ft(h(t)("el.pagination.total",{total:o.total})),11,lge))}});var dge=ht(uge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const fge=pt({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),hge=["onKeyup"],pge=["aria-current","aria-label","tabindex"],mge=["tabindex","aria-label"],gge=["aria-current","aria-label","tabindex"],vge=["tabindex","aria-label"],yge=["aria-current","aria-label","tabindex"],bge=_e({name:"ElPaginationPager"}),_ge=_e({...bge,props:fge,emits:["change"],setup(e,{emit:t}){const i=e,s=nt("pager"),o=nt("icon"),{t:a}=ii(),l=X(!1),u=X(!1),f=X(!1),p=X(!1),g=X(!1),v=X(!1),b=D(()=>{const k=i.pagerCount,R=(k-1)/2,P=Number(i.currentPage),O=Number(i.pageCount);let F=!1,G=!1;O>k&&(P>k-R&&(F=!0),P<O-R&&(G=!0));const H=[];if(F&&!G){const j=O-(k-2);for(let q=j;q<O;q++)H.push(q)}else if(!F&&G)for(let j=2;j<k;j++)H.push(j);else if(F&&G){const j=Math.floor(k/2)-1;for(let q=P-j;q<=P+j;q++)H.push(q)}else for(let j=2;j<O;j++)H.push(j);return H}),w=D(()=>i.disabled?-1:0);Dr(()=>{const k=(i.pagerCount-1)/2;l.value=!1,u.value=!1,i.pageCount>i.pagerCount&&(i.currentPage>i.pagerCount-k&&(l.value=!0),i.currentPage<i.pageCount-k&&(u.value=!0))});function M(k=!1){i.disabled||(k?f.value=!0:p.value=!0)}function x(k=!1){k?g.value=!0:v.value=!0}function E(k){const R=k.target;if(R.tagName.toLowerCase()==="li"&&Array.from(R.classList).includes("number")){const P=Number(R.textContent);P!==i.currentPage&&t("change",P)}else R.tagName.toLowerCase()==="li"&&Array.from(R.classList).includes("more")&&C(k)}function C(k){const R=k.target;if(R.tagName.toLowerCase()==="ul"||i.disabled)return;let P=Number(R.textContent);const O=i.pageCount,F=i.currentPage,G=i.pagerCount-2;R.className.includes("more")&&(R.className.includes("quickprev")?P=F-G:R.className.includes("quicknext")&&(P=F+G)),Number.isNaN(+P)||(P<1&&(P=1),P>O&&(P=O)),P!==F&&t("change",P)}return(k,R)=>(B(),ne("ul",{class:U(h(s).b()),onClick:C,onKeyup:ei(E,["enter"])},[k.pageCount>0?(B(),ne("li",{key:0,class:U([[h(s).is("active",k.currentPage===1),h(s).is("disabled",k.disabled)],"number"]),"aria-current":k.currentPage===1,"aria-label":h(a)("el.pagination.currentPage",{pager:1}),tabindex:h(w)}," 1 ",10,pge)):Oe("v-if",!0),l.value?(B(),ne("li",{key:1,class:U(["more","btn-quickprev",h(o).b(),h(s).is("disabled",k.disabled)]),tabindex:h(w),"aria-label":h(a)("el.pagination.prevPages",{pager:k.pagerCount-2}),onMouseenter:R[0]||(R[0]=P=>M(!0)),onMouseleave:R[1]||(R[1]=P=>f.value=!1),onFocus:R[2]||(R[2]=P=>x(!0)),onBlur:R[3]||(R[3]=P=>g.value=!1)},[(f.value||g.value)&&!k.disabled?(B(),Be(h(Hd),{key:0})):(B(),Be(h(hA),{key:1}))],42,mge)):Oe("v-if",!0),(B(!0),ne(Ft,null,Un(h(b),P=>(B(),ne("li",{key:P,class:U([[h(s).is("active",k.currentPage===P),h(s).is("disabled",k.disabled)],"number"]),"aria-current":k.currentPage===P,"aria-label":h(a)("el.pagination.currentPage",{pager:P}),tabindex:h(w)},ft(P),11,gge))),128)),u.value?(B(),ne("li",{key:2,class:U(["more","btn-quicknext",h(o).b(),h(s).is("disabled",k.disabled)]),tabindex:h(w),"aria-label":h(a)("el.pagination.nextPages",{pager:k.pagerCount-2}),onMouseenter:R[4]||(R[4]=P=>M()),onMouseleave:R[5]||(R[5]=P=>p.value=!1),onFocus:R[6]||(R[6]=P=>x()),onBlur:R[7]||(R[7]=P=>v.value=!1)},[(p.value||v.value)&&!k.disabled?(B(),Be(h(Wd),{key:0})):(B(),Be(h(hA),{key:1}))],42,vge)):Oe("v-if",!0),k.pageCount>1?(B(),ne("li",{key:3,class:U([[h(s).is("active",k.currentPage===k.pageCount),h(s).is("disabled",k.disabled)],"number"]),"aria-current":k.currentPage===k.pageCount,"aria-label":h(a)("el.pagination.currentPage",{pager:k.pageCount}),tabindex:h(w)},ft(k.pageCount),11,yge)):Oe("v-if",!0)],42,hge))}});var wge=ht(_ge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const Zs=e=>typeof e!="number",Sge=pt({total:Number,pageSize:Number,defaultPageSize:Number,currentPage:Number,defaultCurrentPage:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>on(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:De(Array),default:()=>Ui([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Pi,default:()=>Ol},nextText:{type:String,default:""},nextIcon:{type:Pi,default:()=>nr},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),xge={"update:current-page":e=>on(e),"update:page-size":e=>on(e),"size-change":e=>on(e),"current-change":e=>on(e),"prev-click":e=>on(e),"next-click":e=>on(e)},CR="ElPagination";var Mge=_e({name:CR,props:Sge,emits:xge,setup(e,{emit:t,slots:i}){const{t:s}=ii(),o=nt("pagination"),a=Tn().vnode.props||{},l="onUpdate:currentPage"in a||"onUpdate:current-page"in a||"onCurrentChange"in a,u="onUpdate:pageSize"in a||"onUpdate:page-size"in a||"onSizeChange"in a,f=D(()=>{if(Zs(e.total)&&Zs(e.pageCount)||!Zs(e.currentPage)&&!l)return!1;if(e.layout.includes("sizes")){if(Zs(e.pageCount)){if(!Zs(e.total)&&!Zs(e.pageSize)&&!u)return!1}else if(!u)return!1}return!0}),p=X(Zs(e.defaultPageSize)?10:e.defaultPageSize),g=X(Zs(e.defaultCurrentPage)?1:e.defaultCurrentPage),v=D({get(){return Zs(e.pageSize)?p.value:e.pageSize},set(R){Zs(e.pageSize)&&(p.value=R),u&&(t("update:page-size",R),t("size-change",R))}}),b=D(()=>{let R=0;return Zs(e.pageCount)?Zs(e.total)||(R=Math.max(1,Math.ceil(e.total/v.value))):R=e.pageCount,R}),w=D({get(){return Zs(e.currentPage)?g.value:e.currentPage},set(R){let P=R;R<1?P=1:R>b.value&&(P=b.value),Zs(e.currentPage)&&(g.value=P),l&&(t("update:current-page",P),t("current-change",P))}});et(b,R=>{w.value>R&&(w.value=R)});function M(R){w.value=R}function x(R){v.value=R;const P=b.value;w.value>P&&(w.value=P)}function E(){e.disabled||(w.value-=1,t("prev-click",w.value))}function C(){e.disabled||(w.value+=1,t("next-click",w.value))}function k(R,P){R&&(R.props||(R.props={}),R.props.class=[R.props.class,P].join(" "))}return On(zN,{pageCount:b,disabled:D(()=>e.disabled),currentPage:w,changeEvent:M,handleSizeChange:x}),()=>{var R,P;if(!f.value)return s("el.pagination.deprecationWarning"),null;if(!e.layout||e.hideOnSinglePage&&b.value<=1)return null;const O=[],F=[],G=Yt("div",{class:o.e("rightwrapper")},F),H={prev:Yt(Tme,{disabled:e.disabled,currentPage:w.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:E}),jumper:Yt(oge,{size:e.small?"small":"default"}),pager:Yt(wge,{currentPage:w.value,pageCount:b.value,pagerCount:e.pagerCount,onChange:M,disabled:e.disabled}),next:Yt(Lme,{disabled:e.disabled,currentPage:w.value,pageCount:b.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:C}),sizes:Yt(tge,{pageSize:v.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,size:e.small?"small":"default"}),slot:(P=(R=i==null?void 0:i.default)==null?void 0:R.call(i))!=null?P:null,total:Yt(dge,{total:Zs(e.total)?0:e.total})},j=e.layout.split(",").map(ie=>ie.trim());let q=!1;return j.forEach(ie=>{if(ie==="->"){q=!0;return}q?F.push(H[ie]):O.push(H[ie])}),k(O[0],o.is("first")),k(O[O.length-1],o.is("last")),q&&F.length>0&&(k(F[0],o.is("first")),k(F[F.length-1],o.is("last")),O.push(G)),Yt("div",{class:[o.b(),o.is("background",e.background),{[o.m("small")]:e.small}]},O)}}});const Ege=Cn(Mge),Cge=pt({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:B1,default:"primary"},cancelButtonType:{type:String,values:B1,default:"text"},icon:{type:Pi,default:()=>AQ},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:Cs.teleported,persistent:Cs.persistent,width:{type:[String,Number],default:150}}),Tge={confirm:e=>e instanceof MouseEvent,cancel:e=>e instanceof MouseEvent},Age=_e({name:"ElPopconfirm"}),Rge=_e({...Age,props:Cge,emits:Tge,setup(e,{emit:t}){const i=e,{t:s}=ii(),o=nt("popconfirm"),a=X(),l=()=>{var b,w;(w=(b=a.value)==null?void 0:b.onClose)==null||w.call(b)},u=D(()=>({width:es(i.width)})),f=b=>{t("confirm",b),l()},p=b=>{t("cancel",b),l()},g=D(()=>i.confirmButtonText||s("el.popconfirm.confirmButtonText")),v=D(()=>i.cancelButtonText||s("el.popconfirm.cancelButtonText"));return(b,w)=>(B(),Be(h(ar),kn({ref_key:"tooltipRef",ref:a,trigger:"click",effect:"light"},b.$attrs,{"popper-class":`${h(o).namespace.value}-popover`,"popper-style":h(u),teleported:b.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":b.hideAfter,persistent:b.persistent}),{content:ve(()=>[ae("div",{class:U(h(o).b())},[ae("div",{class:U(h(o).e("main"))},[!b.hideIcon&&b.icon?(B(),Be(h(zt),{key:0,class:U(h(o).e("icon")),style:Wt({color:b.iconColor})},{default:ve(()=>[(B(),Be(Bn(b.icon)))]),_:1},8,["class","style"])):Oe("v-if",!0),Nn(" "+ft(b.title),1)],2),ae("div",{class:U(h(o).e("action"))},[fe(h(Os),{size:"small",type:b.cancelButtonType==="text"?"":b.cancelButtonType,text:b.cancelButtonType==="text",onClick:p},{default:ve(()=>[Nn(ft(h(v)),1)]),_:1},8,["type","text"]),fe(h(Os),{size:"small",type:b.confirmButtonType==="text"?"":b.confirmButtonType,text:b.confirmButtonType==="text",onClick:f},{default:ve(()=>[Nn(ft(h(g)),1)]),_:1},8,["type","text"])],2)],2)]),default:ve(()=>[b.$slots.reference?qe(b.$slots,"reference",{key:0}):Oe("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var kge=ht(Rge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue"]]);const Pge=Cn(kge),Ige=pt({trigger:cp.trigger,placement:bv.placement,disabled:cp.disabled,visible:Cs.visible,transition:Cs.transition,popperOptions:bv.popperOptions,tabindex:bv.tabindex,content:Cs.content,popperStyle:Cs.popperStyle,popperClass:Cs.popperClass,enterable:{...Cs.enterable,default:!0},effect:{...Cs.effect,default:"light"},teleported:Cs.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),Lge={"update:visible":e=>ds(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},Nge="onUpdate:visible",Oge=_e({name:"ElPopover"}),Dge=_e({...Oge,props:Ige,emits:Lge,setup(e,{expose:t,emit:i}){const s=e,o=D(()=>s[Nge]),a=nt("popover"),l=X(),u=D(()=>{var E;return(E=h(l))==null?void 0:E.popperRef}),f=D(()=>[{width:es(s.width)},s.popperStyle]),p=D(()=>[a.b(),s.popperClass,{[a.m("plain")]:!!s.content}]),g=D(()=>s.transition===`${a.namespace.value}-fade-in-linear`),v=()=>{var E;(E=l.value)==null||E.hide()},b=()=>{i("before-enter")},w=()=>{i("before-leave")},M=()=>{i("after-enter")},x=()=>{i("update:visible",!1),i("after-leave")};return t({popperRef:u,hide:v}),(E,C)=>(B(),Be(h(ar),kn({ref_key:"tooltipRef",ref:l},E.$attrs,{trigger:E.trigger,placement:E.placement,disabled:E.disabled,visible:E.visible,transition:E.transition,"popper-options":E.popperOptions,tabindex:E.tabindex,content:E.content,offset:E.offset,"show-after":E.showAfter,"hide-after":E.hideAfter,"auto-close":E.autoClose,"show-arrow":E.showArrow,"aria-label":E.title,effect:E.effect,enterable:E.enterable,"popper-class":h(p),"popper-style":h(f),teleported:E.teleported,persistent:E.persistent,"gpu-acceleration":h(g),"onUpdate:visible":h(o),onBeforeShow:b,onBeforeHide:w,onShow:M,onHide:x}),{content:ve(()=>[E.title?(B(),ne("div",{key:0,class:U(h(a).e("title")),role:"title"},ft(E.title),3)):Oe("v-if",!0),qe(E.$slots,"default",{},()=>[Nn(ft(E.content),1)])]),default:ve(()=>[E.$slots.reference?qe(E.$slots,"reference",{key:0}):Oe("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var Fge=ht(Dge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const TR=(e,t)=>{const i=t.arg||t.value,s=i==null?void 0:i.popperRef;s&&(s.triggerRef=e)};var Bge={mounted(e,t){TR(e,t)},updated(e,t){TR(e,t)}};const zge="popover",VN=nte(Bge,zge),$ge=Cn(Fge,{directive:VN}),Uge=pt({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:De(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:De([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:De(Function),default:e=>`${e}%`}}),Vge=["aria-valuenow"],Hge={viewBox:"0 0 100 100"},Wge=["d","stroke","stroke-width"],Gge=["d","stroke","opacity","stroke-linecap","stroke-width"],Kge={key:0},qge=_e({name:"ElProgress"}),jge=_e({...qge,props:Uge,setup(e){const t=e,i={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},s=nt("progress"),o=D(()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:k(t.percentage)})),a=D(()=>(t.strokeWidth/t.width*100).toFixed(1)),l=D(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(a.value)/2}`,10):0),u=D(()=>{const R=l.value,P=t.type==="dashboard";return`
          M 50 50
          m 0 ${P?"":"-"}${R}
          a ${R} ${R} 0 1 1 0 ${P?"-":""}${R*2}
          a ${R} ${R} 0 1 1 0 ${P?"":"-"}${R*2}
          `}),f=D(()=>2*Math.PI*l.value),p=D(()=>t.type==="dashboard"?.75:1),g=D(()=>`${-1*f.value*(1-p.value)/2}px`),v=D(()=>({strokeDasharray:`${f.value*p.value}px, ${f.value}px`,strokeDashoffset:g.value})),b=D(()=>({strokeDasharray:`${f.value*p.value*(t.percentage/100)}px, ${f.value}px`,strokeDashoffset:g.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),w=D(()=>{let R;return t.color?R=k(t.percentage):R=i[t.status]||i.default,R}),M=D(()=>t.status==="warning"?I0:t.type==="line"?t.status==="success"?CS:Hl:t.status==="success"?Np:Lo),x=D(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),E=D(()=>t.format(t.percentage));function C(R){const P=100/R.length;return R.map((F,G)=>un(F)?{color:F,percentage:(G+1)*P}:F).sort((F,G)=>F.percentage-G.percentage)}const k=R=>{var P;const{color:O}=t;if(an(O))return O(R);if(un(O))return O;{const F=C(O);for(const G of F)if(G.percentage>R)return G.color;return(P=F[F.length-1])==null?void 0:P.color}};return(R,P)=>(B(),ne("div",{class:U([h(s).b(),h(s).m(R.type),h(s).is(R.status),{[h(s).m("without-text")]:!R.showText,[h(s).m("text-inside")]:R.textInside}]),role:"progressbar","aria-valuenow":R.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[R.type==="line"?(B(),ne("div",{key:0,class:U(h(s).b("bar"))},[ae("div",{class:U(h(s).be("bar","outer")),style:Wt({height:`${R.strokeWidth}px`})},[ae("div",{class:U([h(s).be("bar","inner"),{[h(s).bem("bar","inner","indeterminate")]:R.indeterminate},{[h(s).bem("bar","inner","striped")]:R.striped},{[h(s).bem("bar","inner","striped-flow")]:R.stripedFlow}]),style:Wt(h(o))},[(R.showText||R.$slots.default)&&R.textInside?(B(),ne("div",{key:0,class:U(h(s).be("bar","innerText"))},[qe(R.$slots,"default",{percentage:R.percentage},()=>[ae("span",null,ft(h(E)),1)])],2)):Oe("v-if",!0)],6)],6)],2)):(B(),ne("div",{key:1,class:U(h(s).b("circle")),style:Wt({height:`${R.width}px`,width:`${R.width}px`})},[(B(),ne("svg",Hge,[ae("path",{class:U(h(s).be("circle","track")),d:h(u),stroke:`var(${h(s).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":h(a),fill:"none",style:Wt(h(v))},null,14,Wge),ae("path",{class:U(h(s).be("circle","path")),d:h(u),stroke:h(w),fill:"none",opacity:R.percentage?1:0,"stroke-linecap":R.strokeLinecap,"stroke-width":h(a),style:Wt(h(b))},null,14,Gge)]))],6)),(R.showText||R.$slots.default)&&!R.textInside?(B(),ne("div",{key:2,class:U(h(s).e("text")),style:Wt({fontSize:`${h(x)}px`})},[qe(R.$slots,"default",{percentage:R.percentage},()=>[R.status?(B(),Be(h(zt),{key:1},{default:ve(()=>[(B(),Be(Bn(h(M))))]),_:1})):(B(),ne("span",Kge,ft(h(E)),1))])],6)):Oe("v-if",!0)],10,Vge))}});var Xge=ht(jge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const HN=Cn(Xge),Yge=pt({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:De([Array,Object]),default:()=>Ui(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:De([Array,Object]),default:()=>[Ig,Ig,Ig]},voidIcon:{type:Pi,default:()=>Tee},disabledVoidIcon:{type:Pi,default:()=>Ig},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:De(Array),default:()=>Ui(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:Ds,label:{type:String,default:void 0},clearable:{type:Boolean,default:!1}}),Zge={[Ii]:e=>on(e),[Rn]:e=>on(e)},Jge=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],Qge=["onMousemove","onClick"],eve=_e({name:"ElRate"}),tve=_e({...eve,props:Yge,emits:Zge,setup(e,{expose:t,emit:i}){const s=e;function o(te,W){const ee=Ee=>Pn(Ee),J=Object.keys(W).map(Ee=>+Ee).filter(Ee=>{const he=W[Ee];return(ee(he)?he.excluded:!1)?te<Ee:te<=Ee}).sort((Ee,he)=>Ee-he),pe=W[J[0]];return ee(pe)&&pe.value||pe}const a=Lt(ru,void 0),l=Lt(ia,void 0),u=fs(),f=nt("rate"),{inputId:p,isLabeledByFormItem:g}=Kl(s,{formItemContext:l}),v=X(s.modelValue),b=X(-1),w=X(!0),M=D(()=>[f.b(),f.m(u.value)]),x=D(()=>s.disabled||(a==null?void 0:a.disabled)),E=D(()=>f.cssVarBlock({"void-color":s.voidColor,"disabled-void-color":s.disabledVoidColor,"fill-color":P.value})),C=D(()=>{let te="";return s.showScore?te=s.scoreTemplate.replace(/\{\s*value\s*\}/,x.value?`${s.modelValue}`:`${v.value}`):s.showText&&(te=s.texts[Math.ceil(v.value)-1]),te}),k=D(()=>s.modelValue*100-Math.floor(s.modelValue)*100),R=D(()=>Nt(s.colors)?{[s.lowThreshold]:s.colors[0],[s.highThreshold]:{value:s.colors[1],excluded:!0},[s.max]:s.colors[2]}:s.colors),P=D(()=>{const te=o(v.value,R.value);return Pn(te)?"":te}),O=D(()=>{let te="";return x.value?te=`${k.value}%`:s.allowHalf&&(te="50%"),{color:P.value,width:te}}),F=D(()=>{let te=Nt(s.icons)?[...s.icons]:{...s.icons};return te=Uc(te),Nt(te)?{[s.lowThreshold]:te[0],[s.highThreshold]:{value:te[1],excluded:!0},[s.max]:te[2]}:te}),G=D(()=>o(s.modelValue,F.value)),H=D(()=>x.value?un(s.disabledVoidIcon)?s.disabledVoidIcon:Uc(s.disabledVoidIcon):un(s.voidIcon)?s.voidIcon:Uc(s.voidIcon)),j=D(()=>o(v.value,F.value));function q(te){const W=x.value&&k.value>0&&te-1<s.modelValue&&te>s.modelValue,ee=s.allowHalf&&w.value&&te-.5<=v.value&&te>v.value;return W||ee}function ie(te){s.clearable&&te===s.modelValue&&(te=0),i(Rn,te),s.modelValue!==te&&i("change",te)}function Q(te){x.value||(s.allowHalf&&w.value?ie(v.value):ie(te))}function Z(te){if(x.value)return;let W=v.value;const ee=te.code;return ee===Xt.up||ee===Xt.right?(s.allowHalf?W+=.5:W+=1,te.stopPropagation(),te.preventDefault()):(ee===Xt.left||ee===Xt.down)&&(s.allowHalf?W-=.5:W-=1,te.stopPropagation(),te.preventDefault()),W=W<0?0:W,W=W>s.max?s.max:W,i(Rn,W),i("change",W),W}function re(te,W){if(!x.value){if(s.allowHalf&&W){let ee=W.target;Ro(ee,f.e("item"))&&(ee=ee.querySelector(`.${f.e("icon")}`)),(ee.clientWidth===0||Ro(ee,f.e("decimal")))&&(ee=ee.parentNode),w.value=W.offsetX*2<=ee.clientWidth,v.value=w.value?te-.5:te}else v.value=te;b.value=te}}function ce(){x.value||(s.allowHalf&&(w.value=s.modelValue!==Math.floor(s.modelValue)),v.value=s.modelValue,b.value=-1)}return et(()=>s.modelValue,te=>{v.value=te,w.value=s.modelValue!==Math.floor(s.modelValue)}),s.modelValue||i(Rn,0),t({setCurrentValue:re,resetCurrentValue:ce}),(te,W)=>{var ee;return B(),ne("div",{id:h(p),class:U([h(M),h(f).is("disabled",h(x))]),role:"slider","aria-label":h(g)?void 0:te.label||"rating","aria-labelledby":h(g)?(ee=h(l))==null?void 0:ee.labelId:void 0,"aria-valuenow":v.value,"aria-valuetext":h(C)||void 0,"aria-valuemin":"0","aria-valuemax":te.max,tabindex:"0",style:Wt(h(E)),onKeydown:Z},[(B(!0),ne(Ft,null,Un(te.max,(J,pe)=>(B(),ne("span",{key:pe,class:U(h(f).e("item")),onMousemove:Ee=>re(J,Ee),onMouseleave:ce,onClick:Ee=>Q(J)},[fe(h(zt),{class:U([h(f).e("icon"),{hover:b.value===J},h(f).is("active",J<=v.value)])},{default:ve(()=>[q(J)?Oe("v-if",!0):(B(),ne(Ft,{key:0},[gn((B(),Be(Bn(h(j)),null,null,512)),[[oi,J<=v.value]]),gn((B(),Be(Bn(h(H)),null,null,512)),[[oi,!(J<=v.value)]])],64)),q(J)?(B(),Be(h(zt),{key:1,style:Wt(h(O)),class:U([h(f).e("icon"),h(f).e("decimal")])},{default:ve(()=>[(B(),Be(Bn(h(G))))]),_:1},8,["style","class"])):Oe("v-if",!0)]),_:2},1032,["class"])],42,Qge))),128)),te.showText||te.showScore?(B(),ne("span",{key:0,class:U(h(f).e("text"))},ft(h(C)),3)):Oe("v-if",!0)],46,Jge)}}});var nve=ht(tve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/rate/src/rate.vue"]]);const ive=Cn(nve),md={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},AR={[md.success]:gZ,[md.warning]:I0,[md.error]:TS,[md.info]:AS},sve=pt({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),rve=_e({name:"ElResult"}),ove=_e({...rve,props:sve,setup(e){const t=e,i=nt("result"),s=D(()=>{const o=t.icon,a=o&&md[o]?md[o]:"icon-info",l=AR[a]||AR["icon-info"];return{class:a,component:l}});return(o,a)=>(B(),ne("div",{class:U(h(i).b())},[ae("div",{class:U(h(i).e("icon"))},[qe(o.$slots,"icon",{},()=>[h(s).component?(B(),Be(Bn(h(s).component),{key:0,class:U(h(s).class)},null,8,["class"])):Oe("v-if",!0)])],2),o.title||o.$slots.title?(B(),ne("div",{key:0,class:U(h(i).e("title"))},[qe(o.$slots,"title",{},()=>[ae("p",null,ft(o.title),1)])],2)):Oe("v-if",!0),o.subTitle||o.$slots["sub-title"]?(B(),ne("div",{key:1,class:U(h(i).e("subtitle"))},[qe(o.$slots,"sub-title",{},()=>[ae("p",null,ft(o.subTitle),1)])],2)):Oe("v-if",!0),o.$slots.extra?(B(),ne("div",{key:2,class:U(h(i).e("extra"))},[qe(o.$slots,"extra")],2)):Oe("v-if",!0)],2))}});var ave=ht(ove,[["__file","/home/runner/work/element-plus/element-plus/packages/components/result/src/result.vue"]]);const lve=Cn(ave);var RR=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function cve(e,t){return!!(e===t||RR(e)&&RR(t))}function uve(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!cve(e[i],t[i]))return!1;return!0}function dve(e,t){t===void 0&&(t=uve);var i=null;function s(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(i&&i.lastThis===this&&t(o,i.lastArgs))return i.lastResult;var l=e.apply(this,o);return i={lastResult:l,lastArgs:o,lastThis:this},l}return s.clear=function(){i=null},s}const WN=()=>{const t=Tn().proxy.$props;return D(()=>{const i=(s,o,a)=>({});return t.perfMode?A0(i):dve(i)})},sw=50,qv="itemRendered",jv="scroll",gd="forward",Xv="backward",Xr="auto",j0="smart",fp="start",Jo="center",hp="end",Zd="horizontal",cx="vertical",fve="ltr",Ad="rtl",pp="negative",ux="positive-ascending",dx="positive-descending",hve={[Zd]:"left",[cx]:"top"},pve=20,mve={[Zd]:"deltaX",[cx]:"deltaY"},gve=({atEndEdge:e,atStartEdge:t,layout:i},s)=>{let o,a=0;const l=f=>f<0&&t.value||f>0&&e.value;return{hasReachedEdge:l,onWheel:f=>{D0(o);const p=f[mve[i.value]];l(a)&&l(a+p)||(a+=p,d3()||f.preventDefault(),o=ip(()=>{s(a),a=0}))}}},rw=Do({type:De([Number,Function]),required:!0}),ow=Do({type:Number}),aw=Do({type:Number,default:2}),vve=Do({type:String,values:["ltr","rtl"],default:"ltr"}),lw=Do({type:Number,default:0}),Yv=Do({type:Number,required:!0}),GN=Do({type:String,values:["horizontal","vertical"],default:cx}),KN=pt({className:{type:String,default:""},containerElement:{type:De([String,Object]),default:"div"},data:{type:De(Array),default:()=>Ui([])},direction:vve,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:De([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),qN=pt({cache:aw,estimatedItemSize:ow,layout:GN,initScrollOffset:lw,total:Yv,itemSize:rw,...KN}),cw={type:Number,default:6},jN={type:Number,default:0},XN={type:Number,default:2},Kc=pt({columnCache:aw,columnWidth:rw,estimatedColumnWidth:ow,estimatedRowHeight:ow,initScrollLeft:lw,initScrollTop:lw,itemKey:{type:De(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:aw,rowHeight:rw,totalColumn:Yv,totalRow:Yv,hScrollbarSize:cw,vScrollbarSize:cw,scrollbarStartGap:jN,scrollbarEndGap:XN,role:String,...KN}),YN=pt({alwaysOn:Boolean,class:String,layout:GN,total:Yv,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:cw,startGap:jN,endGap:XN,visible:Boolean}),Fc=(e,t)=>e<t?gd:Xv,mp=e=>e===fve||e===Ad||e===Zd,kR=e=>e===Ad;let ad=null;function Zv(e=!1){if(ad===null||e){const t=document.createElement("div"),i=t.style;i.width="50px",i.height="50px",i.overflow="scroll",i.direction="rtl";const s=document.createElement("div"),o=s.style;return o.width="100px",o.height="100px",t.appendChild(s),document.body.appendChild(t),t.scrollLeft>0?ad=dx:(t.scrollLeft=1,t.scrollLeft===0?ad=pp:ad=ux),document.body.removeChild(t),ad}return ad}function yve({move:e,size:t,bar:i},s){const o={},a=`translate${i.axis}(${e}px)`;return o[i.size]=t,o.transform=a,o.msTransform=a,o.webkitTransform=a,s==="horizontal"?o.height="100%":o.width="100%",o}const uw=_e({name:"ElVirtualScrollBar",props:YN,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const i=D(()=>e.startGap+e.endGap),s=nt("virtual-scrollbar"),o=nt("scrollbar"),a=X(),l=X();let u=null,f=null;const p=ai({isDragging:!1,traveled:0}),g=D(()=>jI[e.layout]),v=D(()=>e.clientSize-h(i)),b=D(()=>({position:"absolute",width:`${Zd===e.layout?v.value:e.scrollbarSize}px`,height:`${Zd===e.layout?e.scrollbarSize:v.value}px`,[hve[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),w=D(()=>{const F=e.ratio,G=e.clientSize;if(F>=100)return Number.POSITIVE_INFINITY;if(F>=50)return F*G/100;const H=G/3;return Math.floor(Math.min(Math.max(F*G,pve),H))}),M=D(()=>{if(!Number.isFinite(w.value))return{display:"none"};const F=`${w.value}px`;return yve({bar:g.value,size:F,move:p.traveled},e.layout)}),x=D(()=>Math.floor(e.clientSize-w.value-h(i))),E=()=>{window.addEventListener("mousemove",P),window.addEventListener("mouseup",R);const F=h(l);F&&(f=document.onselectstart,document.onselectstart=()=>!1,F.addEventListener("touchmove",P),F.addEventListener("touchend",R))},C=()=>{window.removeEventListener("mousemove",P),window.removeEventListener("mouseup",R),document.onselectstart=f,f=null;const F=h(l);F&&(F.removeEventListener("touchmove",P),F.removeEventListener("touchend",R))},k=F=>{F.stopImmediatePropagation(),!(F.ctrlKey||[1,2].includes(F.button))&&(p.isDragging=!0,p[g.value.axis]=F.currentTarget[g.value.offset]-(F[g.value.client]-F.currentTarget.getBoundingClientRect()[g.value.direction]),t("start-move"),E())},R=()=>{p.isDragging=!1,p[g.value.axis]=0,t("stop-move"),C()},P=F=>{const{isDragging:G}=p;if(!G||!l.value||!a.value)return;const H=p[g.value.axis];if(!H)return;D0(u);const j=(a.value.getBoundingClientRect()[g.value.direction]-F[g.value.client])*-1,q=l.value[g.value.offset]-H,ie=j-q;u=ip(()=>{p.traveled=Math.max(e.startGap,Math.min(ie,x.value)),t("scroll",ie,x.value)})},O=F=>{const G=Math.abs(F.target.getBoundingClientRect()[g.value.direction]-F[g.value.client]),H=l.value[g.value.offset]/2,j=G-H;p.traveled=Math.max(0,Math.min(j,x.value)),t("scroll",j,x.value)};return et(()=>e.scrollFrom,F=>{p.isDragging||(p.traveled=Math.ceil(F*x.value))}),Di(()=>{C()}),()=>Yt("div",{role:"presentation",ref:a,class:[s.b(),e.class,(e.alwaysOn||p.isDragging)&&"always-on"],style:b.value,onMousedown:rn(O,["stop","prevent"]),onTouchstartPrevent:k},Yt("div",{ref:l,class:o.e("thumb"),style:M.value,onMousedown:k},[]))}}),ZN=({name:e,getOffset:t,getItemSize:i,getItemOffset:s,getEstimatedTotalSize:o,getStartIndexForOffset:a,getStopIndexForStartIndex:l,initCache:u,clearCache:f,validateProps:p})=>_e({name:e??"ElVirtualList",props:qN,emits:[qv,jv],setup(g,{emit:v,expose:b}){p(g);const w=Tn(),M=nt("vl"),x=X(u(g,w)),E=WN(),C=X(),k=X(),R=X(),P=X({isScrolling:!1,scrollDir:"forward",scrollOffset:on(g.initScrollOffset)?g.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:g.scrollbarAlwaysOn}),O=D(()=>{const{total:Ce,cache:Ge}=g,{isScrolling:Te,scrollDir:xe,scrollOffset:Ie}=h(P);if(Ce===0)return[0,0,0,0];const ge=a(g,Ie,h(x)),Le=l(g,ge,Ie,h(x)),Ue=!Te||xe===Xv?Math.max(1,Ge):1,ut=!Te||xe===gd?Math.max(1,Ge):1;return[Math.max(0,ge-Ue),Math.max(0,Math.min(Ce-1,Le+ut)),ge,Le]}),F=D(()=>o(g,h(x))),G=D(()=>mp(g.layout)),H=D(()=>[{position:"relative",[`overflow-${G.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:g.direction,height:on(g.height)?`${g.height}px`:g.height,width:on(g.width)?`${g.width}px`:g.width},g.style]),j=D(()=>{const Ce=h(F),Ge=h(G);return{height:Ge?"100%":`${Ce}px`,pointerEvents:h(P).isScrolling?"none":void 0,width:Ge?`${Ce}px`:"100%"}}),q=D(()=>G.value?g.width:g.height),{onWheel:ie}=gve({atStartEdge:D(()=>P.value.scrollOffset<=0),atEndEdge:D(()=>P.value.scrollOffset>=F.value),layout:D(()=>g.layout)},Ce=>{var Ge,Te;(Te=(Ge=R.value).onMouseUp)==null||Te.call(Ge),W(Math.min(P.value.scrollOffset+Ce,F.value-q.value))}),Q=()=>{const{total:Ce}=g;if(Ce>0){const[Ie,ge,Le,Ue]=h(O);v(qv,Ie,ge,Le,Ue)}const{scrollDir:Ge,scrollOffset:Te,updateRequested:xe}=h(P);v(jv,Ge,Te,xe)},Z=Ce=>{const{clientHeight:Ge,scrollHeight:Te,scrollTop:xe}=Ce.currentTarget,Ie=h(P);if(Ie.scrollOffset===xe)return;const ge=Math.max(0,Math.min(xe,Te-Ge));P.value={...Ie,isScrolling:!0,scrollDir:Fc(Ie.scrollOffset,ge),scrollOffset:ge,updateRequested:!1},Bt(pe)},re=Ce=>{const{clientWidth:Ge,scrollLeft:Te,scrollWidth:xe}=Ce.currentTarget,Ie=h(P);if(Ie.scrollOffset===Te)return;const{direction:ge}=g;let Le=Te;if(ge===Ad)switch(Zv()){case pp:{Le=-Te;break}case dx:{Le=xe-Ge-Te;break}}Le=Math.max(0,Math.min(Le,xe-Ge)),P.value={...Ie,isScrolling:!0,scrollDir:Fc(Ie.scrollOffset,Le),scrollOffset:Le,updateRequested:!1},Bt(pe)},ce=Ce=>{h(G)?re(Ce):Z(Ce),Q()},te=(Ce,Ge)=>{const Te=(F.value-q.value)/Ge*Ce;W(Math.min(F.value-q.value,Te))},W=Ce=>{Ce=Math.max(Ce,0),Ce!==h(P).scrollOffset&&(P.value={...h(P),scrollOffset:Ce,scrollDir:Fc(h(P).scrollOffset,Ce),updateRequested:!0},Bt(pe))},ee=(Ce,Ge=Xr)=>{const{scrollOffset:Te}=h(P);Ce=Math.max(0,Math.min(Ce,g.total-1)),W(t(g,Ce,Ge,Te,h(x)))},J=Ce=>{const{direction:Ge,itemSize:Te,layout:xe}=g,Ie=E.value(f&&Te,f&&xe,f&&Ge);let ge;if(Gn(Ie,String(Ce)))ge=Ie[Ce];else{const Le=s(g,Ce,h(x)),Ue=i(g,Ce,h(x)),ut=h(G),ue=Ge===Ad,we=ut?Le:0;Ie[Ce]=ge={position:"absolute",left:ue?void 0:`${we}px`,right:ue?`${we}px`:void 0,top:ut?0:`${Le}px`,height:ut?"100%":`${Ue}px`,width:ut?`${Ue}px`:"100%"}}return ge},pe=()=>{P.value.isScrolling=!1,Bt(()=>{E.value(-1,null,null)})},Ee=()=>{const Ce=C.value;Ce&&(Ce.scrollTop=0)};_n(()=>{if(!Jn)return;const{initScrollOffset:Ce}=g,Ge=h(C);on(Ce)&&Ge&&(h(G)?Ge.scrollLeft=Ce:Ge.scrollTop=Ce),Q()}),Ga(()=>{const{direction:Ce,layout:Ge}=g,{scrollOffset:Te,updateRequested:xe}=h(P),Ie=h(C);if(xe&&Ie)if(Ge===Zd)if(Ce===Ad)switch(Zv()){case pp:{Ie.scrollLeft=-Te;break}case ux:{Ie.scrollLeft=Te;break}default:{const{clientWidth:ge,scrollWidth:Le}=Ie;Ie.scrollLeft=Le-ge-Te;break}}else Ie.scrollLeft=Te;else Ie.scrollTop=Te});const he={ns:M,clientSize:q,estimatedTotalSize:F,windowStyle:H,windowRef:C,innerRef:k,innerStyle:j,itemsToRender:O,scrollbarRef:R,states:P,getItemStyle:J,onScroll:ce,onScrollbarScroll:te,onWheel:ie,scrollTo:W,scrollToItem:ee,resetScrollTop:Ee};return b({windowRef:C,innerRef:k,getItemStyleCache:E,scrollTo:W,scrollToItem:ee,resetScrollTop:Ee,states:P}),he},render(g){var v;const{$slots:b,className:w,clientSize:M,containerElement:x,data:E,getItemStyle:C,innerElement:k,itemsToRender:R,innerStyle:P,layout:O,total:F,onScroll:G,onScrollbarScroll:H,onWheel:j,states:q,useIsScrolling:ie,windowStyle:Q,ns:Z}=g,[re,ce]=R,te=Bn(x),W=Bn(k),ee=[];if(F>0)for(let he=re;he<=ce;he++)ee.push((v=b.default)==null?void 0:v.call(b,{data:E,key:he,index:he,isScrolling:ie?q.isScrolling:void 0,style:C(he)}));const J=[Yt(W,{style:P,ref:"innerRef"},un(W)?ee:{default:()=>ee})],pe=Yt(uw,{ref:"scrollbarRef",clientSize:M,layout:O,onScroll:H,ratio:M*100/this.estimatedTotalSize,scrollFrom:q.scrollOffset/(this.estimatedTotalSize-M),total:F}),Ee=Yt(te,{class:[Z.e("window"),w],style:Q,onScroll:G,onWheel:j,ref:"windowRef",key:0},un(te)?[J]:{default:()=>[J]});return Yt("div",{key:0,class:[Z.e("wrapper"),q.scrollbarAlwaysOn?"always-on":""]},[Ee,pe])}}),JN=ZN({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:i,layout:s,width:o},a,l,u)=>{const f=mp(s)?o:e,p=Math.max(0,t*i-f),g=Math.min(p,a*i),v=Math.max(0,(a+1)*i-f);switch(l===j0&&(u>=v-f&&u<=g+f?l=Xr:l=Jo),l){case fp:return g;case hp:return v;case Jo:{const b=Math.round(v+(g-v)/2);return b<Math.ceil(f/2)?0:b>p+Math.floor(f/2)?p:b}case Xr:default:return u>=v&&u<=g?u:u<v?v:g}},getStartIndexForOffset:({total:e,itemSize:t},i)=>Math.max(0,Math.min(e-1,Math.floor(i/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:i,layout:s,width:o},a,l)=>{const u=a*i,f=mp(s)?o:e,p=Math.ceil((f+l-u)/i);return Math.max(0,Math.min(t-1,a+p-1))},initCache(){},clearCache:!0,validateProps(){}}),vd=(e,t,i)=>{const{itemSize:s}=e,{items:o,lastVisitedIndex:a}=i;if(t>a){let l=0;if(a>=0){const u=o[a];l=u.offset+u.size}for(let u=a+1;u<=t;u++){const f=s(u);o[u]={offset:l,size:f},l+=f}i.lastVisitedIndex=t}return o[t]},bve=(e,t,i)=>{const{items:s,lastVisitedIndex:o}=t;return(o>0?s[o].offset:0)>=i?QN(e,t,0,o,i):_ve(e,t,Math.max(0,o),i)},QN=(e,t,i,s,o)=>{for(;i<=s;){const a=i+Math.floor((s-i)/2),l=vd(e,a,t).offset;if(l===o)return a;l<o?i=a+1:l>o&&(s=a-1)}return Math.max(0,i-1)},_ve=(e,t,i,s)=>{const{total:o}=e;let a=1;for(;i<o&&vd(e,i,t).offset<s;)i+=a,a*=2;return QN(e,t,Math.floor(i/2),Math.min(i,o-1),s)},PR=({total:e},{items:t,estimatedItemSize:i,lastVisitedIndex:s})=>{let o=0;if(s>=e&&(s=e-1),s>=0){const u=t[s];o=u.offset+u.size}const l=(e-s-1)*i;return o+l},wve=ZN({name:"ElDynamicSizeList",getItemOffset:(e,t,i)=>vd(e,t,i).offset,getItemSize:(e,t,{items:i})=>i[t].size,getEstimatedTotalSize:PR,getOffset:(e,t,i,s,o)=>{const{height:a,layout:l,width:u}=e,f=mp(l)?u:a,p=vd(e,t,o),g=PR(e,o),v=Math.max(0,Math.min(g-f,p.offset)),b=Math.max(0,p.offset-f+p.size);switch(i===j0&&(s>=b-f&&s<=v+f?i=Xr:i=Jo),i){case fp:return v;case hp:return b;case Jo:return Math.round(b+(v-b)/2);case Xr:default:return s>=b&&s<=v?s:s<b?b:v}},getStartIndexForOffset:(e,t,i)=>bve(e,i,t),getStopIndexForStartIndex:(e,t,i,s)=>{const{height:o,total:a,layout:l,width:u}=e,f=mp(l)?u:o,p=vd(e,t,s),g=i+f;let v=p.offset+p.size,b=t;for(;b<a-1&&v<g;)b++,v+=vd(e,b,s).size;return b},initCache({estimatedItemSize:e=sw},t){const i={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return i.clearCacheAfterIndex=(s,o=!0)=>{var a,l;i.lastVisitedIndex=Math.min(i.lastVisitedIndex,s-1),(a=t.exposed)==null||a.getItemStyleCache(-1),o&&((l=t.proxy)==null||l.$forceUpdate())},i},clearCache:!1,validateProps:({itemSize:e})=>{}}),Sve=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:i,atYStartEdge:s},o)=>{let a=null,l=0,u=0;const f=(g,v)=>{const b=g<=0&&t.value||g>=0&&e.value,w=v<=0&&s.value||v>=0&&i.value;return b&&w};return{hasReachedEdge:f,onWheel:g=>{D0(a);let v=g.deltaX,b=g.deltaY;Math.abs(v)>Math.abs(b)?b=0:v=0,g.shiftKey&&b!==0&&(v=b,b=0),!(f(l,u)&&f(l+v,u+b))&&(l+=v,u+=b,g.preventDefault(),a=ip(()=>{o(l,u),l=0,u=0}))}}},eO=({name:e,clearCache:t,getColumnPosition:i,getColumnStartIndexForOffset:s,getColumnStopIndexForStartIndex:o,getEstimatedTotalHeight:a,getEstimatedTotalWidth:l,getColumnOffset:u,getRowOffset:f,getRowPosition:p,getRowStartIndexForOffset:g,getRowStopIndexForStartIndex:v,initCache:b,injectToInstance:w,validateProps:M})=>_e({name:e??"ElVirtualList",props:Kc,emits:[qv,jv],setup(x,{emit:E,expose:C,slots:k}){const R=nt("vl");M(x);const P=Tn(),O=X(b(x,P));w==null||w(P,O);const F=X(),G=X(),H=X(),j=X(null),q=X({isScrolling:!1,scrollLeft:on(x.initScrollLeft)?x.initScrollLeft:0,scrollTop:on(x.initScrollTop)?x.initScrollTop:0,updateRequested:!1,xAxisScrollDir:gd,yAxisScrollDir:gd}),ie=WN(),Q=D(()=>Number.parseInt(`${x.height}`,10)),Z=D(()=>Number.parseInt(`${x.width}`,10)),re=D(()=>{const{totalColumn:He,totalRow:ct,columnCache:Qe}=x,{isScrolling:rt,xAxisScrollDir:Je,scrollLeft:Mt}=h(q);if(He===0||ct===0)return[0,0,0,0];const yt=s(x,Mt,h(O)),We=o(x,yt,Mt,h(O)),_t=!rt||Je===Xv?Math.max(1,Qe):1,Ut=!rt||Je===gd?Math.max(1,Qe):1;return[Math.max(0,yt-_t),Math.max(0,Math.min(He-1,We+Ut)),yt,We]}),ce=D(()=>{const{totalColumn:He,totalRow:ct,rowCache:Qe}=x,{isScrolling:rt,yAxisScrollDir:Je,scrollTop:Mt}=h(q);if(He===0||ct===0)return[0,0,0,0];const yt=g(x,Mt,h(O)),We=v(x,yt,Mt,h(O)),_t=!rt||Je===Xv?Math.max(1,Qe):1,Ut=!rt||Je===gd?Math.max(1,Qe):1;return[Math.max(0,yt-_t),Math.max(0,Math.min(ct-1,We+Ut)),yt,We]}),te=D(()=>a(x,h(O))),W=D(()=>l(x,h(O))),ee=D(()=>{var He;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:x.direction,height:on(x.height)?`${x.height}px`:x.height,width:on(x.width)?`${x.width}px`:x.width},(He=x.style)!=null?He:{}]}),J=D(()=>{const He=`${h(W)}px`;return{height:`${h(te)}px`,pointerEvents:h(q).isScrolling?"none":void 0,width:He}}),pe=()=>{const{totalColumn:He,totalRow:ct}=x;if(He>0&&ct>0){const[We,_t,Ut,fn]=h(re),[Pe,$e,tt,Fe]=h(ce);E(qv,{columnCacheStart:We,columnCacheEnd:_t,rowCacheStart:Pe,rowCacheEnd:$e,columnVisibleStart:Ut,columnVisibleEnd:fn,rowVisibleStart:tt,rowVisibleEnd:Fe})}const{scrollLeft:Qe,scrollTop:rt,updateRequested:Je,xAxisScrollDir:Mt,yAxisScrollDir:yt}=h(q);E(jv,{xAxisScrollDir:Mt,scrollLeft:Qe,yAxisScrollDir:yt,scrollTop:rt,updateRequested:Je})},Ee=He=>{const{clientHeight:ct,clientWidth:Qe,scrollHeight:rt,scrollLeft:Je,scrollTop:Mt,scrollWidth:yt}=He.currentTarget,We=h(q);if(We.scrollTop===Mt&&We.scrollLeft===Je)return;let _t=Je;if(kR(x.direction))switch(Zv()){case pp:_t=-Je;break;case dx:_t=yt-Qe-Je;break}q.value={...We,isScrolling:!0,scrollLeft:_t,scrollTop:Math.max(0,Math.min(Mt,rt-ct)),updateRequested:!0,xAxisScrollDir:Fc(We.scrollLeft,_t),yAxisScrollDir:Fc(We.scrollTop,Mt)},Bt(()=>ge()),Le(),pe()},he=(He,ct)=>{const Qe=h(Q),rt=(te.value-Qe)/ct*He;Te({scrollTop:Math.min(te.value-Qe,rt)})},Ce=(He,ct)=>{const Qe=h(Z),rt=(W.value-Qe)/ct*He;Te({scrollLeft:Math.min(W.value-Qe,rt)})},{onWheel:Ge}=Sve({atXStartEdge:D(()=>q.value.scrollLeft<=0),atXEndEdge:D(()=>q.value.scrollLeft>=W.value-h(Z)),atYStartEdge:D(()=>q.value.scrollTop<=0),atYEndEdge:D(()=>q.value.scrollTop>=te.value-h(Q))},(He,ct)=>{var Qe,rt,Je,Mt;(rt=(Qe=G.value)==null?void 0:Qe.onMouseUp)==null||rt.call(Qe),(Mt=(Je=G.value)==null?void 0:Je.onMouseUp)==null||Mt.call(Je);const yt=h(Z),We=h(Q);Te({scrollLeft:Math.min(q.value.scrollLeft+He,W.value-yt),scrollTop:Math.min(q.value.scrollTop+ct,te.value-We)})}),Te=({scrollLeft:He=q.value.scrollLeft,scrollTop:ct=q.value.scrollTop})=>{He=Math.max(He,0),ct=Math.max(ct,0);const Qe=h(q);ct===Qe.scrollTop&&He===Qe.scrollLeft||(q.value={...Qe,xAxisScrollDir:Fc(Qe.scrollLeft,He),yAxisScrollDir:Fc(Qe.scrollTop,ct),scrollLeft:He,scrollTop:ct,updateRequested:!0},Bt(()=>ge()),Le(),pe())},xe=(He=0,ct=0,Qe=Xr)=>{const rt=h(q);ct=Math.max(0,Math.min(ct,x.totalColumn-1)),He=Math.max(0,Math.min(He,x.totalRow-1));const Je=X3(R.namespace.value),Mt=h(O),yt=a(x,Mt),We=l(x,Mt);Te({scrollLeft:u(x,ct,Qe,rt.scrollLeft,Mt,We>x.width?Je:0),scrollTop:f(x,He,Qe,rt.scrollTop,Mt,yt>x.height?Je:0)})},Ie=(He,ct)=>{const{columnWidth:Qe,direction:rt,rowHeight:Je}=x,Mt=ie.value(t&&Qe,t&&Je,t&&rt),yt=`${He},${ct}`;if(Gn(Mt,yt))return Mt[yt];{const[,We]=i(x,ct,h(O)),_t=h(O),Ut=kR(rt),[fn,Pe]=p(x,He,_t),[$e]=i(x,ct,_t);return Mt[yt]={position:"absolute",left:Ut?void 0:`${We}px`,right:Ut?`${We}px`:void 0,top:`${Pe}px`,height:`${fn}px`,width:`${$e}px`},Mt[yt]}},ge=()=>{q.value.isScrolling=!1,Bt(()=>{ie.value(-1,null,null)})};_n(()=>{if(!Jn)return;const{initScrollLeft:He,initScrollTop:ct}=x,Qe=h(F);Qe&&(on(He)&&(Qe.scrollLeft=He),on(ct)&&(Qe.scrollTop=ct)),pe()});const Le=()=>{const{direction:He}=x,{scrollLeft:ct,scrollTop:Qe,updateRequested:rt}=h(q),Je=h(F);if(rt&&Je){if(He===Ad)switch(Zv()){case pp:{Je.scrollLeft=-ct;break}case ux:{Je.scrollLeft=ct;break}default:{const{clientWidth:Mt,scrollWidth:yt}=Je;Je.scrollLeft=yt-Mt-ct;break}}else Je.scrollLeft=Math.max(0,ct);Je.scrollTop=Math.max(0,Qe)}},{resetAfterColumnIndex:Ue,resetAfterRowIndex:ut,resetAfter:ue}=P.proxy;C({windowRef:F,innerRef:j,getItemStyleCache:ie,scrollTo:Te,scrollToItem:xe,states:q,resetAfterColumnIndex:Ue,resetAfterRowIndex:ut,resetAfter:ue});const we=()=>{const{scrollbarAlwaysOn:He,scrollbarStartGap:ct,scrollbarEndGap:Qe,totalColumn:rt,totalRow:Je}=x,Mt=h(Z),yt=h(Q),We=h(W),_t=h(te),{scrollLeft:Ut,scrollTop:fn}=h(q),Pe=Yt(uw,{ref:G,alwaysOn:He,startGap:ct,endGap:Qe,class:R.e("horizontal"),clientSize:Mt,layout:"horizontal",onScroll:Ce,ratio:Mt*100/We,scrollFrom:Ut/(We-Mt),total:Je,visible:!0}),$e=Yt(uw,{ref:H,alwaysOn:He,startGap:ct,endGap:Qe,class:R.e("vertical"),clientSize:yt,layout:"vertical",onScroll:he,ratio:yt*100/_t,scrollFrom:fn/(_t-yt),total:rt,visible:!0});return{horizontalScrollbar:Pe,verticalScrollbar:$e}},Ve=()=>{var He;const[ct,Qe]=h(re),[rt,Je]=h(ce),{data:Mt,totalColumn:yt,totalRow:We,useIsScrolling:_t,itemKey:Ut}=x,fn=[];if(We>0&&yt>0)for(let Pe=rt;Pe<=Je;Pe++)for(let $e=ct;$e<=Qe;$e++)fn.push((He=k.default)==null?void 0:He.call(k,{columnIndex:$e,data:Mt,key:Ut({columnIndex:$e,data:Mt,rowIndex:Pe}),isScrolling:_t?h(q).isScrolling:void 0,style:Ie(Pe,$e),rowIndex:Pe}));return fn},Ye=()=>{const He=Bn(x.innerElement),ct=Ve();return[Yt(He,{style:h(J),ref:j},un(He)?ct:{default:()=>ct})]};return()=>{const He=Bn(x.containerElement),{horizontalScrollbar:ct,verticalScrollbar:Qe}=we(),rt=Ye();return Yt("div",{key:0,class:R.e("wrapper"),role:x.role},[Yt(He,{class:x.className,style:h(ee),onScroll:Ee,onWheel:Ge,ref:F},un(He)?rt:{default:()=>rt}),ct,Qe])}}}),xve=eO({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:i},s,o,a,l,u)=>{i=Number(i);const f=Math.max(0,e*t-i),p=Math.min(f,s*t),g=Math.max(0,s*t-i+u+t);switch(o==="smart"&&(a>=g-i&&a<=p+i?o=Xr:o=Jo),o){case fp:return p;case hp:return g;case Jo:{const v=Math.round(g+(p-g)/2);return v<Math.ceil(i/2)?0:v>f+Math.floor(i/2)?f:v}case Xr:default:return a>=g&&a<=p?a:g>p||a<g?g:p}},getRowOffset:({rowHeight:e,height:t,totalRow:i},s,o,a,l,u)=>{t=Number(t);const f=Math.max(0,i*e-t),p=Math.min(f,s*e),g=Math.max(0,s*e-t+u+e);switch(o===j0&&(a>=g-t&&a<=p+t?o=Xr:o=Jo),o){case fp:return p;case hp:return g;case Jo:{const v=Math.round(g+(p-g)/2);return v<Math.ceil(t/2)?0:v>f+Math.floor(t/2)?f:v}case Xr:default:return a>=g&&a<=p?a:g>p||a<g?g:p}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},i)=>Math.max(0,Math.min(t-1,Math.floor(i/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:i},s,o)=>{const a=s*e,l=Math.ceil((i+o-a)/e);return Math.max(0,Math.min(t-1,s+l-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},i)=>Math.max(0,Math.min(t-1,Math.floor(i/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:i},s,o)=>{const a=s*e,l=Math.ceil((i+o-a)/e);return Math.max(0,Math.min(t-1,s+l-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),{max:Jv,min:tO,floor:nO}=Math,Mve={column:"columnWidth",row:"rowHeight"},dw={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},Ia=(e,t,i,s)=>{const[o,a,l]=[i[s],e[Mve[s]],i[dw[s]]];if(t>l){let u=0;if(l>=0){const f=o[l];u=f.offset+f.size}for(let f=l+1;f<=t;f++){const p=a(f);o[f]={offset:u,size:p},u+=p}i[dw[s]]=t}return o[t]},iO=(e,t,i,s,o,a)=>{for(;i<=s;){const l=i+nO((s-i)/2),u=Ia(e,l,t,a).offset;if(u===o)return l;u<o?i=l+1:s=l-1}return Jv(0,i-1)},Eve=(e,t,i,s,o)=>{const a=o==="column"?e.totalColumn:e.totalRow;let l=1;for(;i<a&&Ia(e,i,t,o).offset<s;)i+=l,l*=2;return iO(e,t,nO(i/2),tO(i,a-1),s,o)},IR=(e,t,i,s)=>{const[o,a]=[t[s],t[dw[s]]];return(a>0?o[a].offset:0)>=i?iO(e,t,0,a,i,s):Eve(e,t,Jv(0,a),i,s)},sO=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:i,row:s})=>{let o=0;if(i>=e&&(i=e-1),i>=0){const u=s[i];o=u.offset+u.size}const l=(e-i-1)*t;return o+l},rO=({totalColumn:e},{column:t,estimatedColumnWidth:i,lastVisitedColumnIndex:s})=>{let o=0;if(s>e&&(s=e-1),s>=0){const u=t[s];o=u.offset+u.size}const l=(e-s-1)*i;return o+l},Cve={column:rO,row:sO},LR=(e,t,i,s,o,a,l)=>{const[u,f]=[a==="row"?e.height:e.width,Cve[a]],p=Ia(e,t,o,a),g=f(e,o),v=Jv(0,tO(g-u,p.offset)),b=Jv(0,p.offset-u+l+p.size);switch(i===j0&&(s>=b-u&&s<=v+u?i=Xr:i=Jo),i){case fp:return v;case hp:return b;case Jo:return Math.round(b+(v-b)/2);case Xr:default:return s>=b&&s<=v?s:b>v||s<b?b:v}},Tve=eO({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,i)=>{const s=Ia(e,t,i,"column");return[s.size,s.offset]},getRowPosition:(e,t,i)=>{const s=Ia(e,t,i,"row");return[s.size,s.offset]},getColumnOffset:(e,t,i,s,o,a)=>LR(e,t,i,s,o,"column",a),getRowOffset:(e,t,i,s,o,a)=>LR(e,t,i,s,o,"row",a),getColumnStartIndexForOffset:(e,t,i)=>IR(e,i,t,"column"),getColumnStopIndexForStartIndex:(e,t,i,s)=>{const o=Ia(e,t,s,"column"),a=i+e.width;let l=o.offset+o.size,u=t;for(;u<e.totalColumn-1&&l<a;)u++,l+=Ia(e,t,s,"column").size;return u},getEstimatedTotalHeight:sO,getEstimatedTotalWidth:rO,getRowStartIndexForOffset:(e,t,i)=>IR(e,i,t,"row"),getRowStopIndexForStartIndex:(e,t,i,s)=>{const{totalRow:o,height:a}=e,l=Ia(e,t,s,"row"),u=i+a;let f=l.size+l.offset,p=t;for(;p<o-1&&f<u;)p++,f+=Ia(e,p,s,"row").size;return p},injectToInstance:(e,t)=>{const i=({columnIndex:a,rowIndex:l},u)=>{var f,p;u=Ts(u)?!0:u,on(a)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,a-1)),on(l)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,l-1)),(f=e.exposed)==null||f.getItemStyleCache.value(-1,null,null),u&&((p=e.proxy)==null||p.$forceUpdate())},s=(a,l)=>{i({columnIndex:a},l)},o=(a,l)=>{i({rowIndex:a},l)};Object.assign(e.proxy,{resetAfterColumnIndex:s,resetAfterRowIndex:o,resetAfter:i})},initCache:({estimatedColumnWidth:e=sw,estimatedRowHeight:t=sw})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),Ave=_e({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:nt("select")}}});function Rve(e,t,i,s,o,a){return e.item.isTitle?(B(),ne("div",{key:0,class:U(e.ns.be("group","title")),style:Wt([e.style,{lineHeight:`${e.height}px`}])},ft(e.item.label),7)):(B(),ne("div",{key:1,class:U(e.ns.be("group","split")),style:Wt(e.style)},[ae("span",{class:U(e.ns.be("group","split-dash")),style:Wt({top:`${e.height/2}px`})},null,6)],6))}var kve=ht(Ave,[["render",Rve],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function Pve(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const Ive={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:Hl},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:Cs.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:N0},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:De(String),values:su,default:"bottom-start"}},Lve={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},Nve=_e({props:Lve,emits:["select","hover"],setup(e,{emit:t}){const i=nt("select"),{hoverItem:s,selectOptionClick:o}=Pve(e,{emit:t});return{ns:i,hoverItem:s,selectOptionClick:o}}}),Ove=["aria-selected"];function Dve(e,t,i,s,o,a){return B(),ne("li",{"aria-selected":e.selected,style:Wt(e.style),class:U([e.ns.be("dropdown","option-item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),{hover:e.hovering}]),onMouseenter:t[0]||(t[0]=(...l)=>e.hoverItem&&e.hoverItem(...l)),onClick:t[1]||(t[1]=rn((...l)=>e.selectOptionClick&&e.selectOptionClick(...l),["stop"]))},[qe(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[ae("span",null,ft(e.item.label),1)])],46,Ove)}var Fve=ht(Nve,[["render",Dve],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const oO=Symbol("ElSelectV2Injection");var Bve=_e({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:t,expose:i}){const s=Lt(oO),o=nt("select"),a=X([]),l=X(),u=D(()=>e.data.length);et(()=>u.value,()=>{var H,j;(j=(H=s.popper.value).updatePopper)==null||j.call(H)});const f=D(()=>Ts(s.props.estimatedOptionHeight)),p=D(()=>f.value?{itemSize:s.props.itemHeight}:{estimatedSize:s.props.estimatedOptionHeight,itemSize:H=>a.value[H]}),g=(H=[],j)=>{const{props:{valueKey:q}}=s;return Pn(j)?H&&H.some(ie=>$i(ie,q)===$i(j,q)):H.includes(j)},v=(H,j)=>{if(Pn(j)){const{valueKey:q}=s.props;return $i(H,q)===$i(j,q)}else return H===j},b=(H,j)=>{const{valueKey:q}=s.props;return s.props.multiple?g(H,$i(j,q)):v(H,$i(j,q))},w=(H,j)=>{const{disabled:q,multiple:ie,multipleLimit:Q}=s.props;return q||!j&&(ie?Q>0&&H.length>=Q:!1)},M=H=>e.hoveringIndex===H;i({listRef:l,isSized:f,isItemDisabled:w,isItemHovering:M,isItemSelected:b,scrollToItem:H=>{const j=l.value;j&&j.scrollToItem(H)},resetScrollTop:()=>{const H=l.value;H&&H.resetScrollTop()}});const C=H=>{const{index:j,data:q,style:ie}=H,Q=h(f),{itemSize:Z,estimatedSize:re}=h(p),{modelValue:ce}=s.props,{onSelect:te,onHover:W}=s,ee=q[j];if(ee.type==="Group")return fe(kve,{item:ee,style:ie,height:Q?Z:re},null);const J=b(ce,ee),pe=w(ce,J),Ee=M(j);return fe(Fve,kn(H,{selected:J,disabled:ee.disabled||pe,created:!!ee.created,hovering:Ee,item:ee,onSelect:te,onHover:W}),{default:he=>{var Ce;return((Ce=t.default)==null?void 0:Ce.call(t,he))||fe("span",null,[ee.label])}})},{onKeyboardNavigate:k,onKeyboardSelect:R}=s,P=()=>{k("forward")},O=()=>{k("backward")},F=()=>{s.expanded=!1},G=H=>{const{code:j}=H,{tab:q,esc:ie,down:Q,up:Z,enter:re}=Xt;switch(j!==q&&(H.preventDefault(),H.stopPropagation()),j){case q:case ie:{F();break}case Q:{P();break}case Z:{O();break}case re:{R();break}}};return()=>{var H;const{data:j,width:q}=e,{height:ie,multiple:Q,scrollbarAlwaysOn:Z}=s.props;if(j.length===0)return fe("div",{class:o.b("dropdown"),style:{width:`${q}px`}},[(H=t.empty)==null?void 0:H.call(t)]);const re=h(f)?JN:wve;return fe("div",{class:[o.b("dropdown"),o.is("multiple",Q)]},[fe(re,kn({ref:l},h(p),{className:o.be("dropdown","list"),scrollbarAlwaysOn:Z,data:j,height:ie,width:q,total:j.length,onKeydown:G}),{default:ce=>fe(C,ce,null)})])}}});function zve(e,t){const i=X(0),s=X(null),o=D(()=>e.allowCreate&&e.filterable);function a(g){const v=b=>b.value===g;return e.options&&e.options.some(v)||t.createdOptions.some(v)}function l(g){o.value&&(e.multiple&&g.created?i.value++:s.value=g)}function u(g){if(o.value)if(g&&g.length>0&&!a(g)){const v={value:g,label:g,created:!0,disabled:!1};t.createdOptions.length>=i.value?t.createdOptions[i.value]=v:t.createdOptions.push(v)}else if(e.multiple)t.createdOptions.length=i.value;else{const v=s.value;t.createdOptions.length=0,v&&v.created&&t.createdOptions.push(v)}}function f(g){if(!o.value||!g||!g.created||g.created&&e.reserveKeyword&&t.inputValue===g.label)return;const v=t.createdOptions.findIndex(b=>b.value===g.value);~v&&(t.createdOptions.splice(v,1),i.value--)}function p(){o.value&&(t.createdOptions.length=0,i.value=0)}return{createNewOption:u,removeNewOption:f,selectNewOption:l,clearAllNewOption:p}}const $ve=e=>{const t=[];return e.forEach(i=>{Nt(i.options)?(t.push({label:i.label,isTitle:!0,type:"Group"}),i.options.forEach(s=>{t.push(s)}),t.push({type:"Group"})):t.push(i)}),t};function Uve(e){const t=X(!1);return{handleCompositionStart:()=>{t.value=!0},handleCompositionUpdate:a=>{const l=a.target.value,u=l[l.length-1]||"";t.value=!O0(u)},handleCompositionEnd:a=>{t.value&&(t.value=!1,an(e)&&e(a))}}}const NR="",OR=11,Vve={larget:51,default:42,small:33},Hve=(e,t)=>{const{t:i}=ii(),s=nt("select-v2"),o=nt("input"),{form:a,formItem:l}=lr(),u=ai({inputValue:NR,displayInputValue:NR,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),f=X(-1),p=X(-1),g=X(null),v=X(null),b=X(null),w=X(null),M=X(null),x=X(null),E=X(null),C=X(!1),k=D(()=>e.disabled||(a==null?void 0:a.disabled)),R=D(()=>{const st=Q.value.length*34;return st>e.height?e.height:st}),P=D(()=>!us(e.modelValue)),O=D(()=>{const st=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:P.value;return e.clearable&&!k.value&&u.comboBoxHovering&&st}),F=D(()=>e.remote&&e.filterable?"":P0),G=D(()=>F.value&&s.is("reverse",C.value)),H=D(()=>(l==null?void 0:l.validateState)||""),j=D(()=>rI[H.value]),q=D(()=>e.remote?300:0),ie=D(()=>{const st=Q.value;return e.loading?e.loadingText||i("el.select.loading"):e.remote&&u.inputValue===""&&st.length===0?!1:e.filterable&&u.inputValue&&st.length>0?e.noMatchText||i("el.select.noMatch"):st.length===0?e.noDataText||i("el.select.noData"):null}),Q=D(()=>{const st=Kt=>{const Yn=u.inputValue,ti=new RegExp(q3(Yn),"i");return Yn?ti.test(Kt.label||""):!0};return e.loading?[]:$ve(e.options.concat(u.createdOptions).map(Kt=>{if(Nt(Kt.options)){const Yn=Kt.options.filter(st);if(Yn.length>0)return{...Kt,options:Yn}}else if(e.remote||st(Kt))return Kt;return null}).filter(Kt=>Kt!==null))}),Z=D(()=>Q.value.every(st=>st.disabled)),re=fs(),ce=D(()=>re.value==="small"?"small":"default"),te=D(()=>{const st=x.value,Kt=ce.value||"default",Yn=st?Number.parseInt(getComputedStyle(st).paddingLeft):0,ti=st?Number.parseInt(getComputedStyle(st).paddingRight):0;return u.selectWidth-ti-Yn-Vve[Kt]}),W=()=>{var st;p.value=((st=M.value)==null?void 0:st.offsetWidth)||200},ee=D(()=>({width:`${u.calculatedWidth===0?OR:Math.ceil(u.calculatedWidth)+OR}px`})),J=D(()=>Nt(e.modelValue)?e.modelValue.length===0&&!u.displayInputValue:e.filterable?u.displayInputValue.length===0:!0),pe=D(()=>{const st=e.placeholder||i("el.select.placeholder");return e.multiple||us(e.modelValue)?st:u.selectedLabel}),Ee=D(()=>{var st,Kt;return(Kt=(st=w.value)==null?void 0:st.popperRef)==null?void 0:Kt.contentRef}),he=D(()=>{if(e.multiple){const st=e.modelValue.length;if(e.modelValue.length>0)return Q.value.findIndex(Kt=>Kt.value===e.modelValue[st-1])}else if(e.modelValue)return Q.value.findIndex(st=>st.value===e.modelValue);return-1}),Ce=D({get(){return C.value&&ie.value!==!1},set(st){C.value=st}}),Ge=D(()=>u.cachedOptions.slice(0,e.maxCollapseTags)),Te=D(()=>u.cachedOptions.slice(e.maxCollapseTags)),{createNewOption:xe,removeNewOption:Ie,selectNewOption:ge,clearAllNewOption:Le}=zve(e,u),{handleCompositionStart:Ue,handleCompositionUpdate:ut,handleCompositionEnd:ue}=Uve(st=>bn(st)),we=()=>{var st,Kt,Yn;(Kt=(st=v.value)==null?void 0:st.focus)==null||Kt.call(st),(Yn=w.value)==null||Yn.updatePopper()},Ve=()=>{if(!e.automaticDropdown&&!k.value)return u.isComposing&&(u.softFocus=!0),Bt(()=>{var st,Kt;C.value=!C.value,(Kt=(st=v.value)==null?void 0:st.focus)==null||Kt.call(st)})},Ye=()=>(e.filterable&&u.inputValue!==u.selectedLabel&&(u.query=u.selectedLabel),He(u.inputValue),Bt(()=>{xe(u.inputValue)})),lt=or(Ye,q.value),He=st=>{u.previousQuery!==st&&(u.previousQuery=st,e.filterable&&an(e.filterMethod)?e.filterMethod(st):e.filterable&&e.remote&&an(e.remoteMethod)&&e.remoteMethod(st))},ct=st=>{Br(e.modelValue,st)||t(Ii,st)},Qe=st=>{t(Rn,st),ct(st),u.previousValue=st==null?void 0:st.toString()},rt=(st=[],Kt)=>{if(!Pn(Kt))return st.indexOf(Kt);const Yn=e.valueKey;let ti=-1;return st.some((qi,wr)=>$i(qi,Yn)===$i(Kt,Yn)?(ti=wr,!0):!1),ti},Je=st=>Pn(st)?$i(st,e.valueKey):st,Mt=st=>Pn(st)?st.label:st,yt=()=>Bt(()=>{var st,Kt;if(!v.value)return;const Yn=x.value;M.value.height=Yn.offsetHeight,C.value&&ie.value!==!1&&((Kt=(st=w.value)==null?void 0:st.updatePopper)==null||Kt.call(st))}),We=()=>{var st,Kt;if(_t(),W(),(Kt=(st=w.value)==null?void 0:st.updatePopper)==null||Kt.call(st),e.multiple)return yt()},_t=()=>{const st=x.value;st&&(u.selectWidth=st.getBoundingClientRect().width)},Ut=(st,Kt,Yn=!0)=>{var ti,qi;if(e.multiple){let wr=e.modelValue.slice();const Ss=rt(wr,Je(st));Ss>-1?(wr=[...wr.slice(0,Ss),...wr.slice(Ss+1)],u.cachedOptions.splice(Ss,1),Ie(st)):(e.multipleLimit<=0||wr.length<e.multipleLimit)&&(wr=[...wr,Je(st)],u.cachedOptions.push(st),ge(st),tn(Kt)),Qe(wr),st.created&&(u.query="",He(""),u.inputLength=20),e.filterable&&!e.reserveKeyword&&((qi=(ti=v.value).focus)==null||qi.call(ti),Se("")),e.filterable&&(u.calculatedWidth=E.value.getBoundingClientRect().width),yt(),Ct()}else f.value=Kt,u.selectedLabel=st.label,Qe(Je(st)),C.value=!1,u.isComposing=!1,u.isSilentBlur=Yn,ge(st),st.created||Le(),tn(Kt)},fn=(st,Kt)=>{const{valueKey:Yn}=e,ti=e.modelValue.indexOf($i(Kt,Yn));if(ti>-1&&!k.value){const qi=[...e.modelValue.slice(0,ti),...e.modelValue.slice(ti+1)];return u.cachedOptions.splice(ti,1),Qe(qi),t("remove-tag",$i(Kt,Yn)),u.softFocus=!0,Ie(Kt),Bt(we)}st.stopPropagation()},Pe=st=>{const Kt=u.isComposing;u.isComposing=!0,u.softFocus?u.softFocus=!1:Kt||t("focus",st)},$e=st=>(u.softFocus=!1,Bt(()=>{var Kt,Yn;(Yn=(Kt=v.value)==null?void 0:Kt.blur)==null||Yn.call(Kt),E.value&&(u.calculatedWidth=E.value.getBoundingClientRect().width),u.isSilentBlur?u.isSilentBlur=!1:u.isComposing&&t("blur",st),u.isComposing=!1})),tt=()=>{u.displayInputValue.length>0?Se(""):C.value=!1},Fe=st=>{if(u.displayInputValue.length===0){st.preventDefault();const Kt=e.modelValue.slice();Kt.pop(),Ie(u.cachedOptions.pop()),Qe(Kt)}},me=()=>{let st;return Nt(e.modelValue)?st=[]:st=void 0,u.softFocus=!0,e.multiple?u.cachedOptions=[]:u.selectedLabel="",C.value=!1,Qe(st),t("clear"),Le(),Bt(we)},Se=st=>{u.displayInputValue=st,u.inputValue=st},it=(st,Kt=void 0)=>{const Yn=Q.value;if(!["forward","backward"].includes(st)||k.value||Yn.length<=0||Z.value)return;if(!C.value)return Ve();Kt===void 0&&(Kt=u.hoveringIndex);let ti=-1;st==="forward"?(ti=Kt+1,ti>=Yn.length&&(ti=0)):st==="backward"&&(ti=Kt-1,(ti<0||ti>=Yn.length)&&(ti=Yn.length-1));const qi=Yn[ti];if(qi.disabled||qi.type==="Group")return it(st,ti);tn(ti),ui(ti)},vt=()=>{if(C.value)~u.hoveringIndex&&Q.value[u.hoveringIndex]&&Ut(Q.value[u.hoveringIndex],u.hoveringIndex,!1);else return Ve()},tn=st=>{u.hoveringIndex=st},Xe=()=>{u.hoveringIndex=-1},Ct=()=>{var st;const Kt=v.value;Kt&&((st=Kt.focus)==null||st.call(Kt))},bn=st=>{const Kt=st.target.value;if(Se(Kt),u.displayInputValue.length>0&&!C.value&&(C.value=!0),u.calculatedWidth=E.value.getBoundingClientRect().width,e.multiple&&yt(),e.remote)lt();else return Ye()},wn=()=>(C.value=!1,$e()),Dn=()=>(u.inputValue=u.displayInputValue,Bt(()=>{~he.value&&(tn(he.value),ui(u.hoveringIndex))})),ui=st=>{b.value.scrollToItem(st)},Fi=()=>{if(Xe(),e.multiple)if(e.modelValue.length>0){let st=!1;u.cachedOptions.length=0,u.previousValue=e.modelValue.toString(),e.modelValue.forEach(Kt=>{const Yn=Q.value.findIndex(ti=>Je(ti)===Kt);~Yn&&(u.cachedOptions.push(Q.value[Yn]),st||tn(Yn),st=!0)})}else u.cachedOptions=[],u.previousValue=void 0;else if(P.value){u.previousValue=e.modelValue;const st=Q.value,Kt=st.findIndex(Yn=>Je(Yn)===Je(e.modelValue));~Kt?(u.selectedLabel=st[Kt].label,tn(Kt)):u.selectedLabel=`${e.modelValue}`}else u.selectedLabel="",u.previousValue=void 0;Le(),W()};return et(C,st=>{var Kt,Yn;t("visible-change",st),st?(Yn=(Kt=w.value).update)==null||Yn.call(Kt):(u.displayInputValue="",u.previousQuery=null,xe(""))}),et(()=>e.modelValue,(st,Kt)=>{var Yn;(!st||st.toString()!==u.previousValue)&&Fi(),!Br(st,Kt)&&e.validateEvent&&((Yn=l==null?void 0:l.validate)==null||Yn.call(l,"change").catch(ti=>void 0))},{deep:!0}),et(()=>e.options,()=>{const st=v.value;(!st||st&&document.activeElement!==st)&&Fi()},{deep:!0}),et(Q,()=>Bt(b.value.resetScrollTop)),et(()=>Ce.value,st=>{st||Xe()}),_n(()=>{Fi()}),Gs(M,We),{collapseTagSize:ce,currentPlaceholder:pe,expanded:C,emptyText:ie,popupHeight:R,debounce:q,filteredOptions:Q,iconComponent:F,iconReverse:G,inputWrapperStyle:ee,popperSize:p,dropdownMenuVisible:Ce,hasModelValue:P,shouldShowPlaceholder:J,selectDisabled:k,selectSize:re,showClearBtn:O,states:u,tagMaxWidth:te,nsSelectV2:s,nsInput:o,calculatorRef:E,controlRef:g,inputRef:v,menuRef:b,popper:w,selectRef:M,selectionRef:x,popperRef:Ee,validateState:H,validateIcon:j,showTagList:Ge,collapseTagList:Te,debouncedOnInputChange:lt,deleteTag:fn,getLabel:Mt,getValueKey:Je,handleBlur:$e,handleClear:me,handleClickOutside:wn,handleDel:Fe,handleEsc:tt,handleFocus:Pe,handleMenuEnter:Dn,handleResize:We,toggleMenu:Ve,scrollTo:ui,onInput:bn,onKeyboardNavigate:it,onKeyboardSelect:vt,onSelect:Ut,onHover:tn,onUpdateInputValue:Se,handleCompositionStart:Ue,handleCompositionEnd:ue,handleCompositionUpdate:ut}},Wve=_e({name:"ElSelectV2",components:{ElSelectMenu:Bve,ElTag:up,ElTooltip:ar,ElIcon:zt},directives:{ClickOutside:Bl,ModelText:Yw},props:Ive,emits:[Rn,Ii,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const i=D(()=>{const{modelValue:o,multiple:a}=e,l=a?[]:void 0;return Nt(o)?a?o:l:a?l:o}),s=Hve(ai({...gs(e),modelValue:i}),t);return On(oO,{props:ai({...gs(e),height:s.popupHeight,modelValue:i}),popper:s.popper,onSelect:s.onSelect,onHover:s.onHover,onKeyboardNavigate:s.onKeyboardNavigate,onKeyboardSelect:s.onKeyboardSelect}),{...s,modelValue:i}}}),Gve={key:0},Kve=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],qve=["textContent"],jve=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],Xve=["textContent"];function Yve(e,t,i,s,o,a){const l=cn("el-tag"),u=cn("el-tooltip"),f=cn("el-icon"),p=cn("el-select-menu"),g=Id("model-text"),v=Id("click-outside");return gn((B(),ne("div",{ref:"selectRef",class:U([e.nsSelectV2.b(),e.nsSelectV2.m(e.selectSize)]),onClick:t[24]||(t[24]=rn((...b)=>e.toggleMenu&&e.toggleMenu(...b),["stop"])),onMouseenter:t[25]||(t[25]=b=>e.states.comboBoxHovering=!0),onMouseleave:t[26]||(t[26]=b=>e.states.comboBoxHovering=!1)},[fe(u,{ref:"popper",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelectV2.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:t[23]||(t[23]=b=>e.states.inputValue=e.states.displayInputValue)},{default:ve(()=>[ae("div",{ref:"selectionRef",class:U([e.nsSelectV2.e("wrapper"),e.nsSelectV2.is("focused",e.states.isComposing||e.expanded),e.nsSelectV2.is("hovering",e.states.comboBoxHovering),e.nsSelectV2.is("filterable",e.filterable),e.nsSelectV2.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(B(),ne("div",Gve,[qe(e.$slots,"prefix")])):Oe("v-if",!0),e.multiple?(B(),ne("div",{key:1,class:U(e.nsSelectV2.e("selection"))},[e.collapseTags&&e.modelValue.length>0?(B(),ne(Ft,{key:0},[(B(!0),ne(Ft,null,Un(e.showTagList,b=>(B(),ne("div",{key:e.getValueKey(b),class:U(e.nsSelectV2.e("selected-item"))},[fe(l,{closable:!e.selectDisabled&&!(b!=null&&b.disable),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:w=>e.deleteTag(w,b)},{default:ve(()=>[ae("span",{class:U(e.nsSelectV2.e("tags-text")),style:Wt({maxWidth:`${e.tagMaxWidth}px`})},ft(b==null?void 0:b.label),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),ae("div",{class:U(e.nsSelectV2.e("selected-item"))},[e.modelValue.length>e.maxCollapseTags?(B(),Be(l,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:ve(()=>[e.collapseTagsTooltip?(B(),Be(u,{key:0,disabled:e.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:!1},{default:ve(()=>[ae("span",{class:U(e.nsSelectV2.e("tags-text")),style:Wt({maxWidth:`${e.tagMaxWidth}px`})},"+ "+ft(e.modelValue.length-e.maxCollapseTags),7)]),content:ve(()=>[ae("div",{class:U(e.nsSelectV2.e("selection"))},[(B(!0),ne(Ft,null,Un(e.collapseTagList,b=>(B(),ne("div",{key:e.getValueKey(b),class:U(e.nsSelectV2.e("selected-item"))},[fe(l,{closable:!e.selectDisabled&&!b.disabled,size:e.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:w=>e.deleteTag(w,b)},{default:ve(()=>[ae("span",{class:U(e.nsSelectV2.e("tags-text")),style:Wt({maxWidth:`${e.tagMaxWidth}px`})},ft(e.getLabel(b)),7)]),_:2},1032,["closable","size","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect"])):(B(),ne("span",{key:1,class:U(e.nsSelectV2.e("tags-text")),style:Wt({maxWidth:`${e.tagMaxWidth}px`})},"+ "+ft(e.modelValue.length-e.maxCollapseTags),7))]),_:1},8,["size"])):Oe("v-if",!0)],2)],64)):(B(!0),ne(Ft,{key:1},Un(e.states.cachedOptions,b=>(B(),ne("div",{key:e.getValueKey(b),class:U(e.nsSelectV2.e("selected-item"))},[fe(l,{closable:!e.selectDisabled&&!b.disabled,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:w=>e.deleteTag(w,b)},{default:ve(()=>[ae("span",{class:U(e.nsSelectV2.e("tags-text")),style:Wt({maxWidth:`${e.tagMaxWidth}px`})},ft(e.getLabel(b)),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),ae("div",{class:U([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")]),style:Wt(e.inputWrapperStyle)},[gn(ae("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:U([e.nsSelectV2.is(e.selectSize),e.nsSelectV2.e("combobox-input")]),disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":t[0]||(t[0]=(...b)=>e.onUpdateInputValue&&e.onUpdateInputValue(...b)),onFocus:t[1]||(t[1]=(...b)=>e.handleFocus&&e.handleFocus(...b)),onBlur:t[2]||(t[2]=(...b)=>e.handleBlur&&e.handleBlur(...b)),onInput:t[3]||(t[3]=(...b)=>e.onInput&&e.onInput(...b)),onCompositionstart:t[4]||(t[4]=(...b)=>e.handleCompositionStart&&e.handleCompositionStart(...b)),onCompositionupdate:t[5]||(t[5]=(...b)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...b)),onCompositionend:t[6]||(t[6]=(...b)=>e.handleCompositionEnd&&e.handleCompositionEnd(...b)),onKeydown:[t[7]||(t[7]=ei(rn(b=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),t[8]||(t[8]=ei(rn(b=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),t[9]||(t[9]=ei(rn((...b)=>e.onKeyboardSelect&&e.onKeyboardSelect(...b),["stop","prevent"]),["enter"])),t[10]||(t[10]=ei(rn((...b)=>e.handleEsc&&e.handleEsc(...b),["stop","prevent"]),["esc"])),t[11]||(t[11]=ei(rn((...b)=>e.handleDel&&e.handleDel(...b),["stop"]),["delete"]))]},null,42,Kve),[[g,e.states.displayInputValue]]),e.filterable?(B(),ne("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:U(e.nsSelectV2.e("input-calculator")),textContent:ft(e.states.displayInputValue)},null,10,qve)):Oe("v-if",!0)],6)],2)):(B(),ne(Ft,{key:2},[ae("div",{class:U([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")])},[gn(ae("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:U(e.nsSelectV2.e("combobox-input")),disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onCompositionstart:t[12]||(t[12]=(...b)=>e.handleCompositionStart&&e.handleCompositionStart(...b)),onCompositionupdate:t[13]||(t[13]=(...b)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...b)),onCompositionend:t[14]||(t[14]=(...b)=>e.handleCompositionEnd&&e.handleCompositionEnd(...b)),onFocus:t[15]||(t[15]=(...b)=>e.handleFocus&&e.handleFocus(...b)),onBlur:t[16]||(t[16]=(...b)=>e.handleBlur&&e.handleBlur(...b)),onInput:t[17]||(t[17]=(...b)=>e.onInput&&e.onInput(...b)),onKeydown:[t[18]||(t[18]=ei(rn(b=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),t[19]||(t[19]=ei(rn(b=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),t[20]||(t[20]=ei(rn((...b)=>e.onKeyboardSelect&&e.onKeyboardSelect(...b),["stop","prevent"]),["enter"])),t[21]||(t[21]=ei(rn((...b)=>e.handleEsc&&e.handleEsc(...b),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":t[22]||(t[22]=(...b)=>e.onUpdateInputValue&&e.onUpdateInputValue(...b))},null,42,jve),[[g,e.states.displayInputValue]])],2),e.filterable?(B(),ne("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:U([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-calculator")]),textContent:ft(e.states.displayInputValue)},null,10,Xve)):Oe("v-if",!0)],64)),e.shouldShowPlaceholder?(B(),ne("span",{key:3,class:U([e.nsSelectV2.e("placeholder"),e.nsSelectV2.is("transparent",e.multiple?e.modelValue.length===0:!e.hasModelValue)])},ft(e.currentPlaceholder),3)):Oe("v-if",!0),ae("span",{class:U(e.nsSelectV2.e("suffix"))},[e.iconComponent?gn((B(),Be(f,{key:0,class:U([e.nsSelectV2.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:ve(()=>[(B(),Be(Bn(e.iconComponent)))]),_:1},8,["class"])),[[oi,!e.showClearBtn]]):Oe("v-if",!0),e.showClearBtn&&e.clearIcon?(B(),Be(f,{key:1,class:U([e.nsSelectV2.e("caret"),e.nsInput.e("icon")]),onClick:rn(e.handleClear,["prevent","stop"])},{default:ve(()=>[(B(),Be(Bn(e.clearIcon)))]),_:1},8,["class","onClick"])):Oe("v-if",!0),e.validateState&&e.validateIcon?(B(),Be(f,{key:2,class:U([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:ve(()=>[(B(),Be(Bn(e.validateIcon)))]),_:1},8,["class"])):Oe("v-if",!0)],2)],2)]),content:ve(()=>[fe(p,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:ve(b=>[qe(e.$slots,"default",Eo(f0(b)))]),empty:ve(()=>[qe(e.$slots,"empty",{},()=>[ae("p",{class:U(e.nsSelectV2.e("empty"))},ft(e.emptyText?e.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[v,e.handleClickOutside,e.popperRef]])}var _v=ht(Wve,[["render",Yve],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);_v.install=e=>{e.component(_v.name,_v)};const Zve=_v,Jve=Zve,Qve=pt({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),e0e=pt({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),t0e=_e({name:"ElSkeletonItem"}),n0e=_e({...t0e,props:e0e,setup(e){const t=nt("skeleton");return(i,s)=>(B(),ne("div",{class:U([h(t).e("item"),h(t).e(i.variant)])},[i.variant==="image"?(B(),Be(h(vQ),{key:0})):Oe("v-if",!0)],2))}});var Qv=ht(n0e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton-item.vue"]]);const i0e=_e({name:"ElSkeleton"}),s0e=_e({...i0e,props:Qve,setup(e,{expose:t}){const i=e,s=nt("skeleton"),o=Mne(Oi(i,"loading"),i.throttle);return t({uiLoading:o}),(a,l)=>h(o)?(B(),ne("div",kn({key:0,class:[h(s).b(),h(s).is("animated",a.animated)]},a.$attrs),[(B(!0),ne(Ft,null,Un(a.count,u=>(B(),ne(Ft,{key:u},[a.loading?qe(a.$slots,"template",{key:u},()=>[fe(Qv,{class:U(h(s).is("first")),variant:"p"},null,8,["class"]),(B(!0),ne(Ft,null,Un(a.rows,f=>(B(),Be(Qv,{key:f,class:U([h(s).e("paragraph"),h(s).is("last",f===a.rows&&a.rows>1)]),variant:"p"},null,8,["class"]))),128))]):Oe("v-if",!0)],64))),128))],16)):qe(a.$slots,"default",Eo(kn({key:1},a.$attrs)))}});var r0e=ht(s0e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton.vue"]]);const o0e=Cn(r0e,{SkeletonItem:Qv}),a0e=Yi(Qv),aO=Symbol("sliderContextKey"),l0e=pt({modelValue:{type:De([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:Ds,inputSize:Ds,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:De(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:De(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:su,default:"top"},marks:{type:De(Object)},validateEvent:{type:Boolean,default:!0}}),q_=e=>on(e)||Nt(e)&&e.every(on),c0e={[Rn]:q_,[ir]:q_,[Ii]:q_},u0e=(e,t,i)=>{const s=X();return _n(async()=>{e.range?(Array.isArray(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(typeof e.modelValue!="number"||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),Vi(window,"resize",i),await Bt(),i()}),{sliderWrapper:s}},d0e=e=>D(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((i,s)=>i-s).filter(i=>i<=e.max&&i>=e.min).map(i=>({point:i,position:(i-e.min)*100/(e.max-e.min),mark:e.marks[i]})):[]),f0e=(e,t,i)=>{const{form:s,formItem:o}=lr(),a=ki(),l=X(),u=X(),f={firstButton:l,secondButton:u},p=D(()=>e.disabled||(s==null?void 0:s.disabled)||!1),g=D(()=>Math.min(t.firstValue,t.secondValue)),v=D(()=>Math.max(t.firstValue,t.secondValue)),b=D(()=>e.range?`${100*(v.value-g.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),w=D(()=>e.range?`${100*(g.value-e.min)/(e.max-e.min)}%`:"0%"),M=D(()=>e.vertical?{height:e.height}:{}),x=D(()=>e.vertical?{height:b.value,bottom:w.value}:{width:b.value,left:w.value}),E=()=>{a.value&&(t.sliderSize=a.value[`client${e.vertical?"Height":"Width"}`])},C=ie=>{const Q=e.min+ie*(e.max-e.min)/100;if(!e.range)return l;let Z;return Math.abs(g.value-Q)<Math.abs(v.value-Q)?Z=t.firstValue<t.secondValue?"firstButton":"secondButton":Z=t.firstValue>t.secondValue?"firstButton":"secondButton",f[Z]},k=ie=>{const Q=C(ie);return Q.value.setPosition(ie),Q},R=ie=>{t.firstValue=ie,O(e.range?[g.value,v.value]:ie)},P=ie=>{t.secondValue=ie,e.range&&O([g.value,v.value])},O=ie=>{i(Rn,ie),i(ir,ie)},F=async()=>{await Bt(),i(Ii,e.range?[g.value,v.value]:e.modelValue)},G=ie=>{var Q,Z,re,ce,te,W;if(p.value||t.dragging)return;E();let ee=0;if(e.vertical){const J=(re=(Z=(Q=ie.touches)==null?void 0:Q.item(0))==null?void 0:Z.clientY)!=null?re:ie.clientY;ee=(a.value.getBoundingClientRect().bottom-J)/t.sliderSize*100}else{const J=(W=(te=(ce=ie.touches)==null?void 0:ce.item(0))==null?void 0:te.clientX)!=null?W:ie.clientX,pe=a.value.getBoundingClientRect().left;ee=(J-pe)/t.sliderSize*100}if(!(ee<0||ee>100))return k(ee)};return{elFormItem:o,slider:a,firstButton:l,secondButton:u,sliderDisabled:p,minValue:g,maxValue:v,runwayStyle:M,barStyle:x,resetSize:E,setPosition:k,emitChange:F,onSliderWrapperPrevent:ie=>{var Q,Z;((Q=f.firstButton.value)!=null&&Q.dragging||(Z=f.secondButton.value)!=null&&Z.dragging)&&ie.preventDefault()},onSliderClick:ie=>{G(ie)&&F()},onSliderDown:async ie=>{const Q=G(ie);Q&&(await Bt(),Q.value.onButtonDown(ie))},setFirstValue:R,setSecondValue:P}},{left:h0e,down:p0e,right:m0e,up:g0e,home:v0e,end:y0e,pageUp:b0e,pageDown:_0e}=Xt,w0e=(e,t,i)=>{const s=X(),o=X(!1),a=D(()=>t.value instanceof Function),l=D(()=>a.value&&t.value(e.modelValue)||e.modelValue),u=or(()=>{i.value&&(o.value=!0)},50),f=or(()=>{i.value&&(o.value=!1)},50);return{tooltip:s,tooltipVisible:o,formatValue:l,displayTooltip:u,hideTooltip:f}},S0e=(e,t,i)=>{const{disabled:s,min:o,max:a,step:l,showTooltip:u,precision:f,sliderSize:p,formatTooltip:g,emitChange:v,resetSize:b,updateDragging:w}=Lt(aO),{tooltip:M,tooltipVisible:x,formatValue:E,displayTooltip:C,hideTooltip:k}=w0e(e,g,u),R=X(),P=D(()=>`${(e.modelValue-o.value)/(a.value-o.value)*100}%`),O=D(()=>e.vertical?{bottom:P.value}:{left:P.value}),F=()=>{t.hovering=!0,C()},G=()=>{t.hovering=!1,t.dragging||k()},H=he=>{s.value||(he.preventDefault(),ee(he),window.addEventListener("mousemove",J),window.addEventListener("touchmove",J),window.addEventListener("mouseup",pe),window.addEventListener("touchend",pe),window.addEventListener("contextmenu",pe),R.value.focus())},j=he=>{s.value||(t.newPosition=Number.parseFloat(P.value)+he/(a.value-o.value)*100,Ee(t.newPosition),v())},q=()=>{j(-l.value)},ie=()=>{j(l.value)},Q=()=>{j(-l.value*4)},Z=()=>{j(l.value*4)},re=()=>{s.value||(Ee(0),v())},ce=()=>{s.value||(Ee(100),v())},te=he=>{let Ce=!0;[h0e,p0e].includes(he.key)?q():[m0e,g0e].includes(he.key)?ie():he.key===v0e?re():he.key===y0e?ce():he.key===_0e?Q():he.key===b0e?Z():Ce=!1,Ce&&he.preventDefault()},W=he=>{let Ce,Ge;return he.type.startsWith("touch")?(Ge=he.touches[0].clientY,Ce=he.touches[0].clientX):(Ge=he.clientY,Ce=he.clientX),{clientX:Ce,clientY:Ge}},ee=he=>{t.dragging=!0,t.isClick=!0;const{clientX:Ce,clientY:Ge}=W(he);e.vertical?t.startY=Ge:t.startX=Ce,t.startPosition=Number.parseFloat(P.value),t.newPosition=t.startPosition},J=he=>{if(t.dragging){t.isClick=!1,C(),b();let Ce;const{clientX:Ge,clientY:Te}=W(he);e.vertical?(t.currentY=Te,Ce=(t.startY-t.currentY)/p.value*100):(t.currentX=Ge,Ce=(t.currentX-t.startX)/p.value*100),t.newPosition=t.startPosition+Ce,Ee(t.newPosition)}},pe=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||k(),t.isClick||Ee(t.newPosition),v()},0),window.removeEventListener("mousemove",J),window.removeEventListener("touchmove",J),window.removeEventListener("mouseup",pe),window.removeEventListener("touchend",pe),window.removeEventListener("contextmenu",pe))},Ee=async he=>{if(he===null||Number.isNaN(+he))return;he<0?he=0:he>100&&(he=100);const Ce=100/((a.value-o.value)/l.value);let Te=Math.round(he/Ce)*Ce*(a.value-o.value)*.01+o.value;Te=Number.parseFloat(Te.toFixed(f.value)),Te!==e.modelValue&&i(Rn,Te),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await Bt(),t.dragging&&C(),M.value.updatePopper()};return et(()=>t.dragging,he=>{w(he)}),{disabled:s,button:R,tooltip:M,tooltipVisible:x,showTooltip:u,wrapperStyle:O,formatValue:E,handleMouseEnter:F,handleMouseLeave:G,onButtonDown:H,onKeyDown:te,setPosition:Ee}},x0e=(e,t,i,s)=>({stops:D(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const l=(e.max-e.min)/e.step,u=100*e.step/(e.max-e.min),f=Array.from({length:l-1}).map((p,g)=>(g+1)*u);return e.range?f.filter(p=>p<100*(i.value-e.min)/(e.max-e.min)||p>100*(s.value-e.min)/(e.max-e.min)):f.filter(p=>p>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:l=>e.vertical?{bottom:`${l}%`}:{left:`${l}%`}}),M0e=(e,t,i,s,o,a)=>{const l=p=>{o(Rn,p),o(ir,p)},u=()=>e.range?![i.value,s.value].every((p,g)=>p===t.oldValue[g]):e.modelValue!==t.oldValue,f=()=>{var p,g;e.min>e.max&&vs("Slider","min should not be greater than max.");const v=e.modelValue;e.range&&Array.isArray(v)?v[1]<e.min?l([e.min,e.min]):v[0]>e.max?l([e.max,e.max]):v[0]<e.min?l([e.min,v[1]]):v[1]>e.max?l([v[0],e.max]):(t.firstValue=v[0],t.secondValue=v[1],u()&&(e.validateEvent&&((p=a==null?void 0:a.validate)==null||p.call(a,"change").catch(b=>void 0)),t.oldValue=v.slice())):!e.range&&typeof v=="number"&&!Number.isNaN(v)&&(v<e.min?l(e.min):v>e.max?l(e.max):(t.firstValue=v,u()&&(e.validateEvent&&((g=a==null?void 0:a.validate)==null||g.call(a,"change").catch(b=>void 0)),t.oldValue=v)))};f(),et(()=>t.dragging,p=>{p||f()}),et(()=>e.modelValue,(p,g)=>{t.dragging||Array.isArray(p)&&Array.isArray(g)&&p.every((v,b)=>v===g[b])&&t.firstValue===p[0]&&t.secondValue===p[1]||f()},{deep:!0}),et(()=>[e.min,e.max],()=>{f()})},E0e=pt({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:su,default:"top"}}),C0e={[Rn]:e=>on(e)},T0e=["tabindex"],A0e=_e({name:"ElSliderButton"}),R0e=_e({...A0e,props:E0e,emits:C0e,setup(e,{expose:t,emit:i}){const s=e,o=nt("slider"),a=ai({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:s.modelValue}),{disabled:l,button:u,tooltip:f,showTooltip:p,tooltipVisible:g,wrapperStyle:v,formatValue:b,handleMouseEnter:w,handleMouseLeave:M,onButtonDown:x,onKeyDown:E,setPosition:C}=S0e(s,a,i),{hovering:k,dragging:R}=gs(a);return t({onButtonDown:x,onKeyDown:E,setPosition:C,hovering:k,dragging:R}),(P,O)=>(B(),ne("div",{ref_key:"button",ref:u,class:U([h(o).e("button-wrapper"),{hover:h(k),dragging:h(R)}]),style:Wt(h(v)),tabindex:h(l)?-1:0,onMouseenter:O[0]||(O[0]=(...F)=>h(w)&&h(w)(...F)),onMouseleave:O[1]||(O[1]=(...F)=>h(M)&&h(M)(...F)),onMousedown:O[2]||(O[2]=(...F)=>h(x)&&h(x)(...F)),onTouchstart:O[3]||(O[3]=(...F)=>h(x)&&h(x)(...F)),onFocus:O[4]||(O[4]=(...F)=>h(w)&&h(w)(...F)),onBlur:O[5]||(O[5]=(...F)=>h(M)&&h(M)(...F)),onKeydown:O[6]||(O[6]=(...F)=>h(E)&&h(E)(...F))},[fe(h(ar),{ref_key:"tooltip",ref:f,visible:h(g),placement:P.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":P.tooltipClass,disabled:!h(p),persistent:""},{content:ve(()=>[ae("span",null,ft(h(b)),1)]),default:ve(()=>[ae("div",{class:U([h(o).e("button"),{hover:h(k),dragging:h(R)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,T0e))}});var DR=ht(R0e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const k0e=pt({mark:{type:De([String,Object]),default:void 0}});var P0e=_e({name:"ElSliderMarker",props:k0e,setup(e){const t=nt("slider"),i=D(()=>un(e.mark)?e.mark:e.mark.label),s=D(()=>un(e.mark)?void 0:e.mark.style);return()=>Yt("div",{class:t.e("marks-text"),style:s.value},i.value)}});const I0e=["id","role","aria-label","aria-labelledby"],L0e={key:1},N0e=_e({name:"ElSlider"}),O0e=_e({...N0e,props:l0e,emits:c0e,setup(e,{expose:t,emit:i}){const s=e,o=nt("slider"),{t:a}=ii(),l=ai({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:u,slider:f,firstButton:p,secondButton:g,sliderDisabled:v,minValue:b,maxValue:w,runwayStyle:M,barStyle:x,resetSize:E,emitChange:C,onSliderWrapperPrevent:k,onSliderClick:R,onSliderDown:P,setFirstValue:O,setSecondValue:F}=f0e(s,l,i),{stops:G,getStopStyle:H}=x0e(s,l,b,w),{inputId:j,isLabeledByFormItem:q}=Kl(s,{formItemContext:u}),ie=fs(),Q=D(()=>s.inputSize||ie.value),Z=D(()=>s.label||a("el.slider.defaultLabel",{min:s.min,max:s.max})),re=D(()=>s.range?s.rangeStartLabel||a("el.slider.defaultRangeStartLabel"):Z.value),ce=D(()=>s.formatValueText?s.formatValueText(he.value):`${he.value}`),te=D(()=>s.rangeEndLabel||a("el.slider.defaultRangeEndLabel")),W=D(()=>s.formatValueText?s.formatValueText(Ce.value):`${Ce.value}`),ee=D(()=>[o.b(),o.m(ie.value),o.is("vertical",s.vertical),{[o.m("with-input")]:s.showInput}]),J=d0e(s);M0e(s,l,b,w,i,u);const pe=D(()=>{const xe=[s.min,s.max,s.step].map(Ie=>{const ge=`${Ie}`.split(".")[1];return ge?ge.length:0});return Math.max.apply(null,xe)}),{sliderWrapper:Ee}=u0e(s,l,E),{firstValue:he,secondValue:Ce,sliderSize:Ge}=gs(l),Te=xe=>{l.dragging=xe};return On(aO,{...gs(s),sliderSize:Ge,disabled:v,precision:pe,emitChange:C,resetSize:E,updateDragging:Te}),t({onSliderClick:R}),(xe,Ie)=>{var ge,Le;return B(),ne("div",{id:xe.range?h(j):void 0,ref_key:"sliderWrapper",ref:Ee,class:U(h(ee)),role:xe.range?"group":void 0,"aria-label":xe.range&&!h(q)?h(Z):void 0,"aria-labelledby":xe.range&&h(q)?(ge=h(u))==null?void 0:ge.labelId:void 0,onTouchstart:Ie[2]||(Ie[2]=(...Ue)=>h(k)&&h(k)(...Ue)),onTouchmove:Ie[3]||(Ie[3]=(...Ue)=>h(k)&&h(k)(...Ue))},[ae("div",{ref_key:"slider",ref:f,class:U([h(o).e("runway"),{"show-input":xe.showInput&&!xe.range},h(o).is("disabled",h(v))]),style:Wt(h(M)),onMousedown:Ie[0]||(Ie[0]=(...Ue)=>h(P)&&h(P)(...Ue)),onTouchstart:Ie[1]||(Ie[1]=(...Ue)=>h(P)&&h(P)(...Ue))},[ae("div",{class:U(h(o).e("bar")),style:Wt(h(x))},null,6),fe(DR,{id:xe.range?void 0:h(j),ref_key:"firstButton",ref:p,"model-value":h(he),vertical:xe.vertical,"tooltip-class":xe.tooltipClass,placement:xe.placement,role:"slider","aria-label":xe.range||!h(q)?h(re):void 0,"aria-labelledby":!xe.range&&h(q)?(Le=h(u))==null?void 0:Le.labelId:void 0,"aria-valuemin":xe.min,"aria-valuemax":xe.range?h(Ce):xe.max,"aria-valuenow":h(he),"aria-valuetext":h(ce),"aria-orientation":xe.vertical?"vertical":"horizontal","aria-disabled":h(v),"onUpdate:modelValue":h(O)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),xe.range?(B(),Be(DR,{key:0,ref_key:"secondButton",ref:g,"model-value":h(Ce),vertical:xe.vertical,"tooltip-class":xe.tooltipClass,placement:xe.placement,role:"slider","aria-label":h(te),"aria-valuemin":h(he),"aria-valuemax":xe.max,"aria-valuenow":h(Ce),"aria-valuetext":h(W),"aria-orientation":xe.vertical?"vertical":"horizontal","aria-disabled":h(v),"onUpdate:modelValue":h(F)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Oe("v-if",!0),xe.showStops?(B(),ne("div",L0e,[(B(!0),ne(Ft,null,Un(h(G),(Ue,ut)=>(B(),ne("div",{key:ut,class:U(h(o).e("stop")),style:Wt(h(H)(Ue))},null,6))),128))])):Oe("v-if",!0),h(J).length>0?(B(),ne(Ft,{key:2},[ae("div",null,[(B(!0),ne(Ft,null,Un(h(J),(Ue,ut)=>(B(),ne("div",{key:ut,style:Wt(h(H)(Ue.position)),class:U([h(o).e("stop"),h(o).e("marks-stop")])},null,6))),128))]),ae("div",{class:U(h(o).e("marks"))},[(B(!0),ne(Ft,null,Un(h(J),(Ue,ut)=>(B(),Be(h(P0e),{key:ut,mark:Ue.mark,style:Wt(h(H)(Ue.position))},null,8,["mark","style"]))),128))],2)],64)):Oe("v-if",!0)],38),xe.showInput&&!xe.range?(B(),Be(h(NN),{key:0,ref:"input","model-value":h(he),class:U(h(o).e("input")),step:xe.step,disabled:h(v),controls:xe.showInputControls,min:xe.min,max:xe.max,debounce:xe.debounce,size:h(Q),"onUpdate:modelValue":h(O),onChange:h(C)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):Oe("v-if",!0)],42,I0e)}}});var D0e=ht(O0e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const F0e=Cn(D0e),B0e=pt({prefixCls:{type:String}}),FR=_e({name:"ElSpaceItem",props:B0e,setup(e,{slots:t}){const i=nt("space"),s=D(()=>`${e.prefixCls||i.b()}__item`);return()=>Yt("div",{class:s.value},qe(t,"default"))}}),BR={small:8,default:12,large:16};function z0e(e){const t=nt("space"),i=D(()=>[t.b(),t.m(e.direction),e.class]),s=X(0),o=X(0),a=D(()=>{const u=e.wrap||e.fill?{flexWrap:"wrap",marginBottom:`-${o.value}px`}:{},f={alignItems:e.alignment};return[u,f,e.style]}),l=D(()=>{const u={paddingBottom:`${o.value}px`,marginRight:`${s.value}px`},f=e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{};return[u,f]});return Dr(()=>{const{size:u="small",wrap:f,direction:p,fill:g}=e;if(Nt(u)){const[v=0,b=0]=u;s.value=v,o.value=b}else{let v;on(u)?v=u:v=BR[u||"small"]||BR.small,(f||g)&&p==="horizontal"?s.value=o.value=v:p==="horizontal"?(s.value=v,o.value=0):(o.value=v,s.value=0)}}),{classes:i,containerStyle:a,itemStyle:l}}const $0e=pt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:De([String,Object,Array]),default:""},style:{type:De([String,Array,Object]),default:""},alignment:{type:De(String),default:"center"},prefixCls:{type:String},spacer:{type:De([Object,String,Number,Array]),default:null,validator:e=>Hi(e)||on(e)||un(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:ra,validator:e=>on(e)||Nt(e)&&e.length===2&&e.every(on)}}),U0e=_e({name:"ElSpace",props:$0e,setup(e,{slots:t}){const{classes:i,containerStyle:s,itemStyle:o}=z0e(e);function a(l,u="",f=[]){const{prefixCls:p}=e;return l.forEach((g,v)=>{A1(g)?Nt(g.children)&&g.children.forEach((b,w)=>{A1(b)&&Nt(b.children)?a(b.children,`${u+w}-`,f):f.push(fe(FR,{style:o.value,prefixCls:p,key:`nested-${u+w}`},{default:()=>[b]},Kr.PROPS|Kr.STYLE,["style","prefixCls"]))}):ate(g)&&f.push(fe(FR,{style:o.value,prefixCls:p,key:`LoopKey${u+v}`},{default:()=>[g]},Kr.PROPS|Kr.STYLE,["style","prefixCls"]))}),f}return()=>{var l;const{spacer:u,direction:f}=e,p=qe(t,"default",{key:0},()=>[]);if(((l=p.children)!=null?l:[]).length===0)return null;if(Nt(p.children)){let g=a(p.children);if(u){const v=g.length-1;g=g.reduce((b,w,M)=>{const x=[...b,w];return M!==v&&x.push(fe("span",{style:[o.value,f==="vertical"?"width: 100%":null],key:M},[Hi(u)?u:Nn(u,Kr.TEXT)],Kr.STYLE)),x},[])}return fe("div",{class:i.value,style:s.value},g,Kr.STYLE|Kr.CLASS)}return p.children}}}),V0e=Cn(U0e),H0e=pt({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:De([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:De([String,Object,Array])}}),W0e=_e({name:"ElStatistic"}),G0e=_e({...W0e,props:H0e,setup(e,{expose:t}){const i=e,s=nt("statistic"),o=D(()=>{const{value:a,formatter:l,precision:u,decimalSeparator:f,groupSeparator:p}=i;if(an(l))return l(a);if(!on(a))return a;let[g,v=""]=String(a).split(".");return v=v.padEnd(u,"0").slice(0,u>0?u:0),g=g.replace(/\B(?=(\d{3})+(?!\d))/g,p),[g,v].join(v?f:"")});return t({displayValue:o}),(a,l)=>(B(),ne("div",{class:U(h(s).b())},[a.$slots.title||a.title?(B(),ne("div",{key:0,class:U(h(s).e("head"))},[qe(a.$slots,"title",{},()=>[Nn(ft(a.title),1)])],2)):Oe("v-if",!0),ae("div",{class:U(h(s).e("content"))},[a.$slots.prefix||a.prefix?(B(),ne("div",{key:0,class:U(h(s).e("prefix"))},[qe(a.$slots,"prefix",{},()=>[ae("span",null,ft(a.prefix),1)])],2)):Oe("v-if",!0),ae("span",{class:U(h(s).e("number")),style:Wt(a.valueStyle)},ft(h(o)),7),a.$slots.suffix||a.suffix?(B(),ne("div",{key:1,class:U(h(s).e("suffix"))},[qe(a.$slots,"suffix",{},()=>[ae("span",null,ft(a.suffix),1)])],2)):Oe("v-if",!0)],2)],2))}});var K0e=ht(G0e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/statistic/src/statistic.vue"]]);const lO=Cn(K0e),q0e=pt({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:De([Number,Object]),default:0},valueStyle:{type:De([String,Object,Array])}}),j0e={finish:()=>!0,[Ii]:e=>on(e)},X0e=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],zR=e=>on(e)?new Date(e).getTime():e.valueOf(),$R=(e,t)=>{let i=e;const s=/\[([^\]]*)]/g;return X0e.reduce((a,[l,u])=>{const f=new RegExp(`${l}+(?![^\\[\\]]*\\])`,"g");if(f.test(a)){const p=Math.floor(i/u);return i-=p*u,a.replace(f,g=>String(p).padStart(g.length,"0"))}return a},t).replace(s,"$1")},Y0e=_e({name:"ElCountdown"}),Z0e=_e({...Y0e,props:q0e,emits:j0e,setup(e,{expose:t,emit:i}){const s=e;let o;const a=X(zR(s.value)-Date.now()),l=D(()=>$R(a.value,s.format)),u=g=>$R(g,s.format),f=()=>{o&&(D0(o),o=void 0)},p=()=>{const g=zR(s.value),v=()=>{let b=g-Date.now();i("change",b),b<=0?(b=0,f(),i("finish")):o=ip(v),a.value=b};o=ip(v)};return et(()=>[s.value,s.format],()=>{f(),p()},{immediate:!0}),Di(()=>{f()}),t({displayValue:l}),(g,v)=>(B(),Be(h(lO),{value:a.value,title:g.title,prefix:g.prefix,suffix:g.suffix,"value-style":g.valueStyle,formatter:u},Ua({_:2},[Un(g.$slots,(b,w)=>({name:w,fn:ve(()=>[qe(g.$slots,w)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var J0e=ht(Z0e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/countdown/src/countdown.vue"]]);const Q0e=Cn(J0e),eye=pt({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),tye={[Ii]:(e,t)=>[e,t].every(on)},nye=_e({name:"ElSteps"}),iye=_e({...nye,props:eye,emits:tye,setup(e,{emit:t}){const i=e,s=nt("steps"),o=X([]);return et(o,()=>{o.value.forEach((a,l)=>{a.setIndex(l)})}),On("ElSteps",{props:i,steps:o}),et(()=>i.active,(a,l)=>{t(Ii,a,l)}),(a,l)=>(B(),ne("div",{class:U([h(s).b(),h(s).m(a.simple?"simple":a.direction)])},[qe(a.$slots,"default")],2))}});var sye=ht(iye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/steps.vue"]]);const rye=pt({title:{type:String,default:""},icon:{type:Pi},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),oye=_e({name:"ElStep"}),aye=_e({...oye,props:rye,setup(e){const t=e,i=nt("step"),s=X(-1),o=X({}),a=X(""),l=Lt("ElSteps"),u=Tn();_n(()=>{et([()=>l.props.active,()=>l.props.processStatus,()=>l.props.finishStatus],([O])=>{R(O)},{immediate:!0})}),Di(()=>{l.steps.value=l.steps.value.filter(O=>O.uid!==(u==null?void 0:u.uid))});const f=D(()=>t.status||a.value),p=D(()=>{const O=l.steps.value[s.value-1];return O?O.currentStatus:"wait"}),g=D(()=>l.props.alignCenter),v=D(()=>l.props.direction==="vertical"),b=D(()=>l.props.simple),w=D(()=>l.steps.value.length),M=D(()=>{var O;return((O=l.steps.value[w.value-1])==null?void 0:O.uid)===(u==null?void 0:u.uid)}),x=D(()=>b.value?"":l.props.space),E=D(()=>{const O={flexBasis:on(x.value)?`${x.value}px`:x.value?x.value:`${100/(w.value-(g.value?0:1))}%`};return v.value||M.value&&(O.maxWidth=`${100/w.value}%`),O}),C=O=>{s.value=O},k=O=>{const F=O==="wait",G={transitionDelay:`${F?"-":""}${150*s.value}ms`},H=O===l.props.processStatus||F?0:100;G.borderWidth=H&&!b.value?"1px":0,G[l.props.direction==="vertical"?"height":"width"]=`${H}%`,o.value=G},R=O=>{O>s.value?a.value=l.props.finishStatus:O===s.value&&p.value!=="error"?a.value=l.props.processStatus:a.value="wait";const F=l.steps.value[s.value-1];F&&F.calcProgress(a.value)},P=ai({uid:D(()=>u==null?void 0:u.uid),currentStatus:f,setIndex:C,calcProgress:k});return l.steps.value=[...l.steps.value,P],(O,F)=>(B(),ne("div",{style:Wt(h(E)),class:U([h(i).b(),h(i).is(h(b)?"simple":h(l).props.direction),h(i).is("flex",h(M)&&!h(x)&&!h(g)),h(i).is("center",h(g)&&!h(v)&&!h(b))])},[Oe(" icon & line "),ae("div",{class:U([h(i).e("head"),h(i).is(h(f))])},[h(b)?Oe("v-if",!0):(B(),ne("div",{key:0,class:U(h(i).e("line"))},[ae("i",{class:U(h(i).e("line-inner")),style:Wt(o.value)},null,6)],2)),ae("div",{class:U([h(i).e("icon"),h(i).is(O.icon||O.$slots.icon?"icon":"text")])},[qe(O.$slots,"icon",{},()=>[O.icon?(B(),Be(h(zt),{key:0,class:U(h(i).e("icon-inner"))},{default:ve(()=>[(B(),Be(Bn(O.icon)))]),_:1},8,["class"])):h(f)==="success"?(B(),Be(h(zt),{key:1,class:U([h(i).e("icon-inner"),h(i).is("status")])},{default:ve(()=>[fe(h(Np))]),_:1},8,["class"])):h(f)==="error"?(B(),Be(h(zt),{key:2,class:U([h(i).e("icon-inner"),h(i).is("status")])},{default:ve(()=>[fe(h(Lo))]),_:1},8,["class"])):h(b)?Oe("v-if",!0):(B(),ne("div",{key:3,class:U(h(i).e("icon-inner"))},ft(s.value+1),3))])],2)],2),Oe(" title & description "),ae("div",{class:U(h(i).e("main"))},[ae("div",{class:U([h(i).e("title"),h(i).is(h(f))])},[qe(O.$slots,"title",{},()=>[Nn(ft(O.title),1)])],2),h(b)?(B(),ne("div",{key:0,class:U(h(i).e("arrow"))},null,2)):(B(),ne("div",{key:1,class:U([h(i).e("description"),h(i).is(h(f))])},[qe(O.$slots,"description",{},()=>[Nn(ft(O.description),1)])],2))],2)],6))}});var cO=ht(aye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/item.vue"]]);const lye=Cn(sye,{Step:cO}),cye=Yi(cO),uye=pt({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:Pi},inactiveIcon:{type:Pi},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:De(Function)},size:{type:String,validator:N0},tabindex:{type:[String,Number]}}),dye={[Rn]:e=>ds(e)||un(e)||on(e),[Ii]:e=>ds(e)||un(e)||on(e),[ir]:e=>ds(e)||un(e)||on(e)},fye=["onClick"],hye=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],pye=["aria-hidden"],mye=["aria-hidden"],gye=["aria-hidden"],fw="ElSwitch",vye=_e({name:fw}),yye=_e({...vye,props:uye,emits:dye,setup(e,{expose:t,emit:i}){const s=e,o=Tn(),{formItem:a}=lr(),l=fs(),u=nt("switch");ta({from:'"value"',replacement:'"model-value" or "v-model"',scope:fw,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},D(()=>{var O;return!!((O=o.vnode.props)!=null&&O.value)}));const{inputId:f}=Kl(s,{formItemContext:a}),p=_r(D(()=>s.loading)),g=X(s.modelValue!==!1),v=X(),b=X(),w=D(()=>[u.b(),u.m(l.value),u.is("disabled",p.value),u.is("checked",E.value)]),M=D(()=>({width:es(s.width)}));et(()=>s.modelValue,()=>{g.value=!0}),et(()=>s.value,()=>{g.value=!1});const x=D(()=>g.value?s.modelValue:s.value),E=D(()=>x.value===s.activeValue);[s.activeValue,s.inactiveValue].includes(x.value)||(i(Rn,s.inactiveValue),i(Ii,s.inactiveValue),i(ir,s.inactiveValue)),et(E,O=>{var F;v.value.checked=O,s.validateEvent&&((F=a==null?void 0:a.validate)==null||F.call(a,"change").catch(G=>void 0))});const C=()=>{const O=E.value?s.inactiveValue:s.activeValue;i(Rn,O),i(Ii,O),i(ir,O),Bt(()=>{v.value.checked=E.value})},k=()=>{if(p.value)return;const{beforeChange:O}=s;if(!O){C();return}const F=O();[zh(F),ds(F)].includes(!0)||vs(fw,"beforeChange must return type `Promise<boolean>` or `boolean`"),zh(F)?F.then(H=>{H&&C()}).catch(H=>{}):F&&C()},R=D(()=>u.cssVarBlock({...s.activeColor?{"on-color":s.activeColor}:null,...s.inactiveColor?{"off-color":s.inactiveColor}:null,...s.borderColor?{"border-color":s.borderColor}:null})),P=()=>{var O,F;(F=(O=v.value)==null?void 0:O.focus)==null||F.call(O)};return _n(()=>{v.value.checked=E.value}),t({focus:P,checked:E}),(O,F)=>(B(),ne("div",{class:U(h(w)),style:Wt(h(R)),onClick:rn(k,["prevent"])},[ae("input",{id:h(f),ref_key:"input",ref:v,class:U(h(u).e("input")),type:"checkbox",role:"switch","aria-checked":h(E),"aria-disabled":h(p),name:O.name,"true-value":O.activeValue,"false-value":O.inactiveValue,disabled:h(p),tabindex:O.tabindex,onChange:C,onKeydown:ei(k,["enter"])},null,42,hye),!O.inlinePrompt&&(O.inactiveIcon||O.inactiveText)?(B(),ne("span",{key:0,class:U([h(u).e("label"),h(u).em("label","left"),h(u).is("active",!h(E))])},[O.inactiveIcon?(B(),Be(h(zt),{key:0},{default:ve(()=>[(B(),Be(Bn(O.inactiveIcon)))]),_:1})):Oe("v-if",!0),!O.inactiveIcon&&O.inactiveText?(B(),ne("span",{key:1,"aria-hidden":h(E)},ft(O.inactiveText),9,pye)):Oe("v-if",!0)],2)):Oe("v-if",!0),ae("span",{ref_key:"core",ref:b,class:U(h(u).e("core")),style:Wt(h(M))},[O.inlinePrompt?(B(),ne("div",{key:0,class:U(h(u).e("inner"))},[O.activeIcon||O.inactiveIcon?(B(),Be(h(zt),{key:0,class:U(h(u).is("icon"))},{default:ve(()=>[(B(),Be(Bn(h(E)?O.activeIcon:O.inactiveIcon)))]),_:1},8,["class"])):O.activeText||O.inactiveText?(B(),ne("span",{key:1,class:U(h(u).is("text")),"aria-hidden":!h(E)},ft(h(E)?O.activeText:O.inactiveText),11,mye)):Oe("v-if",!0)],2)):Oe("v-if",!0),ae("div",{class:U(h(u).e("action"))},[O.loading?(B(),Be(h(zt),{key:0,class:U(h(u).is("loading"))},{default:ve(()=>[fe(h(Wl))]),_:1},8,["class"])):Oe("v-if",!0)],2)],6),!O.inlinePrompt&&(O.activeIcon||O.activeText)?(B(),ne("span",{key:1,class:U([h(u).e("label"),h(u).em("label","right"),h(u).is("active",h(E))])},[O.activeIcon?(B(),Be(h(zt),{key:0},{default:ve(()=>[(B(),Be(Bn(O.activeIcon)))]),_:1})):Oe("v-if",!0),!O.activeIcon&&O.activeText?(B(),ne("span",{key:1,"aria-hidden":!h(E)},ft(O.activeText),9,gye)):Oe("v-if",!0)],2)):Oe("v-if",!0)],14,fye))}});var bye=ht(yye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const _ye=Cn(bye);/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var wye=/["'&<>]/,Sye=xye;function xye(e){var t=""+e,i=wye.exec(t);if(!i)return t;var s,o="",a=0,l=0;for(a=i.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 39:s="&#39;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}l!==a&&(o+=t.substring(l,a)),l=a+1,o+=s}return l!==a?o+t.substring(l,a):o}const Mye=oa(Sye),j_=function(e){var t;return(t=e.target)==null?void 0:t.closest("td")},Eye=function(e,t,i,s,o){if(!t&&!s&&(!o||Array.isArray(o)&&!o.length))return e;typeof i=="string"?i=i==="descending"?-1:1:i=i&&i<0?-1:1;const a=s?null:function(u,f){return o?(Array.isArray(o)||(o=[o]),o.map(p=>typeof p=="string"?$i(u,p):p(u,f,e))):(t!=="$key"&&Pn(u)&&"$value"in u&&(u=u.$value),[Pn(u)?$i(u,t):u])},l=function(u,f){if(s)return s(u.value,f.value);for(let p=0,g=u.key.length;p<g;p++){if(u.key[p]<f.key[p])return-1;if(u.key[p]>f.key[p])return 1}return 0};return e.map((u,f)=>({value:u,index:f,key:a?a(u,f):null})).sort((u,f)=>{let p=l(u,f);return p||(p=u.index-f.index),p*+i}).map(u=>u.value)},uO=function(e,t){let i=null;return e.columns.forEach(s=>{s.id===t&&(i=s)}),i},Cye=function(e,t){let i=null;for(let s=0;s<e.columns.length;s++){const o=e.columns[s];if(o.columnKey===t){i=o;break}}return i||vs("ElTable",`No column matching with column-key: ${t}`),i},UR=function(e,t,i){const s=(t.className||"").match(new RegExp(`${i}-table_[^\\s]+`,"gm"));return s?uO(e,s[0]):null},Is=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if(typeof t=="string"){if(!t.includes("."))return`${e[t]}`;const i=t.split(".");let s=e;for(const o of i)s=s[o];return`${s}`}else if(typeof t=="function")return t.call(null,e)},Bc=function(e,t){const i={};return(e||[]).forEach((s,o)=>{i[Is(s,t)]={row:s,index:o}}),i};function Tye(e,t){const i={};let s;for(s in e)i[s]=e[s];for(s in t)if(Gn(t,s)){const o=t[s];typeof o<"u"&&(i[s]=o)}return i}function fx(e){return e===""||e!==void 0&&(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function dO(e){return e===""||e!==void 0&&(e=fx(e),Number.isNaN(e)&&(e=80)),e}function Aye(e){return typeof e=="number"?e:typeof e=="string"?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function Rye(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,i)=>(...s)=>t(i(...s)))}function Dh(e,t,i){let s=!1;const o=e.indexOf(t),a=o!==-1,l=u=>{u==="add"?e.push(t):e.splice(o,1),s=!0,Nt(t.children)&&t.children.forEach(f=>{Dh(e,f,i??!a)})};return ds(i)?i&&!a?l("add"):!i&&a&&l("remove"):l(a?"remove":"add"),s}function kye(e,t,i="children",s="hasChildren"){const o=l=>!(Array.isArray(l)&&l.length);function a(l,u,f){t(l,u,f),u.forEach(p=>{if(p[s]){t(p,null,f+1);return}const g=p[i];o(g)||a(p,g,f+1)})}e.forEach(l=>{if(l[s]){t(l,null,0);return}const u=l[i];o(u)||a(l,u,0)})}let Ra;function Pye(e,t,i,s,o){o=G3({enterable:!0,showArrow:!0},o);const a=e==null?void 0:e.dataset.prefix,l=e==null?void 0:e.querySelector(`.${a}-scrollbar__wrap`);function u(){const E=o.effect==="light",C=document.createElement("div");return C.className=[`${a}-popper`,E?"is-light":"is-dark",o.popperClass||""].join(" "),i=Mye(i),C.innerHTML=i,C.style.zIndex=String(s()),e==null||e.appendChild(C),C}function f(){const E=document.createElement("div");return E.className=`${a}-popper__arrow`,E}function p(){g&&g.update()}Ra==null||Ra(),Ra=()=>{try{g&&g.destroy(),w&&(e==null||e.removeChild(w)),t.removeEventListener("mouseenter",v),t.removeEventListener("mouseleave",b),l==null||l.removeEventListener("scroll",Ra),Ra=void 0}catch{}};let g=null,v=p,b=Ra;o.enterable&&({onOpen:v,onClose:b}=TI({showAfter:o.showAfter,hideAfter:o.hideAfter,open:p,close:Ra}));const w=u();w.onmouseenter=v,w.onmouseleave=b;const M=[];if(o.offset&&M.push({name:"offset",options:{offset:[0,o.offset]}}),o.showArrow){const E=w.appendChild(f());M.push({name:"arrow",options:{element:E,padding:10}})}const x=o.popperOptions||{};return g=MI(t,w,{placement:o.placement||"top",strategy:"fixed",...x,modifiers:x.modifiers?M.concat(x.modifiers):M}),t.addEventListener("mouseenter",v),t.addEventListener("mouseleave",b),l==null||l.addEventListener("scroll",Ra),g}function fO(e){return e.children?XX(e.children,fO):[e]}function VR(e,t){return e+t.colSpan}const hO=(e,t,i,s)=>{let o=0,a=e;const l=i.states.columns.value;if(s){const f=fO(s[e]);o=l.slice(0,l.indexOf(f[0])).reduce(VR,0),a=o+f.reduce(VR,0)-1}else o=e;let u;switch(t){case"left":a<i.states.fixedLeafColumnsLength.value&&(u="left");break;case"right":o>=l.length-i.states.rightFixedLeafColumnsLength.value&&(u="right");break;default:a<i.states.fixedLeafColumnsLength.value?u="left":o>=l.length-i.states.rightFixedLeafColumnsLength.value&&(u="right")}return u?{direction:u,start:o,after:a}:{}},hx=(e,t,i,s,o,a=0)=>{const l=[],{direction:u,start:f,after:p}=hO(t,i,s,o);if(u){const g=u==="left";l.push(`${e}-fixed-column--${u}`),g&&p+a===s.states.fixedLeafColumnsLength.value-1?l.push("is-last-column"):!g&&f-a===s.states.columns.value.length-s.states.rightFixedLeafColumnsLength.value&&l.push("is-first-column")}return l};function HR(e,t){return e+(t.realWidth===null||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const px=(e,t,i,s)=>{const{direction:o,start:a=0,after:l=0}=hO(e,t,i,s);if(!o)return;const u={},f=o==="left",p=i.states.columns.value;return f?u.left=p.slice(0,a).reduce(HR,0):u.right=p.slice(l+1).reverse().reduce(HR,0),u},Jd=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))};function Iye(e){const t=Tn(),i=X(!1),s=X([]);return{updateExpandRows:()=>{const f=e.data.value||[],p=e.rowKey.value;if(i.value)s.value=f.slice();else if(p){const g=Bc(s.value,p);s.value=f.reduce((v,b)=>{const w=Is(b,p);return g[w]&&v.push(b),v},[])}else s.value=[]},toggleRowExpansion:(f,p)=>{Dh(s.value,f,p)&&t.emit("expand-change",f,s.value.slice())},setExpandRowKeys:f=>{t.store.assertRowKey();const p=e.data.value||[],g=e.rowKey.value,v=Bc(p,g);s.value=f.reduce((b,w)=>{const M=v[w];return M&&b.push(M.row),b},[])},isRowExpanded:f=>{const p=e.rowKey.value;return p?!!Bc(s.value,p)[Is(f,p)]:s.value.includes(f)},states:{expandRows:s,defaultExpandAll:i}}}function Lye(e){const t=Tn(),i=X(null),s=X(null),o=p=>{t.store.assertRowKey(),i.value=p,l(p)},a=()=>{i.value=null},l=p=>{const{data:g,rowKey:v}=e;let b=null;v.value&&(b=(h(g)||[]).find(w=>Is(w,v.value)===p)),s.value=b,t.emit("current-change",s.value,null)};return{setCurrentRowKey:o,restoreCurrentRowKey:a,setCurrentRowByKey:l,updateCurrentRow:p=>{const g=s.value;if(p&&p!==g){s.value=p,t.emit("current-change",s.value,g);return}!p&&g&&(s.value=null,t.emit("current-change",null,g))},updateCurrentRowData:()=>{const p=e.rowKey.value,g=e.data.value||[],v=s.value;if(!g.includes(v)&&v){if(p){const b=Is(v,p);l(b)}else s.value=null;s.value===null&&t.emit("current-change",null,v)}else i.value&&(l(i.value),a())},states:{_currentRowKey:i,currentRow:s}}}function Nye(e){const t=X([]),i=X({}),s=X(16),o=X(!1),a=X({}),l=X("hasChildren"),u=X("children"),f=Tn(),p=D(()=>{if(!e.rowKey.value)return{};const C=e.data.value||[];return v(C)}),g=D(()=>{const C=e.rowKey.value,k=Object.keys(a.value),R={};return k.length&&k.forEach(P=>{if(a.value[P].length){const O={children:[]};a.value[P].forEach(F=>{const G=Is(F,C);O.children.push(G),F[l.value]&&!R[G]&&(R[G]={children:[]})}),R[P]=O}}),R}),v=C=>{const k=e.rowKey.value,R={};return kye(C,(P,O,F)=>{const G=Is(P,k);Array.isArray(O)?R[G]={children:O.map(H=>Is(H,k)),level:F}:o.value&&(R[G]={children:[],lazy:!0,level:F})},u.value,l.value),R},b=(C=!1,k=(R=>(R=f.store)==null?void 0:R.states.defaultExpandAll.value)())=>{var R;const P=p.value,O=g.value,F=Object.keys(P),G={};if(F.length){const H=h(i),j=[],q=(Q,Z)=>{if(C)return t.value?k||t.value.includes(Z):!!(k||Q!=null&&Q.expanded);{const re=k||t.value&&t.value.includes(Z);return!!(Q!=null&&Q.expanded||re)}};F.forEach(Q=>{const Z=H[Q],re={...P[Q]};if(re.expanded=q(Z,Q),re.lazy){const{loaded:ce=!1,loading:te=!1}=Z||{};re.loaded=!!ce,re.loading=!!te,j.push(Q)}G[Q]=re});const ie=Object.keys(O);o.value&&ie.length&&j.length&&ie.forEach(Q=>{const Z=H[Q],re=O[Q].children;if(j.includes(Q)){if(G[Q].children.length!==0)throw new Error("[ElTable]children must be an empty array.");G[Q].children=re}else{const{loaded:ce=!1,loading:te=!1}=Z||{};G[Q]={lazy:!0,loaded:!!ce,loading:!!te,expanded:q(Z,Q),children:re,level:""}}})}i.value=G,(R=f.store)==null||R.updateTableScrollY()};et(()=>t.value,()=>{b(!0)}),et(()=>p.value,()=>{b()}),et(()=>g.value,()=>{b()});const w=C=>{t.value=C,b()},M=(C,k)=>{f.store.assertRowKey();const R=e.rowKey.value,P=Is(C,R),O=P&&i.value[P];if(P&&O&&"expanded"in O){const F=O.expanded;k=typeof k>"u"?!O.expanded:k,i.value[P].expanded=k,F!==k&&f.emit("expand-change",C,k),f.store.updateTableScrollY()}},x=C=>{f.store.assertRowKey();const k=e.rowKey.value,R=Is(C,k),P=i.value[R];o.value&&P&&"loaded"in P&&!P.loaded?E(C,R,P):M(C,void 0)},E=(C,k,R)=>{const{load:P}=f.props;P&&!i.value[k].loaded&&(i.value[k].loading=!0,P(C,R,O=>{if(!Array.isArray(O))throw new TypeError("[ElTable] data must be an array");i.value[k].loading=!1,i.value[k].loaded=!0,i.value[k].expanded=!0,O.length&&(a.value[k]=O),f.emit("expand-change",C,!0)}))};return{loadData:E,loadOrToggle:x,toggleTreeExpansion:M,updateTreeExpandKeys:w,updateTreeData:b,normalize:v,states:{expandRowKeys:t,treeData:i,indent:s,lazy:o,lazyTreeNodeMap:a,lazyColumnIdentifier:l,childrenColumnName:u}}}const Oye=(e,t)=>{const i=t.sortingColumn;return!i||typeof i.sortable=="string"?e:Eye(e,t.sortProp,t.sortOrder,i.sortMethod,i.sortBy)},wv=e=>{const t=[];return e.forEach(i=>{i.children?t.push.apply(t,wv(i.children)):t.push(i)}),t};function Dye(){var e;const t=Tn(),{size:i}=gs((e=t.proxy)==null?void 0:e.$props),s=X(null),o=X([]),a=X([]),l=X(!1),u=X([]),f=X([]),p=X([]),g=X([]),v=X([]),b=X([]),w=X([]),M=X([]),x=[],E=X(0),C=X(0),k=X(0),R=X(!1),P=X([]),O=X(!1),F=X(!1),G=X(null),H=X({}),j=X(null),q=X(null),ie=X(null),Q=X(null),Z=X(null);et(o,()=>t.state&&W(!1),{deep:!0});const re=()=>{if(!s.value)throw new Error("[ElTable] prop row-key is required")},ce=tt=>{var Fe;(Fe=tt.children)==null||Fe.forEach(me=>{me.fixed=tt.fixed,ce(me)})},te=()=>{u.value.forEach(it=>{ce(it)}),g.value=u.value.filter(it=>it.fixed===!0||it.fixed==="left"),v.value=u.value.filter(it=>it.fixed==="right"),g.value.length>0&&u.value[0]&&u.value[0].type==="selection"&&!u.value[0].fixed&&(u.value[0].fixed=!0,g.value.unshift(u.value[0]));const tt=u.value.filter(it=>!it.fixed);f.value=[].concat(g.value).concat(tt).concat(v.value);const Fe=wv(tt),me=wv(g.value),Se=wv(v.value);E.value=Fe.length,C.value=me.length,k.value=Se.length,p.value=[].concat(me).concat(Fe).concat(Se),l.value=g.value.length>0||v.value.length>0},W=(tt,Fe=!1)=>{tt&&te(),Fe?t.state.doLayout():t.state.debouncedUpdateLayout()},ee=tt=>P.value.includes(tt),J=()=>{R.value=!1,P.value.length&&(P.value=[],t.emit("selection-change",[]))},pe=()=>{let tt;if(s.value){tt=[];const Fe=Bc(P.value,s.value),me=Bc(o.value,s.value);for(const Se in Fe)Gn(Fe,Se)&&!me[Se]&&tt.push(Fe[Se].row)}else tt=P.value.filter(Fe=>!o.value.includes(Fe));if(tt.length){const Fe=P.value.filter(me=>!tt.includes(me));P.value=Fe,t.emit("selection-change",Fe.slice())}},Ee=()=>(P.value||[]).slice(),he=(tt,Fe=void 0,me=!0)=>{if(Dh(P.value,tt,Fe)){const it=(P.value||[]).slice();me&&t.emit("select",it,tt),t.emit("selection-change",it)}},Ce=()=>{var tt,Fe;const me=F.value?!R.value:!(R.value||P.value.length);R.value=me;let Se=!1,it=0;const vt=(Fe=(tt=t==null?void 0:t.store)==null?void 0:tt.states)==null?void 0:Fe.rowKey.value;o.value.forEach((tn,Xe)=>{const Ct=Xe+it;G.value?G.value.call(null,tn,Ct)&&Dh(P.value,tn,me)&&(Se=!0):Dh(P.value,tn,me)&&(Se=!0),it+=xe(Is(tn,vt))}),Se&&t.emit("selection-change",P.value?P.value.slice():[]),t.emit("select-all",P.value)},Ge=()=>{const tt=Bc(P.value,s.value);o.value.forEach(Fe=>{const me=Is(Fe,s.value),Se=tt[me];Se&&(P.value[Se.index]=Fe)})},Te=()=>{var tt,Fe,me;if(((tt=o.value)==null?void 0:tt.length)===0){R.value=!1;return}let Se;s.value&&(Se=Bc(P.value,s.value));const it=function(Ct){return Se?!!Se[Is(Ct,s.value)]:P.value.includes(Ct)};let vt=!0,tn=0,Xe=0;for(let Ct=0,bn=(o.value||[]).length;Ct<bn;Ct++){const wn=(me=(Fe=t==null?void 0:t.store)==null?void 0:Fe.states)==null?void 0:me.rowKey.value,Dn=Ct+Xe,ui=o.value[Ct],Fi=G.value&&G.value.call(null,ui,Dn);if(it(ui))tn++;else if(!G.value||Fi){vt=!1;break}Xe+=xe(Is(ui,wn))}tn===0&&(vt=!1),R.value=vt},xe=tt=>{var Fe;if(!t||!t.store)return 0;const{treeData:me}=t.store.states;let Se=0;const it=(Fe=me.value[tt])==null?void 0:Fe.children;return it&&(Se+=it.length,it.forEach(vt=>{Se+=xe(vt)})),Se},Ie=(tt,Fe)=>{Array.isArray(tt)||(tt=[tt]);const me={};return tt.forEach(Se=>{H.value[Se.id]=Fe,me[Se.columnKey||Se.id]=Fe}),me},ge=(tt,Fe,me)=>{q.value&&q.value!==tt&&(q.value.order=null),q.value=tt,ie.value=Fe,Q.value=me},Le=()=>{let tt=h(a);Object.keys(H.value).forEach(Fe=>{const me=H.value[Fe];if(!me||me.length===0)return;const Se=uO({columns:p.value},Fe);Se&&Se.filterMethod&&(tt=tt.filter(it=>me.some(vt=>Se.filterMethod.call(null,vt,it,Se))))}),j.value=tt},Ue=()=>{o.value=Oye(j.value,{sortingColumn:q.value,sortProp:ie.value,sortOrder:Q.value})},ut=(tt=void 0)=>{tt&&tt.filter||Le(),Ue()},ue=tt=>{const{tableHeaderRef:Fe}=t.refs;if(!Fe)return;const me=Object.assign({},Fe.filterPanels),Se=Object.keys(me);if(Se.length)if(typeof tt=="string"&&(tt=[tt]),Array.isArray(tt)){const it=tt.map(vt=>Cye({columns:p.value},vt));Se.forEach(vt=>{const tn=it.find(Xe=>Xe.id===vt);tn&&(tn.filteredValue=[])}),t.store.commit("filterChange",{column:it,values:[],silent:!0,multi:!0})}else Se.forEach(it=>{const vt=p.value.find(tn=>tn.id===it);vt&&(vt.filteredValue=[])}),H.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},we=()=>{q.value&&(ge(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Ve,toggleRowExpansion:Ye,updateExpandRows:lt,states:He,isRowExpanded:ct}=Iye({data:o,rowKey:s}),{updateTreeExpandKeys:Qe,toggleTreeExpansion:rt,updateTreeData:Je,loadOrToggle:Mt,states:yt}=Nye({data:o,rowKey:s}),{updateCurrentRowData:We,updateCurrentRow:_t,setCurrentRowKey:Ut,states:fn}=Lye({data:o,rowKey:s});return{assertRowKey:re,updateColumns:te,scheduleLayout:W,isSelected:ee,clearSelection:J,cleanSelection:pe,getSelectionRows:Ee,toggleRowSelection:he,_toggleAllSelection:Ce,toggleAllSelection:null,updateSelectionByRowKey:Ge,updateAllSelected:Te,updateFilters:Ie,updateCurrentRow:_t,updateSort:ge,execFilter:Le,execSort:Ue,execQuery:ut,clearFilter:ue,clearSort:we,toggleRowExpansion:Ye,setExpandRowKeysAdapter:tt=>{Ve(tt),Qe(tt)},setCurrentRowKey:Ut,toggleRowExpansionAdapter:(tt,Fe)=>{p.value.some(({type:Se})=>Se==="expand")?Ye(tt,Fe):rt(tt,Fe)},isRowExpanded:ct,updateExpandRows:lt,updateCurrentRowData:We,loadOrToggle:Mt,updateTreeData:Je,states:{tableSize:i,rowKey:s,data:o,_data:a,isComplex:l,_columns:u,originColumns:f,columns:p,fixedColumns:g,rightFixedColumns:v,leafColumns:b,fixedLeafColumns:w,rightFixedLeafColumns:M,updateOrderFns:x,leafColumnsLength:E,fixedLeafColumnsLength:C,rightFixedLeafColumnsLength:k,isAllSelected:R,selection:P,reserveSelection:O,selectOnIndeterminate:F,selectable:G,filters:H,filteredData:j,sortingColumn:q,sortProp:ie,sortOrder:Q,hoverRow:Z,...He,...yt,...fn}}}function hw(e,t){return e.map(i=>{var s;return i.id===t.id?t:((s=i.children)!=null&&s.length&&(i.children=hw(i.children,t)),i)})}function pw(e){e.forEach(t=>{var i,s;t.no=(i=t.getColumnIndex)==null?void 0:i.call(t),(s=t.children)!=null&&s.length&&pw(t.children)}),e.sort((t,i)=>t.no-i.no)}function Fye(){const e=Tn(),t=Dye();return{ns:nt("table"),...t,mutations:{setData(l,u){const f=h(l._data)!==u;l.data.value=u,l._data.value=u,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),h(l.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):f?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(l,u,f,p){const g=h(l._columns);let v=[];f?(f&&!f.children&&(f.children=[]),f.children.push(u),v=hw(g,f)):(g.push(u),v=g),pw(v),l._columns.value=v,l.updateOrderFns.push(p),u.type==="selection"&&(l.selectable.value=u.selectable,l.reserveSelection.value=u.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(l,u){var f;((f=u.getColumnIndex)==null?void 0:f.call(u))!==u.no&&(pw(l._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(l,u,f,p){const g=h(l._columns)||[];if(f)f.children.splice(f.children.findIndex(b=>b.id===u.id),1),Bt(()=>{var b;((b=f.children)==null?void 0:b.length)===0&&delete f.children}),l._columns.value=hw(g,f);else{const b=g.indexOf(u);b>-1&&(g.splice(b,1),l._columns.value=g)}const v=l.updateOrderFns.indexOf(p);v>-1&&l.updateOrderFns.splice(v,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(l,u){const{prop:f,order:p,init:g}=u;if(f){const v=h(l.columns).find(b=>b.property===f);v&&(v.order=p,e.store.updateSort(v,f,p),e.store.commit("changeSortCondition",{init:g}))}},changeSortCondition(l,u){const{sortingColumn:f,sortProp:p,sortOrder:g}=l,v=h(f),b=h(p),w=h(g);w===null&&(l.sortingColumn.value=null,l.sortProp.value=null);const M={filter:!0};e.store.execQuery(M),(!u||!(u.silent||u.init))&&e.emit("sort-change",{column:v,prop:b,order:w}),e.store.updateTableScrollY()},filterChange(l,u){const{column:f,values:p,silent:g}=u,v=e.store.updateFilters(f,p);e.store.execQuery(),g||e.emit("filter-change",v),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(l,u){e.store.toggleRowSelection(u),e.store.updateAllSelected()},setHoverRow(l,u){l.hoverRow.value=u},setCurrentRow(l,u){e.store.updateCurrentRow(u)}},commit:function(l,...u){const f=e.store.mutations;if(f[l])f[l].apply(e,[e.store.states].concat(u));else throw new Error(`Action not found: ${l}`)},updateTableScrollY:function(){Bt(()=>e.layout.updateScrollY.apply(e.layout))}}}const Fh={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data",["treeProps.hasChildren"]:{key:"lazyColumnIdentifier",default:"hasChildren"},["treeProps.children"]:{key:"childrenColumnName",default:"children"}};function Bye(e,t){if(!e)throw new Error("Table is required.");const i=Fye();return i.toggleAllSelection=or(i._toggleAllSelection,10),Object.keys(Fh).forEach(s=>{pO(mO(t,s),s,i)}),zye(i,t),i}function zye(e,t){Object.keys(Fh).forEach(i=>{et(()=>mO(t,i),s=>{pO(s,i,e)})})}function pO(e,t,i){let s=e,o=Fh[t];typeof Fh[t]=="object"&&(o=o.key,s=s||Fh[t].default),i.states[o].value=s}function mO(e,t){if(t.includes(".")){const i=t.split(".");let s=e;return i.forEach(o=>{s=s[o]}),s}else return e[t]}class $ye{constructor(t){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=X(null),this.scrollX=X(!1),this.scrollY=X(!1),this.bodyWidth=X(null),this.fixedWidth=X(null),this.rightFixedWidth=X(null),this.gutterWidth=0;for(const i in t)Gn(t,i)&&(Ti(this[i])?this[i].value=t[i]:this[i]=t[i]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const i=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(i!=null&&i.wrapRef)){let s=!0;const o=this.scrollY.value;return s=i.wrapRef.scrollHeight>i.wrapRef.clientHeight,this.scrollY.value=s,o!==s}return!1}setHeight(t,i="height"){if(!Jn)return;const s=this.table.vnode.el;if(t=Aye(t),this.height.value=Number(t),!s&&(t||t===0))return Bt(()=>this.setHeight(t,i));typeof t=="number"?(s.style[i]=`${t}px`,this.updateElsHeight()):typeof t=="string"&&(s.style[i]=t,this.updateElsHeight())}setMaxHeight(t){this.setHeight(t,"max-height")}getFlattenColumns(){const t=[];return this.table.store.states.columns.value.forEach(s=>{s.isColumnGroup?t.push.apply(t,s.columns):t.push(s)}),t}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(t){if(!t)return!0;let i=t;for(;i.tagName!=="DIV";){if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1}updateColumnsWidth(){if(!Jn)return;const t=this.fit,i=this.table.vnode.el.clientWidth;let s=0;const o=this.getFlattenColumns(),a=o.filter(f=>typeof f.width!="number");if(o.forEach(f=>{typeof f.width=="number"&&f.realWidth&&(f.realWidth=null)}),a.length>0&&t){if(o.forEach(f=>{s+=Number(f.width||f.minWidth||80)}),s<=i){this.scrollX.value=!1;const f=i-s;if(a.length===1)a[0].realWidth=Number(a[0].minWidth||80)+f;else{const p=a.reduce((b,w)=>b+Number(w.minWidth||80),0),g=f/p;let v=0;a.forEach((b,w)=>{if(w===0)return;const M=Math.floor(Number(b.minWidth||80)*g);v+=M,b.realWidth=Number(b.minWidth||80)+M}),a[0].realWidth=Number(a[0].minWidth||80)+f-v}}else this.scrollX.value=!0,a.forEach(f=>{f.realWidth=Number(f.minWidth)});this.bodyWidth.value=Math.max(s,i),this.table.state.resizeState.value.width=this.bodyWidth.value}else o.forEach(f=>{!f.width&&!f.minWidth?f.realWidth=80:f.realWidth=Number(f.width||f.minWidth),s+=f.realWidth}),this.scrollX.value=s>i,this.bodyWidth.value=s;const l=this.store.states.fixedColumns.value;if(l.length>0){let f=0;l.forEach(p=>{f+=Number(p.realWidth||p.width)}),this.fixedWidth.value=f}const u=this.store.states.rightFixedColumns.value;if(u.length>0){let f=0;u.forEach(p=>{f+=Number(p.realWidth||p.width)}),this.rightFixedWidth.value=f}this.notifyObservers("columns")}addObserver(t){this.observers.push(t)}removeObserver(t){const i=this.observers.indexOf(t);i!==-1&&this.observers.splice(i,1)}notifyObservers(t){this.observers.forEach(s=>{var o,a;switch(t){case"columns":(o=s.state)==null||o.onColumnsChange(this);break;case"scrollable":(a=s.state)==null||a.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${t}.`)}})}}const{CheckboxGroup:Uye}=ro,Vye=_e({name:"ElTableFilterPanel",components:{ElCheckbox:ro,ElCheckboxGroup:Uye,ElScrollbar:ja,ElTooltip:ar,ElIcon:zt,ArrowDown:Vl,ArrowUp:P0},directives:{ClickOutside:Bl},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(e){const t=Tn(),{t:i}=ii(),s=nt("table-filter"),o=t==null?void 0:t.parent;o.filterPanels.value[e.column.id]||(o.filterPanels.value[e.column.id]=t);const a=X(!1),l=X(null),u=D(()=>e.column&&e.column.filters),f=D({get:()=>{var P;return(((P=e.column)==null?void 0:P.filteredValue)||[])[0]},set:P=>{p.value&&(typeof P<"u"&&P!==null?p.value.splice(0,1,P):p.value.splice(0,1))}}),p=D({get(){return e.column?e.column.filteredValue||[]:[]},set(P){e.column&&e.upDataColumn("filteredValue",P)}}),g=D(()=>e.column?e.column.filterMultiple:!0),v=P=>P.value===f.value,b=()=>{a.value=!1},w=P=>{P.stopPropagation(),a.value=!a.value},M=()=>{a.value=!1},x=()=>{k(p.value),b()},E=()=>{p.value=[],k(p.value),b()},C=P=>{f.value=P,k(typeof P<"u"&&P!==null?p.value:[]),b()},k=P=>{e.store.commit("filterChange",{column:e.column,values:P}),e.store.updateAllSelected()};et(a,P=>{e.column&&e.upDataColumn("filterOpened",P)},{immediate:!0});const R=D(()=>{var P,O;return(O=(P=l.value)==null?void 0:P.popperRef)==null?void 0:O.contentRef});return{tooltipVisible:a,multiple:g,filteredValue:p,filterValue:f,filters:u,handleConfirm:x,handleReset:E,handleSelect:C,isActive:v,t:i,ns:s,showFilterPanel:w,hideFilterPanel:M,popperPaneRef:R,tooltip:l}}}),Hye={key:0},Wye=["disabled"],Gye=["label","onClick"];function Kye(e,t,i,s,o,a){const l=cn("el-checkbox"),u=cn("el-checkbox-group"),f=cn("el-scrollbar"),p=cn("arrow-up"),g=cn("arrow-down"),v=cn("el-icon"),b=cn("el-tooltip"),w=Id("click-outside");return B(),Be(b,{ref:"tooltip",visible:e.tooltipVisible,offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":e.ns.b(),persistent:""},{content:ve(()=>[e.multiple?(B(),ne("div",Hye,[ae("div",{class:U(e.ns.e("content"))},[fe(f,{"wrap-class":e.ns.e("wrap")},{default:ve(()=>[fe(u,{modelValue:e.filteredValue,"onUpdate:modelValue":t[0]||(t[0]=M=>e.filteredValue=M),class:U(e.ns.e("checkbox-group"))},{default:ve(()=>[(B(!0),ne(Ft,null,Un(e.filters,M=>(B(),Be(l,{key:M.value,label:M.value},{default:ve(()=>[Nn(ft(M.text),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),ae("div",{class:U(e.ns.e("bottom"))},[ae("button",{class:U({[e.ns.is("disabled")]:e.filteredValue.length===0}),disabled:e.filteredValue.length===0,type:"button",onClick:t[1]||(t[1]=(...M)=>e.handleConfirm&&e.handleConfirm(...M))},ft(e.t("el.table.confirmFilter")),11,Wye),ae("button",{type:"button",onClick:t[2]||(t[2]=(...M)=>e.handleReset&&e.handleReset(...M))},ft(e.t("el.table.resetFilter")),1)],2)])):(B(),ne("ul",{key:1,class:U(e.ns.e("list"))},[ae("li",{class:U([e.ns.e("list-item"),{[e.ns.is("active")]:e.filterValue===void 0||e.filterValue===null}]),onClick:t[3]||(t[3]=M=>e.handleSelect(null))},ft(e.t("el.table.clearFilter")),3),(B(!0),ne(Ft,null,Un(e.filters,M=>(B(),ne("li",{key:M.value,class:U([e.ns.e("list-item"),e.ns.is("active",e.isActive(M))]),label:M.value,onClick:x=>e.handleSelect(M.value)},ft(M.text),11,Gye))),128))],2))]),default:ve(()=>[gn((B(),ne("span",{class:U([`${e.ns.namespace.value}-table__column-filter-trigger`,`${e.ns.namespace.value}-none-outline`]),onClick:t[4]||(t[4]=(...M)=>e.showFilterPanel&&e.showFilterPanel(...M))},[fe(v,null,{default:ve(()=>[e.column.filterOpened?(B(),Be(p,{key:0})):(B(),Be(g,{key:1}))]),_:1})],2)),[[w,e.hideFilterPanel,e.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var qye=ht(Vye,[["render",Kye],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/filter-panel.vue"]]);function gO(e){const t=Tn();u0(()=>{i.value.addObserver(t)}),_n(()=>{s(i.value),o(i.value)}),Ga(()=>{s(i.value),o(i.value)}),$l(()=>{i.value.removeObserver(t)});const i=D(()=>{const a=e.layout;if(!a)throw new Error("Can not find table layout.");return a}),s=a=>{var l;const u=((l=e.vnode.el)==null?void 0:l.querySelectorAll("colgroup > col"))||[];if(!u.length)return;const f=a.getFlattenColumns(),p={};f.forEach(g=>{p[g.id]=g});for(let g=0,v=u.length;g<v;g++){const b=u[g],w=b.getAttribute("name"),M=p[w];M&&b.setAttribute("width",M.realWidth||M.width)}},o=a=>{var l,u;const f=((l=e.vnode.el)==null?void 0:l.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let g=0,v=f.length;g<v;g++)f[g].setAttribute("width",a.scrollY.value?a.gutterWidth:"0");const p=((u=e.vnode.el)==null?void 0:u.querySelectorAll("th.gutter"))||[];for(let g=0,v=p.length;g<v;g++){const b=p[g];b.style.width=a.scrollY.value?`${a.gutterWidth}px`:"0",b.style.display=a.scrollY.value?"":"none"}};return{tableLayout:i.value,onColumnsChange:s,onScrollableChange:o}}const aa=Symbol("ElTable");function jye(e,t){const i=Tn(),s=Lt(aa),o=x=>{x.stopPropagation()},a=(x,E)=>{!E.filters&&E.sortable?M(x,E,!1):E.filterable&&!E.sortable&&o(x),s==null||s.emit("header-click",E,x)},l=(x,E)=>{s==null||s.emit("header-contextmenu",E,x)},u=X(null),f=X(!1),p=X({}),g=(x,E)=>{if(Jn&&!(E.children&&E.children.length>0)&&u.value&&e.border){f.value=!0;const C=s;t("set-drag-visible",!0);const R=(C==null?void 0:C.vnode.el).getBoundingClientRect().left,P=i.vnode.el.querySelector(`th.${E.id}`),O=P.getBoundingClientRect(),F=O.left-R+30;Zo(P,"noclick"),p.value={startMouseLeft:x.clientX,startLeft:O.right-R,startColumnLeft:O.left-R,tableLeft:R};const G=C==null?void 0:C.refs.resizeProxy;G.style.left=`${p.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const H=q=>{const ie=q.clientX-p.value.startMouseLeft,Q=p.value.startLeft+ie;G.style.left=`${Math.max(F,Q)}px`},j=()=>{if(f.value){const{startColumnLeft:q,startLeft:ie}=p.value,Z=Number.parseInt(G.style.left,10)-q;E.width=E.realWidth=Z,C==null||C.emit("header-dragend",E.width,ie-q,E,x),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",f.value=!1,u.value=null,p.value={},t("set-drag-visible",!1)}document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",j),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{gr(P,"noclick")},0)};document.addEventListener("mousemove",H),document.addEventListener("mouseup",j)}},v=(x,E)=>{var C;if(E.children&&E.children.length>0)return;const k=(C=x.target)==null?void 0:C.closest("th");if(!(!E||!E.resizable)&&!f.value&&e.border){const R=k.getBoundingClientRect(),P=document.body.style;R.width>12&&R.right-x.pageX<8?(P.cursor="col-resize",Ro(k,"is-sortable")&&(k.style.cursor="col-resize"),u.value=E):f.value||(P.cursor="",Ro(k,"is-sortable")&&(k.style.cursor="pointer"),u.value=null)}},b=()=>{Jn&&(document.body.style.cursor="")},w=({order:x,sortOrders:E})=>{if(x==="")return E[0];const C=E.indexOf(x||null);return E[C>E.length-2?0:C+1]},M=(x,E,C)=>{var k;x.stopPropagation();const R=E.order===C?null:C||w(E),P=(k=x.target)==null?void 0:k.closest("th");if(P&&Ro(P,"noclick")){gr(P,"noclick");return}if(!E.sortable)return;const O=e.store.states;let F=O.sortProp.value,G;const H=O.sortingColumn.value;(H!==E||H===E&&H.order===null)&&(H&&(H.order=null),O.sortingColumn.value=E,F=E.property),R?G=E.order=R:G=E.order=null,O.sortProp.value=F,O.sortOrder.value=G,s==null||s.store.commit("changeSortCondition")};return{handleHeaderClick:a,handleHeaderContextMenu:l,handleMouseDown:g,handleMouseMove:v,handleMouseOut:b,handleSortClick:M,handleFilterClick:o}}function Xye(e){const t=Lt(aa),i=nt("table");return{getHeaderRowStyle:u=>{const f=t==null?void 0:t.props.headerRowStyle;return typeof f=="function"?f.call(null,{rowIndex:u}):f},getHeaderRowClass:u=>{const f=[],p=t==null?void 0:t.props.headerRowClassName;return typeof p=="string"?f.push(p):typeof p=="function"&&f.push(p.call(null,{rowIndex:u})),f.join(" ")},getHeaderCellStyle:(u,f,p,g)=>{var v;let b=(v=t==null?void 0:t.props.headerCellStyle)!=null?v:{};typeof b=="function"&&(b=b.call(null,{rowIndex:u,columnIndex:f,row:p,column:g}));const w=px(f,g.fixed,e.store,p);return Jd(w,"left"),Jd(w,"right"),Object.assign({},b,w)},getHeaderCellClass:(u,f,p,g)=>{const v=hx(i.b(),f,g.fixed,e.store,p),b=[g.id,g.order,g.headerAlign,g.className,g.labelClassName,...v];g.children||b.push("is-leaf"),g.sortable&&b.push("is-sortable");const w=t==null?void 0:t.props.headerCellClassName;return typeof w=="string"?b.push(w):typeof w=="function"&&b.push(w.call(null,{rowIndex:u,columnIndex:f,row:p,column:g})),b.push(i.e("cell")),b.filter(M=>!!M).join(" ")}}}const vO=e=>{const t=[];return e.forEach(i=>{i.children?(t.push(i),t.push.apply(t,vO(i.children))):t.push(i)}),t},Yye=e=>{let t=1;const i=(a,l)=>{if(l&&(a.level=l.level+1,t<a.level&&(t=a.level)),a.children){let u=0;a.children.forEach(f=>{i(f,a),u+=f.colSpan}),a.colSpan=u}else a.colSpan=1};e.forEach(a=>{a.level=1,i(a,void 0)});const s=[];for(let a=0;a<t;a++)s.push([]);return vO(e).forEach(a=>{a.children?(a.rowSpan=1,a.children.forEach(l=>l.isSubColumn=!0)):a.rowSpan=t-a.level+1,s[a.level-1].push(a)}),s};function Zye(e){const t=Lt(aa),i=D(()=>Yye(e.store.states.originColumns.value));return{isGroup:D(()=>{const a=i.value.length>1;return a&&t&&(t.state.isGroup.value=!0),a}),toggleAllSelection:a=>{a.stopPropagation(),t==null||t.store.commit("toggleAllSelection")},columnRows:i}}var Jye=_e({name:"ElTableHeader",components:{ElCheckbox:ro},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e,{emit:t}){const i=Tn(),s=Lt(aa),o=nt("table"),a=X({}),{onColumnsChange:l,onScrollableChange:u}=gO(s);_n(async()=>{await Bt(),await Bt();const{prop:F,order:G}=e.defaultSort;s==null||s.store.commit("sort",{prop:F,order:G,init:!0})});const{handleHeaderClick:f,handleHeaderContextMenu:p,handleMouseDown:g,handleMouseMove:v,handleMouseOut:b,handleSortClick:w,handleFilterClick:M}=jye(e,t),{getHeaderRowStyle:x,getHeaderRowClass:E,getHeaderCellStyle:C,getHeaderCellClass:k}=Xye(e),{isGroup:R,toggleAllSelection:P,columnRows:O}=Zye(e);return i.state={onColumnsChange:l,onScrollableChange:u},i.filterPanels=a,{ns:o,filterPanels:a,onColumnsChange:l,onScrollableChange:u,columnRows:O,getHeaderRowClass:E,getHeaderRowStyle:x,getHeaderCellClass:k,getHeaderCellStyle:C,handleHeaderClick:f,handleHeaderContextMenu:p,handleMouseDown:g,handleMouseMove:v,handleMouseOut:b,handleSortClick:w,handleFilterClick:M,isGroup:R,toggleAllSelection:P}},render(){const{ns:e,isGroup:t,columnRows:i,getHeaderCellStyle:s,getHeaderCellClass:o,getHeaderRowClass:a,getHeaderRowStyle:l,handleHeaderClick:u,handleHeaderContextMenu:f,handleMouseDown:p,handleMouseMove:g,handleSortClick:v,handleMouseOut:b,store:w,$parent:M}=this;let x=1;return Yt("thead",{class:{[e.is("group")]:t}},i.map((E,C)=>Yt("tr",{class:a(C),key:C,style:l(C)},E.map((k,R)=>(k.rowSpan>x&&(x=k.rowSpan),Yt("th",{class:o(C,R,E,k),colspan:k.colSpan,key:`${k.id}-thead`,rowspan:k.rowSpan,style:s(C,R,E,k),onClick:P=>u(P,k),onContextmenu:P=>f(P,k),onMousedown:P=>p(P,k),onMousemove:P=>g(P,k),onMouseout:b},[Yt("div",{class:["cell",k.filteredValue&&k.filteredValue.length>0?"highlight":""]},[k.renderHeader?k.renderHeader({column:k,$index:R,store:w,_self:M}):k.label,k.sortable&&Yt("span",{onClick:P=>v(P,k),class:"caret-wrapper"},[Yt("i",{onClick:P=>v(P,k,"ascending"),class:"sort-caret ascending"}),Yt("i",{onClick:P=>v(P,k,"descending"),class:"sort-caret descending"})]),k.filterable&&Yt(qye,{store:w,placement:k.filterPlacement||"bottom-start",column:k,upDataColumn:(P,O)=>{k[P]=O}})])]))))))}});function Qye(e){const t=Lt(aa),i=X(""),s=X(Yt("div")),{nextZIndex:o}=uf(),a=(w,M,x)=>{var E;const C=t,k=j_(w);let R;const P=(E=C==null?void 0:C.vnode.el)==null?void 0:E.dataset.prefix;k&&(R=UR({columns:e.store.states.columns.value},k,P),R&&(C==null||C.emit(`cell-${x}`,M,R,k,w))),C==null||C.emit(`row-${x}`,M,R,w)},l=(w,M)=>{a(w,M,"dblclick")},u=(w,M)=>{e.store.commit("setCurrentRow",M),a(w,M,"click")},f=(w,M)=>{a(w,M,"contextmenu")},p=or(w=>{e.store.commit("setHoverRow",w)},30),g=or(()=>{e.store.commit("setHoverRow",null)},30);return{handleDoubleClick:l,handleClick:u,handleContextMenu:f,handleMouseEnter:p,handleMouseLeave:g,handleCellMouseEnter:(w,M,x)=>{var E;const C=t,k=j_(w),R=(E=C==null?void 0:C.vnode.el)==null?void 0:E.dataset.prefix;if(k){const H=UR({columns:e.store.states.columns.value},k,R),j=C.hoverState={cell:k,column:H,row:M};C==null||C.emit("cell-mouse-enter",j.row,j.column,j.cell,w)}if(!x)return;const P=w.target.querySelector(".cell");if(!(Ro(P,`${R}-tooltip`)&&P.childNodes.length))return;const O=document.createRange();O.setStart(P,0),O.setEnd(P,P.childNodes.length);const F=Math.round(O.getBoundingClientRect().width),G=(Number.parseInt(La(P,"paddingLeft"),10)||0)+(Number.parseInt(La(P,"paddingRight"),10)||0);(F+G>P.offsetWidth||P.scrollWidth>P.offsetWidth)&&Pye(t==null?void 0:t.refs.tableWrapper,k,k.innerText||k.textContent,o,x)},handleCellMouseLeave:w=>{if(!j_(w))return;const x=t==null?void 0:t.hoverState;t==null||t.emit("cell-mouse-leave",x==null?void 0:x.row,x==null?void 0:x.column,x==null?void 0:x.cell,w)},tooltipContent:i,tooltipTrigger:s}}function ebe(e){const t=Lt(aa),i=nt("table");return{getRowStyle:(p,g)=>{const v=t==null?void 0:t.props.rowStyle;return typeof v=="function"?v.call(null,{row:p,rowIndex:g}):v||null},getRowClass:(p,g)=>{const v=[i.e("row")];t!=null&&t.props.highlightCurrentRow&&p===e.store.states.currentRow.value&&v.push("current-row"),e.stripe&&g%2===1&&v.push(i.em("row","striped"));const b=t==null?void 0:t.props.rowClassName;return typeof b=="string"?v.push(b):typeof b=="function"&&v.push(b.call(null,{row:p,rowIndex:g})),v},getCellStyle:(p,g,v,b)=>{const w=t==null?void 0:t.props.cellStyle;let M=w??{};typeof w=="function"&&(M=w.call(null,{rowIndex:p,columnIndex:g,row:v,column:b}));const x=px(g,e==null?void 0:e.fixed,e.store);return Jd(x,"left"),Jd(x,"right"),Object.assign({},M,x)},getCellClass:(p,g,v,b,w)=>{const M=hx(i.b(),g,e==null?void 0:e.fixed,e.store,void 0,w),x=[b.id,b.align,b.className,...M],E=t==null?void 0:t.props.cellClassName;return typeof E=="string"?x.push(E):typeof E=="function"&&x.push(E.call(null,{rowIndex:p,columnIndex:g,row:v,column:b})),x.push(i.e("cell")),x.filter(C=>!!C).join(" ")},getSpan:(p,g,v,b)=>{let w=1,M=1;const x=t==null?void 0:t.props.spanMethod;if(typeof x=="function"){const E=x({row:p,column:g,rowIndex:v,columnIndex:b});Array.isArray(E)?(w=E[0],M=E[1]):typeof E=="object"&&(w=E.rowspan,M=E.colspan)}return{rowspan:w,colspan:M}},getColspanRealWidth:(p,g,v)=>{if(g<1)return p[v].realWidth;const b=p.map(({realWidth:w,width:M})=>w||M).slice(v,v+g);return Number(b.reduce((w,M)=>Number(w)+Number(M),-1))}}}function tbe(e){const t=Lt(aa),i=nt("table"),{handleDoubleClick:s,handleClick:o,handleContextMenu:a,handleMouseEnter:l,handleMouseLeave:u,handleCellMouseEnter:f,handleCellMouseLeave:p,tooltipContent:g,tooltipTrigger:v}=Qye(e),{getRowStyle:b,getRowClass:w,getCellStyle:M,getCellClass:x,getSpan:E,getColspanRealWidth:C}=ebe(e),k=D(()=>e.store.states.columns.value.findIndex(({type:G})=>G==="default")),R=(G,H)=>{const j=t.props.rowKey;return j?Is(G,j):H},P=(G,H,j,q=!1)=>{const{tooltipEffect:ie,tooltipOptions:Q,store:Z}=e,{indent:re,columns:ce}=Z.states,te=w(G,H);let W=!0;return j&&(te.push(i.em("row",`level-${j.level}`)),W=j.display),Yt("tr",{style:[W?null:{display:"none"},b(G,H)],class:te,key:R(G,H),onDblclick:J=>s(J,G),onClick:J=>o(J,G),onContextmenu:J=>a(J,G),onMouseenter:()=>l(H),onMouseleave:u},ce.value.map((J,pe)=>{const{rowspan:Ee,colspan:he}=E(G,J,H,pe);if(!Ee||!he)return null;const Ce={...J};Ce.realWidth=C(ce.value,he,pe);const Ge={store:e.store,_self:e.context||t,column:Ce,row:G,$index:H,cellIndex:pe,expanded:q};pe===k.value&&j&&(Ge.treeNode={indent:j.level*re.value,level:j.level},typeof j.expanded=="boolean"&&(Ge.treeNode.expanded=j.expanded,"loading"in j&&(Ge.treeNode.loading=j.loading),"noLazyChildren"in j&&(Ge.treeNode.noLazyChildren=j.noLazyChildren)));const Te=`${H},${pe}`,xe=Ce.columnKey||Ce.rawColumnKey||"",Ie=O(pe,J,Ge),ge=J.showOverflowTooltip&&G3({effect:ie},Q,J.showOverflowTooltip);return Yt("td",{style:M(H,pe,G,J),class:x(H,pe,G,J,he-1),key:`${xe}${Te}`,rowspan:Ee,colspan:he,onMouseenter:Le=>f(Le,G,ge),onMouseleave:p},[Ie])}))},O=(G,H,j)=>H.renderCell(j);return{wrappedRowRender:(G,H)=>{const j=e.store,{isRowExpanded:q,assertRowKey:ie}=j,{treeData:Q,lazyTreeNodeMap:Z,childrenColumnName:re,rowKey:ce}=j.states,te=j.states.columns.value;if(te.some(({type:ee})=>ee==="expand")){const ee=q(G),J=P(G,H,void 0,ee),pe=t.renderExpanded;return ee?pe?[[J,Yt("tr",{key:`expanded-row__${J.key}`},[Yt("td",{colspan:te.length,class:`${i.e("cell")} ${i.e("expanded-cell")}`},[pe({row:G,$index:H,store:j,expanded:ee})])])]]:(console.error("[Element Error]renderExpanded is required."),J):[[J]]}else if(Object.keys(Q.value).length){ie();const ee=Is(G,ce.value);let J=Q.value[ee],pe=null;J&&(pe={expanded:J.expanded,level:J.level,display:!0},typeof J.lazy=="boolean"&&(typeof J.loaded=="boolean"&&J.loaded&&(pe.noLazyChildren=!(J.children&&J.children.length)),pe.loading=J.loading));const Ee=[P(G,H,pe)];if(J){let he=0;const Ce=(Te,xe)=>{Te&&Te.length&&xe&&Te.forEach(Ie=>{const ge={display:xe.display&&xe.expanded,level:xe.level+1,expanded:!1,noLazyChildren:!1,loading:!1},Le=Is(Ie,ce.value);if(Le==null)throw new Error("For nested data item, row-key is required.");if(J={...Q.value[Le]},J&&(ge.expanded=J.expanded,J.level=J.level||ge.level,J.display=!!(J.expanded&&ge.display),typeof J.lazy=="boolean"&&(typeof J.loaded=="boolean"&&J.loaded&&(ge.noLazyChildren=!(J.children&&J.children.length)),ge.loading=J.loading)),he++,Ee.push(P(Ie,H+he,ge)),J){const Ue=Z.value[Le]||Ie[re.value];Ce(Ue,J)}})};J.display=!0;const Ge=Z.value[ee]||G[re.value];Ce(Ge,J)}return Ee}else return P(G,H,void 0)},tooltipContent:g,tooltipTrigger:v}}const nbe={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var ibe=_e({name:"ElTableBody",props:nbe,setup(e){const t=Tn(),i=Lt(aa),s=nt("table"),{wrappedRowRender:o,tooltipContent:a,tooltipTrigger:l}=tbe(e),{onColumnsChange:u,onScrollableChange:f}=gO(i);return et(e.store.states.hoverRow,(p,g)=>{if(!e.store.states.isComplex.value||!Jn)return;let v=window.requestAnimationFrame;v||(v=b=>window.setTimeout(b,16)),v(()=>{const b=t==null?void 0:t.vnode.el,w=Array.from((b==null?void 0:b.children)||[]).filter(E=>E==null?void 0:E.classList.contains(`${s.e("row")}`)),M=w[g],x=w[p];M&&gr(M,"hover-row"),x&&Zo(x,"hover-row")})}),$l(()=>{var p;(p=Ra)==null||p()}),{ns:s,onColumnsChange:u,onScrollableChange:f,wrappedRowRender:o,tooltipContent:a,tooltipTrigger:l}},render(){const{wrappedRowRender:e,store:t}=this,i=t.states.data.value||[];return Yt("tbody",{},[i.reduce((s,o)=>s.concat(e(o,s.length)),[])])}});function mx(e){const t=e.tableLayout==="auto";let i=e.columns||[];t&&i.every(o=>o.width===void 0)&&(i=[]);const s=o=>{const a={key:`${e.tableLayout}_${o.id}`,style:{},name:void 0};return t?a.style={width:`${o.width}px`}:a.name=o.id,a};return Yt("colgroup",{},i.map(o=>Yt("col",s(o))))}mx.props=["columns","tableLayout"];function sbe(){const e=Lt(aa),t=e==null?void 0:e.store,i=D(()=>t.states.fixedLeafColumnsLength.value),s=D(()=>t.states.rightFixedColumns.value.length),o=D(()=>t.states.columns.value.length),a=D(()=>t.states.fixedColumns.value.length),l=D(()=>t.states.rightFixedColumns.value.length);return{leftFixedLeafCount:i,rightFixedLeafCount:s,columnsCount:o,leftFixedCount:a,rightFixedCount:l,columns:t.states.columns}}function rbe(e){const{columns:t}=sbe(),i=nt("table");return{getCellClasses:(a,l)=>{const u=a[l],f=[i.e("cell"),u.id,u.align,u.labelClassName,...hx(i.b(),l,u.fixed,e.store)];return u.className&&f.push(u.className),u.children||f.push(i.is("leaf")),f},getCellStyles:(a,l)=>{const u=px(l,a.fixed,e.store);return Jd(u,"left"),Jd(u,"right"),u},columns:t}}var obe=_e({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const{getCellClasses:t,getCellStyles:i,columns:s}=rbe(e);return{ns:nt("table"),getCellClasses:t,getCellStyles:i,columns:s}},render(){const{columns:e,getCellStyles:t,getCellClasses:i,summaryMethod:s,sumText:o,ns:a}=this,l=this.store.states.data.value;let u=[];return s?u=s({columns:e,data:l}):e.forEach((f,p)=>{if(p===0){u[p]=o;return}const g=l.map(M=>Number(M[f.property])),v=[];let b=!0;g.forEach(M=>{if(!Number.isNaN(+M)){b=!1;const x=`${M}`.split(".")[1];v.push(x?x.length:0)}});const w=Math.max.apply(null,v);b?u[p]="":u[p]=g.reduce((M,x)=>{const E=Number(x);return Number.isNaN(+E)?M:Number.parseFloat((M+x).toFixed(Math.min(w,20)))},0)}),Yt("table",{class:a.e("footer"),cellspacing:"0",cellpadding:"0",border:"0"},[mx({columns:e}),Yt("tbody",[Yt("tr",{},[...e.map((f,p)=>Yt("td",{key:p,colspan:f.colSpan,rowspan:f.rowSpan,class:i(e,p),style:t(f,p)},[Yt("div",{class:["cell",f.labelClassName]},[u[p]])]))])])])}});function abe(e){return{setCurrentRow:g=>{e.commit("setCurrentRow",g)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(g,v)=>{e.toggleRowSelection(g,v,!1),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:g=>{e.clearFilter(g)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(g,v)=>{e.toggleRowExpansionAdapter(g,v)},clearSort:()=>{e.clearSort()},sort:(g,v)=>{e.commit("sort",{prop:g,order:v})}}}function lbe(e,t,i,s){const o=X(!1),a=X(null),l=X(!1),u=ee=>{l.value=ee},f=X({width:null,height:null,headerHeight:null}),p=X(!1),g={display:"inline-block",verticalAlign:"middle"},v=X(),b=X(0),w=X(0),M=X(0),x=X(0);Dr(()=>{t.setHeight(e.height)}),Dr(()=>{t.setMaxHeight(e.maxHeight)}),et(()=>[e.currentRowKey,i.states.rowKey],([ee,J])=>{!h(J)||!h(ee)||i.setCurrentRowKey(`${ee}`)},{immediate:!0}),et(()=>e.data,ee=>{s.store.commit("setData",ee)},{immediate:!0,deep:!0}),Dr(()=>{e.expandRowKeys&&i.setExpandRowKeysAdapter(e.expandRowKeys)});const E=()=>{s.store.commit("setHoverRow",null),s.hoverState&&(s.hoverState=null)},C=(ee,J)=>{const{pixelX:pe,pixelY:Ee}=J;Math.abs(pe)>=Math.abs(Ee)&&(s.refs.bodyWrapper.scrollLeft+=J.pixelX/5)},k=D(()=>e.height||e.maxHeight||i.states.fixedColumns.value.length>0||i.states.rightFixedColumns.value.length>0),R=D(()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""})),P=()=>{k.value&&t.updateElsHeight(),t.updateColumnsWidth(),requestAnimationFrame(H)};_n(async()=>{await Bt(),i.updateColumns(),j(),requestAnimationFrame(P);const ee=s.vnode.el,J=s.refs.headerWrapper;e.flexible&&ee&&ee.parentElement&&(ee.parentElement.style.minWidth="0"),f.value={width:v.value=ee.offsetWidth,height:ee.offsetHeight,headerHeight:e.showHeader&&J?J.offsetHeight:null},i.states.columns.value.forEach(pe=>{pe.filteredValue&&pe.filteredValue.length&&s.store.commit("filterChange",{column:pe,values:pe.filteredValue,silent:!0})}),s.$ready=!0});const O=(ee,J)=>{if(!ee)return;const pe=Array.from(ee.classList).filter(Ee=>!Ee.startsWith("is-scrolling-"));pe.push(t.scrollX.value?J:"is-scrolling-none"),ee.className=pe.join(" ")},F=ee=>{const{tableWrapper:J}=s.refs;O(J,ee)},G=ee=>{const{tableWrapper:J}=s.refs;return!!(J&&J.classList.contains(ee))},H=function(){if(!s.refs.scrollBarRef)return;if(!t.scrollX.value){const Te="is-scrolling-none";G(Te)||F(Te);return}const ee=s.refs.scrollBarRef.wrapRef;if(!ee)return;const{scrollLeft:J,offsetWidth:pe,scrollWidth:Ee}=ee,{headerWrapper:he,footerWrapper:Ce}=s.refs;he&&(he.scrollLeft=J),Ce&&(Ce.scrollLeft=J);const Ge=Ee-pe-1;J>=Ge?F("is-scrolling-right"):F(J===0?"is-scrolling-left":"is-scrolling-middle")},j=()=>{s.refs.scrollBarRef&&(s.refs.scrollBarRef.wrapRef&&Vi(s.refs.scrollBarRef.wrapRef,"scroll",H,{passive:!0}),e.fit?Gs(s.vnode.el,q):Vi(window,"resize",q),Gs(s.refs.bodyWrapper,()=>{var ee,J;q(),(J=(ee=s.refs)==null?void 0:ee.scrollBarRef)==null||J.update()}))},q=()=>{var ee,J,pe;const Ee=s.vnode.el;if(!s.$ready||!Ee)return;let he=!1;const{width:Ce,height:Ge,headerHeight:Te}=f.value,xe=v.value=Ee.offsetWidth;Ce!==xe&&(he=!0);const Ie=Ee.offsetHeight;(e.height||k.value)&&Ge!==Ie&&(he=!0);const ge=e.tableLayout==="fixed"?s.refs.headerWrapper:(ee=s.refs.tableHeaderRef)==null?void 0:ee.$el;e.showHeader&&(ge==null?void 0:ge.offsetHeight)!==Te&&(he=!0),b.value=((J=s.refs.tableWrapper)==null?void 0:J.scrollHeight)||0,M.value=(ge==null?void 0:ge.scrollHeight)||0,x.value=((pe=s.refs.footerWrapper)==null?void 0:pe.offsetHeight)||0,w.value=b.value-M.value-x.value,he&&(f.value={width:xe,height:Ie,headerHeight:e.showHeader&&(ge==null?void 0:ge.offsetHeight)||0},P())},ie=fs(),Q=D(()=>{const{bodyWidth:ee,scrollY:J,gutterWidth:pe}=t;return ee.value?`${ee.value-(J.value?pe:0)}px`:""}),Z=D(()=>e.maxHeight?"fixed":e.tableLayout),re=D(()=>{if(e.data&&e.data.length)return null;let ee="100%";e.height&&w.value&&(ee=`${w.value}px`);const J=v.value;return{width:J?`${J}px`:"",height:ee}}),ce=D(()=>e.height?{height:Number.isNaN(Number(e.height))?e.height:`${e.height}px`}:e.maxHeight?{maxHeight:Number.isNaN(Number(e.maxHeight))?e.maxHeight:`${e.maxHeight}px`}:{}),te=D(()=>{if(e.height)return{height:"100%"};if(e.maxHeight){if(Number.isNaN(Number(e.maxHeight)))return{maxHeight:`calc(${e.maxHeight} - ${M.value+x.value}px)`};{const ee=e.maxHeight;if(b.value>=Number(ee))return{maxHeight:`${b.value-M.value-x.value}px`}}}return{}});return{isHidden:o,renderExpanded:a,setDragVisible:u,isGroup:p,handleMouseLeave:E,handleHeaderFooterMousewheel:C,tableSize:ie,emptyBlockStyle:re,handleFixedMousewheel:(ee,J)=>{const pe=s.refs.bodyWrapper;if(Math.abs(J.spinY)>0){const Ee=pe.scrollTop;J.pixelY<0&&Ee!==0&&ee.preventDefault(),J.pixelY>0&&pe.scrollHeight-pe.clientHeight>Ee&&ee.preventDefault(),pe.scrollTop+=Math.ceil(J.pixelY/5)}else pe.scrollLeft+=Math.ceil(J.pixelX/5)},resizeProxyVisible:l,bodyWidth:Q,resizeState:f,doLayout:P,tableBodyStyles:R,tableLayout:Z,scrollbarViewStyle:g,tableInnerStyle:ce,scrollbarStyle:te}}function cbe(e){const t=X(),i=()=>{const o=e.vnode.el.querySelector(".hidden-columns"),a={childList:!0,subtree:!0},l=e.store.states.updateOrderFns;t.value=new MutationObserver(()=>{l.forEach(u=>u())}),t.value.observe(o,a)};_n(()=>{i()}),$l(()=>{var s;(s=t.value)==null||s.disconnect()})}var ube={data:{type:Array,default:()=>[]},size:Ds,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:{type:Boolean,default:!1},flexible:Boolean};const dbe=()=>{const e=X(),t=(a,l)=>{const u=e.value;u&&u.scrollTo(a,l)},i=(a,l)=>{const u=e.value;u&&on(l)&&["Top","Left"].includes(a)&&u[`setScroll${a}`](l)};return{scrollBarRef:e,scrollTo:t,setScrollTop:a=>i("Top",a),setScrollLeft:a=>i("Left",a)}};let fbe=1;const hbe=_e({name:"ElTable",directives:{Mousewheel:sae},components:{TableHeader:Jye,TableBody:ibe,TableFooter:obe,ElScrollbar:ja,hColgroup:mx},props:ube,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(e){const{t}=ii(),i=nt("table"),s=Tn();On(aa,s);const o=Bye(s,e);s.store=o;const a=new $ye({store:s.store,table:s,fit:e.fit,showHeader:e.showHeader});s.layout=a;const l=D(()=>(o.states.data.value||[]).length===0),{setCurrentRow:u,getSelectionRows:f,toggleRowSelection:p,clearSelection:g,clearFilter:v,toggleAllSelection:b,toggleRowExpansion:w,clearSort:M,sort:x}=abe(o),{isHidden:E,renderExpanded:C,setDragVisible:k,isGroup:R,handleMouseLeave:P,handleHeaderFooterMousewheel:O,tableSize:F,emptyBlockStyle:G,handleFixedMousewheel:H,resizeProxyVisible:j,bodyWidth:q,resizeState:ie,doLayout:Q,tableBodyStyles:Z,tableLayout:re,scrollbarViewStyle:ce,tableInnerStyle:te,scrollbarStyle:W}=lbe(e,a,o,s),{scrollBarRef:ee,scrollTo:J,setScrollLeft:pe,setScrollTop:Ee}=dbe(),he=or(Q,50),Ce=`${i.namespace.value}-table_${fbe++}`;s.tableId=Ce,s.state={isGroup:R,resizeState:ie,doLayout:Q,debouncedUpdateLayout:he};const Ge=D(()=>e.sumText||t("el.table.sumText")),Te=D(()=>e.emptyText||t("el.table.emptyText"));return cbe(s),{ns:i,layout:a,store:o,handleHeaderFooterMousewheel:O,handleMouseLeave:P,tableId:Ce,tableSize:F,isHidden:E,isEmpty:l,renderExpanded:C,resizeProxyVisible:j,resizeState:ie,isGroup:R,bodyWidth:q,tableBodyStyles:Z,emptyBlockStyle:G,debouncedUpdateLayout:he,handleFixedMousewheel:H,setCurrentRow:u,getSelectionRows:f,toggleRowSelection:p,clearSelection:g,clearFilter:v,toggleAllSelection:b,toggleRowExpansion:w,clearSort:M,doLayout:Q,sort:x,t,setDragVisible:k,context:s,computedSumText:Ge,computedEmptyText:Te,tableLayout:re,scrollbarViewStyle:ce,tableInnerStyle:te,scrollbarStyle:W,scrollBarRef:ee,scrollTo:J,setScrollLeft:pe,setScrollTop:Ee}}}),pbe=["data-prefix"],mbe={ref:"hiddenColumns",class:"hidden-columns"};function gbe(e,t,i,s,o,a){const l=cn("hColgroup"),u=cn("table-header"),f=cn("table-body"),p=cn("el-scrollbar"),g=cn("table-footer"),v=Id("mousewheel");return B(),ne("div",{ref:"tableWrapper",class:U([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:Wt(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:t[0]||(t[0]=(...b)=>e.handleMouseLeave&&e.handleMouseLeave(...b))},[ae("div",{class:U(e.ns.e("inner-wrapper")),style:Wt(e.tableInnerStyle)},[ae("div",mbe,[qe(e.$slots,"default")],512),e.showHeader&&e.tableLayout==="fixed"?gn((B(),ne("div",{key:0,ref:"headerWrapper",class:U(e.ns.e("header-wrapper"))},[ae("table",{ref:"tableHeader",class:U(e.ns.e("header")),style:Wt(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[fe(l,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),fe(u,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[v,e.handleHeaderFooterMousewheel]]):Oe("v-if",!0),ae("div",{ref:"bodyWrapper",class:U(e.ns.e("body-wrapper"))},[fe(p,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn},{default:ve(()=>[ae("table",{ref:"tableBody",class:U(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:Wt({width:e.bodyWidth,tableLayout:e.tableLayout})},[fe(l,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&e.tableLayout==="auto"?(B(),Be(u,{key:0,ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])):Oe("v-if",!0),fe(f,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"])],6),e.isEmpty?(B(),ne("div",{key:0,ref:"emptyBlock",style:Wt(e.emptyBlockStyle),class:U(e.ns.e("empty-block"))},[ae("span",{class:U(e.ns.e("empty-text"))},[qe(e.$slots,"empty",{},()=>[Nn(ft(e.computedEmptyText),1)])],2)],6)):Oe("v-if",!0),e.$slots.append?(B(),ne("div",{key:1,ref:"appendWrapper",class:U(e.ns.e("append-wrapper"))},[qe(e.$slots,"append")],2)):Oe("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),e.showSummary?gn((B(),ne("div",{key:1,ref:"footerWrapper",class:U(e.ns.e("footer-wrapper"))},[fe(g,{border:e.border,"default-sort":e.defaultSort,store:e.store,style:Wt(e.tableBodyStyles),"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","style","sum-text","summary-method"])],2)),[[oi,!e.isEmpty],[v,e.handleHeaderFooterMousewheel]]):Oe("v-if",!0),e.border||e.isGroup?(B(),ne("div",{key:2,class:U(e.ns.e("border-left-patch"))},null,2)):Oe("v-if",!0)],6),gn(ae("div",{ref:"resizeProxy",class:U(e.ns.e("column-resize-proxy"))},null,2),[[oi,e.resizeProxyVisible]])],46,pbe)}var vbe=ht(hbe,[["render",gbe],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue"]]);const ybe={selection:"table-column--selection",expand:"table__expand-column"},bbe={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},_be=e=>ybe[e]||"",wbe={selection:{renderHeader({store:e}){function t(){return e.states.data.value&&e.states.data.value.length===0}return Yt(ro,{disabled:t(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value})},renderCell({row:e,column:t,store:i,$index:s}){return Yt(ro,{disabled:t.selectable?!t.selectable.call(null,e,s):!1,size:i.states.tableSize.value,onChange:()=>{i.commit("rowSelectedChanged",e)},onClick:o=>o.stopPropagation(),modelValue:i.isSelected(e)})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:t}){let i=t+1;const s=e.index;return typeof s=="number"?i=t+s:typeof s=="function"&&(i=s(t)),Yt("div",{},[i])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({row:e,store:t,expanded:i}){const{ns:s}=t,o=[s.e("expand-icon")];return i&&o.push(s.em("expand-icon","expanded")),Yt("div",{class:o,onClick:function(l){l.stopPropagation(),t.toggleRowExpansion(e)}},{default:()=>[Yt(zt,null,{default:()=>[Yt(nr)]})]})},sortable:!1,resizable:!1}};function Sbe({row:e,column:t,$index:i}){var s;const o=t.property,a=o&&av(e,o).value;return t&&t.formatter?t.formatter(e,t,a,i):((s=a==null?void 0:a.toString)==null?void 0:s.call(a))||""}function xbe({row:e,treeNode:t,store:i},s=!1){const{ns:o}=i;if(!t)return s?[Yt("span",{class:o.e("placeholder")})]:null;const a=[],l=function(u){u.stopPropagation(),!t.loading&&i.loadOrToggle(e)};if(t.indent&&a.push(Yt("span",{class:o.e("indent"),style:{"padding-left":`${t.indent}px`}})),typeof t.expanded=="boolean"&&!t.noLazyChildren){const u=[o.e("expand-icon"),t.expanded?o.em("expand-icon","expanded"):""];let f=nr;t.loading&&(f=Wl),a.push(Yt("div",{class:u,onClick:l},{default:()=>[Yt(zt,{class:{[o.is("loading")]:t.loading}},{default:()=>[Yt(f)]})]}))}else a.push(Yt("span",{class:o.e("placeholder")}));return a}function WR(e,t){return e.reduce((i,s)=>(i[s]=s,i),t)}function Mbe(e,t){const i=Tn();return{registerComplexWatchers:()=>{const a=["fixed"],l={realWidth:"width",realMinWidth:"minWidth"},u=WR(a,l);Object.keys(u).forEach(f=>{const p=l[f];Gn(t,p)&&et(()=>t[p],g=>{let v=g;p==="width"&&f==="realWidth"&&(v=fx(g)),p==="minWidth"&&f==="realMinWidth"&&(v=dO(g)),i.columnConfig.value[p]=v,i.columnConfig.value[f]=v;const b=p==="fixed";e.value.store.scheduleLayout(b)})})},registerNormalWatchers:()=>{const a=["label","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],l={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},u=WR(a,l);Object.keys(u).forEach(f=>{const p=l[f];Gn(t,p)&&et(()=>t[p],g=>{i.columnConfig.value[f]=g})})}}}function Ebe(e,t,i){const s=Tn(),o=X(""),a=X(!1),l=X(),u=X(),f=nt("table");Dr(()=>{l.value=e.align?`is-${e.align}`:null,l.value}),Dr(()=>{u.value=e.headerAlign?`is-${e.headerAlign}`:l.value,u.value});const p=D(()=>{let P=s.vnode.vParent||s.parent;for(;P&&!P.tableId&&!P.columnId;)P=P.vnode.vParent||P.parent;return P}),g=D(()=>{const{store:P}=s.parent;if(!P)return!1;const{treeData:O}=P.states,F=O.value;return F&&Object.keys(F).length>0}),v=X(fx(e.width)),b=X(dO(e.minWidth)),w=P=>(v.value&&(P.width=v.value),b.value&&(P.minWidth=b.value),!v.value&&b.value&&(P.width=void 0),P.minWidth||(P.minWidth=80),P.realWidth=Number(P.width===void 0?P.minWidth:P.width),P),M=P=>{const O=P.type,F=wbe[O]||{};Object.keys(F).forEach(H=>{const j=F[H];H!=="className"&&j!==void 0&&(P[H]=j)});const G=_be(O);if(G){const H=`${h(f.namespace)}-${G}`;P.className=P.className?`${P.className} ${H}`:H}return P},x=P=>{Array.isArray(P)?P.forEach(F=>O(F)):O(P);function O(F){var G;((G=F==null?void 0:F.type)==null?void 0:G.name)==="ElTableColumn"&&(F.vParent=s)}};return{columnId:o,realAlign:l,isSubColumn:a,realHeaderAlign:u,columnOrTableParent:p,setColumnWidth:w,setColumnForcedProps:M,setColumnRenders:P=>{e.renderHeader||P.type!=="selection"&&(P.renderHeader=F=>{s.columnConfig.value.label;const G=t.header;return G?G(F):P.label});let O=P.renderCell;return P.type==="expand"?(P.renderCell=F=>Yt("div",{class:"cell"},[O(F)]),i.value.renderExpanded=F=>t.default?t.default(F):t.default):(O=O||Sbe,P.renderCell=F=>{let G=null;if(t.default){const Z=t.default(F);G=Z.some(re=>re.type!==tr)?Z:O(F)}else G=O(F);const{columns:H}=i.value.store.states,j=H.value.findIndex(Z=>Z.type==="default"),q=g.value&&F.cellIndex===j,ie=xbe(F,q),Q={class:"cell",style:{}};return P.showOverflowTooltip&&(Q.class=`${Q.class} ${h(f.namespace)}-tooltip`,Q.style={width:`${(F.column.realWidth||Number(F.column.width))-1}px`}),x(G),Yt("div",Q,[ie,G])}),P},getPropsData:(...P)=>P.reduce((O,F)=>(Array.isArray(F)&&F.forEach(G=>{O[G]=e[G]}),O),{}),getColumnElIndex:(P,O)=>Array.prototype.indexOf.call(P,O),updateColumnOrder:()=>{i.value.store.commit("updateColumnOrder",s.columnConfig.value)}}}var Cbe={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:[Boolean,Object],fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(t=>["ascending","descending",null].includes(t))}};let Tbe=1;var yO=_e({name:"ElTableColumn",components:{ElCheckbox:ro},props:Cbe,setup(e,{slots:t}){const i=Tn(),s=X({}),o=D(()=>{let R=i.parent;for(;R&&!R.tableId;)R=R.parent;return R}),{registerNormalWatchers:a,registerComplexWatchers:l}=Mbe(o,e),{columnId:u,isSubColumn:f,realHeaderAlign:p,columnOrTableParent:g,setColumnWidth:v,setColumnForcedProps:b,setColumnRenders:w,getPropsData:M,getColumnElIndex:x,realAlign:E,updateColumnOrder:C}=Ebe(e,t,o),k=g.value;u.value=`${k.tableId||k.columnId}_column_${Tbe++}`,u0(()=>{f.value=o.value!==k;const R=e.type||"default",P=e.sortable===""?!0:e.sortable,O={...bbe[R],id:u.value,type:R,property:e.prop||e.property,align:E,headerAlign:p,showOverflowTooltip:e.showOverflowTooltip,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:P,index:e.index,rawColumnKey:i.vnode.key};let q=M(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);q=Tye(O,q),q=Rye(w,v,b)(q),s.value=q,a(),l()}),_n(()=>{var R;const P=g.value,O=f.value?P.vnode.el.children:(R=P.refs.hiddenColumns)==null?void 0:R.children,F=()=>x(O||[],i.vnode.el);s.value.getColumnIndex=F,F()>-1&&o.value.store.commit("insertColumn",s.value,f.value?P.columnConfig.value:null,C)}),Di(()=>{o.value.store.commit("removeColumn",s.value,f.value?k.columnConfig.value:null,C)}),i.columnId=u.value,i.columnConfig=s},render(){var e,t,i;try{const s=(t=(e=this.$slots).default)==null?void 0:t.call(e,{row:{},column:{},$index:-1}),o=[];if(Array.isArray(s))for(const l of s)((i=l.type)==null?void 0:i.name)==="ElTableColumn"||l.shapeFlag&2?o.push(l):l.type===Ft&&Array.isArray(l.children)&&l.children.forEach(u=>{(u==null?void 0:u.patchFlag)!==1024&&!un(u==null?void 0:u.children)&&o.push(u)});return Yt("div",o)}catch{return Yt("div",[])}}});const Abe=Cn(vbe,{TableColumn:yO}),Rbe=Yi(yO);var gp=(e=>(e.ASC="asc",e.DESC="desc",e))(gp||{}),vp=(e=>(e.CENTER="center",e.RIGHT="right",e))(vp||{}),bO=(e=>(e.LEFT="left",e.RIGHT="right",e))(bO||{});const mw={asc:"desc",desc:"asc"},yp=Symbol("placeholder"),kbe=(e,t,i)=>{var s;const o={flexGrow:0,flexShrink:0,...i?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};i||(o.flexShrink=1);const a={...(s=e.style)!=null?s:{},...o,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(a.maxWidth=e.maxWidth),e.minWidth&&(a.minWidth=e.minWidth)),a};function Pbe(e,t,i){const s=D(()=>h(t).filter(x=>!x.hidden)),o=D(()=>h(s).filter(x=>x.fixed==="left"||x.fixed===!0)),a=D(()=>h(s).filter(x=>x.fixed==="right")),l=D(()=>h(s).filter(x=>!x.fixed)),u=D(()=>{const x=[];return h(o).forEach(E=>{x.push({...E,placeholderSign:yp})}),h(l).forEach(E=>{x.push(E)}),h(a).forEach(E=>{x.push({...E,placeholderSign:yp})}),x}),f=D(()=>h(o).length||h(a).length),p=D(()=>h(t).reduce((E,C)=>(E[C.key]=kbe(C,h(i),e.fixed),E),{})),g=D(()=>h(s).reduce((x,E)=>x+E.width,0)),v=x=>h(t).find(E=>E.key===x),b=x=>h(p)[x],w=(x,E)=>{x.width=E};function M(x){var E;const{key:C}=x.currentTarget.dataset;if(!C)return;const{sortState:k,sortBy:R}=e;let P=gp.ASC;Pn(k)?P=mw[k[C]]:P=mw[R.order],(E=e.onColumnSort)==null||E.call(e,{column:v(C),key:C,order:P})}return{columns:t,columnsStyles:p,columnsTotalWidth:g,fixedColumnsOnLeft:o,fixedColumnsOnRight:a,hasFixedColumns:f,mainColumns:u,normalColumns:l,visibleColumns:s,getColumn:v,getColumnStyle:b,updateColumnWidth:w,onColumnSorted:M}}const Ibe=(e,{mainTableRef:t,leftTableRef:i,rightTableRef:s,onMaybeEndReached:o})=>{const a=X({scrollLeft:0,scrollTop:0});function l(w){var M,x,E;const{scrollTop:C}=w;(M=t.value)==null||M.scrollTo(w),(x=i.value)==null||x.scrollToTop(C),(E=s.value)==null||E.scrollToTop(C)}function u(w){a.value=w,l(w)}function f(w){a.value.scrollTop=w,l(h(a))}function p(w){var M,x;a.value.scrollLeft=w,(x=(M=t.value)==null?void 0:M.scrollTo)==null||x.call(M,h(a))}function g(w){var M;u(w),(M=e.onScroll)==null||M.call(e,w)}function v({scrollTop:w}){const{scrollTop:M}=h(a);w!==M&&f(w)}function b(w,M="auto"){var x;(x=t.value)==null||x.scrollToRow(w,M)}return et(()=>h(a).scrollTop,(w,M)=>{w>M&&o()}),{scrollPos:a,scrollTo:u,scrollToLeft:p,scrollToTop:f,scrollToRow:b,onScroll:g,onVerticalScroll:v}},Lbe=(e,{mainTableRef:t,leftTableRef:i,rightTableRef:s})=>{const o=Tn(),{emit:a}=o,l=ki(!1),u=ki(null),f=X(e.defaultExpandedRowKeys||[]),p=X(-1),g=ki(null),v=X({}),b=X({}),w=ki({}),M=ki({}),x=ki({}),E=D(()=>on(e.estimatedRowHeight));function C(H){var j;(j=e.onRowsRendered)==null||j.call(e,H),H.rowCacheEnd>h(p)&&(p.value=H.rowCacheEnd)}function k({hovered:H,rowKey:j}){u.value=H?j:null}function R({expanded:H,rowData:j,rowIndex:q,rowKey:ie}){var Q,Z;const re=[...h(f)],ce=re.indexOf(ie);H?ce===-1&&re.push(ie):ce>-1&&re.splice(ce,1),f.value=re,a("update:expandedRowKeys",re),(Q=e.onRowExpand)==null||Q.call(e,{expanded:H,rowData:j,rowIndex:q,rowKey:ie}),(Z=e.onExpandedRowsChange)==null||Z.call(e,re)}const P=or(()=>{var H,j,q,ie;l.value=!0,v.value={...h(v),...h(b)},O(h(g),!1),b.value={},g.value=null,(H=t.value)==null||H.forceUpdate(),(j=i.value)==null||j.forceUpdate(),(q=s.value)==null||q.forceUpdate(),(ie=o.proxy)==null||ie.$forceUpdate(),l.value=!1},0);function O(H,j=!1){h(E)&&[t,i,s].forEach(q=>{const ie=h(q);ie&&ie.resetAfterRowIndex(H,j)})}function F(H,j,q){const ie=h(g);(ie===null||ie>q)&&(g.value=q),b.value[H]=j}function G({rowKey:H,height:j,rowIndex:q},ie){ie?ie===bO.RIGHT?x.value[H]=j:w.value[H]=j:M.value[H]=j;const Q=Math.max(...[w,x,M].map(Z=>Z.value[H]||0));h(v)[H]!==Q&&(F(H,Q,q),P())}return{hoveringRowKey:u,expandedRowKeys:f,lastRenderedRowIndex:p,isDynamic:E,isResetting:l,rowHeights:v,resetAfterIndex:O,onRowExpanded:R,onRowHovered:k,onRowsRendered:C,onRowHeightChange:G}},Nbe=(e,{expandedRowKeys:t,lastRenderedRowIndex:i,resetAfterIndex:s})=>{const o=X({}),a=D(()=>{const u={},{data:f,rowKey:p}=e,g=h(t);if(!g||!g.length)return f;const v=[],b=new Set;g.forEach(M=>b.add(M));let w=f.slice();for(w.forEach(M=>u[M[p]]=0);w.length>0;){const M=w.shift();v.push(M),b.has(M[p])&&Array.isArray(M.children)&&M.children.length>0&&(w=[...M.children,...w],M.children.forEach(x=>u[x[p]]=u[M[p]]+1))}return o.value=u,v}),l=D(()=>{const{data:u,expandColumnKey:f}=e;return f?h(a):u});return et(l,(u,f)=>{u!==f&&(i.value=-1,s(0,!0))}),{data:l,depthMap:o}},Obe=(e,t)=>e+t,Sv=e=>Nt(e)?e.reduce(Obe,0):e,eu=(e,t,i={})=>an(e)?e(t):e??i,Al=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=es(e[t])}),e),_O=e=>Hi(e)?t=>Yt(e,t):e,Dbe=(e,{columnsTotalWidth:t,data:i,fixedColumnsOnLeft:s,fixedColumnsOnRight:o})=>{const a=D(()=>{const{fixed:R,width:P,vScrollbarSize:O}=e,F=P-O;return R?Math.max(Math.round(h(t)),F):F}),l=D(()=>h(a)+(e.fixed?e.vScrollbarSize:0)),u=D(()=>{const{height:R=0,maxHeight:P=0,footerHeight:O,hScrollbarSize:F}=e;if(P>0){const G=h(M),H=h(f),q=h(w)+G+H+F;return Math.min(q,P-O)}return R-O}),f=D(()=>{const{rowHeight:R,estimatedRowHeight:P}=e,O=h(i);return on(P)?O.length*P:O.length*R}),p=D(()=>{const{maxHeight:R}=e,P=h(u);if(on(R)&&R>0)return P;const O=h(f)+h(w)+h(M);return Math.min(P,O)}),g=R=>R.width,v=D(()=>Sv(h(s).map(g))),b=D(()=>Sv(h(o).map(g))),w=D(()=>Sv(e.headerHeight)),M=D(()=>{var R;return(((R=e.fixedData)==null?void 0:R.length)||0)*e.rowHeight}),x=D(()=>h(u)-h(w)-h(M)),E=D(()=>{const{style:R={},height:P,width:O}=e;return Al({...R,height:P,width:O})}),C=D(()=>Al({height:e.footerHeight})),k=D(()=>({top:es(h(w)),bottom:es(e.footerHeight),width:es(e.width)}));return{bodyWidth:a,fixedTableHeight:p,mainTableHeight:u,leftTableWidth:v,rightTableWidth:b,headerWidth:l,rowsHeight:f,windowHeight:x,footerHeight:C,emptyStyle:k,rootStyle:E,headerHeight:w}},Fbe=e=>{const t=X(),i=X(0),s=X(0);let o;return _n(()=>{o=Gs(t,([a])=>{const{width:l,height:u}=a.contentRect,{paddingLeft:f,paddingRight:p,paddingTop:g,paddingBottom:v}=getComputedStyle(a.target),b=Number.parseInt(f)||0,w=Number.parseInt(p)||0,M=Number.parseInt(g)||0,x=Number.parseInt(v)||0;i.value=l-b-w,s.value=u-M-x}).stop}),Di(()=>{o==null||o()}),et([i,s],([a,l])=>{var u;(u=e.onResize)==null||u.call(e,{width:a,height:l})}),{sizer:t,width:i,height:s}};function Bbe(e){const t=X(),i=X(),s=X(),{columns:o,columnsStyles:a,columnsTotalWidth:l,fixedColumnsOnLeft:u,fixedColumnsOnRight:f,hasFixedColumns:p,mainColumns:g,onColumnSorted:v}=Pbe(e,Oi(e,"columns"),Oi(e,"fixed")),{scrollTo:b,scrollToLeft:w,scrollToTop:M,scrollToRow:x,onScroll:E,onVerticalScroll:C,scrollPos:k}=Ibe(e,{mainTableRef:t,leftTableRef:i,rightTableRef:s,onMaybeEndReached:ue}),{expandedRowKeys:R,hoveringRowKey:P,lastRenderedRowIndex:O,isDynamic:F,isResetting:G,rowHeights:H,resetAfterIndex:j,onRowExpanded:q,onRowHeightChange:ie,onRowHovered:Q,onRowsRendered:Z}=Lbe(e,{mainTableRef:t,leftTableRef:i,rightTableRef:s}),{data:re,depthMap:ce}=Nbe(e,{expandedRowKeys:R,lastRenderedRowIndex:O,resetAfterIndex:j}),{bodyWidth:te,fixedTableHeight:W,mainTableHeight:ee,leftTableWidth:J,rightTableWidth:pe,headerWidth:Ee,rowsHeight:he,windowHeight:Ce,footerHeight:Ge,emptyStyle:Te,rootStyle:xe,headerHeight:Ie}=Dbe(e,{columnsTotalWidth:l,data:re,fixedColumnsOnLeft:u,fixedColumnsOnRight:f}),ge=ki(!1),Le=X(),Ue=D(()=>{const we=h(re).length===0;return Nt(e.fixedData)?e.fixedData.length===0&&we:we});function ut(we){const{estimatedRowHeight:Ve,rowHeight:Ye,rowKey:lt}=e;return Ve?h(H)[h(re)[we][lt]]||Ve:Ye}function ue(){const{onEndReached:we}=e;if(!we)return;const{scrollTop:Ve}=h(k),Ye=h(he),lt=h(Ce),He=Ye-(Ve+lt)+e.hScrollbarSize;h(O)>=0&&Ye===Ve+h(ee)-h(Ie)&&we(He)}return et(()=>e.expandedRowKeys,we=>R.value=we,{deep:!0}),{columns:o,containerRef:Le,mainTableRef:t,leftTableRef:i,rightTableRef:s,isDynamic:F,isResetting:G,isScrolling:ge,hoveringRowKey:P,hasFixedColumns:p,columnsStyles:a,columnsTotalWidth:l,data:re,expandedRowKeys:R,depthMap:ce,fixedColumnsOnLeft:u,fixedColumnsOnRight:f,mainColumns:g,bodyWidth:te,emptyStyle:Te,rootStyle:xe,headerWidth:Ee,footerHeight:Ge,mainTableHeight:ee,fixedTableHeight:W,leftTableWidth:J,rightTableWidth:pe,showEmpty:Ue,getRowHeight:ut,onColumnSorted:v,onRowHovered:Q,onRowExpanded:q,onRowsRendered:Z,onRowHeightChange:ie,scrollTo:b,scrollToLeft:w,scrollToTop:M,scrollToRow:x,onScroll:E,onVerticalScroll:C}}const gx=Symbol("tableV2"),wO=String,zp={type:De(Array),required:!0},vx={type:De(Array)},SO={...vx,required:!0},zbe=String,GR={type:De(Array),default:()=>Ui([])},Ic={type:Number,required:!0},xO={type:De([String,Number,Symbol]),default:"id"},KR={type:De(Object)},zc=pt({class:String,columns:zp,columnsStyles:{type:De(Object),required:!0},depth:Number,expandColumnKey:zbe,estimatedRowHeight:{...Kc.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:De(Function)},onRowHover:{type:De(Function)},onRowHeightChange:{type:De(Function)},rowData:{type:De(Object),required:!0},rowEventHandlers:{type:De(Object)},rowIndex:{type:Number,required:!0},rowKey:xO,style:{type:De(Object)}}),X_={type:Number,required:!0},yx=pt({class:String,columns:zp,fixedHeaderData:{type:De(Array)},headerData:{type:De(Array),required:!0},headerHeight:{type:De([Number,Array]),default:50},rowWidth:X_,rowHeight:{type:Number,default:50},height:X_,width:X_}),xv=pt({columns:zp,data:SO,fixedData:vx,estimatedRowHeight:zc.estimatedRowHeight,width:Ic,height:Ic,headerWidth:Ic,headerHeight:yx.headerHeight,bodyWidth:Ic,rowHeight:Ic,cache:qN.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:Kc.scrollbarAlwaysOn,scrollbarStartGap:Kc.scrollbarStartGap,scrollbarEndGap:Kc.scrollbarEndGap,class:wO,style:KR,containerStyle:KR,getRowHeight:{type:De(Function),required:!0},rowKey:zc.rowKey,onRowsRendered:{type:De(Function)},onScroll:{type:De(Function)}}),$be=pt({cache:xv.cache,estimatedRowHeight:zc.estimatedRowHeight,rowKey:xO,headerClass:{type:De([String,Function])},headerProps:{type:De([Object,Function])},headerCellProps:{type:De([Object,Function])},headerHeight:yx.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:De([String,Function])},rowProps:{type:De([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:De([Object,Function])},columns:zp,data:SO,dataGetter:{type:De(Function)},fixedData:vx,expandColumnKey:zc.expandColumnKey,expandedRowKeys:GR,defaultExpandedRowKeys:GR,class:wO,fixed:Boolean,style:{type:De(Object)},width:Ic,height:Ic,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:Kc.hScrollbarSize,vScrollbarSize:Kc.vScrollbarSize,scrollbarAlwaysOn:YN.alwaysOn,sortBy:{type:De(Object),default:()=>({})},sortState:{type:De(Object),default:void 0},onColumnSort:{type:De(Function)},onExpandedRowsChange:{type:De(Function)},onEndReached:{type:De(Function)},onRowExpand:zc.onRowExpand,onScroll:xv.onScroll,onRowsRendered:xv.onRowsRendered,rowEventHandlers:zc.rowEventHandlers}),bx=(e,{slots:t})=>{var i;const{cellData:s,style:o}=e,a=((i=s==null?void 0:s.toString)==null?void 0:i.call(s))||"";return fe("div",{class:e.class,title:a,style:o},[t.default?t.default(e):a])};bx.displayName="ElTableV2Cell";bx.inheritAttrs=!1;const _x=(e,{slots:t})=>{var i,s;return t.default?t.default(e):fe("div",{class:e.class,title:(i=e.column)==null?void 0:i.title},[(s=e.column)==null?void 0:s.title])};_x.displayName="ElTableV2HeaderCell";_x.inheritAttrs=!1;const Ube=pt({class:String,columns:zp,columnsStyles:{type:De(Object),required:!0},headerIndex:Number,style:{type:De(Object)}}),Vbe=_e({name:"ElTableV2HeaderRow",props:Ube,setup(e,{slots:t}){return()=>{const{columns:i,columnsStyles:s,headerIndex:o,style:a}=e;let l=i.map((u,f)=>t.cell({columns:i,column:u,columnIndex:f,headerIndex:o,style:s[u.key]}));return t.header&&(l=t.header({cells:l.map(u=>Nt(u)&&u.length===1?u[0]:u),columns:i,headerIndex:o})),fe("div",{class:e.class,style:a,role:"row"},[l])}}}),Hbe="ElTableV2Header",Wbe=_e({name:Hbe,props:yx,setup(e,{slots:t,expose:i}){const s=nt("table-v2"),o=X(),a=D(()=>Al({width:e.width,height:e.height})),l=D(()=>Al({width:e.rowWidth,height:e.height})),u=D(()=>Vd(h(e.headerHeight))),f=v=>{const b=h(o);Bt(()=>{b!=null&&b.scroll&&b.scroll({left:v})})},p=()=>{const v=s.e("fixed-header-row"),{columns:b,fixedHeaderData:w,rowHeight:M}=e;return w==null?void 0:w.map((x,E)=>{var C;const k=Al({height:M,width:"100%"});return(C=t.fixed)==null?void 0:C.call(t,{class:v,columns:b,rowData:x,rowIndex:-(E+1),style:k})})},g=()=>{const v=s.e("dynamic-header-row"),{columns:b}=e;return h(u).map((w,M)=>{var x;const E=Al({width:"100%",height:w});return(x=t.dynamic)==null?void 0:x.call(t,{class:v,columns:b,headerIndex:M,style:E})})};return i({scrollToLeft:f}),()=>{if(!(e.height<=0))return fe("div",{ref:o,class:e.class,style:h(a),role:"rowgroup"},[fe("div",{style:h(l),class:s.e("header")},[g(),p()])])}}}),Gbe=e=>{const{isScrolling:t}=Lt(gx),i=X(!1),s=X(),o=D(()=>on(e.estimatedRowHeight)&&e.rowIndex>=0),a=(f=!1)=>{const p=h(s);if(!p)return;const{columns:g,onRowHeightChange:v,rowKey:b,rowIndex:w,style:M}=e,{height:x}=p.getBoundingClientRect();i.value=!0,Bt(()=>{if(f||x!==Number.parseInt(M.height)){const E=g[0],C=(E==null?void 0:E.placeholderSign)===yp;v==null||v({rowKey:b,height:x,rowIndex:w},E&&!C&&E.fixed)}})},l=D(()=>{const{rowData:f,rowIndex:p,rowKey:g,onRowHover:v}=e,b=e.rowEventHandlers||{},w={};return Object.entries(b).forEach(([M,x])=>{an(x)&&(w[M]=E=>{x({event:E,rowData:f,rowIndex:p,rowKey:g})})}),v&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:M,hovered:x})=>{const E=w[M];w[M]=C=>{v({event:C,hovered:x,rowData:f,rowIndex:p,rowKey:g}),E==null||E(C)}}),w}),u=f=>{const{onRowExpand:p,rowData:g,rowIndex:v,rowKey:b}=e;p==null||p({expanded:f,rowData:g,rowIndex:v,rowKey:b})};return _n(()=>{h(o)&&a(!0)}),{isScrolling:t,measurable:o,measured:i,rowRef:s,eventHandlers:l,onExpand:u}},Kbe="ElTableV2TableRow",qbe=_e({name:Kbe,props:zc,setup(e,{expose:t,slots:i,attrs:s}){const{eventHandlers:o,isScrolling:a,measurable:l,measured:u,rowRef:f,onExpand:p}=Gbe(e);return t({onExpand:p}),()=>{const{columns:g,columnsStyles:v,expandColumnKey:b,depth:w,rowData:M,rowIndex:x,style:E}=e;let C=g.map((k,R)=>{const P=Nt(M.children)&&M.children.length>0&&k.key===b;return i.cell({column:k,columns:g,columnIndex:R,depth:w,style:v[k.key],rowData:M,rowIndex:x,isScrolling:h(a),expandIconProps:P?{rowData:M,rowIndex:x,onExpand:p}:void 0})});if(i.row&&(C=i.row({cells:C.map(k=>Nt(k)&&k.length===1?k[0]:k),style:E,columns:g,depth:w,rowData:M,rowIndex:x,isScrolling:h(a)})),h(l)){const{height:k,...R}=E||{},P=h(u);return fe("div",kn({ref:f,class:e.class,style:P?E:R,role:"row"},s,h(o)),[C])}return fe("div",kn(s,{ref:f,class:e.class,style:E,role:"row"},h(o)),[C])}}}),jbe=e=>{const{sortOrder:t}=e;return fe(zt,{size:14,class:e.class},{default:()=>[t===gp.ASC?fe(gee,null,null):fe(uee,null,null)]})},Xbe=e=>{const{expanded:t,expandable:i,onExpand:s,style:o,size:a}=e,l={onClick:i?()=>s(!t):void 0,class:e.class};return fe(zt,kn(l,{size:a,style:o}),{default:()=>[fe(nr,null,null)]})},Ybe="ElTableV2Grid",Zbe=e=>{const t=X(),i=X(),s=D(()=>{const{data:x,rowHeight:E,estimatedRowHeight:C}=e;if(!C)return x.length*E}),o=D(()=>{const{fixedData:x,rowHeight:E}=e;return((x==null?void 0:x.length)||0)*E}),a=D(()=>Sv(e.headerHeight)),l=D(()=>{const{height:x}=e;return Math.max(0,x-h(a)-h(o))}),u=D(()=>h(a)+h(o)>0),f=({data:x,rowIndex:E})=>x[E][e.rowKey];function p({rowCacheStart:x,rowCacheEnd:E,rowVisibleStart:C,rowVisibleEnd:k}){var R;(R=e.onRowsRendered)==null||R.call(e,{rowCacheStart:x,rowCacheEnd:E,rowVisibleStart:C,rowVisibleEnd:k})}function g(x,E){var C;(C=i.value)==null||C.resetAfterRowIndex(x,E)}function v(x,E){const C=h(t),k=h(i);!C||!k||(Pn(x)?(C.scrollToLeft(x.scrollLeft),k.scrollTo(x)):(C.scrollToLeft(x),k.scrollTo({scrollLeft:x,scrollTop:E})))}function b(x){var E;(E=h(i))==null||E.scrollTo({scrollTop:x})}function w(x,E){var C;(C=h(i))==null||C.scrollToItem(x,1,E)}function M(){var x,E;(x=h(i))==null||x.$forceUpdate(),(E=h(t))==null||E.$forceUpdate()}return{bodyRef:i,forceUpdate:M,fixedRowHeight:o,gridHeight:l,hasHeader:u,headerHeight:a,headerRef:t,totalHeight:s,itemKey:f,onItemRendered:p,resetAfterRowIndex:g,scrollTo:v,scrollToTop:b,scrollToRow:w}},wx=_e({name:Ybe,props:xv,setup(e,{slots:t,expose:i}){const{ns:s}=Lt(gx),{bodyRef:o,fixedRowHeight:a,gridHeight:l,hasHeader:u,headerRef:f,headerHeight:p,totalHeight:g,forceUpdate:v,itemKey:b,onItemRendered:w,resetAfterRowIndex:M,scrollTo:x,scrollToTop:E,scrollToRow:C}=Zbe(e);i({forceUpdate:v,totalHeight:g,scrollTo:x,scrollToTop:E,scrollToRow:C,resetAfterRowIndex:M});const k=()=>e.bodyWidth;return()=>{const{cache:R,columns:P,data:O,fixedData:F,useIsScrolling:G,scrollbarAlwaysOn:H,scrollbarEndGap:j,scrollbarStartGap:q,style:ie,rowHeight:Q,bodyWidth:Z,estimatedRowHeight:re,headerWidth:ce,height:te,width:W,getRowHeight:ee,onScroll:J}=e,pe=on(re),Ee=pe?Tve:xve,he=h(p);return fe("div",{role:"table",class:[s.e("table"),e.class],style:ie},[fe(Ee,{ref:o,data:O,useIsScrolling:G,itemKey:b,columnCache:0,columnWidth:pe?k:Z,totalColumn:1,totalRow:O.length,rowCache:R,rowHeight:pe?ee:Q,width:W,height:h(l),class:s.e("body"),role:"rowgroup",scrollbarStartGap:q,scrollbarEndGap:j,scrollbarAlwaysOn:H,onScroll:J,onItemRendered:w,perfMode:!1},{default:Ce=>{var Ge;const Te=O[Ce.rowIndex];return(Ge=t.row)==null?void 0:Ge.call(t,{...Ce,columns:P,rowData:Te})}}),h(u)&&fe(Wbe,{ref:f,class:s.e("header-wrapper"),columns:P,headerData:O,headerHeight:e.headerHeight,fixedHeaderData:F,rowWidth:ce,rowHeight:Q,width:W,height:Math.min(he+h(a),te)},{dynamic:t.header,fixed:t.row})])}}});function Jbe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Hi(e)}const Qbe=(e,{slots:t})=>{const{mainTableRef:i,...s}=e;return fe(wx,kn({ref:i},s),Jbe(t)?t:{default:()=>[t]})};function e_e(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Hi(e)}const t_e=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:i,...s}=e;return fe(wx,kn({ref:i},s),e_e(t)?t:{default:()=>[t]})};function n_e(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Hi(e)}const i_e=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:i,...s}=e;return fe(wx,kn({ref:i},s),n_e(t)?t:{default:()=>[t]})};function s_e(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Hi(e)}const r_e=(e,{slots:t})=>{const{columns:i,columnsStyles:s,depthMap:o,expandColumnKey:a,expandedRowKeys:l,estimatedRowHeight:u,hasFixedColumns:f,hoveringRowKey:p,rowData:g,rowIndex:v,style:b,isScrolling:w,rowProps:M,rowClass:x,rowKey:E,rowEventHandlers:C,ns:k,onRowHovered:R,onRowExpanded:P}=e,O=eu(x,{columns:i,rowData:g,rowIndex:v},""),F=eu(M,{columns:i,rowData:g,rowIndex:v}),G=g[E],H=o[G]||0,j=!!a,q=v<0,ie=[k.e("row"),O,{[k.e(`row-depth-${H}`)]:j&&v>=0,[k.is("expanded")]:j&&l.includes(G),[k.is("hovered")]:!w&&G===p,[k.is("fixed")]:!H&&q,[k.is("customized")]:!!t.row}],Q=f?R:void 0,Z={...F,columns:i,columnsStyles:s,class:ie,depth:H,expandColumnKey:a,estimatedRowHeight:q?void 0:u,isScrolling:w,rowIndex:v,rowData:g,rowKey:G,rowEventHandlers:C,style:b};return fe(qbe,kn(Z,{onRowHover:Q,onRowExpand:P}),s_e(t)?t:{default:()=>[t]})},gw=({columns:e,column:t,columnIndex:i,depth:s,expandIconProps:o,isScrolling:a,rowData:l,rowIndex:u,style:f,expandedRowKeys:p,ns:g,cellProps:v,expandColumnKey:b,indentSize:w,iconSize:M,rowKey:x},{slots:E})=>{const C=Al(f);if(t.placeholderSign===yp)return fe("div",{class:g.em("row-cell","placeholder"),style:C},null);const{cellRenderer:k,dataKey:R,dataGetter:P}=t,F=_O(k)||E.default||(te=>fe(bx,te,null)),G=an(P)?P({columns:e,column:t,columnIndex:i,rowData:l,rowIndex:u}):$i(l,R??""),H=eu(v,{cellData:G,columns:e,column:t,columnIndex:i,rowIndex:u,rowData:l}),j={class:g.e("cell-text"),columns:e,column:t,columnIndex:i,cellData:G,isScrolling:a,rowData:l,rowIndex:u},q=F(j),ie=[g.e("row-cell"),t.class,t.align===vp.CENTER&&g.is("align-center"),t.align===vp.RIGHT&&g.is("align-right")],Q=u>=0&&t.key===b,Z=u>=0&&p.includes(l[x]);let re;const ce=`margin-inline-start: ${s*w}px;`;return Q&&(Pn(o)?re=fe(Xbe,kn(o,{class:[g.e("expand-icon"),g.is("expanded",Z)],size:M,expanded:Z,style:ce,expandable:!0}),null):re=fe("div",{style:[ce,`width: ${M}px; height: ${M}px;`].join(" ")},null)),fe("div",kn({class:ie,style:C},H,{role:"cell"}),[re,q])};gw.inheritAttrs=!1;function o_e(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Hi(e)}const a_e=({columns:e,columnsStyles:t,headerIndex:i,style:s,headerClass:o,headerProps:a,ns:l},{slots:u})=>{const f={columns:e,headerIndex:i},p=[l.e("header-row"),eu(o,f,""),{[l.is("customized")]:!!u.header}],g={...eu(a,f),columnsStyles:t,class:p,columns:e,headerIndex:i,style:s};return fe(Vbe,g,o_e(u)?u:{default:()=>[u]})},qR=(e,{slots:t})=>{const{column:i,ns:s,style:o,onColumnSorted:a}=e,l=Al(o);if(i.placeholderSign===yp)return fe("div",{class:s.em("header-row-cell","placeholder"),style:l},null);const{headerCellRenderer:u,headerClass:f,sortable:p}=i,g={...e,class:s.e("header-cell-text")},b=(_O(u)||t.default||(P=>fe(_x,P,null)))(g),{sortBy:w,sortState:M,headerCellProps:x}=e;let E,C;if(M){const P=M[i.key];E=!!mw[P],C=E?P:gp.ASC}else E=i.key===w.key,C=E?w.order:gp.ASC;const k=[s.e("header-cell"),eu(f,e,""),i.align===vp.CENTER&&s.is("align-center"),i.align===vp.RIGHT&&s.is("align-right"),p&&s.is("sortable")],R={...eu(x,e),onClick:i.sortable?a:void 0,class:k,style:l,["data-key"]:i.key};return fe("div",kn(R,{role:"columnheader"}),[b,p&&fe(jbe,{class:[s.e("sort-icon"),E&&s.is("sorting")],sortOrder:C},null)])},MO=(e,{slots:t})=>{var i;return fe("div",{class:e.class,style:e.style},[(i=t.default)==null?void 0:i.call(t)])};MO.displayName="ElTableV2Footer";const EO=(e,{slots:t})=>fe("div",{class:e.class,style:e.style},[t.default?t.default():fe(IN,null,null)]);EO.displayName="ElTableV2Empty";const CO=(e,{slots:t})=>{var i;return fe("div",{class:e.class,style:e.style},[(i=t.default)==null?void 0:i.call(t)])};CO.displayName="ElTableV2Overlay";function yh(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Hi(e)}const l_e="ElTableV2",c_e=_e({name:l_e,props:$be,setup(e,{slots:t,expose:i}){const s=nt("table-v2"),{columnsStyles:o,fixedColumnsOnLeft:a,fixedColumnsOnRight:l,mainColumns:u,mainTableHeight:f,fixedTableHeight:p,leftTableWidth:g,rightTableWidth:v,data:b,depthMap:w,expandedRowKeys:M,hasFixedColumns:x,hoveringRowKey:E,mainTableRef:C,leftTableRef:k,rightTableRef:R,isDynamic:P,isResetting:O,isScrolling:F,bodyWidth:G,emptyStyle:H,rootStyle:j,headerWidth:q,footerHeight:ie,showEmpty:Q,scrollTo:Z,scrollToLeft:re,scrollToTop:ce,scrollToRow:te,getRowHeight:W,onColumnSorted:ee,onRowHeightChange:J,onRowHovered:pe,onRowExpanded:Ee,onRowsRendered:he,onScroll:Ce,onVerticalScroll:Ge}=Bbe(e);return i({scrollTo:Z,scrollToLeft:re,scrollToTop:ce,scrollToRow:te}),On(gx,{ns:s,isResetting:O,hoveringRowKey:E,isScrolling:F}),()=>{const{cache:Te,cellProps:xe,estimatedRowHeight:Ie,expandColumnKey:ge,fixedData:Le,headerHeight:Ue,headerClass:ut,headerProps:ue,headerCellProps:we,sortBy:Ve,sortState:Ye,rowHeight:lt,rowClass:He,rowEventHandlers:ct,rowKey:Qe,rowProps:rt,scrollbarAlwaysOn:Je,indentSize:Mt,iconSize:yt,useIsScrolling:We,vScrollbarSize:_t,width:Ut}=e,fn=h(b),Pe={cache:Te,class:s.e("main"),columns:h(u),data:fn,fixedData:Le,estimatedRowHeight:Ie,bodyWidth:h(G),headerHeight:Ue,headerWidth:h(q),height:h(f),mainTableRef:C,rowKey:Qe,rowHeight:lt,scrollbarAlwaysOn:Je,scrollbarStartGap:2,scrollbarEndGap:_t,useIsScrolling:We,width:Ut,getRowHeight:W,onRowsRendered:he,onScroll:Ce},$e=h(g),tt=h(p),Fe={cache:Te,class:s.e("left"),columns:h(a),data:fn,estimatedRowHeight:Ie,leftTableRef:k,rowHeight:lt,bodyWidth:$e,headerWidth:$e,headerHeight:Ue,height:tt,rowKey:Qe,scrollbarAlwaysOn:Je,scrollbarStartGap:2,scrollbarEndGap:_t,useIsScrolling:We,width:$e,getRowHeight:W,onScroll:Ge},Se=h(v)+_t,it={cache:Te,class:s.e("right"),columns:h(l),data:fn,estimatedRowHeight:Ie,rightTableRef:R,rowHeight:lt,bodyWidth:Se,headerWidth:Se,headerHeight:Ue,height:tt,rowKey:Qe,scrollbarAlwaysOn:Je,scrollbarStartGap:2,scrollbarEndGap:_t,width:Se,style:`--${h(s.namespace)}-table-scrollbar-size: ${_t}px`,useIsScrolling:We,getRowHeight:W,onScroll:Ge},vt=h(o),tn={ns:s,depthMap:h(w),columnsStyles:vt,expandColumnKey:ge,expandedRowKeys:h(M),estimatedRowHeight:Ie,hasFixedColumns:h(x),hoveringRowKey:h(E),rowProps:rt,rowClass:He,rowKey:Qe,rowEventHandlers:ct,onRowHovered:pe,onRowExpanded:Ee,onRowHeightChange:J},Xe={cellProps:xe,expandColumnKey:ge,indentSize:Mt,iconSize:yt,rowKey:Qe,expandedRowKeys:h(M),ns:s},Ct={ns:s,headerClass:ut,headerProps:ue,columnsStyles:vt},bn={ns:s,sortBy:Ve,sortState:Ye,headerCellProps:we,onColumnSorted:ee},wn={row:Fi=>fe(r_e,kn(Fi,tn),{row:t.row,cell:st=>{let Kt;return t.cell?fe(gw,kn(st,Xe,{style:vt[st.column.key]}),yh(Kt=t.cell(st))?Kt:{default:()=>[Kt]}):fe(gw,kn(st,Xe,{style:vt[st.column.key]}),null)}}),header:Fi=>fe(a_e,kn(Fi,Ct),{header:t.header,cell:st=>{let Kt;return t["header-cell"]?fe(qR,kn(st,bn,{style:vt[st.column.key]}),yh(Kt=t["header-cell"](st))?Kt:{default:()=>[Kt]}):fe(qR,kn(st,bn,{style:vt[st.column.key]}),null)}})},Dn=[e.class,s.b(),s.e("root"),{[s.is("dynamic")]:h(P)}],ui={class:s.e("footer"),style:h(ie)};return fe("div",{class:Dn,style:h(j)},[fe(Qbe,Pe,yh(wn)?wn:{default:()=>[wn]}),fe(t_e,Fe,yh(wn)?wn:{default:()=>[wn]}),fe(i_e,it,yh(wn)?wn:{default:()=>[wn]}),t.footer&&fe(MO,ui,{default:t.footer}),h(Q)&&fe(EO,{class:s.e("empty"),style:h(H)},{default:t.empty}),t.overlay&&fe(CO,{class:s.e("overlay")},{default:t.overlay})])}}}),u_e=pt({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:De(Function)}}),d_e=_e({name:"ElAutoResizer",props:u_e,setup(e,{slots:t}){const i=nt("auto-resizer"),{height:s,width:o,sizer:a}=Fbe(e),l={width:"100%",height:"100%"};return()=>{var u;return fe("div",{ref:a,class:i.b(),style:l},[(u=t.default)==null?void 0:u.call(t,{height:s.value,width:o.value})])}}}),f_e=Cn(c_e),h_e=Cn(d_e),X0=Symbol("tabsRootContextKey"),p_e=pt({tabs:{type:De(Array),default:()=>Ui([])}}),TO="ElTabBar",m_e=_e({name:TO}),g_e=_e({...m_e,props:p_e,setup(e,{expose:t}){const i=e,s=Tn(),o=Lt(X0);o||vs(TO,"<el-tabs><el-tab-bar /></el-tabs>");const a=nt("tabs"),l=X(),u=X(),f=()=>{let g=0,v=0;const b=["top","bottom"].includes(o.props.tabPosition)?"width":"height",w=b==="width"?"x":"y",M=w==="x"?"left":"top";return i.tabs.every(x=>{var E,C;const k=(C=(E=s.parent)==null?void 0:E.refs)==null?void 0:C[`tab-${x.uid}`];if(!k)return!1;if(!x.active)return!0;g=k[`offset${Xo(M)}`],v=k[`client${Xo(b)}`];const R=window.getComputedStyle(k);return b==="width"&&(i.tabs.length>1&&(v-=Number.parseFloat(R.paddingLeft)+Number.parseFloat(R.paddingRight)),g+=Number.parseFloat(R.paddingLeft)),!1}),{[b]:`${v}px`,transform:`translate${Xo(w)}(${g}px)`}},p=()=>u.value=f();return et(()=>i.tabs,async()=>{await Bt(),p()},{immediate:!0}),Gs(l,()=>p()),t({ref:l,update:p}),(g,v)=>(B(),ne("div",{ref_key:"barRef",ref:l,class:U([h(a).e("active-bar"),h(a).is(h(o).props.tabPosition)]),style:Wt(u.value)},null,6))}});var v_e=ht(g_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const y_e=pt({panes:{type:De(Array),default:()=>Ui([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),b_e={tabClick:(e,t,i)=>i instanceof Event,tabRemove:(e,t)=>t instanceof Event},jR="ElTabNav",__e=_e({name:jR,props:y_e,emits:b_e,setup(e,{expose:t,emit:i}){const s=Tn(),o=Lt(X0);o||vs(jR,"<el-tabs><tab-nav /></el-tabs>");const a=nt("tabs"),l=jG(),u=s9(),f=X(),p=X(),g=X(),v=X(),b=X(!1),w=X(0),M=X(!1),x=X(!0),E=D(()=>["top","bottom"].includes(o.props.tabPosition)?"width":"height"),C=D(()=>({transform:`translate${E.value==="width"?"X":"Y"}(-${w.value}px)`})),k=()=>{if(!f.value)return;const j=f.value[`offset${Xo(E.value)}`],q=w.value;if(!q)return;const ie=q>j?q-j:0;w.value=ie},R=()=>{if(!f.value||!p.value)return;const j=p.value[`offset${Xo(E.value)}`],q=f.value[`offset${Xo(E.value)}`],ie=w.value;if(j-ie<=q)return;const Q=j-ie>q*2?ie+q:j-q;w.value=Q},P=async()=>{const j=p.value;if(!b.value||!g.value||!f.value||!j)return;await Bt();const q=g.value.querySelector(".is-active");if(!q)return;const ie=f.value,Q=["top","bottom"].includes(o.props.tabPosition),Z=q.getBoundingClientRect(),re=ie.getBoundingClientRect(),ce=Q?j.offsetWidth-re.width:j.offsetHeight-re.height,te=w.value;let W=te;Q?(Z.left<re.left&&(W=te-(re.left-Z.left)),Z.right>re.right&&(W=te+Z.right-re.right)):(Z.top<re.top&&(W=te-(re.top-Z.top)),Z.bottom>re.bottom&&(W=te+(Z.bottom-re.bottom))),W=Math.max(W,0),w.value=Math.min(W,ce)},O=()=>{var j;if(!p.value||!f.value)return;e.stretch&&((j=v.value)==null||j.update());const q=p.value[`offset${Xo(E.value)}`],ie=f.value[`offset${Xo(E.value)}`],Q=w.value;ie<q?(b.value=b.value||{},b.value.prev=Q,b.value.next=Q+ie<q,q-Q<ie&&(w.value=q-ie)):(b.value=!1,Q>0&&(w.value=0))},F=j=>{const q=j.code,{up:ie,down:Q,left:Z,right:re}=Xt;if(![ie,Q,Z,re].includes(q))return;const ce=Array.from(j.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),te=ce.indexOf(j.target);let W;q===Z||q===ie?te===0?W=ce.length-1:W=te-1:te<ce.length-1?W=te+1:W=0,ce[W].focus({preventScroll:!0}),ce[W].click(),G()},G=()=>{x.value&&(M.value=!0)},H=()=>M.value=!1;return et(l,j=>{j==="hidden"?x.value=!1:j==="visible"&&setTimeout(()=>x.value=!0,50)}),et(u,j=>{j?setTimeout(()=>x.value=!0,50):x.value=!1}),Gs(g,O),_n(()=>setTimeout(()=>P(),0)),Ga(()=>O()),t({scrollToActiveTab:P,removeFocus:H}),et(()=>e.panes,()=>s.update(),{flush:"post",deep:!0}),()=>{const j=b.value?[fe("span",{class:[a.e("nav-prev"),a.is("disabled",!b.value.prev)],onClick:k},[fe(zt,null,{default:()=>[fe(Ol,null,null)]})]),fe("span",{class:[a.e("nav-next"),a.is("disabled",!b.value.next)],onClick:R},[fe(zt,null,{default:()=>[fe(nr,null,null)]})])]:null,q=e.panes.map((ie,Q)=>{var Z,re,ce,te;const W=ie.uid,ee=ie.props.disabled,J=(re=(Z=ie.props.name)!=null?Z:ie.index)!=null?re:`${Q}`,pe=!ee&&(ie.isClosable||e.editable);ie.index=`${Q}`;const Ee=pe?fe(zt,{class:"is-icon-close",onClick:Ge=>i("tabRemove",ie,Ge)},{default:()=>[fe(Lo,null,null)]}):null,he=((te=(ce=ie.slots).label)==null?void 0:te.call(ce))||ie.props.label,Ce=!ee&&ie.active?0:-1;return fe("div",{ref:`tab-${W}`,class:[a.e("item"),a.is(o.props.tabPosition),a.is("active",ie.active),a.is("disabled",ee),a.is("closable",pe),a.is("focus",M.value)],id:`tab-${J}`,key:`tab-${W}`,"aria-controls":`pane-${J}`,role:"tab","aria-selected":ie.active,tabindex:Ce,onFocus:()=>G(),onBlur:()=>H(),onClick:Ge=>{H(),i("tabClick",ie,J,Ge)},onKeydown:Ge=>{pe&&(Ge.code===Xt.delete||Ge.code===Xt.backspace)&&i("tabRemove",ie,Ge)}},[he,Ee])});return fe("div",{ref:g,class:[a.e("nav-wrap"),a.is("scrollable",!!b.value),a.is(o.props.tabPosition)]},[j,fe("div",{class:a.e("nav-scroll"),ref:f},[fe("div",{class:[a.e("nav"),a.is(o.props.tabPosition),a.is("stretch",e.stretch&&["top","bottom"].includes(o.props.tabPosition))],ref:p,style:C.value,role:"tablist",onKeydown:F},[e.type?null:fe(v_e,{ref:v,tabs:[...e.panes]},null),q])])])}}}),w_e=pt({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:De(Function),default:()=>!0},stretch:Boolean}),Y_=e=>un(e)||on(e),S_e={[Rn]:e=>Y_(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>Y_(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>Y_(e),tabAdd:()=>!0};var x_e=_e({name:"ElTabs",props:w_e,emits:S_e,setup(e,{emit:t,slots:i,expose:s}){var o,a;const l=nt("tabs"),{children:u,addChild:f,removeChild:p}=VI(Tn(),"ElTabPane"),g=X(),v=X((a=(o=e.modelValue)!=null?o:e.activeName)!=null?a:"0"),b=C=>{v.value=C,t(Rn,C),t("tabChange",C)},w=async C=>{var k,R,P;if(!(v.value===C||Ts(C)))try{await((k=e.beforeLeave)==null?void 0:k.call(e,C,v.value))!==!1&&(b(C),(P=(R=g.value)==null?void 0:R.removeFocus)==null||P.call(R))}catch{}},M=(C,k,R)=>{C.props.disabled||(w(k),t("tabClick",C,R))},x=(C,k)=>{C.props.disabled||Ts(C.props.name)||(k.stopPropagation(),t("edit",C.props.name,"remove"),t("tabRemove",C.props.name))},E=()=>{t("edit",void 0,"add"),t("tabAdd")};return ta({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},D(()=>!!e.activeName)),et(()=>e.activeName,C=>w(C)),et(()=>e.modelValue,C=>w(C)),et(v,async()=>{var C;await Bt(),(C=g.value)==null||C.scrollToActiveTab()}),On(X0,{props:e,currentName:v,registerPane:f,unregisterPane:p}),s({currentName:v}),()=>{const C=e.editable||e.addable?fe("span",{class:l.e("new-tab"),tabindex:"0",onClick:E,onKeydown:P=>{P.code===Xt.enter&&E()}},[fe(zt,{class:l.is("icon-plus")},{default:()=>[fe(eI,null,null)]})]):null,k=fe("div",{class:[l.e("header"),l.is(e.tabPosition)]},[C,fe(__e,{ref:g,currentName:v.value,editable:e.editable,type:e.type,panes:u.value,stretch:e.stretch,onTabClick:M,onTabRemove:x},null)]),R=fe("div",{class:l.e("content")},[qe(i,"default")]);return fe("div",{class:[l.b(),l.m(e.tabPosition),{[l.m("card")]:e.type==="card",[l.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[k,R]:[R,k]])}}});const M_e=pt({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),E_e=["id","aria-hidden","aria-labelledby"],AO="ElTabPane",C_e=_e({name:AO}),T_e=_e({...C_e,props:M_e,setup(e){const t=e,i=Tn(),s=Rs(),o=Lt(X0);o||vs(AO,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const a=nt("tab-pane"),l=X(),u=D(()=>t.closable||o.props.closable),f=ET(()=>{var w;return o.currentName.value===((w=t.name)!=null?w:l.value)}),p=X(f.value),g=D(()=>{var w;return(w=t.name)!=null?w:l.value}),v=ET(()=>!t.lazy||p.value||f.value);et(f,w=>{w&&(p.value=!0)});const b=ai({uid:i.uid,slots:s,props:t,paneName:g,active:f,index:l,isClosable:u});return _n(()=>{o.registerPane(b)}),$l(()=>{o.unregisterPane(b.uid)}),(w,M)=>h(v)?gn((B(),ne("div",{key:0,id:`pane-${h(g)}`,class:U(h(a).b()),role:"tabpanel","aria-hidden":!h(f),"aria-labelledby":`tab-${h(g)}`},[qe(w.$slots,"default")],10,E_e)),[[oi,h(f)]]):Oe("v-if",!0)}});var RO=ht(T_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const A_e=Cn(x_e,{TabPane:RO}),R_e=Yi(RO),k_e=pt({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:ra,default:""},truncated:{type:Boolean},tag:{type:String,default:"span"}}),P_e=_e({name:"ElText"}),I_e=_e({...P_e,props:k_e,setup(e){const t=e,i=fs(),s=nt("text"),o=D(()=>[s.b(),s.m(t.type),s.m(i.value),s.is("truncated",t.truncated)]);return(a,l)=>(B(),Be(Bn(a.tag),{class:U(h(o))},{default:ve(()=>[qe(a.$slots,"default")]),_:3},8,["class"]))}});var L_e=ht(I_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/text/src/text.vue"]]);const N_e=Cn(L_e),O_e=pt({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:Ds,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:De([String,Object]),default:()=>J3},clearIcon:{type:De([String,Object]),default:()=>Hl}}),Na=e=>{const t=(e||"").split(":");if(t.length>=2){let i=Number.parseInt(t[0],10);const s=Number.parseInt(t[1],10),o=e.toUpperCase();return o.includes("AM")&&i===12?i=0:o.includes("PM")&&i!==12&&(i+=12),{hours:i,minutes:s}}return null},Z_=(e,t)=>{const i=Na(e);if(!i)return-1;const s=Na(t);if(!s)return-1;const o=i.minutes+i.hours*60,a=s.minutes+s.hours*60;return o===a?0:o>a?1:-1},XR=e=>`${e}`.padStart(2,"0"),fd=e=>`${XR(e.hours)}:${XR(e.minutes)}`,D_e=(e,t)=>{const i=Na(e);if(!i)return"";const s=Na(t);if(!s)return"";const o={hours:i.hours,minutes:i.minutes};return o.minutes+=s.minutes,o.hours+=s.hours,o.hours+=Math.floor(o.minutes/60),o.minutes=o.minutes%60,fd(o)},F_e=_e({name:"ElTimeSelect"}),B_e=_e({...F_e,props:O_e,emits:["change","blur","focus","update:modelValue"],setup(e,{expose:t}){const i=e;xn.extend(XS);const{Option:s}=Qc,o=nt("input"),a=X(),l=_r(),u=D(()=>i.modelValue),f=D(()=>{const E=Na(i.start);return E?fd(E):null}),p=D(()=>{const E=Na(i.end);return E?fd(E):null}),g=D(()=>{const E=Na(i.step);return E?fd(E):null}),v=D(()=>{const E=Na(i.minTime||"");return E?fd(E):null}),b=D(()=>{const E=Na(i.maxTime||"");return E?fd(E):null}),w=D(()=>{const E=[];if(i.start&&i.end&&i.step){let C=f.value,k;for(;C&&p.value&&Z_(C,p.value)<=0;)k=xn(C,"HH:mm").format(i.format),E.push({value:k,disabled:Z_(C,v.value||"-1:-1")<=0||Z_(C,b.value||"100:100")>=0}),C=D_e(C,g.value)}return E});return t({blur:()=>{var E,C;(C=(E=a.value)==null?void 0:E.blur)==null||C.call(E)},focus:()=>{var E,C;(C=(E=a.value)==null?void 0:E.focus)==null||C.call(E)}}),(E,C)=>(B(),Be(h(Qc),{ref_key:"select",ref:a,"model-value":h(u),disabled:h(l),clearable:E.clearable,"clear-icon":E.clearIcon,size:E.size,effect:E.effect,placeholder:E.placeholder,"default-first-option":"",filterable:E.editable,"onUpdate:modelValue":C[0]||(C[0]=k=>E.$emit("update:modelValue",k)),onChange:C[1]||(C[1]=k=>E.$emit("change",k)),onBlur:C[2]||(C[2]=k=>E.$emit("blur",k)),onFocus:C[3]||(C[3]=k=>E.$emit("focus",k))},{prefix:ve(()=>[E.prefixIcon?(B(),Be(h(zt),{key:0,class:U(h(o).e("prefix-icon"))},{default:ve(()=>[(B(),Be(Bn(E.prefixIcon)))]),_:1},8,["class"])):Oe("v-if",!0)]),default:ve(()=>[(B(!0),ne(Ft,null,Un(h(w),k=>(B(),Be(h(s),{key:k.value,label:k.value,value:k.value,disabled:k.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}});var Mv=ht(B_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue"]]);Mv.install=e=>{e.component(Mv.name,Mv)};const z_e=Mv,$_e=z_e,U_e=_e({name:"ElTimeline",setup(e,{slots:t}){const i=nt("timeline");return On("timeline",t),()=>Yt("ul",{class:[i.b()]},[qe(t,"default")])}}),V_e=pt({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:Pi},hollow:{type:Boolean,default:!1}}),H_e=_e({name:"ElTimelineItem"}),W_e=_e({...H_e,props:V_e,setup(e){const t=nt("timeline-item");return(i,s)=>(B(),ne("li",{class:U([h(t).b(),{[h(t).e("center")]:i.center}])},[ae("div",{class:U(h(t).e("tail"))},null,2),i.$slots.dot?Oe("v-if",!0):(B(),ne("div",{key:0,class:U([h(t).e("node"),h(t).em("node",i.size||""),h(t).em("node",i.type||""),h(t).is("hollow",i.hollow)]),style:Wt({backgroundColor:i.color})},[i.icon?(B(),Be(h(zt),{key:0,class:U(h(t).e("icon"))},{default:ve(()=>[(B(),Be(Bn(i.icon)))]),_:1},8,["class"])):Oe("v-if",!0)],6)),i.$slots.dot?(B(),ne("div",{key:1,class:U(h(t).e("dot"))},[qe(i.$slots,"dot")],2)):Oe("v-if",!0),ae("div",{class:U(h(t).e("wrapper"))},[!i.hideTimestamp&&i.placement==="top"?(B(),ne("div",{key:0,class:U([h(t).e("timestamp"),h(t).is("top")])},ft(i.timestamp),3)):Oe("v-if",!0),ae("div",{class:U(h(t).e("content"))},[qe(i.$slots,"default")],2),!i.hideTimestamp&&i.placement==="bottom"?(B(),ne("div",{key:1,class:U([h(t).e("timestamp"),h(t).is("bottom")])},ft(i.timestamp),3)):Oe("v-if",!0)],2)],2))}});var kO=ht(W_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/timeline/src/timeline-item.vue"]]);const G_e=Cn(U_e,{TimelineItem:kO}),K_e=Yi(kO),PO=pt({nowrap:Boolean});var IO=(e=>(e.top="top",e.bottom="bottom",e.left="left",e.right="right",e))(IO||{});const q_e=Object.values(IO),Sx=pt({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:De(Object),default:null}}),j_e=pt({side:{type:De(String),values:q_e,required:!0}}),X_e=["absolute","fixed"],Y_e=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],xx=pt({ariaLabel:String,arrowPadding:{type:De(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:De(String),values:Y_e,default:"bottom"},reference:{type:De(Object),default:null},offset:{type:Number,default:8},strategy:{type:De(String),values:X_e,default:"absolute"},showArrow:{type:Boolean,default:!1}}),Mx=pt({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:De(Function)},"onUpdate:open":{type:De(Function)}}),ld={type:De(Function)},Ex=pt({onBlur:ld,onClick:ld,onFocus:ld,onMouseDown:ld,onMouseEnter:ld,onMouseLeave:ld}),Z_e=pt({...Mx,...Sx,...Ex,...xx,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:De(Object),default:null},teleported:Boolean,to:{type:De(String),default:"body"}}),Y0=Symbol("tooltipV2"),LO=Symbol("tooltipV2Content"),J_="tooltip_v2.open",J_e=_e({name:"ElTooltipV2Root"}),Q_e=_e({...J_e,props:Mx,setup(e,{expose:t}){const i=e,s=X(i.defaultOpen),o=X(null),a=D({get:()=>dY(i.open)?s.value:i.open,set:E=>{var C;s.value=E,(C=i["onUpdate:open"])==null||C.call(i,E)}}),l=D(()=>on(i.delayDuration)&&i.delayDuration>0),{start:u,stop:f}=Zc(()=>{a.value=!0},D(()=>i.delayDuration),{immediate:!1}),p=nt("tooltip-v2"),g=so(),v=()=>{f(),a.value=!0},b=()=>{h(l)?u():v()},w=v,M=()=>{f(),a.value=!1};return et(a,E=>{var C;E&&(document.dispatchEvent(new CustomEvent(J_)),w()),(C=i.onOpenChange)==null||C.call(i,E)}),_n(()=>{document.addEventListener(J_,M)}),Di(()=>{f(),document.removeEventListener(J_,M)}),On(Y0,{contentId:g,triggerRef:o,ns:p,onClose:M,onDelayOpen:b,onOpen:w}),t({onOpen:w,onClose:M}),(E,C)=>qe(E.$slots,"default",{open:h(a)})}});var e1e=ht(Q_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/root.vue"]]);const t1e=_e({name:"ElTooltipV2Arrow"}),n1e=_e({...t1e,props:{...Sx,...j_e},setup(e){const t=e,{ns:i}=Lt(Y0),{arrowRef:s}=Lt(LO),o=D(()=>{const{style:a,width:l,height:u}=t,f=i.namespace.value;return{[`--${f}-tooltip-v2-arrow-width`]:`${l}px`,[`--${f}-tooltip-v2-arrow-height`]:`${u}px`,[`--${f}-tooltip-v2-arrow-border-width`]:`${l/2}px`,[`--${f}-tooltip-v2-arrow-cover-width`]:l/2-1,...a||{}}});return(a,l)=>(B(),ne("span",{ref_key:"arrowRef",ref:s,style:Wt(h(o)),class:U(h(i).e("arrow"))},null,6))}});var YR=ht(n1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/arrow.vue"]]);const i1e=pt({style:{type:De([String,Object,Array]),default:()=>({})}}),s1e=_e({name:"ElVisuallyHidden"}),r1e=_e({...s1e,props:i1e,setup(e){const t=e,i=D(()=>[t.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(s,o)=>(B(),ne("span",kn(s.$attrs,{style:h(i)}),[qe(s.$slots,"default")],16))}});var o1e=ht(r1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/visual-hidden/src/visual-hidden.vue"]]);const a1e=["data-side"],l1e=_e({name:"ElTooltipV2Content"}),c1e=_e({...l1e,props:{...xx,...PO},setup(e){const t=e,{triggerRef:i,contentId:s}=Lt(Y0),o=X(t.placement),a=X(t.strategy),l=X(null),{referenceRef:u,contentRef:f,middlewareData:p,x:g,y:v,update:b}=Gne({placement:o,strategy:a,middleware:D(()=>{const R=[zne(t.offset)];return t.showArrow&&R.push(Kne({arrowRef:l})),R})}),w=uf().nextZIndex(),M=nt("tooltip-v2"),x=D(()=>o.value.split("-")[0]),E=D(()=>({position:h(a),top:`${h(v)||0}px`,left:`${h(g)||0}px`,zIndex:w})),C=D(()=>{if(!t.showArrow)return{};const{arrow:R}=h(p);return{[`--${M.namespace.value}-tooltip-v2-arrow-x`]:`${R==null?void 0:R.x}px`||"",[`--${M.namespace.value}-tooltip-v2-arrow-y`]:`${R==null?void 0:R.y}px`||""}}),k=D(()=>[M.e("content"),M.is("dark",t.effect==="dark"),M.is(h(a)),t.contentClass]);return et(l,()=>b()),et(()=>t.placement,R=>o.value=R),_n(()=>{et(()=>t.reference||i.value,R=>{u.value=R||void 0},{immediate:!0})}),On(LO,{arrowRef:l}),(R,P)=>(B(),ne("div",{ref_key:"contentRef",ref:f,style:Wt(h(E)),"data-tooltip-v2-root":""},[R.nowrap?Oe("v-if",!0):(B(),ne("div",{key:0,"data-side":h(x),class:U(h(k))},[qe(R.$slots,"default",{contentStyle:h(E),contentClass:h(k)}),fe(h(o1e),{id:h(s),role:"tooltip"},{default:ve(()=>[R.ariaLabel?(B(),ne(Ft,{key:0},[Nn(ft(R.ariaLabel),1)],64)):qe(R.$slots,"default",{key:1})]),_:3},8,["id"]),qe(R.$slots,"arrow",{style:Wt(h(C)),side:h(x)})],10,a1e))],4))}});var ZR=ht(c1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/content.vue"]]);const u1e=pt({setRef:{type:De(Function),required:!0},onlyChild:Boolean});var d1e=_e({props:u1e,setup(e,{slots:t}){const i=X(),s=L0(i,o=>{o?e.setRef(o.nextElementSibling):e.setRef(null)});return()=>{var o;const[a]=((o=t.default)==null?void 0:o.call(t))||[],l=e.onlyChild?cte(a.children):a.children;return fe(Ft,{ref:s},[l])}}});const f1e=_e({name:"ElTooltipV2Trigger"}),h1e=_e({...f1e,props:{...PO,...Ex},setup(e){const t=e,{onClose:i,onOpen:s,onDelayOpen:o,triggerRef:a,contentId:l}=Lt(Y0);let u=!1;const f=k=>{a.value=k},p=()=>{u=!1},g=Xi(t.onMouseEnter,o),v=Xi(t.onMouseLeave,i),b=Xi(t.onMouseDown,()=>{i(),u=!0,document.addEventListener("mouseup",p,{once:!0})}),w=Xi(t.onFocus,()=>{u||s()}),M=Xi(t.onBlur,i),x=Xi(t.onClick,k=>{k.detail===0&&i()}),E={blur:M,click:x,focus:w,mousedown:b,mouseenter:g,mouseleave:v},C=(k,R,P)=>{k&&Object.entries(R).forEach(([O,F])=>{k[P](O,F)})};return et(a,(k,R)=>{C(k,E,"addEventListener"),C(R,E,"removeEventListener"),k&&k.setAttribute("aria-describedby",l.value)}),Di(()=>{C(a.value,E,"removeEventListener"),document.removeEventListener("mouseup",p)}),(k,R)=>k.nowrap?(B(),Be(h(d1e),{key:0,"set-ref":f,"only-child":""},{default:ve(()=>[qe(k.$slots,"default")]),_:3})):(B(),ne("button",kn({key:1,ref_key:"triggerRef",ref:a},k.$attrs),[qe(k.$slots,"default")],16))}});var p1e=ht(h1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/trigger.vue"]]);const m1e=_e({name:"ElTooltipV2"}),g1e=_e({...m1e,props:Z_e,setup(e){const i=gs(e),s=ai(Oa(i,Object.keys(Sx))),o=ai(Oa(i,Object.keys(xx))),a=ai(Oa(i,Object.keys(Mx))),l=ai(Oa(i,Object.keys(Ex)));return(u,f)=>(B(),Be(e1e,Eo(f0(a)),{default:ve(({open:p})=>[fe(p1e,kn(l,{nowrap:""}),{default:ve(()=>[qe(u.$slots,"trigger")]),_:3},16),(B(),Be(Sp,{to:u.to,disabled:!u.teleported},[u.fullTransition?(B(),Be(ns,Eo(kn({key:0},u.transitionProps)),{default:ve(()=>[u.alwaysOn||p?(B(),Be(ZR,Eo(kn({key:0},o)),{arrow:ve(({style:g,side:v})=>[u.showArrow?(B(),Be(YR,kn({key:0},s,{style:g,side:v}),null,16,["style","side"])):Oe("v-if",!0)]),default:ve(()=>[qe(u.$slots,"default")]),_:3},16)):Oe("v-if",!0)]),_:2},1040)):(B(),ne(Ft,{key:1},[u.alwaysOn||p?(B(),Be(ZR,Eo(kn({key:0},o)),{arrow:ve(({style:g,side:v})=>[u.showArrow?(B(),Be(YR,kn({key:0},s,{style:g,side:v}),null,16,["style","side"])):Oe("v-if",!0)]),default:ve(()=>[qe(u.$slots,"default")]),_:3},16)):Oe("v-if",!0)],64))],8,["to","disabled"]))]),_:3},16))}});var v1e=ht(g1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/tooltip.vue"]]);const y1e=Cn(v1e),NO="left-check-change",OO="right-check-change",hd=pt({data:{type:De(Array),default:()=>[]},titles:{type:De(Array),default:()=>[]},buttonTexts:{type:De(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:De(Function)},leftDefaultChecked:{type:De(Array),default:()=>[]},rightDefaultChecked:{type:De(Array),default:()=>[]},renderContent:{type:De(Function)},modelValue:{type:De(Array),default:()=>[]},format:{type:De(Object),default:()=>({})},filterable:Boolean,props:{type:De(Object),default:()=>Ui({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),vw=(e,t)=>[e,t].every(Nt)||Nt(e)&&us(t),b1e={[Ii]:(e,t,i)=>[e,i].every(Nt)&&["left","right"].includes(t),[Rn]:e=>Nt(e),[NO]:vw,[OO]:vw},yw="checked-change",_1e=pt({data:hd.data,optionRender:{type:De(Function)},placeholder:String,title:String,filterable:Boolean,format:hd.format,filterMethod:hd.filterMethod,defaultChecked:hd.leftDefaultChecked,props:hd.props}),w1e={[yw]:vw},$p=e=>{const t={label:"label",key:"key",disabled:"disabled"};return D(()=>({...t,...e.props}))},S1e=(e,t,i)=>{const s=$p(e),o=D(()=>e.data.filter(g=>an(e.filterMethod)?e.filterMethod(t.query,g):String(g[s.value.label]||g[s.value.key]).toLowerCase().includes(t.query.toLowerCase()))),a=D(()=>o.value.filter(g=>!g[s.value.disabled])),l=D(()=>{const g=t.checked.length,v=e.data.length,{noChecked:b,hasChecked:w}=e.format;return b&&w?g>0?w.replace(/\${checked}/g,g.toString()).replace(/\${total}/g,v.toString()):b.replace(/\${total}/g,v.toString()):`${g}/${v}`}),u=D(()=>{const g=t.checked.length;return g>0&&g<a.value.length}),f=()=>{const g=a.value.map(v=>v[s.value.key]);t.allChecked=g.length>0&&g.every(v=>t.checked.includes(v))},p=g=>{t.checked=g?a.value.map(v=>v[s.value.key]):[]};return et(()=>t.checked,(g,v)=>{if(f(),t.checkChangeByUser){const b=g.concat(v).filter(w=>!g.includes(w)||!v.includes(w));i(yw,g,b)}else i(yw,g),t.checkChangeByUser=!0}),et(a,()=>{f()}),et(()=>e.data,()=>{const g=[],v=o.value.map(b=>b[s.value.key]);t.checked.forEach(b=>{v.includes(b)&&g.push(b)}),t.checkChangeByUser=!1,t.checked=g}),et(()=>e.defaultChecked,(g,v)=>{if(v&&g.length===v.length&&g.every(M=>v.includes(M)))return;const b=[],w=a.value.map(M=>M[s.value.key]);g.forEach(M=>{w.includes(M)&&b.push(M)}),t.checkChangeByUser=!1,t.checked=b},{immediate:!0}),{filteredData:o,checkableData:a,checkedSummary:l,isIndeterminate:u,updateAllChecked:f,handleAllCheckedChange:p}},x1e=(e,t)=>({onSourceCheckedChange:(o,a)=>{e.leftChecked=o,a&&t(NO,o,a)},onTargetCheckedChange:(o,a)=>{e.rightChecked=o,a&&t(OO,o,a)}}),M1e=e=>{const t=$p(e),i=D(()=>e.data.reduce((a,l)=>(a[l[t.value.key]]=l)&&a,{})),s=D(()=>e.data.filter(a=>!e.modelValue.includes(a[t.value.key]))),o=D(()=>e.targetOrder==="original"?e.data.filter(a=>e.modelValue.includes(a[t.value.key])):e.modelValue.reduce((a,l)=>{const u=i.value[l];return u&&a.push(u),a},[]));return{sourceData:s,targetData:o}},E1e=(e,t,i)=>{const s=$p(e),o=(u,f,p)=>{i(Rn,u),i(Ii,u,f,p)};return{addToLeft:()=>{const u=e.modelValue.slice();t.rightChecked.forEach(f=>{const p=u.indexOf(f);p>-1&&u.splice(p,1)}),o(u,"left",t.rightChecked)},addToRight:()=>{let u=e.modelValue.slice();const f=e.data.filter(p=>{const g=p[s.value.key];return t.leftChecked.includes(g)&&!e.modelValue.includes(g)}).map(p=>p[s.value.key]);u=e.targetOrder==="unshift"?f.concat(u):u.concat(f),e.targetOrder==="original"&&(u=e.data.filter(p=>u.includes(p[s.value.key])).map(p=>p[s.value.key])),o(u,"right",t.leftChecked)}}},C1e=_e({name:"ElTransferPanel"}),T1e=_e({...C1e,props:_1e,emits:w1e,setup(e,{expose:t,emit:i}){const s=e,o=Rs(),a=({option:R})=>R,{t:l}=ii(),u=nt("transfer"),f=ai({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),p=$p(s),{filteredData:g,checkedSummary:v,isIndeterminate:b,handleAllCheckedChange:w}=S1e(s,f,i),M=D(()=>!jr(f.query)&&jr(g.value)),x=D(()=>!jr(o.default()[0].children)),{checked:E,allChecked:C,query:k}=gs(f);return t({query:k}),(R,P)=>(B(),ne("div",{class:U(h(u).b("panel"))},[ae("p",{class:U(h(u).be("panel","header"))},[fe(h(ro),{modelValue:h(C),"onUpdate:modelValue":P[0]||(P[0]=O=>Ti(C)?C.value=O:null),indeterminate:h(b),"validate-event":!1,onChange:h(w)},{default:ve(()=>[Nn(ft(R.title)+" ",1),ae("span",null,ft(h(v)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),ae("div",{class:U([h(u).be("panel","body"),h(u).is("with-footer",h(x))])},[R.filterable?(B(),Be(h(Ws),{key:0,modelValue:h(k),"onUpdate:modelValue":P[1]||(P[1]=O=>Ti(k)?k.value=O:null),class:U(h(u).be("panel","filter")),size:"default",placeholder:R.placeholder,"prefix-icon":h(JQ),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):Oe("v-if",!0),gn(fe(h(VL),{modelValue:h(E),"onUpdate:modelValue":P[2]||(P[2]=O=>Ti(E)?E.value=O:null),"validate-event":!1,class:U([h(u).is("filterable",R.filterable),h(u).be("panel","list")])},{default:ve(()=>[(B(!0),ne(Ft,null,Un(h(g),O=>(B(),Be(h(ro),{key:O[h(p).key],class:U(h(u).be("panel","item")),label:O[h(p).key],disabled:O[h(p).disabled],"validate-event":!1},{default:ve(()=>{var F;return[fe(a,{option:(F=R.optionRender)==null?void 0:F.call(R,O)},null,8,["option"])]}),_:2},1032,["class","label","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[oi,!h(M)&&!h(jr)(R.data)]]),gn(ae("p",{class:U(h(u).be("panel","empty"))},ft(h(M)?h(l)("el.transfer.noMatch"):h(l)("el.transfer.noData")),3),[[oi,h(M)||h(jr)(R.data)]])],2),h(x)?(B(),ne("p",{key:0,class:U(h(u).be("panel","footer"))},[qe(R.$slots,"default")],2)):Oe("v-if",!0)],2))}});var JR=ht(T1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer-panel.vue"]]);const A1e={key:0},R1e={key:0},k1e=_e({name:"ElTransfer"}),P1e=_e({...k1e,props:hd,emits:b1e,setup(e,{expose:t,emit:i}){const s=e,o=Rs(),{t:a}=ii(),l=nt("transfer"),{formItem:u}=lr(),f=ai({leftChecked:[],rightChecked:[]}),p=$p(s),{sourceData:g,targetData:v}=M1e(s),{onSourceCheckedChange:b,onTargetCheckedChange:w}=x1e(f,i),{addToLeft:M,addToRight:x}=E1e(s,f,i),E=X(),C=X(),k=H=>{switch(H){case"left":E.value.query="";break;case"right":C.value.query="";break}},R=D(()=>s.buttonTexts.length===2),P=D(()=>s.titles[0]||a("el.transfer.titles.0")),O=D(()=>s.titles[1]||a("el.transfer.titles.1")),F=D(()=>s.filterPlaceholder||a("el.transfer.filterPlaceholder"));et(()=>s.modelValue,()=>{var H;s.validateEvent&&((H=u==null?void 0:u.validate)==null||H.call(u,"change").catch(j=>void 0))});const G=D(()=>H=>s.renderContent?s.renderContent(Yt,H):o.default?o.default({option:H}):Yt("span",H[p.value.label]||H[p.value.key]));return t({clearQuery:k,leftPanel:E,rightPanel:C}),(H,j)=>(B(),ne("div",{class:U(h(l).b())},[fe(JR,{ref_key:"leftPanel",ref:E,data:h(g),"option-render":h(G),placeholder:h(F),title:h(P),filterable:H.filterable,format:H.format,"filter-method":H.filterMethod,"default-checked":H.leftDefaultChecked,props:s.props,onCheckedChange:h(b)},{default:ve(()=>[qe(H.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),ae("div",{class:U(h(l).e("buttons"))},[fe(h(Os),{type:"primary",class:U([h(l).e("button"),h(l).is("with-texts",h(R))]),disabled:h(jr)(f.rightChecked),onClick:h(M)},{default:ve(()=>[fe(h(zt),null,{default:ve(()=>[fe(h(Ol))]),_:1}),h(Ts)(H.buttonTexts[0])?Oe("v-if",!0):(B(),ne("span",A1e,ft(H.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),fe(h(Os),{type:"primary",class:U([h(l).e("button"),h(l).is("with-texts",h(R))]),disabled:h(jr)(f.leftChecked),onClick:h(x)},{default:ve(()=>[h(Ts)(H.buttonTexts[1])?Oe("v-if",!0):(B(),ne("span",R1e,ft(H.buttonTexts[1]),1)),fe(h(zt),null,{default:ve(()=>[fe(h(nr))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),fe(JR,{ref_key:"rightPanel",ref:C,data:h(v),"option-render":h(G),placeholder:h(F),filterable:H.filterable,format:H.format,"filter-method":H.filterMethod,title:h(O),"default-checked":H.rightDefaultChecked,props:s.props,onCheckedChange:h(w)},{default:ve(()=>[qe(H.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var I1e=ht(P1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer.vue"]]);const L1e=Cn(I1e),Rd="$treeNodeId",QR=function(e,t){!t||t[Rd]||Object.defineProperty(t,Rd,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},Cx=function(e,t){return e?t[e]:t[Rd]},bw=(e,t,i)=>{const s=e.value.currentNode;i();const o=e.value.currentNode;s!==o&&t("current-change",o?o.data:null,o)},_w=e=>{let t=!0,i=!0,s=!0;for(let o=0,a=e.length;o<a;o++){const l=e[o];(l.checked!==!0||l.indeterminate)&&(t=!1,l.disabled||(s=!1)),(l.checked!==!1||l.indeterminate)&&(i=!1)}return{all:t,none:i,allWithoutDisable:s,half:!t&&!i}},Ev=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:i,half:s}=_w(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):s?(e.checked=!1,e.indeterminate=!0):i&&(e.checked=!1,e.indeterminate=!1);const o=e.parent;!o||o.level===0||e.store.checkStrictly||Ev(o)},Kg=function(e,t){const i=e.store.props,s=e.data||{},o=i[t];if(typeof o=="function")return o(s,e);if(typeof o=="string")return s[o];if(typeof o>"u"){const a=s[t];return a===void 0?"":a}};let N1e=0;class qc{constructor(t){this.id=N1e++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const i in t)Gn(t,i)&&(this[i]=t[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const i=t.props;if(i&&typeof i.isLeaf<"u"){const a=Kg(this,"isLeaf");typeof a=="boolean"&&(this.isLeafByUser=a)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&this.expand(),Array.isArray(this.data)||QR(this,this.data),!this.data)return;const s=t.defaultExpandedKeys,o=t.key;o&&s&&s.includes(this.key)&&this.expand(null,t.autoExpandParent),o&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||QR(this,t),this.data=t,this.childNodes=[];let i;this.level===0&&Array.isArray(this.data)?i=this.data:i=Kg(this,"children")||[];for(let s=0,o=i.length;s<o;s++)this.insertChild({data:i[s]})}get label(){return Kg(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return Kg(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const i=t.childNodes.indexOf(this);if(i>-1)return t.childNodes[i+1]}return null}get previousSibling(){const t=this.parent;if(t){const i=t.childNodes.indexOf(this);if(i>-1)return i>0?t.childNodes[i-1]:null}return null}contains(t,i=!0){return(this.childNodes||[]).some(s=>s===t||i&&s.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,i,s){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof qc)){if(!s){const o=this.getChildren(!0);o.includes(t.data)||(typeof i>"u"||i<0?o.push(t.data):o.splice(i,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=ai(new qc(t)),t instanceof qc&&t.initialize()}t.level=this.level+1,typeof i>"u"||i<0?this.childNodes.push(t):this.childNodes.splice(i,0,t),this.updateLeafState()}insertBefore(t,i){let s;i&&(s=this.childNodes.indexOf(i)),this.insertChild(t,s)}insertAfter(t,i){let s;i&&(s=this.childNodes.indexOf(i),s!==-1&&(s+=1)),this.insertChild(t,s)}removeChild(t){const i=this.getChildren()||[],s=i.indexOf(t.data);s>-1&&i.splice(s,1);const o=this.childNodes.indexOf(t);o>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(o,1)),this.updateLeafState()}removeChildByData(t){let i=null;for(let s=0;s<this.childNodes.length;s++)if(this.childNodes[s].data===t){i=this.childNodes[s];break}i&&this.removeChild(i)}expand(t,i){const s=()=>{if(i){let o=this.parent;for(;o.level>0;)o.expanded=!0,o=o.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(o=>{o.canFocus=!0})};this.shouldLoadData()?this.loadData(o=>{Array.isArray(o)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Ev(this),s())}):s()}doCreateChildren(t,i={}){t.forEach(s=>{this.insertChild(Object.assign({data:s},i),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,i,s,o){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:l,allWithoutDisable:u}=_w(this.childNodes);!this.isLeaf&&!l&&u&&(this.checked=!1,t=!1);const f=()=>{if(i){const p=this.childNodes;for(let b=0,w=p.length;b<w;b++){const M=p[b];o=o||t!==!1;const x=M.disabled?M.checked:o;M.setChecked(x,i,!0,o)}const{half:g,all:v}=_w(p);v||(this.checked=v,this.indeterminate=g)}};if(this.shouldLoadData()){this.loadData(()=>{f(),Ev(this)},{checked:t!==!1});return}else f()}const a=this.parent;!a||a.level===0||s||Ev(a)}getChildren(t=!1){if(this.level===0)return this.data;const i=this.data;if(!i)return null;const s=this.store.props;let o="children";return s&&(o=s.children||"children"),i[o]===void 0&&(i[o]=null),t&&!i[o]&&(i[o]=[]),i[o]}updateChildren(){const t=this.getChildren()||[],i=this.childNodes.map(a=>a.data),s={},o=[];t.forEach((a,l)=>{const u=a[Rd];!!u&&i.findIndex(p=>p[Rd]===u)>=0?s[u]={index:l,data:a}:o.push({index:l,data:a})}),this.store.lazy||i.forEach(a=>{s[a[Rd]]||this.removeChildByData(a)}),o.forEach(({index:a,data:l})=>{this.insertChild({data:l},a)}),this.updateLeafState()}loadData(t,i={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(i).length)){this.loading=!0;const s=o=>{this.childNodes=[],this.doCreateChildren(o,i),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,o)};this.store.load(this,s)}else t&&t.call(this)}}class O1e{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const i in t)Gn(t,i)&&(this[i]=t[i]);this.nodesMap={}}initialize(){if(this.root=new qc({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,i=>{this.root.doCreateChildren(i),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const i=this.filterNodeMethod,s=this.lazy,o=function(a){const l=a.root?a.root.childNodes:a.childNodes;if(l.forEach(u=>{u.visible=i.call(u,t,u.data,u),o(u)}),!a.visible&&l.length){let u=!0;u=!l.some(f=>f.visible),a.root?a.root.visible=u===!1:a.visible=u===!1}t&&a.visible&&!a.isLeaf&&!s&&a.expand()};o(this)}setData(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof qc)return t;const i=Pn(t)?Cx(this.key,t):t;return this.nodesMap[i]||null}insertBefore(t,i){const s=this.getNode(i);s.parent.insertBefore({data:t},s)}insertAfter(t,i){const s=this.getNode(i);s.parent.insertAfter({data:t},s)}remove(t){const i=this.getNode(t);i&&i.parent&&(i===this.currentNode&&(this.currentNode=null),i.parent.removeChild(i))}append(t,i){const s=i?this.getNode(i):this.root;s&&s.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],i=this.nodesMap;t.forEach(s=>{const o=i[s];o&&o.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const i=this.key;!t||!t.data||(i?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(s=>{this.deregisterNode(s)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,i=!1){const s=[],o=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(u=>{(u.checked||i&&u.indeterminate)&&(!t||t&&u.isLeaf)&&s.push(u.data),o(u)})};return o(this),s}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(i=>(i||{})[this.key])}getHalfCheckedNodes(){const t=[],i=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(a=>{a.indeterminate&&t.push(a.data),i(a)})};return i(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],i=this.nodesMap;for(const s in i)Gn(i,s)&&t.push(i[s]);return t}updateChildren(t,i){const s=this.nodesMap[t];if(!s)return;const o=s.childNodes;for(let a=o.length-1;a>=0;a--){const l=o[a];this.remove(l.data)}for(let a=0,l=i.length;a<l;a++){const u=i[a];this.append(u,s.data)}}_setCheckedKeys(t,i=!1,s){const o=this._getAllNodes().sort((u,f)=>f.level-u.level),a=Object.create(null),l=Object.keys(s);o.forEach(u=>u.setChecked(!1,!1));for(let u=0,f=o.length;u<f;u++){const p=o[u],g=p.data[t].toString();if(!l.includes(g)){p.checked&&!a[g]&&p.setChecked(!1,!1);continue}let b=p.parent;for(;b&&b.level>0;)a[b.data[t]]=!0,b=b.parent;if(p.isLeaf||this.checkStrictly){p.setChecked(!0,!1);continue}if(p.setChecked(!0,!0),i){p.setChecked(!1,!1);const w=function(M){M.childNodes.forEach(E=>{E.isLeaf||E.setChecked(!1,!1),w(E)})};w(p)}}}setCheckedNodes(t,i=!1){const s=this.key,o={};t.forEach(a=>{o[(a||{})[s]]=!0}),this._setCheckedKeys(s,i,o)}setCheckedKeys(t,i=!1){this.defaultCheckedKeys=t;const s=this.key,o={};t.forEach(a=>{o[a]=!0}),this._setCheckedKeys(s,i,o)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(i=>{const s=this.getNode(i);s&&s.expand(null,this.autoExpandParent)})}setChecked(t,i,s){const o=this.getNode(t);o&&o.setChecked(!!i,s)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const i=this.currentNode;i&&(i.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,i=!0){const s=t[this.key],o=this.nodesMap[s];this.setCurrentNode(o),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,i=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const s=this.getNode(t);s&&(this.setCurrentNode(s),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const D1e=_e({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=nt("tree"),i=Lt("NodeInstance"),s=Lt("RootTree");return()=>{const o=e.node,{data:a,store:l}=o;return e.renderContent?e.renderContent(Yt,{_self:i,node:o,data:a,store:l}):s.ctx.slots.default?s.ctx.slots.default({node:o,data:a}):Yt("span",{class:t.be("node","label")},[o.label])}}});var F1e=ht(D1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function DO(e){const t=Lt("TreeNodeMap",null),i={treeNodeExpand:s=>{e.node!==s&&e.node.collapse()},children:[]};return t&&t.children.push(i),On("TreeNodeMap",i),{broadcastExpanded:s=>{if(e.accordion)for(const o of i.children)o.treeNodeExpand(s)}}}const FO=Symbol("dragEvents");function B1e({props:e,ctx:t,el$:i,dropIndicator$:s,store:o}){const a=nt("tree"),l=X({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return On(FO,{treeNodeDragStart:({event:g,treeNode:v})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(v.node))return g.preventDefault(),!1;g.dataTransfer.effectAllowed="move";try{g.dataTransfer.setData("text/plain","")}catch{}l.value.draggingNode=v,t.emit("node-drag-start",v.node,g)},treeNodeDragOver:({event:g,treeNode:v})=>{const b=v,w=l.value.dropNode;w&&w!==b&&gr(w.$el,a.is("drop-inner"));const M=l.value.draggingNode;if(!M||!b)return;let x=!0,E=!0,C=!0,k=!0;typeof e.allowDrop=="function"&&(x=e.allowDrop(M.node,b.node,"prev"),k=E=e.allowDrop(M.node,b.node,"inner"),C=e.allowDrop(M.node,b.node,"next")),g.dataTransfer.dropEffect=E||x||C?"move":"none",(x||E||C)&&w!==b&&(w&&t.emit("node-drag-leave",M.node,w.node,g),t.emit("node-drag-enter",M.node,b.node,g)),(x||E||C)&&(l.value.dropNode=b),b.node.nextSibling===M.node&&(C=!1),b.node.previousSibling===M.node&&(x=!1),b.node.contains(M.node,!1)&&(E=!1),(M.node===b.node||M.node.contains(b.node))&&(x=!1,E=!1,C=!1);const R=b.$el.getBoundingClientRect(),P=i.value.getBoundingClientRect();let O;const F=x?E?.25:C?.45:1:-1,G=C?E?.75:x?.55:0:1;let H=-9999;const j=g.clientY-R.top;j<R.height*F?O="before":j>R.height*G?O="after":E?O="inner":O="none";const q=b.$el.querySelector(`.${a.be("node","expand-icon")}`).getBoundingClientRect(),ie=s.value;O==="before"?H=q.top-P.top:O==="after"&&(H=q.bottom-P.top),ie.style.top=`${H}px`,ie.style.left=`${q.right-P.left}px`,O==="inner"?Zo(b.$el,a.is("drop-inner")):gr(b.$el,a.is("drop-inner")),l.value.showDropIndicator=O==="before"||O==="after",l.value.allowDrop=l.value.showDropIndicator||k,l.value.dropType=O,t.emit("node-drag-over",M.node,b.node,g)},treeNodeDragEnd:g=>{const{draggingNode:v,dropType:b,dropNode:w}=l.value;if(g.preventDefault(),g.dataTransfer.dropEffect="move",v&&w){const M={data:v.node.data};b!=="none"&&v.node.remove(),b==="before"?w.node.parent.insertBefore(M,w.node):b==="after"?w.node.parent.insertAfter(M,w.node):b==="inner"&&w.node.insertChild(M),b!=="none"&&o.value.registerNode(M),gr(w.$el,a.is("drop-inner")),t.emit("node-drag-end",v.node,w.node,b,g),b!=="none"&&t.emit("node-drop",v.node,w.node,b,g)}v&&!w&&t.emit("node-drag-end",v.node,null,b,g),l.value.showDropIndicator=!1,l.value.draggingNode=null,l.value.dropNode=null,l.value.allowDrop=!0}}),{dragState:l}}const z1e=_e({name:"ElTreeNode",components:{ElCollapseTransition:K0,ElCheckbox:ro,NodeContent:F1e,ElIcon:zt,Loading:Wl},props:{node:{type:qc,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const i=nt("tree"),{broadcastExpanded:s}=DO(e),o=Lt("RootTree"),a=X(!1),l=X(!1),u=X(null),f=X(null),p=X(null),g=Lt(FO),v=Tn();On("NodeInstance",v),e.node.expanded&&(a.value=!0,l.value=!0);const b=o.props.children||"children";et(()=>{const j=e.node.data[b];return j&&[...j]},()=>{e.node.updateChildren()}),et(()=>e.node.indeterminate,j=>{x(e.node.checked,j)}),et(()=>e.node.checked,j=>{x(j,e.node.indeterminate)}),et(()=>e.node.expanded,j=>{Bt(()=>a.value=j),j&&(l.value=!0)});const w=j=>Cx(o.props.nodeKey,j.data),M=j=>{const q=e.props.class;if(!q)return{};let ie;if(an(q)){const{data:Q}=j;ie=q(Q,j)}else ie=q;return un(ie)?{[ie]:!0}:ie},x=(j,q)=>{(u.value!==j||f.value!==q)&&o.ctx.emit("check-change",e.node.data,j,q),u.value=j,f.value=q},E=j=>{bw(o.store,o.ctx.emit,()=>o.store.value.setCurrentNode(e.node)),o.currentNode.value=e.node,o.props.expandOnClickNode&&k(),o.props.checkOnClickNode&&!e.node.disabled&&R(null,{target:{checked:!e.node.checked}}),o.ctx.emit("node-click",e.node.data,e.node,v,j)},C=j=>{o.instance.vnode.props.onNodeContextmenu&&(j.stopPropagation(),j.preventDefault()),o.ctx.emit("node-contextmenu",j,e.node.data,e.node,v)},k=()=>{e.node.isLeaf||(a.value?(o.ctx.emit("node-collapse",e.node.data,e.node,v),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,v)))},R=(j,q)=>{e.node.setChecked(q.target.checked,!o.props.checkStrictly),Bt(()=>{const ie=o.store.value;o.ctx.emit("check",e.node.data,{checkedNodes:ie.getCheckedNodes(),checkedKeys:ie.getCheckedKeys(),halfCheckedNodes:ie.getHalfCheckedNodes(),halfCheckedKeys:ie.getHalfCheckedKeys()})})};return{ns:i,node$:p,tree:o,expanded:a,childNodeRendered:l,oldChecked:u,oldIndeterminate:f,getNodeKey:w,getNodeClass:M,handleSelectChange:x,handleClick:E,handleContextMenu:C,handleExpandIconClick:k,handleCheckChange:R,handleChildNodeExpand:(j,q,ie)=>{s(q),o.ctx.emit("node-expand",j,q,ie)},handleDragStart:j=>{o.props.draggable&&g.treeNodeDragStart({event:j,treeNode:e})},handleDragOver:j=>{j.preventDefault(),o.props.draggable&&g.treeNodeDragOver({event:j,treeNode:{$el:p.value,node:e.node}})},handleDrop:j=>{j.preventDefault()},handleDragEnd:j=>{o.props.draggable&&g.treeNodeDragEnd(j)},CaretRight:Z3}}}),$1e=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],U1e=["aria-expanded"];function V1e(e,t,i,s,o,a){const l=cn("el-icon"),u=cn("el-checkbox"),f=cn("loading"),p=cn("node-content"),g=cn("el-tree-node"),v=cn("el-collapse-transition");return gn((B(),ne("div",{ref:"node$",class:U([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=rn((...b)=>e.handleClick&&e.handleClick(...b),["stop"])),onContextmenu:t[2]||(t[2]=(...b)=>e.handleContextMenu&&e.handleContextMenu(...b)),onDragstart:t[3]||(t[3]=rn((...b)=>e.handleDragStart&&e.handleDragStart(...b),["stop"])),onDragover:t[4]||(t[4]=rn((...b)=>e.handleDragOver&&e.handleDragOver(...b),["stop"])),onDragend:t[5]||(t[5]=rn((...b)=>e.handleDragEnd&&e.handleDragEnd(...b),["stop"])),onDrop:t[6]||(t[6]=rn((...b)=>e.handleDrop&&e.handleDrop(...b),["stop"]))},[ae("div",{class:U(e.ns.be("node","content")),style:Wt({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(B(),Be(l,{key:0,class:U([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:rn(e.handleExpandIconClick,["stop"])},{default:ve(()=>[(B(),Be(Bn(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):Oe("v-if",!0),e.showCheckbox?(B(),Be(u,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=rn(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):Oe("v-if",!0),e.node.loading?(B(),Be(l,{key:2,class:U([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:ve(()=>[fe(f)]),_:1},8,["class"])):Oe("v-if",!0),fe(p,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),fe(v,null,{default:ve(()=>[!e.renderAfterExpand||e.childNodeRendered?gn((B(),ne("div",{key:0,class:U(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(B(!0),ne(Ft,null,Un(e.node.childNodes,b=>(B(),Be(g,{key:e.getNodeKey(b),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:b,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,U1e)),[[oi,e.expanded]]):Oe("v-if",!0)]),_:1})],42,$1e)),[[oi,e.node.visible]])}var H1e=ht(z1e,[["render",V1e],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function W1e({el$:e},t){const i=nt("tree"),s=ki([]),o=ki([]);_n(()=>{l()}),Ga(()=>{s.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),et(o,u=>{u.forEach(f=>{f.setAttribute("tabindex","-1")})}),Vi(e,"keydown",u=>{const f=u.target;if(!f.className.includes(i.b("node")))return;const p=u.code;s.value=Array.from(e.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`));const g=s.value.indexOf(f);let v;if([Xt.up,Xt.down].includes(p)){if(u.preventDefault(),p===Xt.up){v=g===-1?0:g!==0?g-1:s.value.length-1;const w=v;for(;!t.value.getNode(s.value[v].dataset.key).canFocus;){if(v--,v===w){v=-1;break}v<0&&(v=s.value.length-1)}}else{v=g===-1?0:g<s.value.length-1?g+1:0;const w=v;for(;!t.value.getNode(s.value[v].dataset.key).canFocus;){if(v++,v===w){v=-1;break}v>=s.value.length&&(v=0)}}v!==-1&&s.value[v].focus()}[Xt.left,Xt.right].includes(p)&&(u.preventDefault(),f.click());const b=f.querySelector('[type="checkbox"]');[Xt.enter,Xt.space].includes(p)&&b&&(u.preventDefault(),b.click())});const l=()=>{var u;s.value=Array.from(e.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`)),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const f=e.value.querySelectorAll(`.${i.is("checked")}[role=treeitem]`);if(f.length){f[0].setAttribute("tabindex","0");return}(u=s.value[0])==null||u.setAttribute("tabindex","0")}}const G1e=_e({name:"ElTree",components:{ElTreeNode:H1e},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Pi}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:i}=ii(),s=nt("tree"),o=X(new O1e({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));o.value.initialize();const a=X(o.value.root),l=X(null),u=X(null),f=X(null),{broadcastExpanded:p}=DO(e),{dragState:g}=B1e({props:e,ctx:t,el$:u,dropIndicator$:f,store:o});W1e({el$:u},o);const v=D(()=>{const{childNodes:W}=a.value;return!W||W.length===0||W.every(({visible:ee})=>!ee)});et(()=>e.currentNodeKey,W=>{o.value.setCurrentNodeKey(W)}),et(()=>e.defaultCheckedKeys,W=>{o.value.setDefaultCheckedKey(W)}),et(()=>e.defaultExpandedKeys,W=>{o.value.setDefaultExpandedKeys(W)}),et(()=>e.data,W=>{o.value.setData(W)},{deep:!0}),et(()=>e.checkStrictly,W=>{o.value.checkStrictly=W});const b=W=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");o.value.filter(W)},w=W=>Cx(e.nodeKey,W.data),M=W=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const ee=o.value.getNode(W);if(!ee)return[];const J=[ee.data];let pe=ee.parent;for(;pe&&pe!==a.value;)J.push(pe.data),pe=pe.parent;return J.reverse()},x=(W,ee)=>o.value.getCheckedNodes(W,ee),E=W=>o.value.getCheckedKeys(W),C=()=>{const W=o.value.getCurrentNode();return W?W.data:null},k=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const W=C();return W?W[e.nodeKey]:null},R=(W,ee)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");o.value.setCheckedNodes(W,ee)},P=(W,ee)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");o.value.setCheckedKeys(W,ee)},O=(W,ee,J)=>{o.value.setChecked(W,ee,J)},F=()=>o.value.getHalfCheckedNodes(),G=()=>o.value.getHalfCheckedKeys(),H=(W,ee=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");bw(o,t.emit,()=>o.value.setUserCurrentNode(W,ee))},j=(W,ee=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");bw(o,t.emit,()=>o.value.setCurrentNodeKey(W,ee))},q=W=>o.value.getNode(W),ie=W=>{o.value.remove(W)},Q=(W,ee)=>{o.value.append(W,ee)},Z=(W,ee)=>{o.value.insertBefore(W,ee)},re=(W,ee)=>{o.value.insertAfter(W,ee)},ce=(W,ee,J)=>{p(ee),t.emit("node-expand",W,ee,J)},te=(W,ee)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");o.value.updateChildren(W,ee)};return On("RootTree",{ctx:t,props:e,store:o,root:a,currentNode:l,instance:Tn()}),On(ia,void 0),{ns:s,store:o,root:a,currentNode:l,dragState:g,el$:u,dropIndicator$:f,isEmpty:v,filter:b,getNodeKey:w,getNodePath:M,getCheckedNodes:x,getCheckedKeys:E,getCurrentNode:C,getCurrentKey:k,setCheckedNodes:R,setCheckedKeys:P,setChecked:O,getHalfCheckedNodes:F,getHalfCheckedKeys:G,setCurrentNode:H,setCurrentKey:j,t:i,getNode:q,remove:ie,append:Q,insertBefore:Z,insertAfter:re,handleNodeExpand:ce,updateKeyChildren:te}}});function K1e(e,t,i,s,o,a){const l=cn("el-tree-node");return B(),ne("div",{ref:"el$",class:U([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(B(!0),ne(Ft,null,Un(e.root.childNodes,u=>(B(),Be(l,{key:e.getNodeKey(u),node:u,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(B(),ne("div",{key:0,class:U(e.ns.e("empty-block"))},[qe(e.$slots,"empty",{},()=>{var u;return[ae("span",{class:U(e.ns.e("empty-text"))},ft((u=e.emptyText)!=null?u:e.t("el.tree.emptyText")),3)]})],2)):Oe("v-if",!0),gn(ae("div",{ref:"dropIndicator$",class:U(e.ns.e("drop-indicator"))},null,2),[[oi,e.dragState.showDropIndicator]])],2)}var Cv=ht(G1e,[["render",K1e],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);Cv.install=e=>{e.component(Cv.name,Cv)};const e0=Cv,q1e=e0,j1e=(e,{attrs:t},{tree:i,key:s})=>{const o=nt("tree-select"),a={...Oa(gs(e),Object.keys(Qc.props)),...t,valueKey:s,popperClass:D(()=>{const l=[o.e("popper")];return e.popperClass&&l.push(e.popperClass),l.join(" ")}),filterMethod:(l="")=>{e.filterMethod&&e.filterMethod(l),Bt(()=>{var u;(u=i.value)==null||u.filter(l)})},onVisibleChange:l=>{var u;(u=t.onVisibleChange)==null||u.call(t,l),e.filterable&&l&&a.filterMethod()}};return a},X1e=_e({extends:Kv,setup(e,t){const i=Kv.setup(e,t);delete i.selectOptionClick;const s=Tn().proxy;return Bt(()=>{i.select.cachedOptions.get(s.value)||i.select.onOptionCreate(s)}),i},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function ww(e){return e||e===0}function Tx(e){return Array.isArray(e)&&e.length}function Q_(e){return Array.isArray(e)?e:ww(e)?[e]:[]}function Tv(e,t,i,s,o){for(let a=0;a<e.length;a++){const l=e[a];if(t(l,a,e,o))return s?s(l,a,e,o):l;{const u=i(l);if(Tx(u)){const f=Tv(u,t,i,s,l);if(f)return f}}}}function BO(e,t,i,s){for(let o=0;o<e.length;o++){const a=e[o];t(a,o,e,s);const l=i(a);Tx(l)&&BO(l,t,i,a)}}const Y1e=(e,{attrs:t,slots:i,emit:s},{select:o,tree:a,key:l})=>{et(()=>e.modelValue,()=>{e.showCheckbox&&Bt(()=>{const v=a.value;v&&!Br(v.getCheckedKeys(),Q_(e.modelValue))&&v.setCheckedKeys(Q_(e.modelValue))})},{immediate:!0,deep:!0});const u=D(()=>({value:l.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...e.props})),f=(v,b)=>{var w;const M=u.value[v];return an(M)?M(b,(w=a.value)==null?void 0:w.getNode(f("value",b))):b[M]},p=Q_(e.modelValue).map(v=>Tv(e.data||[],b=>f("value",b)===v,b=>f("children",b),(b,w,M,x)=>x&&f("value",x))).filter(v=>ww(v)),g=D(()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const v=[];return BO(e.data.concat(e.cacheData),b=>{const w=f("value",b);v.push({value:w,currentLabel:f("label",b),isDisabled:f("disabled",b)})},b=>f("children",b)),v});return{...Oa(gs(e),Object.keys(e0.props)),...t,nodeKey:l,expandOnClickNode:D(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:D(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(p):p),renderContent:(v,{node:b,data:w,store:M})=>v(X1e,{value:f("value",w),label:f("label",w),disabled:f("disabled",w)},e.renderContent?()=>e.renderContent(v,{node:b,data:w,store:M}):i.default?()=>i.default({node:b,data:w,store:M}):void 0),filterNodeMethod:(v,b,w)=>{var M;return e.filterNodeMethod?e.filterNodeMethod(v,b,w):v?(M=f("label",b))==null?void 0:M.includes(v):!0},onNodeClick:(v,b,w)=>{var M,x,E;if((M=t.onNodeClick)==null||M.call(t,v,b,w),!(e.showCheckbox&&e.checkOnClickNode))if(!e.showCheckbox&&(e.checkStrictly||b.isLeaf)){if(!f("disabled",v)){const C=(x=o.value)==null?void 0:x.options.get(f("value",v));(E=o.value)==null||E.handleOptionSelect(C,!0)}}else e.expandOnClickNode&&w.proxy.handleExpandIconClick()},onCheck:(v,b)=>{var w;(w=t.onCheck)==null||w.call(t,v,b);const M=f("value",v);if(e.checkStrictly)s(Rn,e.multiple?b.checkedKeys:b.checkedKeys.includes(M)?M:void 0);else if(e.multiple)s(Rn,a.value.getCheckedKeys(!0));else{const x=Tv([v],k=>!Tx(f("children",k))&&!f("disabled",k),k=>f("children",k)),E=x?f("value",x):void 0,C=ww(e.modelValue)&&!!Tv([v],k=>f("value",k)===e.modelValue,k=>f("children",k));s(Rn,E===e.modelValue||C?void 0:E)}},cacheOptions:g}};var Z1e=_e({props:{data:{type:Array,default:()=>[]}},setup(e){const t=Lt(Bp);return et(()=>e.data,()=>{var i;e.data.forEach(o=>{t.cachedOptions.has(o.value)||t.cachedOptions.set(o.value,o)});const s=((i=t.selectWrapper)==null?void 0:i.querySelectorAll("input"))||[];Array.from(s).includes(document.activeElement)||t.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const J1e=_e({name:"ElTreeSelect",inheritAttrs:!1,props:{...Qc.props,...e0.props,cacheData:{type:Array,default:()=>[]}},setup(e,t){const{slots:i,expose:s}=t,o=X(),a=X(),l=D(()=>e.nodeKey||e.valueKey||"value"),u=j1e(e,t,{select:o,tree:a,key:l}),{cacheOptions:f,...p}=Y1e(e,t,{select:o,tree:a,key:l}),g=ai({});return s(g),_n(()=>{Object.assign(g,{...Oa(a.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...Oa(o.value,["focus","blur"])})}),()=>Yt(Qc,ai({...u,ref:v=>o.value=v}),{...i,default:()=>[Yt(Z1e,{data:f.value}),Yt(e0,ai({...p,ref:v=>a.value=v}))]})}});var Av=ht(J1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue"]]);Av.install=e=>{e.component(Av.name,Av)};const Q1e=Av,ewe=Q1e,Ax=Symbol(),twe={key:-1,level:-1,data:{}};var Sh=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e))(Sh||{}),Sw=(e=>(e.ADD="add",e.DELETE="delete",e))(Sw||{});const zO={type:Number,default:26},nwe=pt({data:{type:De(Array),default:()=>Ui([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:De(Object),default:()=>Ui({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:De(Array),default:()=>Ui([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:De(Array),default:()=>Ui([])},indent:{type:Number,default:16},itemSize:zO,icon:{type:Pi},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:De([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:De(Function)},perfMode:{type:Boolean,default:!0}}),iwe=pt({node:{type:De(Object),default:()=>Ui(twe)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:zO}),swe=pt({node:{type:De(Object),required:!0}}),$O="node-click",UO="node-expand",VO="node-collapse",HO="current-change",WO="check",GO="check-change",KO="node-contextmenu",rwe={[$O]:(e,t,i)=>e&&t&&i,[UO]:(e,t)=>e&&t,[VO]:(e,t)=>e&&t,[HO]:(e,t)=>e&&t,[WO]:(e,t)=>e&&t,[GO]:(e,t)=>e&&typeof t=="boolean",[KO]:(e,t,i)=>e&&t&&i},owe={click:(e,t)=>!!(e&&t),toggle:e=>!!e,check:(e,t)=>e&&typeof t=="boolean"};function awe(e,t){const i=X(new Set),s=X(new Set),{emit:o}=Tn();et([()=>t.value,()=>e.defaultCheckedKeys],()=>Bt(()=>{k(e.defaultCheckedKeys)}),{immediate:!0});const a=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:R,maxLevel:P}=t.value,O=i.value,F=new Set;for(let G=P-1;G>=1;--G){const H=R.get(G);H&&H.forEach(j=>{const q=j.children;if(q){let ie=!0,Q=!1;for(const Z of q){const re=Z.key;if(O.has(re))Q=!0;else if(F.has(re)){ie=!1,Q=!0;break}else ie=!1}ie?O.add(j.key):Q?(F.add(j.key),O.delete(j.key)):(O.delete(j.key),F.delete(j.key))}})}s.value=F},l=R=>i.value.has(R.key),u=R=>s.value.has(R.key),f=(R,P,O=!0)=>{const F=i.value,G=(H,j)=>{F[j?Sw.ADD:Sw.DELETE](H.key);const q=H.children;!e.checkStrictly&&q&&q.forEach(ie=>{ie.disabled||G(ie,j)})};G(R,P),a(),O&&p(R,P)},p=(R,P)=>{const{checkedNodes:O,checkedKeys:F}=M(),{halfCheckedNodes:G,halfCheckedKeys:H}=x();o(WO,R.data,{checkedKeys:F,checkedNodes:O,halfCheckedKeys:H,halfCheckedNodes:G}),o(GO,R.data,P)};function g(R=!1){return M(R).checkedKeys}function v(R=!1){return M(R).checkedNodes}function b(){return x().halfCheckedKeys}function w(){return x().halfCheckedNodes}function M(R=!1){const P=[],O=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:F}=t.value;i.value.forEach(G=>{const H=F.get(G);H&&(!R||R&&H.isLeaf)&&(O.push(G),P.push(H.data))})}return{checkedKeys:O,checkedNodes:P}}function x(){const R=[],P=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:O}=t.value;s.value.forEach(F=>{const G=O.get(F);G&&(P.push(F),R.push(G.data))})}return{halfCheckedNodes:R,halfCheckedKeys:P}}function E(R){i.value.clear(),s.value.clear(),k(R)}function C(R,P){if(t!=null&&t.value&&e.showCheckbox){const O=t.value.treeNodeMap.get(R);O&&f(O,P,!1)}}function k(R){if(t!=null&&t.value){const{treeNodeMap:P}=t.value;if(e.showCheckbox&&P&&R)for(const O of R){const F=P.get(O);F&&!l(F)&&f(F,!0,!1)}}}return{updateCheckedKeys:a,toggleCheckbox:f,isChecked:l,isIndeterminate:u,getCheckedKeys:g,getCheckedNodes:v,getHalfCheckedKeys:b,getHalfCheckedNodes:w,setChecked:C,setCheckedKeys:E}}function lwe(e,t){const i=X(new Set([])),s=X(new Set([])),o=D(()=>an(e.filterMethod));function a(u){var f;if(!o.value)return;const p=new Set,g=s.value,v=i.value,b=[],w=((f=t.value)==null?void 0:f.treeNodes)||[],M=e.filterMethod;v.clear();function x(E){E.forEach(C=>{b.push(C),M!=null&&M(u,C.data)?b.forEach(R=>{p.add(R.key)}):C.isLeaf&&v.add(C.key);const k=C.children;if(k&&x(k),!C.isLeaf){if(!p.has(C.key))v.add(C.key);else if(k){let R=!0;for(const P of k)if(!v.has(P.key)){R=!1;break}R?g.add(C.key):g.delete(C.key)}}b.pop()})}return x(w),p}function l(u){return s.value.has(u.key)}return{hiddenExpandIconKeySet:s,hiddenNodeKeySet:i,doFilter:a,isForceHiddenExpandIcon:l}}function cwe(e,t){const i=X(new Set(e.defaultExpandedKeys)),s=X(),o=ki();et(()=>e.currentNodeKey,ge=>{s.value=ge},{immediate:!0}),et(()=>e.data,ge=>{xe(ge)},{immediate:!0});const{isIndeterminate:a,isChecked:l,toggleCheckbox:u,getCheckedKeys:f,getCheckedNodes:p,getHalfCheckedKeys:g,getHalfCheckedNodes:v,setChecked:b,setCheckedKeys:w}=awe(e,o),{doFilter:M,hiddenNodeKeySet:x,isForceHiddenExpandIcon:E}=lwe(e,o),C=D(()=>{var ge;return((ge=e.props)==null?void 0:ge.value)||Sh.KEY}),k=D(()=>{var ge;return((ge=e.props)==null?void 0:ge.children)||Sh.CHILDREN}),R=D(()=>{var ge;return((ge=e.props)==null?void 0:ge.disabled)||Sh.DISABLED}),P=D(()=>{var ge;return((ge=e.props)==null?void 0:ge.label)||Sh.LABEL}),O=D(()=>{const ge=i.value,Le=x.value,Ue=[],ut=o.value&&o.value.treeNodes||[];function ue(){const we=[];for(let Ve=ut.length-1;Ve>=0;--Ve)we.push(ut[Ve]);for(;we.length;){const Ve=we.pop();if(Ve&&(Le.has(Ve.key)||Ue.push(Ve),ge.has(Ve.key))){const Ye=Ve.children;if(Ye){const lt=Ye.length;for(let He=lt-1;He>=0;--He)we.push(Ye[He])}}}}return ue(),Ue}),F=D(()=>O.value.length>0);function G(ge){const Le=new Map,Ue=new Map;let ut=1;function ue(Ve,Ye=1,lt=void 0){var He;const ct=[];for(const Qe of Ve){const rt=q(Qe),Je={level:Ye,key:rt,data:Qe};Je.label=Q(Qe),Je.parent=lt;const Mt=j(Qe);Je.disabled=ie(Qe),Je.isLeaf=!Mt||Mt.length===0,Mt&&Mt.length&&(Je.children=ue(Mt,Ye+1,Je)),ct.push(Je),Le.set(rt,Je),Ue.has(Ye)||Ue.set(Ye,[]),(He=Ue.get(Ye))==null||He.push(Je)}return Ye>ut&&(ut=Ye),ct}const we=ue(ge);return{treeNodeMap:Le,levelTreeNodeMap:Ue,maxLevel:ut,treeNodes:we}}function H(ge){const Le=M(ge);Le&&(i.value=Le)}function j(ge){return ge[k.value]}function q(ge){return ge?ge[C.value]:""}function ie(ge){return ge[R.value]}function Q(ge){return ge[P.value]}function Z(ge){i.value.has(ge.key)?J(ge):ee(ge)}function re(ge){i.value=new Set(ge)}function ce(ge,Le){t($O,ge.data,ge,Le),te(ge),e.expandOnClickNode&&Z(ge),e.showCheckbox&&e.checkOnClickNode&&!ge.disabled&&u(ge,!l(ge),!0)}function te(ge){he(ge)||(s.value=ge.key,t(HO,ge.data,ge))}function W(ge,Le){u(ge,Le)}function ee(ge){const Le=i.value;if(o.value&&e.accordion){const{treeNodeMap:Ue}=o.value;Le.forEach(ut=>{const ue=Ue.get(ut);ge&&ge.level===(ue==null?void 0:ue.level)&&Le.delete(ut)})}Le.add(ge.key),t(UO,ge.data,ge)}function J(ge){i.value.delete(ge.key),t(VO,ge.data,ge)}function pe(ge){return i.value.has(ge.key)}function Ee(ge){return!!ge.disabled}function he(ge){const Le=s.value;return!!Le&&Le===ge.key}function Ce(){var ge,Le;if(s.value)return(Le=(ge=o.value)==null?void 0:ge.treeNodeMap.get(s.value))==null?void 0:Le.data}function Ge(){return s.value}function Te(ge){s.value=ge}function xe(ge){Bt(()=>o.value=G(ge))}function Ie(ge){var Le;const Ue=Pn(ge)?q(ge):ge;return(Le=o.value)==null?void 0:Le.treeNodeMap.get(Ue)}return{tree:o,flattenTree:O,isNotEmpty:F,getKey:q,getChildren:j,toggleExpand:Z,toggleCheckbox:u,isExpanded:pe,isChecked:l,isIndeterminate:a,isDisabled:Ee,isCurrent:he,isForceHiddenExpandIcon:E,handleNodeClick:ce,handleNodeCheck:W,getCurrentNode:Ce,getCurrentKey:Ge,setCurrentKey:Te,getCheckedKeys:f,getCheckedNodes:p,getHalfCheckedKeys:g,getHalfCheckedNodes:v,setChecked:b,setCheckedKeys:w,filter:H,setData:xe,getNode:Ie,expandNode:ee,collapseNode:J,setExpandedKeys:re}}var uwe=_e({name:"ElTreeNodeContent",props:swe,setup(e){const t=Lt(Ax),i=nt("tree");return()=>{const s=e.node,{data:o}=s;return t!=null&&t.ctx.slots.default?t.ctx.slots.default({node:s,data:o}):Yt("span",{class:i.be("node","label")},[s==null?void 0:s.label])}}});const dwe=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],fwe=_e({name:"ElTreeNode"}),hwe=_e({...fwe,props:iwe,emits:owe,setup(e,{emit:t}){const i=e,s=Lt(Ax),o=nt("tree"),a=D(()=>{var v;return(v=s==null?void 0:s.props.indent)!=null?v:16}),l=D(()=>{var v;return(v=s==null?void 0:s.props.icon)!=null?v:Z3}),u=v=>{t("click",i.node,v)},f=()=>{t("toggle",i.node)},p=v=>{t("check",i.node,v)},g=v=>{var b,w,M,x;(M=(w=(b=s==null?void 0:s.instance)==null?void 0:b.vnode)==null?void 0:w.props)!=null&&M.onNodeContextmenu&&(v.stopPropagation(),v.preventDefault()),s==null||s.ctx.emit(KO,v,(x=i.node)==null?void 0:x.data,i.node)};return(v,b)=>{var w,M,x;return B(),ne("div",{ref:"node$",class:U([h(o).b("node"),h(o).is("expanded",v.expanded),h(o).is("current",v.current),h(o).is("focusable",!v.disabled),h(o).is("checked",!v.disabled&&v.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":v.expanded,"aria-disabled":v.disabled,"aria-checked":v.checked,"data-key":(w=v.node)==null?void 0:w.key,onClick:rn(u,["stop"]),onContextmenu:g},[ae("div",{class:U(h(o).be("node","content")),style:Wt({paddingLeft:`${(v.node.level-1)*h(a)}px`,height:v.itemSize+"px"})},[h(l)?(B(),Be(h(zt),{key:0,class:U([h(o).is("leaf",!!((M=v.node)!=null&&M.isLeaf)),h(o).is("hidden",v.hiddenExpandIcon),{expanded:!((x=v.node)!=null&&x.isLeaf)&&v.expanded},h(o).be("node","expand-icon")]),onClick:rn(f,["stop"])},{default:ve(()=>[(B(),Be(Bn(h(l))))]),_:1},8,["class","onClick"])):Oe("v-if",!0),v.showCheckbox?(B(),Be(h(ro),{key:1,"model-value":v.checked,indeterminate:v.indeterminate,disabled:v.disabled,onChange:p,onClick:b[0]||(b[0]=rn(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):Oe("v-if",!0),fe(h(uwe),{node:v.node},null,8,["node"])],6)],42,dwe)}}});var pwe=ht(hwe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree-node.vue"]]);const mwe=_e({name:"ElTreeV2"}),gwe=_e({...mwe,props:nwe,emits:rwe,setup(e,{expose:t,emit:i}){const s=e,o=Rs(),a=D(()=>s.itemSize);On(Ax,{ctx:{emit:i,slots:o},props:s,instance:Tn()}),On(ia,void 0);const{t:l}=ii(),u=nt("tree"),{flattenTree:f,isNotEmpty:p,toggleExpand:g,isExpanded:v,isIndeterminate:b,isChecked:w,isDisabled:M,isCurrent:x,isForceHiddenExpandIcon:E,handleNodeClick:C,handleNodeCheck:k,toggleCheckbox:R,getCurrentNode:P,getCurrentKey:O,setCurrentKey:F,getCheckedKeys:G,getCheckedNodes:H,getHalfCheckedKeys:j,getHalfCheckedNodes:q,setChecked:ie,setCheckedKeys:Q,filter:Z,setData:re,getNode:ce,expandNode:te,collapseNode:W,setExpandedKeys:ee}=cwe(s,i);return t({toggleCheckbox:R,getCurrentNode:P,getCurrentKey:O,setCurrentKey:F,getCheckedKeys:G,getCheckedNodes:H,getHalfCheckedKeys:j,getHalfCheckedNodes:q,setChecked:ie,setCheckedKeys:Q,filter:Z,setData:re,getNode:ce,expandNode:te,collapseNode:W,setExpandedKeys:ee}),(J,pe)=>{var Ee;return B(),ne("div",{class:U([h(u).b(),{[h(u).m("highlight-current")]:J.highlightCurrent}]),role:"tree"},[h(p)?(B(),Be(h(JN),{key:0,"class-name":h(u).b("virtual-list"),data:h(f),total:h(f).length,height:J.height,"item-size":h(a),"perf-mode":J.perfMode},{default:ve(({data:he,index:Ce,style:Ge})=>[(B(),Be(pwe,{key:he[Ce].key,style:Wt(Ge),node:he[Ce],expanded:h(v)(he[Ce]),"show-checkbox":J.showCheckbox,checked:h(w)(he[Ce]),indeterminate:h(b)(he[Ce]),"item-size":h(a),disabled:h(M)(he[Ce]),current:h(x)(he[Ce]),"hidden-expand-icon":h(E)(he[Ce]),onClick:h(C),onToggle:h(g),onCheck:h(k)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(B(),ne("div",{key:1,class:U(h(u).e("empty-block"))},[ae("span",{class:U(h(u).e("empty-text"))},ft((Ee=J.emptyText)!=null?Ee:h(l)("el.tree.emptyText")),3)],2))],2)}}});var vwe=ht(gwe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree.vue"]]);const ywe=Cn(vwe),qO=Symbol("uploadContextKey"),bwe="ElUpload";class _we extends Error{constructor(t,i,s,o){super(t),this.name="UploadAjaxError",this.status=i,this.method=s,this.url=o}}function ek(e,t,i){let s;return i.response?s=`${i.response.error||i.response}`:i.responseText?s=`${i.responseText}`:s=`fail to ${t.method} ${e} ${i.status}`,new _we(s,i.status,t.method,e)}function wwe(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const Swe=e=>{typeof XMLHttpRequest>"u"&&vs(bwe,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,i=e.action;t.upload&&t.upload.addEventListener("progress",a=>{const l=a;l.percent=a.total>0?a.loaded/a.total*100:0,e.onProgress(l)});const s=new FormData;if(e.data)for(const[a,l]of Object.entries(e.data))Array.isArray(l)?s.append(a,...l):s.append(a,l);s.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(ek(i,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(ek(i,e,t));e.onSuccess(wwe(t))}),t.open(e.method,i,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const o=e.headers||{};if(o instanceof Headers)o.forEach((a,l)=>t.setRequestHeader(l,a));else for(const[a,l]of Object.entries(o))us(l)||t.setRequestHeader(a,String(l));return t.send(s),t},jO=["text","picture","picture-card"];let xwe=1;const xw=()=>Date.now()+xwe++,XO=pt({action:{type:String,default:"#"},headers:{type:De(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>Ui({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:De(Array),default:()=>Ui([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:jO,default:"text"},httpRequest:{type:De(Function),default:Swe},disabled:Boolean,limit:Number}),Mwe=pt({...XO,beforeUpload:{type:De(Function),default:_i},beforeRemove:{type:De(Function)},onRemove:{type:De(Function),default:_i},onChange:{type:De(Function),default:_i},onPreview:{type:De(Function),default:_i},onSuccess:{type:De(Function),default:_i},onProgress:{type:De(Function),default:_i},onError:{type:De(Function),default:_i},onExceed:{type:De(Function),default:_i}}),Ewe=pt({files:{type:De(Array),default:()=>Ui([])},disabled:{type:Boolean,default:!1},handlePreview:{type:De(Function),default:_i},listType:{type:String,values:jO,default:"text"}}),Cwe={remove:e=>!!e},Twe=["onKeydown"],Awe=["src"],Rwe=["onClick"],kwe=["onClick"],Pwe=["onClick"],Iwe=_e({name:"ElUploadList"}),Lwe=_e({...Iwe,props:Ewe,emits:Cwe,setup(e,{emit:t}){const{t:i}=ii(),s=nt("upload"),o=nt("icon"),a=nt("list"),l=_r(),u=X(!1),f=p=>{t("remove",p)};return(p,g)=>(B(),Be(pP,{tag:"ul",class:U([h(s).b("list"),h(s).bm("list",p.listType),h(s).is("disabled",h(l))]),name:h(a).b()},{default:ve(()=>[(B(!0),ne(Ft,null,Un(p.files,v=>(B(),ne("li",{key:v.uid||v.name,class:U([h(s).be("list","item"),h(s).is(v.status),{focusing:u.value}]),tabindex:"0",onKeydown:ei(b=>!h(l)&&f(v),["delete"]),onFocus:g[0]||(g[0]=b=>u.value=!0),onBlur:g[1]||(g[1]=b=>u.value=!1),onClick:g[2]||(g[2]=b=>u.value=!1)},[qe(p.$slots,"default",{file:v},()=>[p.listType==="picture"||v.status!=="uploading"&&p.listType==="picture-card"?(B(),ne("img",{key:0,class:U(h(s).be("list","item-thumbnail")),src:v.url,alt:""},null,10,Awe)):Oe("v-if",!0),v.status==="uploading"||p.listType!=="picture-card"?(B(),ne("div",{key:1,class:U(h(s).be("list","item-info"))},[ae("a",{class:U(h(s).be("list","item-name")),onClick:rn(b=>p.handlePreview(v),["prevent"])},[fe(h(zt),{class:U(h(o).m("document"))},{default:ve(()=>[fe(h(Q3))]),_:1},8,["class"]),ae("span",{class:U(h(s).be("list","item-file-name"))},ft(v.name),3)],10,Rwe),v.status==="uploading"?(B(),Be(h(HN),{key:0,type:p.listType==="picture-card"?"circle":"line","stroke-width":p.listType==="picture-card"?6:2,percentage:Number(v.percentage),style:Wt(p.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):Oe("v-if",!0)],2)):Oe("v-if",!0),ae("label",{class:U(h(s).be("list","item-status-label"))},[p.listType==="text"?(B(),Be(h(zt),{key:0,class:U([h(o).m("upload-success"),h(o).m("circle-check")])},{default:ve(()=>[fe(h(CS))]),_:1},8,["class"])):["picture-card","picture"].includes(p.listType)?(B(),Be(h(zt),{key:1,class:U([h(o).m("upload-success"),h(o).m("check")])},{default:ve(()=>[fe(h(Np))]),_:1},8,["class"])):Oe("v-if",!0)],2),h(l)?Oe("v-if",!0):(B(),Be(h(zt),{key:2,class:U(h(o).m("close")),onClick:b=>f(v)},{default:ve(()=>[fe(h(Lo))]),_:2},1032,["class","onClick"])),Oe(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),Oe(" This is a bug which needs to be fixed "),Oe(" TODO: Fix the incorrect navigation interaction "),h(l)?Oe("v-if",!0):(B(),ne("i",{key:3,class:U(h(o).m("close-tip"))},ft(h(i)("el.upload.deleteTip")),3)),p.listType==="picture-card"?(B(),ne("span",{key:4,class:U(h(s).be("list","item-actions"))},[ae("span",{class:U(h(s).be("list","item-preview")),onClick:b=>p.handlePreview(v)},[fe(h(zt),{class:U(h(o).m("zoom-in"))},{default:ve(()=>[fe(h(nI))]),_:1},8,["class"])],10,kwe),h(l)?Oe("v-if",!0):(B(),ne("span",{key:0,class:U(h(s).be("list","item-delete")),onClick:b=>f(v)},[fe(h(zt),{class:U(h(o).m("delete"))},{default:ve(()=>[fe(h(aJ))]),_:1},8,["class"])],10,Pwe))],2)):Oe("v-if",!0)])],42,Twe))),128)),qe(p.$slots,"append")]),_:3},8,["class","name"]))}});var tk=ht(Lwe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const Nwe=pt({disabled:{type:Boolean,default:!1}}),Owe={file:e=>Nt(e)},Dwe=["onDrop","onDragover"],YO="ElUploadDrag",Fwe=_e({name:YO}),Bwe=_e({...Fwe,props:Nwe,emits:Owe,setup(e,{emit:t}){const i=Lt(qO);i||vs(YO,"usage: <el-upload><el-upload-dragger /></el-upload>");const s=nt("upload"),o=X(!1),a=_r(),l=f=>{if(a.value)return;o.value=!1,f.stopPropagation();const p=Array.from(f.dataTransfer.files),g=i.accept.value;if(!g){t("file",p);return}const v=p.filter(b=>{const{type:w,name:M}=b,x=M.includes(".")?`.${M.split(".").pop()}`:"",E=w.replace(/\/.*$/,"");return g.split(",").map(C=>C.trim()).filter(C=>C).some(C=>C.startsWith(".")?x===C:/\/\*$/.test(C)?E===C.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(C)?w===C:!1)});t("file",v)},u=()=>{a.value||(o.value=!0)};return(f,p)=>(B(),ne("div",{class:U([h(s).b("dragger"),h(s).is("dragover",o.value)]),onDrop:rn(l,["prevent"]),onDragover:rn(u,["prevent"]),onDragleave:p[0]||(p[0]=rn(g=>o.value=!1,["prevent"]))},[qe(f.$slots,"default")],42,Dwe))}});var zwe=ht(Bwe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const $we=pt({...XO,beforeUpload:{type:De(Function),default:_i},onRemove:{type:De(Function),default:_i},onStart:{type:De(Function),default:_i},onSuccess:{type:De(Function),default:_i},onProgress:{type:De(Function),default:_i},onError:{type:De(Function),default:_i},onExceed:{type:De(Function),default:_i}}),Uwe=["onKeydown"],Vwe=["name","multiple","accept"],Hwe=_e({name:"ElUploadContent",inheritAttrs:!1}),Wwe=_e({...Hwe,props:$we,setup(e,{expose:t}){const i=e,s=nt("upload"),o=_r(),a=ki({}),l=ki(),u=M=>{if(M.length===0)return;const{autoUpload:x,limit:E,fileList:C,multiple:k,onStart:R,onExceed:P}=i;if(E&&C.length+M.length>E){P(M,C);return}k||(M=M.slice(0,1));for(const O of M){const F=O;F.uid=xw(),R(F),x&&f(F)}},f=async M=>{if(l.value.value="",!i.beforeUpload)return p(M);let x,E={};try{const k=i.beforeUpload(M);E=Pn(i.data)?xS(i.data):i.data,x=await k}catch{x=!1}if(x===!1){i.onRemove(M);return}let C=M;x instanceof Blob&&(x instanceof File?C=x:C=new File([x],M.name,{type:M.type})),p(Object.assign(C,{uid:M.uid}),E)},p=(M,x)=>{const{headers:E,data:C,method:k,withCredentials:R,name:P,action:O,onProgress:F,onSuccess:G,onError:H,httpRequest:j}=i,{uid:q}=M,ie={headers:E||{},withCredentials:R,file:M,data:x??C,method:k,filename:P,action:O,onProgress:Z=>{F(Z,M)},onSuccess:Z=>{G(Z,M),delete a.value[q]},onError:Z=>{H(Z,M),delete a.value[q]}},Q=j(ie);a.value[q]=Q,Q instanceof Promise&&Q.then(ie.onSuccess,ie.onError)},g=M=>{const x=M.target.files;x&&u(Array.from(x))},v=()=>{o.value||(l.value.value="",l.value.click())},b=()=>{v()};return t({abort:M=>{hY(a.value).filter(M?([E])=>String(M.uid)===E:()=>!0).forEach(([E,C])=>{C instanceof XMLHttpRequest&&C.abort(),delete a.value[E]})},upload:f}),(M,x)=>(B(),ne("div",{class:U([h(s).b(),h(s).m(M.listType),h(s).is("drag",M.drag)]),tabindex:"0",onClick:v,onKeydown:ei(rn(b,["self"]),["enter","space"])},[M.drag?(B(),Be(zwe,{key:0,disabled:h(o),onFile:u},{default:ve(()=>[qe(M.$slots,"default")]),_:3},8,["disabled"])):qe(M.$slots,"default",{key:1}),ae("input",{ref_key:"inputRef",ref:l,class:U(h(s).e("input")),name:M.name,multiple:M.multiple,accept:M.accept,type:"file",onChange:g,onClick:x[0]||(x[0]=rn(()=>{},["stop"]))},null,42,Vwe)],42,Uwe))}});var nk=ht(Wwe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const ik="ElUpload",Gwe=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},Kwe=(e,t)=>{const i=i9(e,"fileList",void 0,{passive:!0}),s=b=>i.value.find(w=>w.uid===b.uid);function o(b){var w;(w=t.value)==null||w.abort(b)}function a(b=["ready","uploading","success","fail"]){i.value=i.value.filter(w=>!b.includes(w.status))}const l=(b,w)=>{const M=s(w);M&&(console.error(b),M.status="fail",i.value.splice(i.value.indexOf(M),1),e.onError(b,M,i.value),e.onChange(M,i.value))},u=(b,w)=>{const M=s(w);M&&(e.onProgress(b,M,i.value),M.status="uploading",M.percentage=Math.round(b.percent))},f=(b,w)=>{const M=s(w);M&&(M.status="success",M.response=b,e.onSuccess(b,M,i.value),e.onChange(M,i.value))},p=b=>{us(b.uid)&&(b.uid=xw());const w={name:b.name,percentage:0,status:"ready",size:b.size,raw:b,uid:b.uid};if(e.listType==="picture-card"||e.listType==="picture")try{w.url=URL.createObjectURL(b)}catch(M){M.message,e.onError(M,w,i.value)}i.value=[...i.value,w],e.onChange(w,i.value)},g=async b=>{const w=b instanceof File?s(b):b;w||vs(ik,"file to be removed not found");const M=x=>{o(x);const E=i.value;E.splice(E.indexOf(x),1),e.onRemove(x,E),Gwe(x)};e.beforeRemove?await e.beforeRemove(w,i.value)!==!1&&M(w):M(w)};function v(){i.value.filter(({status:b})=>b==="ready").forEach(({raw:b})=>{var w;return b&&((w=t.value)==null?void 0:w.upload(b))})}return et(()=>e.listType,b=>{b!=="picture-card"&&b!=="picture"||(i.value=i.value.map(w=>{const{raw:M,url:x}=w;if(!x&&M)try{w.url=URL.createObjectURL(M)}catch(E){e.onError(E,w,i.value)}return w}))}),et(i,b=>{for(const w of b)w.uid||(w.uid=xw()),w.status||(w.status="success")},{immediate:!0,deep:!0}),{uploadFiles:i,abort:o,clearFiles:a,handleError:l,handleProgress:u,handleStart:p,handleSuccess:f,handleRemove:g,submit:v}},qwe=_e({name:"ElUpload"}),jwe=_e({...qwe,props:Mwe,setup(e,{expose:t}){const i=e,s=Rs(),o=_r(),a=ki(),{abort:l,submit:u,clearFiles:f,uploadFiles:p,handleStart:g,handleError:v,handleRemove:b,handleSuccess:w,handleProgress:M}=Kwe(i,a),x=D(()=>i.listType==="picture-card"),E=D(()=>({...i,fileList:p.value,onStart:g,onProgress:M,onSuccess:w,onError:v,onRemove:b}));return Di(()=>{p.value.forEach(({url:C})=>{C!=null&&C.startsWith("blob:")&&URL.revokeObjectURL(C)})}),On(qO,{accept:Oi(i,"accept")}),t({abort:l,submit:u,clearFiles:f,handleStart:g,handleRemove:b}),(C,k)=>(B(),ne("div",null,[h(x)&&C.showFileList?(B(),Be(tk,{key:0,disabled:h(o),"list-type":C.listType,files:h(p),"handle-preview":C.onPreview,onRemove:h(b)},Ua({append:ve(()=>[fe(nk,kn({ref_key:"uploadRef",ref:a},h(E)),{default:ve(()=>[h(s).trigger?qe(C.$slots,"trigger",{key:0}):Oe("v-if",!0),!h(s).trigger&&h(s).default?qe(C.$slots,"default",{key:1}):Oe("v-if",!0)]),_:3},16)]),_:2},[C.$slots.file?{name:"default",fn:ve(({file:R})=>[qe(C.$slots,"file",{file:R})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):Oe("v-if",!0),!h(x)||h(x)&&!C.showFileList?(B(),Be(nk,kn({key:1,ref_key:"uploadRef",ref:a},h(E)),{default:ve(()=>[h(s).trigger?qe(C.$slots,"trigger",{key:0}):Oe("v-if",!0),!h(s).trigger&&h(s).default?qe(C.$slots,"default",{key:1}):Oe("v-if",!0)]),_:3},16)):Oe("v-if",!0),C.$slots.trigger?qe(C.$slots,"default",{key:2}):Oe("v-if",!0),qe(C.$slots,"tip"),!h(x)&&C.showFileList?(B(),Be(tk,{key:3,disabled:h(o),"list-type":C.listType,files:h(p),"handle-preview":C.onPreview,onRemove:h(b)},Ua({_:2},[C.$slots.file?{name:"default",fn:ve(({file:R})=>[qe(C.$slots,"file",{file:R})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):Oe("v-if",!0)]))}});var Xwe=ht(jwe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const Ywe=Cn(Xwe);var Zwe=[aie,yie,Wre,h_e,Zre,soe,aL,voe,yoe,Os,pL,Fae,Vae,nle,ile,vce,ice,xce,ro,xle,VL,Oce,eue,tue,Gce,kue,Qne,Vue,Hue,Wue,Gue,Kue,rfe,mfe,gfe,Pfe,xN,Gfe,Dhe,Fhe,Bhe,IN,dse,fse,zt,kpe,LN,Ws,NN,Wpe,ume,dme,fme,hme,_me,Ege,Pge,$ge,sL,HN,XL,zle,Ble,ive,lve,kce,ja,Qc,Kv,Zme,Jve,o0e,a0e,F0e,V0e,lO,Q0e,lye,cye,_ye,Abe,Rbe,f_e,A_e,R_e,up,N_e,mae,$_e,G_e,K_e,ar,y1e,L1e,q1e,ewe,ywe,Ywe];const xo="ElInfiniteScroll",Jwe=50,Qwe=200,eSe=0,tSe={delay:{type:Number,default:Qwe},distance:{type:Number,default:eSe},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},Rx=(e,t)=>Object.entries(tSe).reduce((i,[s,o])=>{var a,l;const{type:u,default:f}=o,p=e.getAttribute(`infinite-scroll-${s}`);let g=(l=(a=t[p])!=null?a:p)!=null?l:f;return g=g==="false"?!1:g,g=u(g),i[s]=Number.isNaN(g)?f:g,i},{}),ZO=e=>{const{observer:t}=e[xo];t&&(t.disconnect(),delete e[xo].observer)},nSe=(e,t)=>{const{container:i,containerEl:s,instance:o,observer:a,lastScrollTop:l}=e[xo],{disabled:u,distance:f}=Rx(e,o),{clientHeight:p,scrollHeight:g,scrollTop:v}=s,b=v-l;if(e[xo].lastScrollTop=v,a||u||b<0)return;let w=!1;if(i===e)w=g-(p+v)<=f;else{const{clientTop:M,scrollHeight:x}=e,E=a9(e,s);w=v+p>=E+M+x-f}w&&t.call(o)};function e1(e,t){const{containerEl:i,instance:s}=e[xo],{disabled:o}=Rx(e,s);o||i.clientHeight===0||(i.scrollHeight<=i.clientHeight?t.call(s):ZO(e))}const iSe={async mounted(e,t){const{instance:i,value:s}=t;an(s)||vs(xo,"'v-infinite-scroll' binding value must be a function"),await Bt();const{delay:o,immediate:a}=Rx(e,i),l=ES(e,!0),u=l===window?document.documentElement:l,f=Wc(nSe.bind(null,e,s),o);if(l){if(e[xo]={instance:i,container:l,containerEl:u,delay:o,cb:s,onScroll:f,lastScrollTop:u.scrollTop},a){const p=new MutationObserver(Wc(e1.bind(null,e,s),Jwe));e[xo].observer=p,p.observe(e,{childList:!0,subtree:!0}),e1(e,s)}l.addEventListener("scroll",f)}},unmounted(e){const{container:t,onScroll:i}=e[xo];t==null||t.removeEventListener("scroll",i),ZO(e)},async updated(e){if(!e[xo])await Bt();else{const{containerEl:t,cb:i,observer:s}=e[xo];t.clientHeight&&s&&e1(e,i)}}},Mw=iSe;Mw.install=e=>{e.directive("InfiniteScroll",Mw)};const sSe=Mw;function rSe(e){let t;const i=X(!1),s=ai({...e,originalPosition:"",originalOverflow:"",visible:!1});function o(b){s.text=b}function a(){const b=s.parent,w=v.ns;if(!b.vLoadingAddClassList){let M=b.getAttribute("loading-number");M=Number.parseInt(M)-1,M?b.setAttribute("loading-number",M.toString()):(gr(b,w.bm("parent","relative")),b.removeAttribute("loading-number")),gr(b,w.bm("parent","hidden"))}l(),g.unmount()}function l(){var b,w;(w=(b=v.$el)==null?void 0:b.parentNode)==null||w.removeChild(v.$el)}function u(){var b;e.beforeClose&&!e.beforeClose()||(i.value=!0,clearTimeout(t),t=window.setTimeout(f,400),s.visible=!1,(b=e.closed)==null||b.call(e))}function f(){if(!i.value)return;const b=s.parent;i.value=!1,b.vLoadingAddClassList=void 0,a()}const p=_e({name:"ElLoading",setup(b,{expose:w}){const{ns:M,zIndex:x}=V0("loading");return w({ns:M,zIndex:x}),()=>{const E=s.spinner||s.svg,C=Yt("svg",{class:"circular",viewBox:s.svgViewBox?s.svgViewBox:"0 0 50 50",...E?{innerHTML:E}:{}},[Yt("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),k=s.text?Yt("p",{class:M.b("text")},[s.text]):void 0;return Yt(ns,{name:M.b("fade"),onAfterLeave:f},{default:ve(()=>[gn(fe("div",{style:{backgroundColor:s.background||""},class:[M.b("mask"),s.customClass,s.fullscreen?"is-fullscreen":""]},[Yt("div",{class:M.b("spinner")},[C,k])]),[[oi,s.visible]])])})}}}),g=bP(p),v=g.mount(document.createElement("div"));return{...gs(s),setText:o,removeElLoadingChild:l,close:u,handleAfterLeave:f,vm:v,get $el(){return v.$el}}}let qg;const Ew=function(e={}){if(!Jn)return;const t=oSe(e);if(t.fullscreen&&qg)return qg;const i=rSe({...t,closed:()=>{var o;(o=t.closed)==null||o.call(t),t.fullscreen&&(qg=void 0)}});aSe(t,t.parent,i),sk(t,t.parent,i),t.parent.vLoadingAddClassList=()=>sk(t,t.parent,i);let s=t.parent.getAttribute("loading-number");return s?s=`${Number.parseInt(s)+1}`:s="1",t.parent.setAttribute("loading-number",s),t.parent.appendChild(i.$el),Bt(()=>i.visible.value=t.visible),t.fullscreen&&(qg=i),i},oSe=e=>{var t,i,s,o;let a;return un(e.target)?a=(t=document.querySelector(e.target))!=null?t:document.body:a=e.target||document.body,{parent:a===document.body||e.body?document.body:a,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:a===document.body&&((i=e.fullscreen)!=null?i:!0),lock:(s=e.lock)!=null?s:!1,customClass:e.customClass||"",visible:(o=e.visible)!=null?o:!0,target:a}},aSe=async(e,t,i)=>{const{nextZIndex:s}=i.vm.zIndex,o={};if(e.fullscreen)i.originalPosition.value=La(document.body,"position"),i.originalOverflow.value=La(document.body,"overflow"),o.zIndex=s();else if(e.parent===document.body){i.originalPosition.value=La(document.body,"position"),await Bt();for(const a of["top","left"]){const l=a==="top"?"scrollTop":"scrollLeft";o[a]=`${e.target.getBoundingClientRect()[a]+document.body[l]+document.documentElement[l]-Number.parseInt(La(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])o[a]=`${e.target.getBoundingClientRect()[a]}px`}else i.originalPosition.value=La(t,"position");for(const[a,l]of Object.entries(o))i.$el.style[a]=l},sk=(e,t,i)=>{const s=i.vm.ns;["absolute","fixed","sticky"].includes(i.originalPosition.value)?gr(t,s.bm("parent","relative")):Zo(t,s.bm("parent","relative")),e.fullscreen&&e.lock?Zo(t,s.bm("parent","hidden")):gr(t,s.bm("parent","hidden"))},Cw=Symbol("ElLoading"),rk=(e,t)=>{var i,s,o,a;const l=t.instance,u=b=>Pn(t.value)?t.value[b]:void 0,f=b=>{const w=un(b)&&(l==null?void 0:l[b])||b;return w&&X(w)},p=b=>f(u(b)||e.getAttribute(`element-loading-${zl(b)}`)),g=(i=u("fullscreen"))!=null?i:t.modifiers.fullscreen,v={text:p("text"),svg:p("svg"),svgViewBox:p("svgViewBox"),spinner:p("spinner"),background:p("background"),customClass:p("customClass"),fullscreen:g,target:(s=u("target"))!=null?s:g?void 0:e,body:(o=u("body"))!=null?o:t.modifiers.body,lock:(a=u("lock"))!=null?a:t.modifiers.lock};e[Cw]={options:v,instance:Ew(v)}},lSe=(e,t)=>{for(const i of Object.keys(t))Ti(t[i])&&(t[i].value=e[i])},ok={mounted(e,t){t.value&&rk(e,t)},updated(e,t){const i=e[Cw];t.oldValue!==t.value&&(t.value&&!t.oldValue?rk(e,t):t.value&&t.oldValue?Pn(t.value)&&lSe(t.value,i.options):i==null||i.instance.close())},unmounted(e){var t;(t=e[Cw])==null||t.instance.close()}},cSe={install(e){e.directive("loading",ok),e.config.globalProperties.$loading=Ew},directive:ok,service:Ew},JO=["success","info","warning","error"],hr=Ui({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Jn?document.body:void 0}),uSe=pt({customClass:{type:String,default:hr.customClass},center:{type:Boolean,default:hr.center},dangerouslyUseHTMLString:{type:Boolean,default:hr.dangerouslyUseHTMLString},duration:{type:Number,default:hr.duration},icon:{type:Pi,default:hr.icon},id:{type:String,default:hr.id},message:{type:De([String,Object,Function]),default:hr.message},onClose:{type:De(Function),required:!1},showClose:{type:Boolean,default:hr.showClose},type:{type:String,values:JO,default:hr.type},offset:{type:Number,default:hr.offset},zIndex:{type:Number,default:hr.zIndex},grouping:{type:Boolean,default:hr.grouping},repeatNum:{type:Number,default:hr.repeatNum}}),dSe={destroy:()=>!0},To=Ek([]),fSe=e=>{const t=To.findIndex(o=>o.id===e),i=To[t];let s;return t>0&&(s=To[t-1]),{current:i,prev:s}},hSe=e=>{const{prev:t}=fSe(e);return t?t.vm.exposed.bottom.value:0},pSe=(e,t)=>To.findIndex(s=>s.id===e)>0?20:t,mSe=["id"],gSe=["innerHTML"],vSe=_e({name:"ElMessage"}),ySe=_e({...vSe,props:uSe,emits:dSe,setup(e,{expose:t}){const i=e,{Close:s}=RS,{ns:o,zIndex:a}=V0("message"),{currentZIndex:l,nextZIndex:u}=a,f=X(),p=X(!1),g=X(0);let v;const b=D(()=>i.type?i.type==="error"?"danger":i.type:"info"),w=D(()=>{const G=i.type;return{[o.bm("icon",G)]:G&&Dl[G]}}),M=D(()=>i.icon||Dl[i.type]||""),x=D(()=>hSe(i.id)),E=D(()=>pSe(i.id,i.offset)+x.value),C=D(()=>g.value+E.value),k=D(()=>({top:`${E.value}px`,zIndex:l.value}));function R(){i.duration!==0&&({stop:v}=Zc(()=>{O()},i.duration))}function P(){v==null||v()}function O(){p.value=!1}function F({code:G}){G===Xt.esc&&O()}return _n(()=>{R(),u(),p.value=!0}),et(()=>i.repeatNum,()=>{P(),R()}),Vi(document,"keydown",F),Gs(f,()=>{g.value=f.value.getBoundingClientRect().height}),t({visible:p,bottom:C,close:O}),(G,H)=>(B(),Be(ns,{name:h(o).b("fade"),onBeforeLeave:G.onClose,onAfterLeave:H[0]||(H[0]=j=>G.$emit("destroy")),persisted:""},{default:ve(()=>[gn(ae("div",{id:G.id,ref_key:"messageRef",ref:f,class:U([h(o).b(),{[h(o).m(G.type)]:G.type&&!G.icon},h(o).is("center",G.center),h(o).is("closable",G.showClose),G.customClass]),style:Wt(h(k)),role:"alert",onMouseenter:P,onMouseleave:R},[G.repeatNum>1?(B(),Be(h(aL),{key:0,value:G.repeatNum,type:h(b),class:U(h(o).e("badge"))},null,8,["value","type","class"])):Oe("v-if",!0),h(M)?(B(),Be(h(zt),{key:1,class:U([h(o).e("icon"),h(w)])},{default:ve(()=>[(B(),Be(Bn(h(M))))]),_:1},8,["class"])):Oe("v-if",!0),qe(G.$slots,"default",{},()=>[G.dangerouslyUseHTMLString?(B(),ne(Ft,{key:1},[Oe(" Caution here, message could've been compromised, never use user's input as message "),ae("p",{class:U(h(o).e("content")),innerHTML:G.message},null,10,gSe)],2112)):(B(),ne("p",{key:0,class:U(h(o).e("content"))},ft(G.message),3))]),G.showClose?(B(),Be(h(zt),{key:2,class:U(h(o).e("closeBtn")),onClick:rn(O,["stop"])},{default:ve(()=>[fe(h(s))]),_:1},8,["class","onClick"])):Oe("v-if",!0)],46,mSe),[[oi,p.value]])]),_:3},8,["name","onBeforeLeave"]))}});var bSe=ht(ySe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let _Se=1;const QO=e=>{const t=!e||un(e)||Hi(e)||an(e)?{message:e}:e,i={...hr,...t};if(!i.appendTo)i.appendTo=document.body;else if(un(i.appendTo)){let s=document.querySelector(i.appendTo);Io(s)||(s=document.body),i.appendTo=s}return i},wSe=e=>{const t=To.indexOf(e);if(t===-1)return;To.splice(t,1);const{handler:i}=e;i.close()},SSe=({appendTo:e,...t},i)=>{const s=`message_${_Se++}`,o=t.onClose,a=document.createElement("div"),l={...t,id:s,onClose:()=>{o==null||o(),wSe(g)},onDestroy:()=>{Od(null,a)}},u=fe(bSe,l,an(l.message)||Hi(l.message)?{default:an(l.message)?l.message:()=>l.message}:null);u.appContext=i||Qd._context,Od(u,a),e.appendChild(a.firstElementChild);const f=u.component,g={id:s,vnode:u,vm:f,handler:{close:()=>{f.exposed.visible.value=!1}},props:u.component.props};return g},Qd=(e={},t)=>{if(!Jn)return{close:()=>{}};if(on(I1.max)&&To.length>=I1.max)return{close:()=>{}};const i=QO(e);if(i.grouping&&To.length){const o=To.find(({vnode:a})=>{var l;return((l=a.props)==null?void 0:l.message)===i.message});if(o)return o.props.repeatNum+=1,o.props.type=i.type,o.handler}const s=SSe(i,t);return To.push(s),s.handler};JO.forEach(e=>{Qd[e]=(t={},i)=>{const s=QO(t);return Qd({...s,type:e},i)}});function xSe(e){for(const t of To)(!e||e===t.props.type)&&t.handler.close()}Qd.closeAll=xSe;Qd._context=null;const MSe=oI(Qd,"$message"),ESe=_e({name:"ElMessageBox",directives:{TrapFocus:Zoe},components:{ElButton:Os,ElFocusTrap:W0,ElInput:Ws,ElOverlay:nx,ElIcon:zt,...RS},inheritAttrs:!1,props:{buttonSize:{type:String,validator:N0},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:i,zIndex:s,ns:o,size:a}=V0("message-box",D(()=>e.buttonSize)),{t:l}=i,{nextZIndex:u}=s,f=X(!1),p=ai({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:u()}),g=D(()=>{const ce=p.type;return{[o.bm("icon",ce)]:ce&&Dl[ce]}}),v=so(),b=so(),w=D(()=>p.icon||Dl[p.type]||""),M=D(()=>!!p.message),x=X(),E=X(),C=X(),k=X(),R=X(),P=D(()=>p.confirmButtonClass);et(()=>p.inputValue,async ce=>{await Bt(),e.boxType==="prompt"&&ce!==null&&ie()},{immediate:!0}),et(()=>f.value,ce=>{var te,W;ce&&(e.boxType!=="prompt"&&(p.autofocus?C.value=(W=(te=R.value)==null?void 0:te.$el)!=null?W:x.value:C.value=x.value),p.zIndex=u()),e.boxType==="prompt"&&(ce?Bt().then(()=>{var ee;k.value&&k.value.$el&&(p.autofocus?C.value=(ee=Q())!=null?ee:x.value:C.value=x.value)}):(p.editorErrorMessage="",p.validateError=!1))});const O=D(()=>e.draggable);aI(x,E,O),_n(async()=>{await Bt(),e.closeOnHashChange&&window.addEventListener("hashchange",F)}),Di(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",F)});function F(){f.value&&(f.value=!1,Bt(()=>{p.action&&t("action",p.action)}))}const G=()=>{e.closeOnClickModal&&q(p.distinguishCancelAndClose?"close":"cancel")},H=$S(G),j=ce=>{if(p.inputType!=="textarea")return ce.preventDefault(),q("confirm")},q=ce=>{var te;e.boxType==="prompt"&&ce==="confirm"&&!ie()||(p.action=ce,p.beforeClose?(te=p.beforeClose)==null||te.call(p,ce,p,F):F())},ie=()=>{if(e.boxType==="prompt"){const ce=p.inputPattern;if(ce&&!ce.test(p.inputValue||""))return p.editorErrorMessage=p.inputErrorMessage||l("el.messagebox.error"),p.validateError=!0,!1;const te=p.inputValidator;if(typeof te=="function"){const W=te(p.inputValue);if(W===!1)return p.editorErrorMessage=p.inputErrorMessage||l("el.messagebox.error"),p.validateError=!0,!1;if(typeof W=="string")return p.editorErrorMessage=W,p.validateError=!0,!1}}return p.editorErrorMessage="",p.validateError=!1,!0},Q=()=>{const ce=k.value.$refs;return ce.input||ce.textarea},Z=()=>{q("close")},re=()=>{e.closeOnPressEscape&&Z()};return e.lockScroll&&uI(f),xne(f),{...gs(p),ns:o,overlayEvent:H,visible:f,hasMessage:M,typeClass:g,contentId:v,inputId:b,btnSize:a,iconComponent:w,confirmButtonClasses:P,rootRef:x,focusStartRef:C,headerRef:E,inputRef:k,confirmRef:R,doClose:F,handleClose:Z,onCloseRequested:re,handleWrapperClick:G,handleInputEnter:j,handleAction:q,t:l}}}),CSe=["aria-label","aria-describedby"],TSe=["aria-label"],ASe=["id"];function RSe(e,t,i,s,o,a){const l=cn("el-icon"),u=cn("close"),f=cn("el-input"),p=cn("el-button"),g=cn("el-focus-trap"),v=cn("el-overlay");return B(),Be(ns,{name:"fade-in-linear",onAfterLeave:t[11]||(t[11]=b=>e.$emit("vanish")),persisted:""},{default:ve(()=>[gn(fe(v,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:ve(()=>[ae("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:U(`${e.ns.namespace.value}-overlay-message-box`),onClick:t[8]||(t[8]=(...b)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...b)),onMousedown:t[9]||(t[9]=(...b)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...b)),onMouseup:t[10]||(t[10]=(...b)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...b))},[fe(g,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:ve(()=>[ae("div",{ref:"rootRef",class:U([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:Wt(e.customStyle),tabindex:"-1",onClick:t[7]||(t[7]=rn(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(B(),ne("div",{key:0,ref:"headerRef",class:U(e.ns.e("header"))},[ae("div",{class:U(e.ns.e("title"))},[e.iconComponent&&e.center?(B(),Be(l,{key:0,class:U([e.ns.e("status"),e.typeClass])},{default:ve(()=>[(B(),Be(Bn(e.iconComponent)))]),_:1},8,["class"])):Oe("v-if",!0),ae("span",null,ft(e.title),1)],2),e.showClose?(B(),ne("button",{key:0,type:"button",class:U(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:t[0]||(t[0]=b=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:t[1]||(t[1]=ei(rn(b=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[fe(l,{class:U(e.ns.e("close"))},{default:ve(()=>[fe(u)]),_:1},8,["class"])],42,TSe)):Oe("v-if",!0)],2)):Oe("v-if",!0),ae("div",{id:e.contentId,class:U(e.ns.e("content"))},[ae("div",{class:U(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(B(),Be(l,{key:0,class:U([e.ns.e("status"),e.typeClass])},{default:ve(()=>[(B(),Be(Bn(e.iconComponent)))]),_:1},8,["class"])):Oe("v-if",!0),e.hasMessage?(B(),ne("div",{key:1,class:U(e.ns.e("message"))},[qe(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(B(),Be(Bn(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(B(),Be(Bn(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:ve(()=>[Nn(ft(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):Oe("v-if",!0)],2),gn(ae("div",{class:U(e.ns.e("input"))},[fe(f,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":t[2]||(t[2]=b=>e.inputValue=b),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:U({invalid:e.validateError}),onKeydown:ei(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),ae("div",{class:U(e.ns.e("errormsg")),style:Wt({visibility:e.editorErrorMessage?"visible":"hidden"})},ft(e.editorErrorMessage),7)],2),[[oi,e.showInput]])],10,ASe),ae("div",{class:U(e.ns.e("btns"))},[e.showCancelButton?(B(),Be(p,{key:0,loading:e.cancelButtonLoading,class:U([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:t[3]||(t[3]=b=>e.handleAction("cancel")),onKeydown:t[4]||(t[4]=ei(rn(b=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:ve(()=>[Nn(ft(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):Oe("v-if",!0),gn(fe(p,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:U([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:t[5]||(t[5]=b=>e.handleAction("confirm")),onKeydown:t[6]||(t[6]=ei(rn(b=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:ve(()=>[Nn(ft(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[oi,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,CSe)]),_:3},8,["z-index","overlay-class","mask"]),[[oi,e.visible]])]),_:3})}var kSe=ht(ESe,[["render",RSe],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const bp=new Map,PSe=e=>{let t=document.body;return e.appendTo&&(un(e.appendTo)&&(t=document.querySelector(e.appendTo)),Io(e.appendTo)&&(t=e.appendTo),Io(t)||(t=document.body)),t},ISe=(e,t,i=null)=>{const s=fe(kSe,e,an(e.message)||Hi(e.message)?{default:an(e.message)?e.message:()=>e.message}:null);return s.appContext=i,Od(s,t),PSe(e).appendChild(t.firstElementChild),s.component},LSe=()=>document.createElement("div"),NSe=(e,t)=>{const i=LSe();e.onVanish=()=>{Od(null,i),bp.delete(o)},e.onAction=a=>{const l=bp.get(o);let u;e.showInput?u={value:o.inputValue,action:a}:u=a,e.callback?e.callback(u,s.proxy):a==="cancel"||a==="close"?e.distinguishCancelAndClose&&a!=="cancel"?l.reject("close"):l.reject("cancel"):l.resolve(u)};const s=ISe(e,i,t),o=s.proxy;for(const a in e)Gn(e,a)&&!Gn(o.$props,a)&&(o[a]=e[a]);return o.visible=!0,o};function ff(e,t=null){if(!Jn)return Promise.reject();let i;return un(e)||Hi(e)?e={message:e}:i=e.callback,new Promise((s,o)=>{const a=NSe(e,t??ff._context);bp.set(a,{options:e,callback:i,resolve:s,reject:o})})}const OSe=["alert","confirm","prompt"],DSe={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};OSe.forEach(e=>{ff[e]=FSe(e)});function FSe(e){return(t,i,s,o)=>{let a="";return Pn(i)?(s=i,a=""):Ts(i)?a="":a=i,ff(Object.assign({title:a,message:t,type:"",...DSe[e]},s,{boxType:e}),o)}}ff.close=()=>{bp.forEach((e,t)=>{t.doClose()}),bp.clear()};ff._context=null;const xl=ff;xl.install=e=>{xl._context=e._context,e.config.globalProperties.$msgbox=xl,e.config.globalProperties.$messageBox=xl,e.config.globalProperties.$alert=xl.alert,e.config.globalProperties.$confirm=xl.confirm,e.config.globalProperties.$prompt=xl.prompt};const BSe=xl,eD=["success","info","warning","error"],zSe=pt({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:Pi},id:{type:String,default:""},message:{type:De([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:De(Function),default:()=>{}},onClose:{type:De(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...eD,""],default:""},zIndex:{type:Number,default:0}}),$Se={destroy:()=>!0},USe=["id"],VSe=["textContent"],HSe={key:0},WSe=["innerHTML"],GSe=_e({name:"ElNotification"}),KSe=_e({...GSe,props:zSe,emits:$Se,setup(e,{expose:t}){const i=e,{ns:s,zIndex:o}=V0("notification"),{nextZIndex:a,currentZIndex:l}=o,{Close:u}=sI,f=X(!1);let p;const g=D(()=>{const R=i.type;return R&&Dl[i.type]?s.m(R):""}),v=D(()=>i.type&&Dl[i.type]||i.icon),b=D(()=>i.position.endsWith("right")?"right":"left"),w=D(()=>i.position.startsWith("top")?"top":"bottom"),M=D(()=>({[w.value]:`${i.offset}px`,zIndex:l.value}));function x(){i.duration>0&&({stop:p}=Zc(()=>{f.value&&C()},i.duration))}function E(){p==null||p()}function C(){f.value=!1}function k({code:R}){R===Xt.delete||R===Xt.backspace?E():R===Xt.esc?f.value&&C():x()}return _n(()=>{x(),a(),f.value=!0}),Vi(document,"keydown",k),t({visible:f,close:C}),(R,P)=>(B(),Be(ns,{name:h(s).b("fade"),onBeforeLeave:R.onClose,onAfterLeave:P[1]||(P[1]=O=>R.$emit("destroy")),persisted:""},{default:ve(()=>[gn(ae("div",{id:R.id,class:U([h(s).b(),R.customClass,h(b)]),style:Wt(h(M)),role:"alert",onMouseenter:E,onMouseleave:x,onClick:P[0]||(P[0]=(...O)=>R.onClick&&R.onClick(...O))},[h(v)?(B(),Be(h(zt),{key:0,class:U([h(s).e("icon"),h(g)])},{default:ve(()=>[(B(),Be(Bn(h(v))))]),_:1},8,["class"])):Oe("v-if",!0),ae("div",{class:U(h(s).e("group"))},[ae("h2",{class:U(h(s).e("title")),textContent:ft(R.title)},null,10,VSe),gn(ae("div",{class:U(h(s).e("content")),style:Wt(R.title?void 0:{margin:0})},[qe(R.$slots,"default",{},()=>[R.dangerouslyUseHTMLString?(B(),ne(Ft,{key:1},[Oe(" Caution here, message could've been compromised, never use user's input as message "),ae("p",{innerHTML:R.message},null,8,WSe)],2112)):(B(),ne("p",HSe,ft(R.message),1))])],6),[[oi,R.message]]),R.showClose?(B(),Be(h(zt),{key:0,class:U(h(s).e("closeBtn")),onClick:rn(C,["stop"])},{default:ve(()=>[fe(h(u))]),_:1},8,["class","onClick"])):Oe("v-if",!0)],2)],46,USe),[[oi,f.value]])]),_:3},8,["name","onBeforeLeave"]))}});var qSe=ht(KSe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const t0={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},Tw=16;let jSe=1;const ef=function(e={},t=null){if(!Jn)return{close:()=>{}};(typeof e=="string"||Hi(e))&&(e={message:e});const i=e.position||"top-right";let s=e.offset||0;t0[i].forEach(({vm:g})=>{var v;s+=(((v=g.el)==null?void 0:v.offsetHeight)||0)+Tw}),s+=Tw;const o=`notification_${jSe++}`,a=e.onClose,l={...e,offset:s,id:o,onClose:()=>{XSe(o,i,a)}};let u=document.body;Io(e.appendTo)?u=e.appendTo:un(e.appendTo)&&(u=document.querySelector(e.appendTo)),Io(u)||(u=document.body);const f=document.createElement("div"),p=fe(qSe,l,Hi(l.message)?{default:()=>l.message}:null);return p.appContext=t??ef._context,p.props.onDestroy=()=>{Od(null,f)},Od(p,f),t0[i].push({vm:p}),u.appendChild(f.firstElementChild),{close:()=>{p.component.exposed.visible.value=!1}}};eD.forEach(e=>{ef[e]=(t={})=>((typeof t=="string"||Hi(t))&&(t={message:t}),ef({...t,type:e}))});function XSe(e,t,i){const s=t0[t],o=s.findIndex(({vm:p})=>{var g;return((g=p.component)==null?void 0:g.props.id)===e});if(o===-1)return;const{vm:a}=s[o];if(!a)return;i==null||i(a);const l=a.el.offsetHeight,u=t.split("-")[0];s.splice(o,1);const f=s.length;if(!(f<1))for(let p=o;p<f;p++){const{el:g,component:v}=s[p].vm,b=Number.parseInt(g.style[u],10)-l-Tw;v.props.offset=b}}function YSe(){for(const e of Object.values(t0))e.forEach(({vm:t})=>{t.component.exposed.visible.value=!1})}ef.closeAll=YSe;ef._context=null;const ZSe=oI(ef,"$notify");var JSe=[sSe,cSe,MSe,BSe,ZSe,VN],QSe=tie([...Zwe,...JSe]);const exe={class:"showpage"},txe={class:"navshow"},nxe=_e({__name:"App",setup(e){const t=X(!0),i=X("home"),s=(u,f)=>{console.log(u,f)},o=(u,f)=>{console.log(u,f)},a=X(null),l=u=>{i.value=u,console.log(u),r3.push({name:u})};return _e({name:"menu",data(){return{activeIndex:"home"}},methods:{},components:{}}),(u,f)=>{const p=cn("el-radio-button"),g=cn("el-radio-group"),v=cn("el-icon"),b=cn("el-menu-item"),w=cn("el-menu"),M=cn("router-view");return B(),ne(Ft,null,[ae("div",null,[fe(g,{modelValue:t.value,"onUpdate:modelValue":f[0]||(f[0]=x=>t.value=x),style:{"margin-bottom":"20px"}},{default:ve(()=>[fe(p,{label:!1},{default:ve(()=>[Nn("expand")]),_:1}),fe(p,{label:!0},{default:ve(()=>[Nn("collapse")]),_:1})]),_:1},8,["modelValue"])]),ae("div",exe,[fe(w,{ref_key:"menu",ref:a,"default-active":i.value,class:"el-menu-vertical-demo",collapse:t.value,onOpen:s,onClose:o},{default:ve(()=>[fe(b,{index:"",onClick:f[1]||(f[1]=x=>l("home"))},{title:ve(()=>[Nn("Home")]),default:ve(()=>[fe(v,null,{default:ve(()=>[fe(h(VJ))]),_:1})]),_:1}),fe(b,{index:"generate",onClick:f[2]||(f[2]=x=>l("generate"))},{title:ve(()=>[Nn("Template")]),default:ve(()=>[fe(v,null,{default:ve(()=>[fe(h(jJ))]),_:1})]),_:1}),fe(b,{index:"3"},{title:ve(()=>[Nn("Navigator Three")]),default:ve(()=>[fe(v,null,{default:ve(()=>[fe(h(Q3))]),_:1})]),_:1}),fe(b,{index:"4"},{title:ve(()=>[Nn("Navigator Four")]),default:ve(()=>[fe(v,null,{default:ve(()=>[fe(h(see))]),_:1})]),_:1})]),_:1},8,["default-active","collapse"]),ae("div",txe,[fe(M)])])],64)}}});console.warn('Scripts "build/three.js" and "build/three.min.js" are deprecated with r150+, and will be removed with r160. Please use ES Modules or alternatives: https://threejs.org/docs/index.html#manual/en/introduction/Installation');/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */(function(e,t){typeof er=="object"&&typeof mr<"u"?t(er):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.THREE={}))})(globalThis,function(e){const t="152",i={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},s={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},o=0,a=1,l=2,u=3,f=0,p=1,g=2,v=3,b=0,w=1,M=2,x=2,E=0,C=1,k=2,R=3,P=4,O=5,F=100,G=101,H=102,j=103,q=104,ie=200,Q=201,Z=202,re=203,ce=204,te=205,W=206,ee=207,J=208,pe=209,Ee=210,he=0,Ce=1,Ge=2,Te=3,xe=4,Ie=5,ge=6,Le=7,Ue=0,ut=1,ue=2,we=0,Ve=1,Ye=2,lt=3,He=4,ct=5,Qe=300,rt=301,Je=302,Mt=303,yt=304,We=306,_t=1e3,Ut=1001,fn=1002,Pe=1003,$e=1004,tt=1004,Fe=1005,me=1005,Se=1006,it=1007,vt=1007,tn=1008,Xe=1008,Ct=1009,bn=1010,wn=1011,Dn=1012,ui=1013,Fi=1014,st=1015,Kt=1016,Yn=1017,ti=1018,qi=1020,wr=1021,Ss=1023,kx=1024,Px=1025,Ya=1026,ql=1027,Ix=1028,Lx=1029,Nx=1030,Ox=1031,Dx=1033,Up=33776,Vp=33777,Hp=33778,Wp=33779,Z0=35840,J0=35841,Q0=35842,ey=35843,Fx=36196,ty=37492,ny=37496,iy=37808,sy=37809,ry=37810,oy=37811,ay=37812,ly=37813,cy=37814,uy=37815,dy=37816,fy=37817,hy=37818,py=37819,my=37820,gy=37821,Gp=36492,Bx=36283,vy=36284,yy=36285,by=36286,zx=2200,$x=2201,Ux=2202,hf=2300,pf=2301,Kp=2302,jl=2400,Xl=2401,mf=2402,qp=2500,_y=2501,tD=0,nD=1,iD=2,wy=3e3,Za=3001,Vx=3200,Hx=3201,Ja=0,Wx=1,Qa="",ci="srgb",oo="srgb-linear",Sy="display-p3",sD=0,jp=7680,rD=7681,oD=7682,aD=7683,lD=34055,cD=34056,uD=5386,dD=512,fD=513,hD=514,pD=515,mD=516,gD=517,vD=518,Gx=519,gf=35044,yD=35048,bD=35040,_D=35045,wD=35049,SD=35041,xD=35046,MD=35050,ED=35042,CD="100",xy="300 es",Xp=1035;class la{addEventListener(n,r){this._listeners===void 0&&(this._listeners={});const c=this._listeners;c[n]===void 0&&(c[n]=[]),c[n].indexOf(r)===-1&&c[n].push(r)}hasEventListener(n,r){if(this._listeners===void 0)return!1;const c=this._listeners;return c[n]!==void 0&&c[n].indexOf(r)!==-1}removeEventListener(n,r){if(this._listeners===void 0)return;const d=this._listeners[n];if(d!==void 0){const m=d.indexOf(r);m!==-1&&d.splice(m,1)}}dispatchEvent(n){if(this._listeners===void 0)return;const c=this._listeners[n.type];if(c!==void 0){n.target=this;const d=c.slice(0);for(let m=0,_=d.length;m<_;m++)d[m].call(this,n);n.target=null}}}const Fs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Kx=1234567;const Yl=Math.PI/180,ou=180/Math.PI;function Sr(){const y=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0,c=Math.random()*4294967295|0;return(Fs[y&255]+Fs[y>>8&255]+Fs[y>>16&255]+Fs[y>>24&255]+"-"+Fs[n&255]+Fs[n>>8&255]+"-"+Fs[n>>16&15|64]+Fs[n>>24&255]+"-"+Fs[r&63|128]+Fs[r>>8&255]+"-"+Fs[r>>16&255]+Fs[r>>24&255]+Fs[c&255]+Fs[c>>8&255]+Fs[c>>16&255]+Fs[c>>24&255]).toLowerCase()}function is(y,n,r){return Math.max(n,Math.min(r,y))}function My(y,n){return(y%n+n)%n}function TD(y,n,r,c,d){return c+(y-n)*(d-c)/(r-n)}function AD(y,n,r){return y!==n?(r-y)/(n-y):0}function vf(y,n,r){return(1-r)*y+r*n}function RD(y,n,r,c){return vf(y,n,1-Math.exp(-r*c))}function kD(y,n=1){return n-Math.abs(My(y,n*2)-n)}function PD(y,n,r){return y<=n?0:y>=r?1:(y=(y-n)/(r-n),y*y*(3-2*y))}function ID(y,n,r){return y<=n?0:y>=r?1:(y=(y-n)/(r-n),y*y*y*(y*(y*6-15)+10))}function LD(y,n){return y+Math.floor(Math.random()*(n-y+1))}function ND(y,n){return y+Math.random()*(n-y)}function OD(y){return y*(.5-Math.random())}function DD(y){y!==void 0&&(Kx=y);let n=Kx+=1831565813;return n=Math.imul(n^n>>>15,n|1),n^=n+Math.imul(n^n>>>7,n|61),((n^n>>>14)>>>0)/4294967296}function FD(y){return y*Yl}function BD(y){return y*ou}function Ey(y){return(y&y-1)===0&&y!==0}function qx(y){return Math.pow(2,Math.ceil(Math.log(y)/Math.LN2))}function jx(y){return Math.pow(2,Math.floor(Math.log(y)/Math.LN2))}function zD(y,n,r,c,d){const m=Math.cos,_=Math.sin,S=m(r/2),T=_(r/2),A=m((n+c)/2),I=_((n+c)/2),L=m((n-c)/2),N=_((n-c)/2),z=m((c-n)/2),V=_((c-n)/2);switch(d){case"XYX":y.set(S*I,T*L,T*N,S*A);break;case"YZY":y.set(T*N,S*I,T*L,S*A);break;case"ZXZ":y.set(T*L,T*N,S*I,S*A);break;case"XZX":y.set(S*I,T*V,T*z,S*A);break;case"YXY":y.set(T*z,S*I,T*V,S*A);break;case"ZYZ":y.set(T*V,T*z,S*I,S*A);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+d)}}function xr(y,n){switch(n.constructor){case Float32Array:return y;case Uint16Array:return y/65535;case Uint8Array:return y/255;case Int16Array:return Math.max(y/32767,-1);case Int8Array:return Math.max(y/127,-1);default:throw new Error("Invalid component type.")}}function di(y,n){switch(n.constructor){case Float32Array:return y;case Uint16Array:return Math.round(y*65535);case Uint8Array:return Math.round(y*255);case Int16Array:return Math.round(y*32767);case Int8Array:return Math.round(y*127);default:throw new Error("Invalid component type.")}}const $D={DEG2RAD:Yl,RAD2DEG:ou,generateUUID:Sr,clamp:is,euclideanModulo:My,mapLinear:TD,inverseLerp:AD,lerp:vf,damp:RD,pingpong:kD,smoothstep:PD,smootherstep:ID,randInt:LD,randFloat:ND,randFloatSpread:OD,seededRandom:DD,degToRad:FD,radToDeg:BD,isPowerOfTwo:Ey,ceilPowerOfTwo:qx,floorPowerOfTwo:jx,setQuaternionFromProperEuler:zD,normalize:di,denormalize:xr};class Vt{constructor(n=0,r=0){Vt.prototype.isVector2=!0,this.x=n,this.y=r}get width(){return this.x}set width(n){this.x=n}get height(){return this.y}set height(n){this.y=n}set(n,r){return this.x=n,this.y=r,this}setScalar(n){return this.x=n,this.y=n,this}setX(n){return this.x=n,this}setY(n){return this.y=n,this}setComponent(n,r){switch(n){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+n)}return this}getComponent(n){switch(n){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+n)}}clone(){return new this.constructor(this.x,this.y)}copy(n){return this.x=n.x,this.y=n.y,this}add(n){return this.x+=n.x,this.y+=n.y,this}addScalar(n){return this.x+=n,this.y+=n,this}addVectors(n,r){return this.x=n.x+r.x,this.y=n.y+r.y,this}addScaledVector(n,r){return this.x+=n.x*r,this.y+=n.y*r,this}sub(n){return this.x-=n.x,this.y-=n.y,this}subScalar(n){return this.x-=n,this.y-=n,this}subVectors(n,r){return this.x=n.x-r.x,this.y=n.y-r.y,this}multiply(n){return this.x*=n.x,this.y*=n.y,this}multiplyScalar(n){return this.x*=n,this.y*=n,this}divide(n){return this.x/=n.x,this.y/=n.y,this}divideScalar(n){return this.multiplyScalar(1/n)}applyMatrix3(n){const r=this.x,c=this.y,d=n.elements;return this.x=d[0]*r+d[3]*c+d[6],this.y=d[1]*r+d[4]*c+d[7],this}min(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this}max(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this}clamp(n,r){return this.x=Math.max(n.x,Math.min(r.x,this.x)),this.y=Math.max(n.y,Math.min(r.y,this.y)),this}clampScalar(n,r){return this.x=Math.max(n,Math.min(r,this.x)),this.y=Math.max(n,Math.min(r,this.y)),this}clampLength(n,r){const c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(n,Math.min(r,c)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(n){return this.x*n.x+this.y*n.y}cross(n){return this.x*n.y-this.y*n.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(n){const r=Math.sqrt(this.lengthSq()*n.lengthSq());if(r===0)return Math.PI/2;const c=this.dot(n)/r;return Math.acos(is(c,-1,1))}distanceTo(n){return Math.sqrt(this.distanceToSquared(n))}distanceToSquared(n){const r=this.x-n.x,c=this.y-n.y;return r*r+c*c}manhattanDistanceTo(n){return Math.abs(this.x-n.x)+Math.abs(this.y-n.y)}setLength(n){return this.normalize().multiplyScalar(n)}lerp(n,r){return this.x+=(n.x-this.x)*r,this.y+=(n.y-this.y)*r,this}lerpVectors(n,r,c){return this.x=n.x+(r.x-n.x)*c,this.y=n.y+(r.y-n.y)*c,this}equals(n){return n.x===this.x&&n.y===this.y}fromArray(n,r=0){return this.x=n[r],this.y=n[r+1],this}toArray(n=[],r=0){return n[r]=this.x,n[r+1]=this.y,n}fromBufferAttribute(n,r){return this.x=n.getX(r),this.y=n.getY(r),this}rotateAround(n,r){const c=Math.cos(r),d=Math.sin(r),m=this.x-n.x,_=this.y-n.y;return this.x=m*c-_*d+n.x,this.y=m*d+_*c+n.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class vi{constructor(){vi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(n,r,c,d,m,_,S,T,A){const I=this.elements;return I[0]=n,I[1]=d,I[2]=S,I[3]=r,I[4]=m,I[5]=T,I[6]=c,I[7]=_,I[8]=A,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(n){const r=this.elements,c=n.elements;return r[0]=c[0],r[1]=c[1],r[2]=c[2],r[3]=c[3],r[4]=c[4],r[5]=c[5],r[6]=c[6],r[7]=c[7],r[8]=c[8],this}extractBasis(n,r,c){return n.setFromMatrix3Column(this,0),r.setFromMatrix3Column(this,1),c.setFromMatrix3Column(this,2),this}setFromMatrix4(n){const r=n.elements;return this.set(r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]),this}multiply(n){return this.multiplyMatrices(this,n)}premultiply(n){return this.multiplyMatrices(n,this)}multiplyMatrices(n,r){const c=n.elements,d=r.elements,m=this.elements,_=c[0],S=c[3],T=c[6],A=c[1],I=c[4],L=c[7],N=c[2],z=c[5],V=c[8],Y=d[0],K=d[3],$=d[6],oe=d[1],se=d[4],le=d[7],ye=d[2],Me=d[5],ze=d[8];return m[0]=_*Y+S*oe+T*ye,m[3]=_*K+S*se+T*Me,m[6]=_*$+S*le+T*ze,m[1]=A*Y+I*oe+L*ye,m[4]=A*K+I*se+L*Me,m[7]=A*$+I*le+L*ze,m[2]=N*Y+z*oe+V*ye,m[5]=N*K+z*se+V*Me,m[8]=N*$+z*le+V*ze,this}multiplyScalar(n){const r=this.elements;return r[0]*=n,r[3]*=n,r[6]*=n,r[1]*=n,r[4]*=n,r[7]*=n,r[2]*=n,r[5]*=n,r[8]*=n,this}determinant(){const n=this.elements,r=n[0],c=n[1],d=n[2],m=n[3],_=n[4],S=n[5],T=n[6],A=n[7],I=n[8];return r*_*I-r*S*A-c*m*I+c*S*T+d*m*A-d*_*T}invert(){const n=this.elements,r=n[0],c=n[1],d=n[2],m=n[3],_=n[4],S=n[5],T=n[6],A=n[7],I=n[8],L=I*_-S*A,N=S*T-I*m,z=A*m-_*T,V=r*L+c*N+d*z;if(V===0)return this.set(0,0,0,0,0,0,0,0,0);const Y=1/V;return n[0]=L*Y,n[1]=(d*A-I*c)*Y,n[2]=(S*c-d*_)*Y,n[3]=N*Y,n[4]=(I*r-d*T)*Y,n[5]=(d*m-S*r)*Y,n[6]=z*Y,n[7]=(c*T-A*r)*Y,n[8]=(_*r-c*m)*Y,this}transpose(){let n;const r=this.elements;return n=r[1],r[1]=r[3],r[3]=n,n=r[2],r[2]=r[6],r[6]=n,n=r[5],r[5]=r[7],r[7]=n,this}getNormalMatrix(n){return this.setFromMatrix4(n).invert().transpose()}transposeIntoArray(n){const r=this.elements;return n[0]=r[0],n[1]=r[3],n[2]=r[6],n[3]=r[1],n[4]=r[4],n[5]=r[7],n[6]=r[2],n[7]=r[5],n[8]=r[8],this}setUvTransform(n,r,c,d,m,_,S){const T=Math.cos(m),A=Math.sin(m);return this.set(c*T,c*A,-c*(T*_+A*S)+_+n,-d*A,d*T,-d*(-A*_+T*S)+S+r,0,0,1),this}scale(n,r){return this.premultiply(Cy.makeScale(n,r)),this}rotate(n){return this.premultiply(Cy.makeRotation(-n)),this}translate(n,r){return this.premultiply(Cy.makeTranslation(n,r)),this}makeTranslation(n,r){return this.set(1,0,n,0,1,r,0,0,1),this}makeRotation(n){const r=Math.cos(n),c=Math.sin(n);return this.set(r,-c,0,c,r,0,0,0,1),this}makeScale(n,r){return this.set(n,0,0,0,r,0,0,0,1),this}equals(n){const r=this.elements,c=n.elements;for(let d=0;d<9;d++)if(r[d]!==c[d])return!1;return!0}fromArray(n,r=0){for(let c=0;c<9;c++)this.elements[c]=n[c+r];return this}toArray(n=[],r=0){const c=this.elements;return n[r]=c[0],n[r+1]=c[1],n[r+2]=c[2],n[r+3]=c[3],n[r+4]=c[4],n[r+5]=c[5],n[r+6]=c[6],n[r+7]=c[7],n[r+8]=c[8],n}clone(){return new this.constructor().fromArray(this.elements)}}const Cy=new vi;function Xx(y){for(let n=y.length-1;n>=0;--n)if(y[n]>=65535)return!0;return!1}const UD={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function au(y,n){return new UD[y](n)}function yf(y){return document.createElementNS("http://www.w3.org/1999/xhtml",y)}const Yx={};function bf(y){y in Yx||(Yx[y]=!0,console.warn(y))}function lu(y){return y<.04045?y*.0773993808:Math.pow(y*.9478672986+.0521327014,2.4)}function Ty(y){return y<.0031308?y*12.92:1.055*Math.pow(y,.41666)-.055}const VD=new vi().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),HD=new vi().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function WD(y){return y.convertSRGBToLinear().applyMatrix3(HD)}function GD(y){return y.applyMatrix3(VD).convertLinearToSRGB()}const KD={[oo]:y=>y,[ci]:y=>y.convertSRGBToLinear(),[Sy]:WD},qD={[oo]:y=>y,[ci]:y=>y.convertLinearToSRGB(),[Sy]:GD},zr={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(y){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!y},get workingColorSpace(){return oo},set workingColorSpace(y){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(y,n,r){if(this.enabled===!1||n===r||!n||!r)return y;const c=KD[n],d=qD[r];if(c===void 0||d===void 0)throw new Error(`Unsupported color space conversion, "${n}" to "${r}".`);return d(c(y))},fromWorkingColorSpace:function(y,n){return this.convert(y,this.workingColorSpace,n)},toWorkingColorSpace:function(y,n){return this.convert(y,n,this.workingColorSpace)}};let cu;class Ay{static getDataURL(n){if(/^data:/i.test(n.src)||typeof HTMLCanvasElement>"u")return n.src;let r;if(n instanceof HTMLCanvasElement)r=n;else{cu===void 0&&(cu=yf("canvas")),cu.width=n.width,cu.height=n.height;const c=cu.getContext("2d");n instanceof ImageData?c.putImageData(n,0,0):c.drawImage(n,0,0,n.width,n.height),r=cu}return r.width>2048||r.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",n),r.toDataURL("image/jpeg",.6)):r.toDataURL("image/png")}static sRGBToLinear(n){if(typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap){const r=yf("canvas");r.width=n.width,r.height=n.height;const c=r.getContext("2d");c.drawImage(n,0,0,n.width,n.height);const d=c.getImageData(0,0,n.width,n.height),m=d.data;for(let _=0;_<m.length;_++)m[_]=lu(m[_]/255)*255;return c.putImageData(d,0,0),r}else if(n.data){const r=n.data.slice(0);for(let c=0;c<r.length;c++)r instanceof Uint8Array||r instanceof Uint8ClampedArray?r[c]=Math.floor(lu(r[c]/255)*255):r[c]=lu(r[c]);return{data:r,width:n.width,height:n.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),n}}class Zl{constructor(n=null){this.isSource=!0,this.uuid=Sr(),this.data=n,this.version=0}set needsUpdate(n){n===!0&&this.version++}toJSON(n){const r=n===void 0||typeof n=="string";if(!r&&n.images[this.uuid]!==void 0)return n.images[this.uuid];const c={uuid:this.uuid,url:""},d=this.data;if(d!==null){let m;if(Array.isArray(d)){m=[];for(let _=0,S=d.length;_<S;_++)d[_].isDataTexture?m.push(Ry(d[_].image)):m.push(Ry(d[_]))}else m=Ry(d);c.url=m}return r||(n.images[this.uuid]=c),c}}function Ry(y){return typeof HTMLImageElement<"u"&&y instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&y instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&y instanceof ImageBitmap?Ay.getDataURL(y):y.data?{data:Array.from(y.data),width:y.width,height:y.height,type:y.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let jD=0;class rs extends la{constructor(n=rs.DEFAULT_IMAGE,r=rs.DEFAULT_MAPPING,c=Ut,d=Ut,m=Se,_=tn,S=Ss,T=Ct,A=rs.DEFAULT_ANISOTROPY,I=Qa){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:jD++}),this.uuid=Sr(),this.name="",this.source=new Zl(n),this.mipmaps=[],this.mapping=r,this.channel=0,this.wrapS=c,this.wrapT=d,this.magFilter=m,this.minFilter=_,this.anisotropy=A,this.format=S,this.internalFormat=null,this.type=T,this.offset=new Vt(0,0),this.repeat=new Vt(1,1),this.center=new Vt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new vi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof I=="string"?this.colorSpace=I:(bf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=I===Za?ci:Qa),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(n=null){this.source.data=n}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(n){return this.name=n.name,this.source=n.source,this.mipmaps=n.mipmaps.slice(0),this.mapping=n.mapping,this.channel=n.channel,this.wrapS=n.wrapS,this.wrapT=n.wrapT,this.magFilter=n.magFilter,this.minFilter=n.minFilter,this.anisotropy=n.anisotropy,this.format=n.format,this.internalFormat=n.internalFormat,this.type=n.type,this.offset.copy(n.offset),this.repeat.copy(n.repeat),this.center.copy(n.center),this.rotation=n.rotation,this.matrixAutoUpdate=n.matrixAutoUpdate,this.matrix.copy(n.matrix),this.generateMipmaps=n.generateMipmaps,this.premultiplyAlpha=n.premultiplyAlpha,this.flipY=n.flipY,this.unpackAlignment=n.unpackAlignment,this.colorSpace=n.colorSpace,this.userData=JSON.parse(JSON.stringify(n.userData)),this.needsUpdate=!0,this}toJSON(n){const r=n===void 0||typeof n=="string";if(!r&&n.textures[this.uuid]!==void 0)return n.textures[this.uuid];const c={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(n).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(c.userData=this.userData),r||(n.textures[this.uuid]=c),c}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(n){if(this.mapping!==Qe)return n;if(n.applyMatrix3(this.matrix),n.x<0||n.x>1)switch(this.wrapS){case _t:n.x=n.x-Math.floor(n.x);break;case Ut:n.x=n.x<0?0:1;break;case fn:Math.abs(Math.floor(n.x)%2)===1?n.x=Math.ceil(n.x)-n.x:n.x=n.x-Math.floor(n.x);break}if(n.y<0||n.y>1)switch(this.wrapT){case _t:n.y=n.y-Math.floor(n.y);break;case Ut:n.y=n.y<0?0:1;break;case fn:Math.abs(Math.floor(n.y)%2)===1?n.y=Math.ceil(n.y)-n.y:n.y=n.y-Math.floor(n.y);break}return this.flipY&&(n.y=1-n.y),n}set needsUpdate(n){n===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return bf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===ci?Za:wy}set encoding(n){bf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=n===Za?ci:Qa}}rs.DEFAULT_IMAGE=null,rs.DEFAULT_MAPPING=Qe,rs.DEFAULT_ANISOTROPY=1;class Li{constructor(n=0,r=0,c=0,d=1){Li.prototype.isVector4=!0,this.x=n,this.y=r,this.z=c,this.w=d}get width(){return this.z}set width(n){this.z=n}get height(){return this.w}set height(n){this.w=n}set(n,r,c,d){return this.x=n,this.y=r,this.z=c,this.w=d,this}setScalar(n){return this.x=n,this.y=n,this.z=n,this.w=n,this}setX(n){return this.x=n,this}setY(n){return this.y=n,this}setZ(n){return this.z=n,this}setW(n){return this.w=n,this}setComponent(n,r){switch(n){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw new Error("index is out of range: "+n)}return this}getComponent(n){switch(n){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+n)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(n){return this.x=n.x,this.y=n.y,this.z=n.z,this.w=n.w!==void 0?n.w:1,this}add(n){return this.x+=n.x,this.y+=n.y,this.z+=n.z,this.w+=n.w,this}addScalar(n){return this.x+=n,this.y+=n,this.z+=n,this.w+=n,this}addVectors(n,r){return this.x=n.x+r.x,this.y=n.y+r.y,this.z=n.z+r.z,this.w=n.w+r.w,this}addScaledVector(n,r){return this.x+=n.x*r,this.y+=n.y*r,this.z+=n.z*r,this.w+=n.w*r,this}sub(n){return this.x-=n.x,this.y-=n.y,this.z-=n.z,this.w-=n.w,this}subScalar(n){return this.x-=n,this.y-=n,this.z-=n,this.w-=n,this}subVectors(n,r){return this.x=n.x-r.x,this.y=n.y-r.y,this.z=n.z-r.z,this.w=n.w-r.w,this}multiply(n){return this.x*=n.x,this.y*=n.y,this.z*=n.z,this.w*=n.w,this}multiplyScalar(n){return this.x*=n,this.y*=n,this.z*=n,this.w*=n,this}applyMatrix4(n){const r=this.x,c=this.y,d=this.z,m=this.w,_=n.elements;return this.x=_[0]*r+_[4]*c+_[8]*d+_[12]*m,this.y=_[1]*r+_[5]*c+_[9]*d+_[13]*m,this.z=_[2]*r+_[6]*c+_[10]*d+_[14]*m,this.w=_[3]*r+_[7]*c+_[11]*d+_[15]*m,this}divideScalar(n){return this.multiplyScalar(1/n)}setAxisAngleFromQuaternion(n){this.w=2*Math.acos(n.w);const r=Math.sqrt(1-n.w*n.w);return r<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=n.x/r,this.y=n.y/r,this.z=n.z/r),this}setAxisAngleFromRotationMatrix(n){let r,c,d,m;const T=n.elements,A=T[0],I=T[4],L=T[8],N=T[1],z=T[5],V=T[9],Y=T[2],K=T[6],$=T[10];if(Math.abs(I-N)<.01&&Math.abs(L-Y)<.01&&Math.abs(V-K)<.01){if(Math.abs(I+N)<.1&&Math.abs(L+Y)<.1&&Math.abs(V+K)<.1&&Math.abs(A+z+$-3)<.1)return this.set(1,0,0,0),this;r=Math.PI;const se=(A+1)/2,le=(z+1)/2,ye=($+1)/2,Me=(I+N)/4,ze=(L+Y)/4,Ke=(V+K)/4;return se>le&&se>ye?se<.01?(c=0,d=.707106781,m=.707106781):(c=Math.sqrt(se),d=Me/c,m=ze/c):le>ye?le<.01?(c=.707106781,d=0,m=.707106781):(d=Math.sqrt(le),c=Me/d,m=Ke/d):ye<.01?(c=.707106781,d=.707106781,m=0):(m=Math.sqrt(ye),c=ze/m,d=Ke/m),this.set(c,d,m,r),this}let oe=Math.sqrt((K-V)*(K-V)+(L-Y)*(L-Y)+(N-I)*(N-I));return Math.abs(oe)<.001&&(oe=1),this.x=(K-V)/oe,this.y=(L-Y)/oe,this.z=(N-I)/oe,this.w=Math.acos((A+z+$-1)/2),this}min(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this.z=Math.min(this.z,n.z),this.w=Math.min(this.w,n.w),this}max(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this.z=Math.max(this.z,n.z),this.w=Math.max(this.w,n.w),this}clamp(n,r){return this.x=Math.max(n.x,Math.min(r.x,this.x)),this.y=Math.max(n.y,Math.min(r.y,this.y)),this.z=Math.max(n.z,Math.min(r.z,this.z)),this.w=Math.max(n.w,Math.min(r.w,this.w)),this}clampScalar(n,r){return this.x=Math.max(n,Math.min(r,this.x)),this.y=Math.max(n,Math.min(r,this.y)),this.z=Math.max(n,Math.min(r,this.z)),this.w=Math.max(n,Math.min(r,this.w)),this}clampLength(n,r){const c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(n,Math.min(r,c)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(n){return this.x*n.x+this.y*n.y+this.z*n.z+this.w*n.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(n){return this.normalize().multiplyScalar(n)}lerp(n,r){return this.x+=(n.x-this.x)*r,this.y+=(n.y-this.y)*r,this.z+=(n.z-this.z)*r,this.w+=(n.w-this.w)*r,this}lerpVectors(n,r,c){return this.x=n.x+(r.x-n.x)*c,this.y=n.y+(r.y-n.y)*c,this.z=n.z+(r.z-n.z)*c,this.w=n.w+(r.w-n.w)*c,this}equals(n){return n.x===this.x&&n.y===this.y&&n.z===this.z&&n.w===this.w}fromArray(n,r=0){return this.x=n[r],this.y=n[r+1],this.z=n[r+2],this.w=n[r+3],this}toArray(n=[],r=0){return n[r]=this.x,n[r+1]=this.y,n[r+2]=this.z,n[r+3]=this.w,n}fromBufferAttribute(n,r){return this.x=n.getX(r),this.y=n.getY(r),this.z=n.getZ(r),this.w=n.getW(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ao extends la{constructor(n=1,r=1,c={}){super(),this.isWebGLRenderTarget=!0,this.width=n,this.height=r,this.depth=1,this.scissor=new Li(0,0,n,r),this.scissorTest=!1,this.viewport=new Li(0,0,n,r);const d={width:n,height:r,depth:1};c.encoding!==void 0&&(bf("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),c.colorSpace=c.encoding===Za?ci:Qa),this.texture=new rs(d,c.mapping,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,c.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=c.generateMipmaps!==void 0?c.generateMipmaps:!1,this.texture.internalFormat=c.internalFormat!==void 0?c.internalFormat:null,this.texture.minFilter=c.minFilter!==void 0?c.minFilter:Se,this.depthBuffer=c.depthBuffer!==void 0?c.depthBuffer:!0,this.stencilBuffer=c.stencilBuffer!==void 0?c.stencilBuffer:!1,this.depthTexture=c.depthTexture!==void 0?c.depthTexture:null,this.samples=c.samples!==void 0?c.samples:0}setSize(n,r,c=1){(this.width!==n||this.height!==r||this.depth!==c)&&(this.width=n,this.height=r,this.depth=c,this.texture.image.width=n,this.texture.image.height=r,this.texture.image.depth=c,this.dispose()),this.viewport.set(0,0,n,r),this.scissor.set(0,0,n,r)}clone(){return new this.constructor().copy(this)}copy(n){this.width=n.width,this.height=n.height,this.depth=n.depth,this.scissor.copy(n.scissor),this.scissorTest=n.scissorTest,this.viewport.copy(n.viewport),this.texture=n.texture.clone(),this.texture.isRenderTargetTexture=!0;const r=Object.assign({},n.texture.image);return this.texture.source=new Zl(r),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,n.depthTexture!==null&&(this.depthTexture=n.depthTexture.clone()),this.samples=n.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Yp extends rs{constructor(n=null,r=1,c=1,d=1){super(null),this.isDataArrayTexture=!0,this.image={data:n,width:r,height:c,depth:d},this.magFilter=Pe,this.minFilter=Pe,this.wrapR=Ut,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class XD extends ao{constructor(n=1,r=1,c=1){super(n,r),this.isWebGLArrayRenderTarget=!0,this.depth=c,this.texture=new Yp(null,n,r,c),this.texture.isRenderTargetTexture=!0}}class ky extends rs{constructor(n=null,r=1,c=1,d=1){super(null),this.isData3DTexture=!0,this.image={data:n,width:r,height:c,depth:d},this.magFilter=Pe,this.minFilter=Pe,this.wrapR=Ut,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class YD extends ao{constructor(n=1,r=1,c=1){super(n,r),this.isWebGL3DRenderTarget=!0,this.depth=c,this.texture=new ky(null,n,r,c),this.texture.isRenderTargetTexture=!0}}class ZD extends ao{constructor(n=1,r=1,c=1,d={}){super(n,r,d),this.isWebGLMultipleRenderTargets=!0;const m=this.texture;this.texture=[];for(let _=0;_<c;_++)this.texture[_]=m.clone(),this.texture[_].isRenderTargetTexture=!0}setSize(n,r,c=1){if(this.width!==n||this.height!==r||this.depth!==c){this.width=n,this.height=r,this.depth=c;for(let d=0,m=this.texture.length;d<m;d++)this.texture[d].image.width=n,this.texture[d].image.height=r,this.texture[d].image.depth=c;this.dispose()}return this.viewport.set(0,0,n,r),this.scissor.set(0,0,n,r),this}copy(n){this.dispose(),this.width=n.width,this.height=n.height,this.depth=n.depth,this.scissor.copy(n.scissor),this.scissorTest=n.scissorTest,this.viewport.copy(n.viewport),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,n.depthTexture!==null&&(this.depthTexture=n.depthTexture.clone()),this.texture.length=0;for(let r=0,c=n.texture.length;r<c;r++)this.texture[r]=n.texture[r].clone(),this.texture[r].isRenderTargetTexture=!0;return this}}class cr{constructor(n=0,r=0,c=0,d=1){this.isQuaternion=!0,this._x=n,this._y=r,this._z=c,this._w=d}static slerpFlat(n,r,c,d,m,_,S){let T=c[d+0],A=c[d+1],I=c[d+2],L=c[d+3];const N=m[_+0],z=m[_+1],V=m[_+2],Y=m[_+3];if(S===0){n[r+0]=T,n[r+1]=A,n[r+2]=I,n[r+3]=L;return}if(S===1){n[r+0]=N,n[r+1]=z,n[r+2]=V,n[r+3]=Y;return}if(L!==Y||T!==N||A!==z||I!==V){let K=1-S;const $=T*N+A*z+I*V+L*Y,oe=$>=0?1:-1,se=1-$*$;if(se>Number.EPSILON){const ye=Math.sqrt(se),Me=Math.atan2(ye,$*oe);K=Math.sin(K*Me)/ye,S=Math.sin(S*Me)/ye}const le=S*oe;if(T=T*K+N*le,A=A*K+z*le,I=I*K+V*le,L=L*K+Y*le,K===1-S){const ye=1/Math.sqrt(T*T+A*A+I*I+L*L);T*=ye,A*=ye,I*=ye,L*=ye}}n[r]=T,n[r+1]=A,n[r+2]=I,n[r+3]=L}static multiplyQuaternionsFlat(n,r,c,d,m,_){const S=c[d],T=c[d+1],A=c[d+2],I=c[d+3],L=m[_],N=m[_+1],z=m[_+2],V=m[_+3];return n[r]=S*V+I*L+T*z-A*N,n[r+1]=T*V+I*N+A*L-S*z,n[r+2]=A*V+I*z+S*N-T*L,n[r+3]=I*V-S*L-T*N-A*z,n}get x(){return this._x}set x(n){this._x=n,this._onChangeCallback()}get y(){return this._y}set y(n){this._y=n,this._onChangeCallback()}get z(){return this._z}set z(n){this._z=n,this._onChangeCallback()}get w(){return this._w}set w(n){this._w=n,this._onChangeCallback()}set(n,r,c,d){return this._x=n,this._y=r,this._z=c,this._w=d,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(n){return this._x=n.x,this._y=n.y,this._z=n.z,this._w=n.w,this._onChangeCallback(),this}setFromEuler(n,r){const c=n._x,d=n._y,m=n._z,_=n._order,S=Math.cos,T=Math.sin,A=S(c/2),I=S(d/2),L=S(m/2),N=T(c/2),z=T(d/2),V=T(m/2);switch(_){case"XYZ":this._x=N*I*L+A*z*V,this._y=A*z*L-N*I*V,this._z=A*I*V+N*z*L,this._w=A*I*L-N*z*V;break;case"YXZ":this._x=N*I*L+A*z*V,this._y=A*z*L-N*I*V,this._z=A*I*V-N*z*L,this._w=A*I*L+N*z*V;break;case"ZXY":this._x=N*I*L-A*z*V,this._y=A*z*L+N*I*V,this._z=A*I*V+N*z*L,this._w=A*I*L-N*z*V;break;case"ZYX":this._x=N*I*L-A*z*V,this._y=A*z*L+N*I*V,this._z=A*I*V-N*z*L,this._w=A*I*L+N*z*V;break;case"YZX":this._x=N*I*L+A*z*V,this._y=A*z*L+N*I*V,this._z=A*I*V-N*z*L,this._w=A*I*L-N*z*V;break;case"XZY":this._x=N*I*L-A*z*V,this._y=A*z*L-N*I*V,this._z=A*I*V+N*z*L,this._w=A*I*L+N*z*V;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+_)}return r!==!1&&this._onChangeCallback(),this}setFromAxisAngle(n,r){const c=r/2,d=Math.sin(c);return this._x=n.x*d,this._y=n.y*d,this._z=n.z*d,this._w=Math.cos(c),this._onChangeCallback(),this}setFromRotationMatrix(n){const r=n.elements,c=r[0],d=r[4],m=r[8],_=r[1],S=r[5],T=r[9],A=r[2],I=r[6],L=r[10],N=c+S+L;if(N>0){const z=.5/Math.sqrt(N+1);this._w=.25/z,this._x=(I-T)*z,this._y=(m-A)*z,this._z=(_-d)*z}else if(c>S&&c>L){const z=2*Math.sqrt(1+c-S-L);this._w=(I-T)/z,this._x=.25*z,this._y=(d+_)/z,this._z=(m+A)/z}else if(S>L){const z=2*Math.sqrt(1+S-c-L);this._w=(m-A)/z,this._x=(d+_)/z,this._y=.25*z,this._z=(T+I)/z}else{const z=2*Math.sqrt(1+L-c-S);this._w=(_-d)/z,this._x=(m+A)/z,this._y=(T+I)/z,this._z=.25*z}return this._onChangeCallback(),this}setFromUnitVectors(n,r){let c=n.dot(r)+1;return c<Number.EPSILON?(c=0,Math.abs(n.x)>Math.abs(n.z)?(this._x=-n.y,this._y=n.x,this._z=0,this._w=c):(this._x=0,this._y=-n.z,this._z=n.y,this._w=c)):(this._x=n.y*r.z-n.z*r.y,this._y=n.z*r.x-n.x*r.z,this._z=n.x*r.y-n.y*r.x,this._w=c),this.normalize()}angleTo(n){return 2*Math.acos(Math.abs(is(this.dot(n),-1,1)))}rotateTowards(n,r){const c=this.angleTo(n);if(c===0)return this;const d=Math.min(1,r/c);return this.slerp(n,d),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(n){return this._x*n._x+this._y*n._y+this._z*n._z+this._w*n._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let n=this.length();return n===0?(this._x=0,this._y=0,this._z=0,this._w=1):(n=1/n,this._x=this._x*n,this._y=this._y*n,this._z=this._z*n,this._w=this._w*n),this._onChangeCallback(),this}multiply(n){return this.multiplyQuaternions(this,n)}premultiply(n){return this.multiplyQuaternions(n,this)}multiplyQuaternions(n,r){const c=n._x,d=n._y,m=n._z,_=n._w,S=r._x,T=r._y,A=r._z,I=r._w;return this._x=c*I+_*S+d*A-m*T,this._y=d*I+_*T+m*S-c*A,this._z=m*I+_*A+c*T-d*S,this._w=_*I-c*S-d*T-m*A,this._onChangeCallback(),this}slerp(n,r){if(r===0)return this;if(r===1)return this.copy(n);const c=this._x,d=this._y,m=this._z,_=this._w;let S=_*n._w+c*n._x+d*n._y+m*n._z;if(S<0?(this._w=-n._w,this._x=-n._x,this._y=-n._y,this._z=-n._z,S=-S):this.copy(n),S>=1)return this._w=_,this._x=c,this._y=d,this._z=m,this;const T=1-S*S;if(T<=Number.EPSILON){const z=1-r;return this._w=z*_+r*this._w,this._x=z*c+r*this._x,this._y=z*d+r*this._y,this._z=z*m+r*this._z,this.normalize(),this._onChangeCallback(),this}const A=Math.sqrt(T),I=Math.atan2(A,S),L=Math.sin((1-r)*I)/A,N=Math.sin(r*I)/A;return this._w=_*L+this._w*N,this._x=c*L+this._x*N,this._y=d*L+this._y*N,this._z=m*L+this._z*N,this._onChangeCallback(),this}slerpQuaternions(n,r,c){return this.copy(n).slerp(r,c)}random(){const n=Math.random(),r=Math.sqrt(1-n),c=Math.sqrt(n),d=2*Math.PI*Math.random(),m=2*Math.PI*Math.random();return this.set(r*Math.cos(d),c*Math.sin(m),c*Math.cos(m),r*Math.sin(d))}equals(n){return n._x===this._x&&n._y===this._y&&n._z===this._z&&n._w===this._w}fromArray(n,r=0){return this._x=n[r],this._y=n[r+1],this._z=n[r+2],this._w=n[r+3],this._onChangeCallback(),this}toArray(n=[],r=0){return n[r]=this._x,n[r+1]=this._y,n[r+2]=this._z,n[r+3]=this._w,n}fromBufferAttribute(n,r){return this._x=n.getX(r),this._y=n.getY(r),this._z=n.getZ(r),this._w=n.getW(r),this}toJSON(){return this.toArray()}_onChange(n){return this._onChangeCallback=n,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Re{constructor(n=0,r=0,c=0){Re.prototype.isVector3=!0,this.x=n,this.y=r,this.z=c}set(n,r,c){return c===void 0&&(c=this.z),this.x=n,this.y=r,this.z=c,this}setScalar(n){return this.x=n,this.y=n,this.z=n,this}setX(n){return this.x=n,this}setY(n){return this.y=n,this}setZ(n){return this.z=n,this}setComponent(n,r){switch(n){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+n)}return this}getComponent(n){switch(n){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+n)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(n){return this.x=n.x,this.y=n.y,this.z=n.z,this}add(n){return this.x+=n.x,this.y+=n.y,this.z+=n.z,this}addScalar(n){return this.x+=n,this.y+=n,this.z+=n,this}addVectors(n,r){return this.x=n.x+r.x,this.y=n.y+r.y,this.z=n.z+r.z,this}addScaledVector(n,r){return this.x+=n.x*r,this.y+=n.y*r,this.z+=n.z*r,this}sub(n){return this.x-=n.x,this.y-=n.y,this.z-=n.z,this}subScalar(n){return this.x-=n,this.y-=n,this.z-=n,this}subVectors(n,r){return this.x=n.x-r.x,this.y=n.y-r.y,this.z=n.z-r.z,this}multiply(n){return this.x*=n.x,this.y*=n.y,this.z*=n.z,this}multiplyScalar(n){return this.x*=n,this.y*=n,this.z*=n,this}multiplyVectors(n,r){return this.x=n.x*r.x,this.y=n.y*r.y,this.z=n.z*r.z,this}applyEuler(n){return this.applyQuaternion(Zx.setFromEuler(n))}applyAxisAngle(n,r){return this.applyQuaternion(Zx.setFromAxisAngle(n,r))}applyMatrix3(n){const r=this.x,c=this.y,d=this.z,m=n.elements;return this.x=m[0]*r+m[3]*c+m[6]*d,this.y=m[1]*r+m[4]*c+m[7]*d,this.z=m[2]*r+m[5]*c+m[8]*d,this}applyNormalMatrix(n){return this.applyMatrix3(n).normalize()}applyMatrix4(n){const r=this.x,c=this.y,d=this.z,m=n.elements,_=1/(m[3]*r+m[7]*c+m[11]*d+m[15]);return this.x=(m[0]*r+m[4]*c+m[8]*d+m[12])*_,this.y=(m[1]*r+m[5]*c+m[9]*d+m[13])*_,this.z=(m[2]*r+m[6]*c+m[10]*d+m[14])*_,this}applyQuaternion(n){const r=this.x,c=this.y,d=this.z,m=n.x,_=n.y,S=n.z,T=n.w,A=T*r+_*d-S*c,I=T*c+S*r-m*d,L=T*d+m*c-_*r,N=-m*r-_*c-S*d;return this.x=A*T+N*-m+I*-S-L*-_,this.y=I*T+N*-_+L*-m-A*-S,this.z=L*T+N*-S+A*-_-I*-m,this}project(n){return this.applyMatrix4(n.matrixWorldInverse).applyMatrix4(n.projectionMatrix)}unproject(n){return this.applyMatrix4(n.projectionMatrixInverse).applyMatrix4(n.matrixWorld)}transformDirection(n){const r=this.x,c=this.y,d=this.z,m=n.elements;return this.x=m[0]*r+m[4]*c+m[8]*d,this.y=m[1]*r+m[5]*c+m[9]*d,this.z=m[2]*r+m[6]*c+m[10]*d,this.normalize()}divide(n){return this.x/=n.x,this.y/=n.y,this.z/=n.z,this}divideScalar(n){return this.multiplyScalar(1/n)}min(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this.z=Math.min(this.z,n.z),this}max(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this.z=Math.max(this.z,n.z),this}clamp(n,r){return this.x=Math.max(n.x,Math.min(r.x,this.x)),this.y=Math.max(n.y,Math.min(r.y,this.y)),this.z=Math.max(n.z,Math.min(r.z,this.z)),this}clampScalar(n,r){return this.x=Math.max(n,Math.min(r,this.x)),this.y=Math.max(n,Math.min(r,this.y)),this.z=Math.max(n,Math.min(r,this.z)),this}clampLength(n,r){const c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(n,Math.min(r,c)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(n){return this.x*n.x+this.y*n.y+this.z*n.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(n){return this.normalize().multiplyScalar(n)}lerp(n,r){return this.x+=(n.x-this.x)*r,this.y+=(n.y-this.y)*r,this.z+=(n.z-this.z)*r,this}lerpVectors(n,r,c){return this.x=n.x+(r.x-n.x)*c,this.y=n.y+(r.y-n.y)*c,this.z=n.z+(r.z-n.z)*c,this}cross(n){return this.crossVectors(this,n)}crossVectors(n,r){const c=n.x,d=n.y,m=n.z,_=r.x,S=r.y,T=r.z;return this.x=d*T-m*S,this.y=m*_-c*T,this.z=c*S-d*_,this}projectOnVector(n){const r=n.lengthSq();if(r===0)return this.set(0,0,0);const c=n.dot(this)/r;return this.copy(n).multiplyScalar(c)}projectOnPlane(n){return Py.copy(this).projectOnVector(n),this.sub(Py)}reflect(n){return this.sub(Py.copy(n).multiplyScalar(2*this.dot(n)))}angleTo(n){const r=Math.sqrt(this.lengthSq()*n.lengthSq());if(r===0)return Math.PI/2;const c=this.dot(n)/r;return Math.acos(is(c,-1,1))}distanceTo(n){return Math.sqrt(this.distanceToSquared(n))}distanceToSquared(n){const r=this.x-n.x,c=this.y-n.y,d=this.z-n.z;return r*r+c*c+d*d}manhattanDistanceTo(n){return Math.abs(this.x-n.x)+Math.abs(this.y-n.y)+Math.abs(this.z-n.z)}setFromSpherical(n){return this.setFromSphericalCoords(n.radius,n.phi,n.theta)}setFromSphericalCoords(n,r,c){const d=Math.sin(r)*n;return this.x=d*Math.sin(c),this.y=Math.cos(r)*n,this.z=d*Math.cos(c),this}setFromCylindrical(n){return this.setFromCylindricalCoords(n.radius,n.theta,n.y)}setFromCylindricalCoords(n,r,c){return this.x=n*Math.sin(r),this.y=c,this.z=n*Math.cos(r),this}setFromMatrixPosition(n){const r=n.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this}setFromMatrixScale(n){const r=this.setFromMatrixColumn(n,0).length(),c=this.setFromMatrixColumn(n,1).length(),d=this.setFromMatrixColumn(n,2).length();return this.x=r,this.y=c,this.z=d,this}setFromMatrixColumn(n,r){return this.fromArray(n.elements,r*4)}setFromMatrix3Column(n,r){return this.fromArray(n.elements,r*3)}setFromEuler(n){return this.x=n._x,this.y=n._y,this.z=n._z,this}setFromColor(n){return this.x=n.r,this.y=n.g,this.z=n.b,this}equals(n){return n.x===this.x&&n.y===this.y&&n.z===this.z}fromArray(n,r=0){return this.x=n[r],this.y=n[r+1],this.z=n[r+2],this}toArray(n=[],r=0){return n[r]=this.x,n[r+1]=this.y,n[r+2]=this.z,n}fromBufferAttribute(n,r){return this.x=n.getX(r),this.y=n.getY(r),this.z=n.getZ(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const n=(Math.random()-.5)*2,r=Math.random()*Math.PI*2,c=Math.sqrt(1-n**2);return this.x=c*Math.cos(r),this.y=c*Math.sin(r),this.z=n,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Py=new Re,Zx=new cr;class Bo{constructor(n=new Re(1/0,1/0,1/0),r=new Re(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=n,this.max=r}set(n,r){return this.min.copy(n),this.max.copy(r),this}setFromArray(n){this.makeEmpty();for(let r=0,c=n.length;r<c;r+=3)this.expandByPoint(ua.fromArray(n,r));return this}setFromBufferAttribute(n){this.makeEmpty();for(let r=0,c=n.count;r<c;r++)this.expandByPoint(ua.fromBufferAttribute(n,r));return this}setFromPoints(n){this.makeEmpty();for(let r=0,c=n.length;r<c;r++)this.expandByPoint(n[r]);return this}setFromCenterAndSize(n,r){const c=ua.copy(r).multiplyScalar(.5);return this.min.copy(n).sub(c),this.max.copy(n).add(c),this}setFromObject(n,r=!1){return this.makeEmpty(),this.expandByObject(n,r)}clone(){return new this.constructor().copy(this)}copy(n){return this.min.copy(n.min),this.max.copy(n.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(n){return this.isEmpty()?n.set(0,0,0):n.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(n){return this.isEmpty()?n.set(0,0,0):n.subVectors(this.max,this.min)}expandByPoint(n){return this.min.min(n),this.max.max(n),this}expandByVector(n){return this.min.sub(n),this.max.add(n),this}expandByScalar(n){return this.min.addScalar(-n),this.max.addScalar(n),this}expandByObject(n,r=!1){if(n.updateWorldMatrix(!1,!1),n.boundingBox!==void 0)n.boundingBox===null&&n.computeBoundingBox(),uu.copy(n.boundingBox),uu.applyMatrix4(n.matrixWorld),this.union(uu);else{const d=n.geometry;if(d!==void 0)if(r&&d.attributes!==void 0&&d.attributes.position!==void 0){const m=d.attributes.position;for(let _=0,S=m.count;_<S;_++)ua.fromBufferAttribute(m,_).applyMatrix4(n.matrixWorld),this.expandByPoint(ua)}else d.boundingBox===null&&d.computeBoundingBox(),uu.copy(d.boundingBox),uu.applyMatrix4(n.matrixWorld),this.union(uu)}const c=n.children;for(let d=0,m=c.length;d<m;d++)this.expandByObject(c[d],r);return this}containsPoint(n){return!(n.x<this.min.x||n.x>this.max.x||n.y<this.min.y||n.y>this.max.y||n.z<this.min.z||n.z>this.max.z)}containsBox(n){return this.min.x<=n.min.x&&n.max.x<=this.max.x&&this.min.y<=n.min.y&&n.max.y<=this.max.y&&this.min.z<=n.min.z&&n.max.z<=this.max.z}getParameter(n,r){return r.set((n.x-this.min.x)/(this.max.x-this.min.x),(n.y-this.min.y)/(this.max.y-this.min.y),(n.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(n){return!(n.max.x<this.min.x||n.min.x>this.max.x||n.max.y<this.min.y||n.min.y>this.max.y||n.max.z<this.min.z||n.min.z>this.max.z)}intersectsSphere(n){return this.clampPoint(n.center,ua),ua.distanceToSquared(n.center)<=n.radius*n.radius}intersectsPlane(n){let r,c;return n.normal.x>0?(r=n.normal.x*this.min.x,c=n.normal.x*this.max.x):(r=n.normal.x*this.max.x,c=n.normal.x*this.min.x),n.normal.y>0?(r+=n.normal.y*this.min.y,c+=n.normal.y*this.max.y):(r+=n.normal.y*this.max.y,c+=n.normal.y*this.min.y),n.normal.z>0?(r+=n.normal.z*this.min.z,c+=n.normal.z*this.max.z):(r+=n.normal.z*this.max.z,c+=n.normal.z*this.min.z),r<=-n.constant&&c>=-n.constant}intersectsTriangle(n){if(this.isEmpty())return!1;this.getCenter(_f),Zp.subVectors(this.max,_f),du.subVectors(n.a,_f),fu.subVectors(n.b,_f),hu.subVectors(n.c,_f),el.subVectors(fu,du),tl.subVectors(hu,fu),Jl.subVectors(du,hu);let r=[0,-el.z,el.y,0,-tl.z,tl.y,0,-Jl.z,Jl.y,el.z,0,-el.x,tl.z,0,-tl.x,Jl.z,0,-Jl.x,-el.y,el.x,0,-tl.y,tl.x,0,-Jl.y,Jl.x,0];return!Iy(r,du,fu,hu,Zp)||(r=[1,0,0,0,1,0,0,0,1],!Iy(r,du,fu,hu,Zp))?!1:(Jp.crossVectors(el,tl),r=[Jp.x,Jp.y,Jp.z],Iy(r,du,fu,hu,Zp))}clampPoint(n,r){return r.copy(n).clamp(this.min,this.max)}distanceToPoint(n){return this.clampPoint(n,ua).distanceTo(n)}getBoundingSphere(n){return this.isEmpty()?n.makeEmpty():(this.getCenter(n.center),n.radius=this.getSize(ua).length()*.5),n}intersect(n){return this.min.max(n.min),this.max.min(n.max),this.isEmpty()&&this.makeEmpty(),this}union(n){return this.min.min(n.min),this.max.max(n.max),this}applyMatrix4(n){return this.isEmpty()?this:(ca[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(n),ca[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(n),ca[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(n),ca[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(n),ca[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(n),ca[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(n),ca[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(n),ca[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(n),this.setFromPoints(ca),this)}translate(n){return this.min.add(n),this.max.add(n),this}equals(n){return n.min.equals(this.min)&&n.max.equals(this.max)}}const ca=[new Re,new Re,new Re,new Re,new Re,new Re,new Re,new Re],ua=new Re,uu=new Bo,du=new Re,fu=new Re,hu=new Re,el=new Re,tl=new Re,Jl=new Re,_f=new Re,Zp=new Re,Jp=new Re,Ql=new Re;function Iy(y,n,r,c,d){for(let m=0,_=y.length-3;m<=_;m+=3){Ql.fromArray(y,m);const S=d.x*Math.abs(Ql.x)+d.y*Math.abs(Ql.y)+d.z*Math.abs(Ql.z),T=n.dot(Ql),A=r.dot(Ql),I=c.dot(Ql);if(Math.max(-Math.max(T,A,I),Math.min(T,A,I))>S)return!1}return!0}const JD=new Bo,wf=new Re,Ly=new Re;class zo{constructor(n=new Re,r=-1){this.center=n,this.radius=r}set(n,r){return this.center.copy(n),this.radius=r,this}setFromPoints(n,r){const c=this.center;r!==void 0?c.copy(r):JD.setFromPoints(n).getCenter(c);let d=0;for(let m=0,_=n.length;m<_;m++)d=Math.max(d,c.distanceToSquared(n[m]));return this.radius=Math.sqrt(d),this}copy(n){return this.center.copy(n.center),this.radius=n.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(n){return n.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(n){return n.distanceTo(this.center)-this.radius}intersectsSphere(n){const r=this.radius+n.radius;return n.center.distanceToSquared(this.center)<=r*r}intersectsBox(n){return n.intersectsSphere(this)}intersectsPlane(n){return Math.abs(n.distanceToPoint(this.center))<=this.radius}clampPoint(n,r){const c=this.center.distanceToSquared(n);return r.copy(n),c>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r}getBoundingBox(n){return this.isEmpty()?(n.makeEmpty(),n):(n.set(this.center,this.center),n.expandByScalar(this.radius),n)}applyMatrix4(n){return this.center.applyMatrix4(n),this.radius=this.radius*n.getMaxScaleOnAxis(),this}translate(n){return this.center.add(n),this}expandByPoint(n){if(this.isEmpty())return this.center.copy(n),this.radius=0,this;wf.subVectors(n,this.center);const r=wf.lengthSq();if(r>this.radius*this.radius){const c=Math.sqrt(r),d=(c-this.radius)*.5;this.center.addScaledVector(wf,d/c),this.radius+=d}return this}union(n){return n.isEmpty()?this:this.isEmpty()?(this.copy(n),this):(this.center.equals(n.center)===!0?this.radius=Math.max(this.radius,n.radius):(Ly.subVectors(n.center,this.center).setLength(n.radius),this.expandByPoint(wf.copy(n.center).add(Ly)),this.expandByPoint(wf.copy(n.center).sub(Ly))),this)}equals(n){return n.center.equals(this.center)&&n.radius===this.radius}clone(){return new this.constructor().copy(this)}}const da=new Re,Ny=new Re,Qp=new Re,nl=new Re,Oy=new Re,em=new Re,Dy=new Re;class Sf{constructor(n=new Re,r=new Re(0,0,-1)){this.origin=n,this.direction=r}set(n,r){return this.origin.copy(n),this.direction.copy(r),this}copy(n){return this.origin.copy(n.origin),this.direction.copy(n.direction),this}at(n,r){return r.copy(this.origin).addScaledVector(this.direction,n)}lookAt(n){return this.direction.copy(n).sub(this.origin).normalize(),this}recast(n){return this.origin.copy(this.at(n,da)),this}closestPointToPoint(n,r){r.subVectors(n,this.origin);const c=r.dot(this.direction);return c<0?r.copy(this.origin):r.copy(this.origin).addScaledVector(this.direction,c)}distanceToPoint(n){return Math.sqrt(this.distanceSqToPoint(n))}distanceSqToPoint(n){const r=da.subVectors(n,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(n):(da.copy(this.origin).addScaledVector(this.direction,r),da.distanceToSquared(n))}distanceSqToSegment(n,r,c,d){Ny.copy(n).add(r).multiplyScalar(.5),Qp.copy(r).sub(n).normalize(),nl.copy(this.origin).sub(Ny);const m=n.distanceTo(r)*.5,_=-this.direction.dot(Qp),S=nl.dot(this.direction),T=-nl.dot(Qp),A=nl.lengthSq(),I=Math.abs(1-_*_);let L,N,z,V;if(I>0)if(L=_*T-S,N=_*S-T,V=m*I,L>=0)if(N>=-V)if(N<=V){const Y=1/I;L*=Y,N*=Y,z=L*(L+_*N+2*S)+N*(_*L+N+2*T)+A}else N=m,L=Math.max(0,-(_*N+S)),z=-L*L+N*(N+2*T)+A;else N=-m,L=Math.max(0,-(_*N+S)),z=-L*L+N*(N+2*T)+A;else N<=-V?(L=Math.max(0,-(-_*m+S)),N=L>0?-m:Math.min(Math.max(-m,-T),m),z=-L*L+N*(N+2*T)+A):N<=V?(L=0,N=Math.min(Math.max(-m,-T),m),z=N*(N+2*T)+A):(L=Math.max(0,-(_*m+S)),N=L>0?m:Math.min(Math.max(-m,-T),m),z=-L*L+N*(N+2*T)+A);else N=_>0?-m:m,L=Math.max(0,-(_*N+S)),z=-L*L+N*(N+2*T)+A;return c&&c.copy(this.origin).addScaledVector(this.direction,L),d&&d.copy(Ny).addScaledVector(Qp,N),z}intersectSphere(n,r){da.subVectors(n.center,this.origin);const c=da.dot(this.direction),d=da.dot(da)-c*c,m=n.radius*n.radius;if(d>m)return null;const _=Math.sqrt(m-d),S=c-_,T=c+_;return T<0?null:S<0?this.at(T,r):this.at(S,r)}intersectsSphere(n){return this.distanceSqToPoint(n.center)<=n.radius*n.radius}distanceToPlane(n){const r=n.normal.dot(this.direction);if(r===0)return n.distanceToPoint(this.origin)===0?0:null;const c=-(this.origin.dot(n.normal)+n.constant)/r;return c>=0?c:null}intersectPlane(n,r){const c=this.distanceToPlane(n);return c===null?null:this.at(c,r)}intersectsPlane(n){const r=n.distanceToPoint(this.origin);return r===0||n.normal.dot(this.direction)*r<0}intersectBox(n,r){let c,d,m,_,S,T;const A=1/this.direction.x,I=1/this.direction.y,L=1/this.direction.z,N=this.origin;return A>=0?(c=(n.min.x-N.x)*A,d=(n.max.x-N.x)*A):(c=(n.max.x-N.x)*A,d=(n.min.x-N.x)*A),I>=0?(m=(n.min.y-N.y)*I,_=(n.max.y-N.y)*I):(m=(n.max.y-N.y)*I,_=(n.min.y-N.y)*I),c>_||m>d||((m>c||isNaN(c))&&(c=m),(_<d||isNaN(d))&&(d=_),L>=0?(S=(n.min.z-N.z)*L,T=(n.max.z-N.z)*L):(S=(n.max.z-N.z)*L,T=(n.min.z-N.z)*L),c>T||S>d)||((S>c||c!==c)&&(c=S),(T<d||d!==d)&&(d=T),d<0)?null:this.at(c>=0?c:d,r)}intersectsBox(n){return this.intersectBox(n,da)!==null}intersectTriangle(n,r,c,d,m){Oy.subVectors(r,n),em.subVectors(c,n),Dy.crossVectors(Oy,em);let _=this.direction.dot(Dy),S;if(_>0){if(d)return null;S=1}else if(_<0)S=-1,_=-_;else return null;nl.subVectors(this.origin,n);const T=S*this.direction.dot(em.crossVectors(nl,em));if(T<0)return null;const A=S*this.direction.dot(Oy.cross(nl));if(A<0||T+A>_)return null;const I=-S*nl.dot(Dy);return I<0?null:this.at(I/_,m)}applyMatrix4(n){return this.origin.applyMatrix4(n),this.direction.transformDirection(n),this}equals(n){return n.origin.equals(this.origin)&&n.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class li{constructor(){li.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(n,r,c,d,m,_,S,T,A,I,L,N,z,V,Y,K){const $=this.elements;return $[0]=n,$[4]=r,$[8]=c,$[12]=d,$[1]=m,$[5]=_,$[9]=S,$[13]=T,$[2]=A,$[6]=I,$[10]=L,$[14]=N,$[3]=z,$[7]=V,$[11]=Y,$[15]=K,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new li().fromArray(this.elements)}copy(n){const r=this.elements,c=n.elements;return r[0]=c[0],r[1]=c[1],r[2]=c[2],r[3]=c[3],r[4]=c[4],r[5]=c[5],r[6]=c[6],r[7]=c[7],r[8]=c[8],r[9]=c[9],r[10]=c[10],r[11]=c[11],r[12]=c[12],r[13]=c[13],r[14]=c[14],r[15]=c[15],this}copyPosition(n){const r=this.elements,c=n.elements;return r[12]=c[12],r[13]=c[13],r[14]=c[14],this}setFromMatrix3(n){const r=n.elements;return this.set(r[0],r[3],r[6],0,r[1],r[4],r[7],0,r[2],r[5],r[8],0,0,0,0,1),this}extractBasis(n,r,c){return n.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),c.setFromMatrixColumn(this,2),this}makeBasis(n,r,c){return this.set(n.x,r.x,c.x,0,n.y,r.y,c.y,0,n.z,r.z,c.z,0,0,0,0,1),this}extractRotation(n){const r=this.elements,c=n.elements,d=1/pu.setFromMatrixColumn(n,0).length(),m=1/pu.setFromMatrixColumn(n,1).length(),_=1/pu.setFromMatrixColumn(n,2).length();return r[0]=c[0]*d,r[1]=c[1]*d,r[2]=c[2]*d,r[3]=0,r[4]=c[4]*m,r[5]=c[5]*m,r[6]=c[6]*m,r[7]=0,r[8]=c[8]*_,r[9]=c[9]*_,r[10]=c[10]*_,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromEuler(n){const r=this.elements,c=n.x,d=n.y,m=n.z,_=Math.cos(c),S=Math.sin(c),T=Math.cos(d),A=Math.sin(d),I=Math.cos(m),L=Math.sin(m);if(n.order==="XYZ"){const N=_*I,z=_*L,V=S*I,Y=S*L;r[0]=T*I,r[4]=-T*L,r[8]=A,r[1]=z+V*A,r[5]=N-Y*A,r[9]=-S*T,r[2]=Y-N*A,r[6]=V+z*A,r[10]=_*T}else if(n.order==="YXZ"){const N=T*I,z=T*L,V=A*I,Y=A*L;r[0]=N+Y*S,r[4]=V*S-z,r[8]=_*A,r[1]=_*L,r[5]=_*I,r[9]=-S,r[2]=z*S-V,r[6]=Y+N*S,r[10]=_*T}else if(n.order==="ZXY"){const N=T*I,z=T*L,V=A*I,Y=A*L;r[0]=N-Y*S,r[4]=-_*L,r[8]=V+z*S,r[1]=z+V*S,r[5]=_*I,r[9]=Y-N*S,r[2]=-_*A,r[6]=S,r[10]=_*T}else if(n.order==="ZYX"){const N=_*I,z=_*L,V=S*I,Y=S*L;r[0]=T*I,r[4]=V*A-z,r[8]=N*A+Y,r[1]=T*L,r[5]=Y*A+N,r[9]=z*A-V,r[2]=-A,r[6]=S*T,r[10]=_*T}else if(n.order==="YZX"){const N=_*T,z=_*A,V=S*T,Y=S*A;r[0]=T*I,r[4]=Y-N*L,r[8]=V*L+z,r[1]=L,r[5]=_*I,r[9]=-S*I,r[2]=-A*I,r[6]=z*L+V,r[10]=N-Y*L}else if(n.order==="XZY"){const N=_*T,z=_*A,V=S*T,Y=S*A;r[0]=T*I,r[4]=-L,r[8]=A*I,r[1]=N*L+Y,r[5]=_*I,r[9]=z*L-V,r[2]=V*L-z,r[6]=S*I,r[10]=Y*L+N}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromQuaternion(n){return this.compose(QD,n,eF)}lookAt(n,r,c){const d=this.elements;return Mr.subVectors(n,r),Mr.lengthSq()===0&&(Mr.z=1),Mr.normalize(),il.crossVectors(c,Mr),il.lengthSq()===0&&(Math.abs(c.z)===1?Mr.x+=1e-4:Mr.z+=1e-4,Mr.normalize(),il.crossVectors(c,Mr)),il.normalize(),tm.crossVectors(Mr,il),d[0]=il.x,d[4]=tm.x,d[8]=Mr.x,d[1]=il.y,d[5]=tm.y,d[9]=Mr.y,d[2]=il.z,d[6]=tm.z,d[10]=Mr.z,this}multiply(n){return this.multiplyMatrices(this,n)}premultiply(n){return this.multiplyMatrices(n,this)}multiplyMatrices(n,r){const c=n.elements,d=r.elements,m=this.elements,_=c[0],S=c[4],T=c[8],A=c[12],I=c[1],L=c[5],N=c[9],z=c[13],V=c[2],Y=c[6],K=c[10],$=c[14],oe=c[3],se=c[7],le=c[11],ye=c[15],Me=d[0],ze=d[4],Ke=d[8],de=d[12],ke=d[1],bt=d[5],St=d[9],ot=d[13],mt=d[2],wt=d[6],$t=d[10],Ot=d[14],Dt=d[3],Qt=d[7],Gt=d[11],In=d[15];return m[0]=_*Me+S*ke+T*mt+A*Dt,m[4]=_*ze+S*bt+T*wt+A*Qt,m[8]=_*Ke+S*St+T*$t+A*Gt,m[12]=_*de+S*ot+T*Ot+A*In,m[1]=I*Me+L*ke+N*mt+z*Dt,m[5]=I*ze+L*bt+N*wt+z*Qt,m[9]=I*Ke+L*St+N*$t+z*Gt,m[13]=I*de+L*ot+N*Ot+z*In,m[2]=V*Me+Y*ke+K*mt+$*Dt,m[6]=V*ze+Y*bt+K*wt+$*Qt,m[10]=V*Ke+Y*St+K*$t+$*Gt,m[14]=V*de+Y*ot+K*Ot+$*In,m[3]=oe*Me+se*ke+le*mt+ye*Dt,m[7]=oe*ze+se*bt+le*wt+ye*Qt,m[11]=oe*Ke+se*St+le*$t+ye*Gt,m[15]=oe*de+se*ot+le*Ot+ye*In,this}multiplyScalar(n){const r=this.elements;return r[0]*=n,r[4]*=n,r[8]*=n,r[12]*=n,r[1]*=n,r[5]*=n,r[9]*=n,r[13]*=n,r[2]*=n,r[6]*=n,r[10]*=n,r[14]*=n,r[3]*=n,r[7]*=n,r[11]*=n,r[15]*=n,this}determinant(){const n=this.elements,r=n[0],c=n[4],d=n[8],m=n[12],_=n[1],S=n[5],T=n[9],A=n[13],I=n[2],L=n[6],N=n[10],z=n[14],V=n[3],Y=n[7],K=n[11],$=n[15];return V*(+m*T*L-d*A*L-m*S*N+c*A*N+d*S*z-c*T*z)+Y*(+r*T*z-r*A*N+m*_*N-d*_*z+d*A*I-m*T*I)+K*(+r*A*L-r*S*z-m*_*L+c*_*z+m*S*I-c*A*I)+$*(-d*S*I-r*T*L+r*S*N+d*_*L-c*_*N+c*T*I)}transpose(){const n=this.elements;let r;return r=n[1],n[1]=n[4],n[4]=r,r=n[2],n[2]=n[8],n[8]=r,r=n[6],n[6]=n[9],n[9]=r,r=n[3],n[3]=n[12],n[12]=r,r=n[7],n[7]=n[13],n[13]=r,r=n[11],n[11]=n[14],n[14]=r,this}setPosition(n,r,c){const d=this.elements;return n.isVector3?(d[12]=n.x,d[13]=n.y,d[14]=n.z):(d[12]=n,d[13]=r,d[14]=c),this}invert(){const n=this.elements,r=n[0],c=n[1],d=n[2],m=n[3],_=n[4],S=n[5],T=n[6],A=n[7],I=n[8],L=n[9],N=n[10],z=n[11],V=n[12],Y=n[13],K=n[14],$=n[15],oe=L*K*A-Y*N*A+Y*T*z-S*K*z-L*T*$+S*N*$,se=V*N*A-I*K*A-V*T*z+_*K*z+I*T*$-_*N*$,le=I*Y*A-V*L*A+V*S*z-_*Y*z-I*S*$+_*L*$,ye=V*L*T-I*Y*T-V*S*N+_*Y*N+I*S*K-_*L*K,Me=r*oe+c*se+d*le+m*ye;if(Me===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const ze=1/Me;return n[0]=oe*ze,n[1]=(Y*N*m-L*K*m-Y*d*z+c*K*z+L*d*$-c*N*$)*ze,n[2]=(S*K*m-Y*T*m+Y*d*A-c*K*A-S*d*$+c*T*$)*ze,n[3]=(L*T*m-S*N*m-L*d*A+c*N*A+S*d*z-c*T*z)*ze,n[4]=se*ze,n[5]=(I*K*m-V*N*m+V*d*z-r*K*z-I*d*$+r*N*$)*ze,n[6]=(V*T*m-_*K*m-V*d*A+r*K*A+_*d*$-r*T*$)*ze,n[7]=(_*N*m-I*T*m+I*d*A-r*N*A-_*d*z+r*T*z)*ze,n[8]=le*ze,n[9]=(V*L*m-I*Y*m-V*c*z+r*Y*z+I*c*$-r*L*$)*ze,n[10]=(_*Y*m-V*S*m+V*c*A-r*Y*A-_*c*$+r*S*$)*ze,n[11]=(I*S*m-_*L*m-I*c*A+r*L*A+_*c*z-r*S*z)*ze,n[12]=ye*ze,n[13]=(I*Y*d-V*L*d+V*c*N-r*Y*N-I*c*K+r*L*K)*ze,n[14]=(V*S*d-_*Y*d-V*c*T+r*Y*T+_*c*K-r*S*K)*ze,n[15]=(_*L*d-I*S*d+I*c*T-r*L*T-_*c*N+r*S*N)*ze,this}scale(n){const r=this.elements,c=n.x,d=n.y,m=n.z;return r[0]*=c,r[4]*=d,r[8]*=m,r[1]*=c,r[5]*=d,r[9]*=m,r[2]*=c,r[6]*=d,r[10]*=m,r[3]*=c,r[7]*=d,r[11]*=m,this}getMaxScaleOnAxis(){const n=this.elements,r=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],c=n[4]*n[4]+n[5]*n[5]+n[6]*n[6],d=n[8]*n[8]+n[9]*n[9]+n[10]*n[10];return Math.sqrt(Math.max(r,c,d))}makeTranslation(n,r,c){return this.set(1,0,0,n,0,1,0,r,0,0,1,c,0,0,0,1),this}makeRotationX(n){const r=Math.cos(n),c=Math.sin(n);return this.set(1,0,0,0,0,r,-c,0,0,c,r,0,0,0,0,1),this}makeRotationY(n){const r=Math.cos(n),c=Math.sin(n);return this.set(r,0,c,0,0,1,0,0,-c,0,r,0,0,0,0,1),this}makeRotationZ(n){const r=Math.cos(n),c=Math.sin(n);return this.set(r,-c,0,0,c,r,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(n,r){const c=Math.cos(r),d=Math.sin(r),m=1-c,_=n.x,S=n.y,T=n.z,A=m*_,I=m*S;return this.set(A*_+c,A*S-d*T,A*T+d*S,0,A*S+d*T,I*S+c,I*T-d*_,0,A*T-d*S,I*T+d*_,m*T*T+c,0,0,0,0,1),this}makeScale(n,r,c){return this.set(n,0,0,0,0,r,0,0,0,0,c,0,0,0,0,1),this}makeShear(n,r,c,d,m,_){return this.set(1,c,m,0,n,1,_,0,r,d,1,0,0,0,0,1),this}compose(n,r,c){const d=this.elements,m=r._x,_=r._y,S=r._z,T=r._w,A=m+m,I=_+_,L=S+S,N=m*A,z=m*I,V=m*L,Y=_*I,K=_*L,$=S*L,oe=T*A,se=T*I,le=T*L,ye=c.x,Me=c.y,ze=c.z;return d[0]=(1-(Y+$))*ye,d[1]=(z+le)*ye,d[2]=(V-se)*ye,d[3]=0,d[4]=(z-le)*Me,d[5]=(1-(N+$))*Me,d[6]=(K+oe)*Me,d[7]=0,d[8]=(V+se)*ze,d[9]=(K-oe)*ze,d[10]=(1-(N+Y))*ze,d[11]=0,d[12]=n.x,d[13]=n.y,d[14]=n.z,d[15]=1,this}decompose(n,r,c){const d=this.elements;let m=pu.set(d[0],d[1],d[2]).length();const _=pu.set(d[4],d[5],d[6]).length(),S=pu.set(d[8],d[9],d[10]).length();this.determinant()<0&&(m=-m),n.x=d[12],n.y=d[13],n.z=d[14],lo.copy(this);const A=1/m,I=1/_,L=1/S;return lo.elements[0]*=A,lo.elements[1]*=A,lo.elements[2]*=A,lo.elements[4]*=I,lo.elements[5]*=I,lo.elements[6]*=I,lo.elements[8]*=L,lo.elements[9]*=L,lo.elements[10]*=L,r.setFromRotationMatrix(lo),c.x=m,c.y=_,c.z=S,this}makePerspective(n,r,c,d,m,_){const S=this.elements,T=2*m/(r-n),A=2*m/(c-d),I=(r+n)/(r-n),L=(c+d)/(c-d),N=-(_+m)/(_-m),z=-2*_*m/(_-m);return S[0]=T,S[4]=0,S[8]=I,S[12]=0,S[1]=0,S[5]=A,S[9]=L,S[13]=0,S[2]=0,S[6]=0,S[10]=N,S[14]=z,S[3]=0,S[7]=0,S[11]=-1,S[15]=0,this}makeOrthographic(n,r,c,d,m,_){const S=this.elements,T=1/(r-n),A=1/(c-d),I=1/(_-m),L=(r+n)*T,N=(c+d)*A,z=(_+m)*I;return S[0]=2*T,S[4]=0,S[8]=0,S[12]=-L,S[1]=0,S[5]=2*A,S[9]=0,S[13]=-N,S[2]=0,S[6]=0,S[10]=-2*I,S[14]=-z,S[3]=0,S[7]=0,S[11]=0,S[15]=1,this}equals(n){const r=this.elements,c=n.elements;for(let d=0;d<16;d++)if(r[d]!==c[d])return!1;return!0}fromArray(n,r=0){for(let c=0;c<16;c++)this.elements[c]=n[c+r];return this}toArray(n=[],r=0){const c=this.elements;return n[r]=c[0],n[r+1]=c[1],n[r+2]=c[2],n[r+3]=c[3],n[r+4]=c[4],n[r+5]=c[5],n[r+6]=c[6],n[r+7]=c[7],n[r+8]=c[8],n[r+9]=c[9],n[r+10]=c[10],n[r+11]=c[11],n[r+12]=c[12],n[r+13]=c[13],n[r+14]=c[14],n[r+15]=c[15],n}}const pu=new Re,lo=new li,QD=new Re(0,0,0),eF=new Re(1,1,1),il=new Re,tm=new Re,Mr=new Re,Jx=new li,Qx=new cr;class xf{constructor(n=0,r=0,c=0,d=xf.DEFAULT_ORDER){this.isEuler=!0,this._x=n,this._y=r,this._z=c,this._order=d}get x(){return this._x}set x(n){this._x=n,this._onChangeCallback()}get y(){return this._y}set y(n){this._y=n,this._onChangeCallback()}get z(){return this._z}set z(n){this._z=n,this._onChangeCallback()}get order(){return this._order}set order(n){this._order=n,this._onChangeCallback()}set(n,r,c,d=this._order){return this._x=n,this._y=r,this._z=c,this._order=d,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(n){return this._x=n._x,this._y=n._y,this._z=n._z,this._order=n._order,this._onChangeCallback(),this}setFromRotationMatrix(n,r=this._order,c=!0){const d=n.elements,m=d[0],_=d[4],S=d[8],T=d[1],A=d[5],I=d[9],L=d[2],N=d[6],z=d[10];switch(r){case"XYZ":this._y=Math.asin(is(S,-1,1)),Math.abs(S)<.9999999?(this._x=Math.atan2(-I,z),this._z=Math.atan2(-_,m)):(this._x=Math.atan2(N,A),this._z=0);break;case"YXZ":this._x=Math.asin(-is(I,-1,1)),Math.abs(I)<.9999999?(this._y=Math.atan2(S,z),this._z=Math.atan2(T,A)):(this._y=Math.atan2(-L,m),this._z=0);break;case"ZXY":this._x=Math.asin(is(N,-1,1)),Math.abs(N)<.9999999?(this._y=Math.atan2(-L,z),this._z=Math.atan2(-_,A)):(this._y=0,this._z=Math.atan2(T,m));break;case"ZYX":this._y=Math.asin(-is(L,-1,1)),Math.abs(L)<.9999999?(this._x=Math.atan2(N,z),this._z=Math.atan2(T,m)):(this._x=0,this._z=Math.atan2(-_,A));break;case"YZX":this._z=Math.asin(is(T,-1,1)),Math.abs(T)<.9999999?(this._x=Math.atan2(-I,A),this._y=Math.atan2(-L,m)):(this._x=0,this._y=Math.atan2(S,z));break;case"XZY":this._z=Math.asin(-is(_,-1,1)),Math.abs(_)<.9999999?(this._x=Math.atan2(N,A),this._y=Math.atan2(S,m)):(this._x=Math.atan2(-I,z),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,c===!0&&this._onChangeCallback(),this}setFromQuaternion(n,r,c){return Jx.makeRotationFromQuaternion(n),this.setFromRotationMatrix(Jx,r,c)}setFromVector3(n,r=this._order){return this.set(n.x,n.y,n.z,r)}reorder(n){return Qx.setFromEuler(this),this.setFromQuaternion(Qx,n)}equals(n){return n._x===this._x&&n._y===this._y&&n._z===this._z&&n._order===this._order}fromArray(n){return this._x=n[0],this._y=n[1],this._z=n[2],n[3]!==void 0&&(this._order=n[3]),this._onChangeCallback(),this}toArray(n=[],r=0){return n[r]=this._x,n[r+1]=this._y,n[r+2]=this._z,n[r+3]=this._order,n}_onChange(n){return this._onChangeCallback=n,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}xf.DEFAULT_ORDER="XYZ";class nm{constructor(){this.mask=1}set(n){this.mask=(1<<n|0)>>>0}enable(n){this.mask|=1<<n|0}enableAll(){this.mask=-1}toggle(n){this.mask^=1<<n|0}disable(n){this.mask&=~(1<<n|0)}disableAll(){this.mask=0}test(n){return(this.mask&n.mask)!==0}isEnabled(n){return(this.mask&(1<<n|0))!==0}}let tF=0;const eM=new Re,mu=new cr,fa=new li,im=new Re,Mf=new Re,nF=new Re,iF=new cr,tM=new Re(1,0,0),nM=new Re(0,1,0),iM=new Re(0,0,1),sF={type:"added"},sM={type:"removed"};class Ai extends la{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:tF++}),this.uuid=Sr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ai.DEFAULT_UP.clone();const n=new Re,r=new xf,c=new cr,d=new Re(1,1,1);function m(){c.setFromEuler(r,!1)}function _(){r.setFromQuaternion(c,void 0,!1)}r._onChange(m),c._onChange(_),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:n},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:c},scale:{configurable:!0,enumerable:!0,value:d},modelViewMatrix:{value:new li},normalMatrix:{value:new vi}}),this.matrix=new li,this.matrixWorld=new li,this.matrixAutoUpdate=Ai.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Ai.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new nm,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(n){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(n),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(n){return this.quaternion.premultiply(n),this}setRotationFromAxisAngle(n,r){this.quaternion.setFromAxisAngle(n,r)}setRotationFromEuler(n){this.quaternion.setFromEuler(n,!0)}setRotationFromMatrix(n){this.quaternion.setFromRotationMatrix(n)}setRotationFromQuaternion(n){this.quaternion.copy(n)}rotateOnAxis(n,r){return mu.setFromAxisAngle(n,r),this.quaternion.multiply(mu),this}rotateOnWorldAxis(n,r){return mu.setFromAxisAngle(n,r),this.quaternion.premultiply(mu),this}rotateX(n){return this.rotateOnAxis(tM,n)}rotateY(n){return this.rotateOnAxis(nM,n)}rotateZ(n){return this.rotateOnAxis(iM,n)}translateOnAxis(n,r){return eM.copy(n).applyQuaternion(this.quaternion),this.position.add(eM.multiplyScalar(r)),this}translateX(n){return this.translateOnAxis(tM,n)}translateY(n){return this.translateOnAxis(nM,n)}translateZ(n){return this.translateOnAxis(iM,n)}localToWorld(n){return this.updateWorldMatrix(!0,!1),n.applyMatrix4(this.matrixWorld)}worldToLocal(n){return this.updateWorldMatrix(!0,!1),n.applyMatrix4(fa.copy(this.matrixWorld).invert())}lookAt(n,r,c){n.isVector3?im.copy(n):im.set(n,r,c);const d=this.parent;this.updateWorldMatrix(!0,!1),Mf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fa.lookAt(Mf,im,this.up):fa.lookAt(im,Mf,this.up),this.quaternion.setFromRotationMatrix(fa),d&&(fa.extractRotation(d.matrixWorld),mu.setFromRotationMatrix(fa),this.quaternion.premultiply(mu.invert()))}add(n){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return n===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",n),this):(n&&n.isObject3D?(n.parent!==null&&n.parent.remove(n),n.parent=this,this.children.push(n),n.dispatchEvent(sF)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",n),this)}remove(n){if(arguments.length>1){for(let c=0;c<arguments.length;c++)this.remove(arguments[c]);return this}const r=this.children.indexOf(n);return r!==-1&&(n.parent=null,this.children.splice(r,1),n.dispatchEvent(sM)),this}removeFromParent(){const n=this.parent;return n!==null&&n.remove(this),this}clear(){for(let n=0;n<this.children.length;n++){const r=this.children[n];r.parent=null,r.dispatchEvent(sM)}return this.children.length=0,this}attach(n){return this.updateWorldMatrix(!0,!1),fa.copy(this.matrixWorld).invert(),n.parent!==null&&(n.parent.updateWorldMatrix(!0,!1),fa.multiply(n.parent.matrixWorld)),n.applyMatrix4(fa),this.add(n),n.updateWorldMatrix(!1,!0),this}getObjectById(n){return this.getObjectByProperty("id",n)}getObjectByName(n){return this.getObjectByProperty("name",n)}getObjectByProperty(n,r){if(this[n]===r)return this;for(let c=0,d=this.children.length;c<d;c++){const _=this.children[c].getObjectByProperty(n,r);if(_!==void 0)return _}}getObjectsByProperty(n,r){let c=[];this[n]===r&&c.push(this);for(let d=0,m=this.children.length;d<m;d++){const _=this.children[d].getObjectsByProperty(n,r);_.length>0&&(c=c.concat(_))}return c}getWorldPosition(n){return this.updateWorldMatrix(!0,!1),n.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(n){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Mf,n,nF),n}getWorldScale(n){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Mf,iF,n),n}getWorldDirection(n){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return n.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(n){n(this);const r=this.children;for(let c=0,d=r.length;c<d;c++)r[c].traverse(n)}traverseVisible(n){if(this.visible===!1)return;n(this);const r=this.children;for(let c=0,d=r.length;c<d;c++)r[c].traverseVisible(n)}traverseAncestors(n){const r=this.parent;r!==null&&(n(r),r.traverseAncestors(n))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(n){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||n)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,n=!0);const r=this.children;for(let c=0,d=r.length;c<d;c++){const m=r[c];(m.matrixWorldAutoUpdate===!0||n===!0)&&m.updateMatrixWorld(n)}}updateWorldMatrix(n,r){const c=this.parent;if(n===!0&&c!==null&&c.matrixWorldAutoUpdate===!0&&c.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),r===!0){const d=this.children;for(let m=0,_=d.length;m<_;m++){const S=d[m];S.matrixWorldAutoUpdate===!0&&S.updateWorldMatrix(!1,!0)}}}toJSON(n){const r=n===void 0||typeof n=="string",c={};r&&(n={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},c.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const d={};d.uuid=this.uuid,d.type=this.type,this.name!==""&&(d.name=this.name),this.castShadow===!0&&(d.castShadow=!0),this.receiveShadow===!0&&(d.receiveShadow=!0),this.visible===!1&&(d.visible=!1),this.frustumCulled===!1&&(d.frustumCulled=!1),this.renderOrder!==0&&(d.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(d.userData=this.userData),d.layers=this.layers.mask,d.matrix=this.matrix.toArray(),d.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(d.matrixAutoUpdate=!1),this.isInstancedMesh&&(d.type="InstancedMesh",d.count=this.count,d.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(d.instanceColor=this.instanceColor.toJSON()));function m(S,T){return S[T.uuid]===void 0&&(S[T.uuid]=T.toJSON(n)),T.uuid}if(this.isScene)this.background&&(this.background.isColor?d.background=this.background.toJSON():this.background.isTexture&&(d.background=this.background.toJSON(n).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(d.environment=this.environment.toJSON(n).uuid);else if(this.isMesh||this.isLine||this.isPoints){d.geometry=m(n.geometries,this.geometry);const S=this.geometry.parameters;if(S!==void 0&&S.shapes!==void 0){const T=S.shapes;if(Array.isArray(T))for(let A=0,I=T.length;A<I;A++){const L=T[A];m(n.shapes,L)}else m(n.shapes,T)}}if(this.isSkinnedMesh&&(d.bindMode=this.bindMode,d.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(m(n.skeletons,this.skeleton),d.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const S=[];for(let T=0,A=this.material.length;T<A;T++)S.push(m(n.materials,this.material[T]));d.material=S}else d.material=m(n.materials,this.material);if(this.children.length>0){d.children=[];for(let S=0;S<this.children.length;S++)d.children.push(this.children[S].toJSON(n).object)}if(this.animations.length>0){d.animations=[];for(let S=0;S<this.animations.length;S++){const T=this.animations[S];d.animations.push(m(n.animations,T))}}if(r){const S=_(n.geometries),T=_(n.materials),A=_(n.textures),I=_(n.images),L=_(n.shapes),N=_(n.skeletons),z=_(n.animations),V=_(n.nodes);S.length>0&&(c.geometries=S),T.length>0&&(c.materials=T),A.length>0&&(c.textures=A),I.length>0&&(c.images=I),L.length>0&&(c.shapes=L),N.length>0&&(c.skeletons=N),z.length>0&&(c.animations=z),V.length>0&&(c.nodes=V)}return c.object=d,c;function _(S){const T=[];for(const A in S){const I=S[A];delete I.metadata,T.push(I)}return T}}clone(n){return new this.constructor().copy(this,n)}copy(n,r=!0){if(this.name=n.name,this.up.copy(n.up),this.position.copy(n.position),this.rotation.order=n.rotation.order,this.quaternion.copy(n.quaternion),this.scale.copy(n.scale),this.matrix.copy(n.matrix),this.matrixWorld.copy(n.matrixWorld),this.matrixAutoUpdate=n.matrixAutoUpdate,this.matrixWorldNeedsUpdate=n.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=n.matrixWorldAutoUpdate,this.layers.mask=n.layers.mask,this.visible=n.visible,this.castShadow=n.castShadow,this.receiveShadow=n.receiveShadow,this.frustumCulled=n.frustumCulled,this.renderOrder=n.renderOrder,this.animations=n.animations,this.userData=JSON.parse(JSON.stringify(n.userData)),r===!0)for(let c=0;c<n.children.length;c++){const d=n.children[c];this.add(d.clone())}return this}}Ai.DEFAULT_UP=new Re(0,1,0),Ai.DEFAULT_MATRIX_AUTO_UPDATE=!0,Ai.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const co=new Re,ha=new Re,Fy=new Re,pa=new Re,gu=new Re,vu=new Re,rM=new Re,By=new Re,zy=new Re,$y=new Re;let sm=!1;class ur{constructor(n=new Re,r=new Re,c=new Re){this.a=n,this.b=r,this.c=c}static getNormal(n,r,c,d){d.subVectors(c,r),co.subVectors(n,r),d.cross(co);const m=d.lengthSq();return m>0?d.multiplyScalar(1/Math.sqrt(m)):d.set(0,0,0)}static getBarycoord(n,r,c,d,m){co.subVectors(d,r),ha.subVectors(c,r),Fy.subVectors(n,r);const _=co.dot(co),S=co.dot(ha),T=co.dot(Fy),A=ha.dot(ha),I=ha.dot(Fy),L=_*A-S*S;if(L===0)return m.set(-2,-1,-1);const N=1/L,z=(A*T-S*I)*N,V=(_*I-S*T)*N;return m.set(1-z-V,V,z)}static containsPoint(n,r,c,d){return this.getBarycoord(n,r,c,d,pa),pa.x>=0&&pa.y>=0&&pa.x+pa.y<=1}static getUV(n,r,c,d,m,_,S,T){return sm===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),sm=!0),this.getInterpolation(n,r,c,d,m,_,S,T)}static getInterpolation(n,r,c,d,m,_,S,T){return this.getBarycoord(n,r,c,d,pa),T.setScalar(0),T.addScaledVector(m,pa.x),T.addScaledVector(_,pa.y),T.addScaledVector(S,pa.z),T}static isFrontFacing(n,r,c,d){return co.subVectors(c,r),ha.subVectors(n,r),co.cross(ha).dot(d)<0}set(n,r,c){return this.a.copy(n),this.b.copy(r),this.c.copy(c),this}setFromPointsAndIndices(n,r,c,d){return this.a.copy(n[r]),this.b.copy(n[c]),this.c.copy(n[d]),this}setFromAttributeAndIndices(n,r,c,d){return this.a.fromBufferAttribute(n,r),this.b.fromBufferAttribute(n,c),this.c.fromBufferAttribute(n,d),this}clone(){return new this.constructor().copy(this)}copy(n){return this.a.copy(n.a),this.b.copy(n.b),this.c.copy(n.c),this}getArea(){return co.subVectors(this.c,this.b),ha.subVectors(this.a,this.b),co.cross(ha).length()*.5}getMidpoint(n){return n.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(n){return ur.getNormal(this.a,this.b,this.c,n)}getPlane(n){return n.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(n,r){return ur.getBarycoord(n,this.a,this.b,this.c,r)}getUV(n,r,c,d,m){return sm===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),sm=!0),ur.getInterpolation(n,this.a,this.b,this.c,r,c,d,m)}getInterpolation(n,r,c,d,m){return ur.getInterpolation(n,this.a,this.b,this.c,r,c,d,m)}containsPoint(n){return ur.containsPoint(n,this.a,this.b,this.c)}isFrontFacing(n){return ur.isFrontFacing(this.a,this.b,this.c,n)}intersectsBox(n){return n.intersectsTriangle(this)}closestPointToPoint(n,r){const c=this.a,d=this.b,m=this.c;let _,S;gu.subVectors(d,c),vu.subVectors(m,c),By.subVectors(n,c);const T=gu.dot(By),A=vu.dot(By);if(T<=0&&A<=0)return r.copy(c);zy.subVectors(n,d);const I=gu.dot(zy),L=vu.dot(zy);if(I>=0&&L<=I)return r.copy(d);const N=T*L-I*A;if(N<=0&&T>=0&&I<=0)return _=T/(T-I),r.copy(c).addScaledVector(gu,_);$y.subVectors(n,m);const z=gu.dot($y),V=vu.dot($y);if(V>=0&&z<=V)return r.copy(m);const Y=z*A-T*V;if(Y<=0&&A>=0&&V<=0)return S=A/(A-V),r.copy(c).addScaledVector(vu,S);const K=I*V-z*L;if(K<=0&&L-I>=0&&z-V>=0)return rM.subVectors(m,d),S=(L-I)/(L-I+(z-V)),r.copy(d).addScaledVector(rM,S);const $=1/(K+Y+N);return _=Y*$,S=N*$,r.copy(c).addScaledVector(gu,_).addScaledVector(vu,S)}equals(n){return n.a.equals(this.a)&&n.b.equals(this.b)&&n.c.equals(this.c)}}let rF=0;class Bs extends la{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:rF++}),this.uuid=Sr(),this.name="",this.type="Material",this.blending=C,this.side=b,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=ce,this.blendDst=te,this.blendEquation=F,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Te,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Gx,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=jp,this.stencilZFail=jp,this.stencilZPass=jp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(n){this._alphaTest>0!=n>0&&this.version++,this._alphaTest=n}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(n){if(n!==void 0)for(const r in n){const c=n[r];if(c===void 0){console.warn(`THREE.Material: parameter '${r}' has value of undefined.`);continue}const d=this[r];if(d===void 0){console.warn(`THREE.Material: '${r}' is not a property of THREE.${this.type}.`);continue}d&&d.isColor?d.set(c):d&&d.isVector3&&c&&c.isVector3?d.copy(c):this[r]=c}}toJSON(n){const r=n===void 0||typeof n=="string";r&&(n={textures:{},images:{}});const c={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};c.uuid=this.uuid,c.type=this.type,this.name!==""&&(c.name=this.name),this.color&&this.color.isColor&&(c.color=this.color.getHex()),this.roughness!==void 0&&(c.roughness=this.roughness),this.metalness!==void 0&&(c.metalness=this.metalness),this.sheen!==void 0&&(c.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(c.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(c.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(c.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(c.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(c.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(c.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(c.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(c.shininess=this.shininess),this.clearcoat!==void 0&&(c.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(c.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(c.clearcoatMap=this.clearcoatMap.toJSON(n).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(c.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(n).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(c.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(n).uuid,c.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(c.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(c.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(c.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(c.iridescenceMap=this.iridescenceMap.toJSON(n).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(c.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(n).uuid),this.map&&this.map.isTexture&&(c.map=this.map.toJSON(n).uuid),this.matcap&&this.matcap.isTexture&&(c.matcap=this.matcap.toJSON(n).uuid),this.alphaMap&&this.alphaMap.isTexture&&(c.alphaMap=this.alphaMap.toJSON(n).uuid),this.lightMap&&this.lightMap.isTexture&&(c.lightMap=this.lightMap.toJSON(n).uuid,c.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(c.aoMap=this.aoMap.toJSON(n).uuid,c.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(c.bumpMap=this.bumpMap.toJSON(n).uuid,c.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(c.normalMap=this.normalMap.toJSON(n).uuid,c.normalMapType=this.normalMapType,c.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(c.displacementMap=this.displacementMap.toJSON(n).uuid,c.displacementScale=this.displacementScale,c.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(c.roughnessMap=this.roughnessMap.toJSON(n).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(c.metalnessMap=this.metalnessMap.toJSON(n).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(c.emissiveMap=this.emissiveMap.toJSON(n).uuid),this.specularMap&&this.specularMap.isTexture&&(c.specularMap=this.specularMap.toJSON(n).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(c.specularIntensityMap=this.specularIntensityMap.toJSON(n).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(c.specularColorMap=this.specularColorMap.toJSON(n).uuid),this.envMap&&this.envMap.isTexture&&(c.envMap=this.envMap.toJSON(n).uuid,this.combine!==void 0&&(c.combine=this.combine)),this.envMapIntensity!==void 0&&(c.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(c.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(c.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(c.gradientMap=this.gradientMap.toJSON(n).uuid),this.transmission!==void 0&&(c.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(c.transmissionMap=this.transmissionMap.toJSON(n).uuid),this.thickness!==void 0&&(c.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(c.thicknessMap=this.thicknessMap.toJSON(n).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(c.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(c.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(c.size=this.size),this.shadowSide!==null&&(c.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(c.sizeAttenuation=this.sizeAttenuation),this.blending!==C&&(c.blending=this.blending),this.side!==b&&(c.side=this.side),this.vertexColors&&(c.vertexColors=!0),this.opacity<1&&(c.opacity=this.opacity),this.transparent===!0&&(c.transparent=this.transparent),c.depthFunc=this.depthFunc,c.depthTest=this.depthTest,c.depthWrite=this.depthWrite,c.colorWrite=this.colorWrite,c.stencilWrite=this.stencilWrite,c.stencilWriteMask=this.stencilWriteMask,c.stencilFunc=this.stencilFunc,c.stencilRef=this.stencilRef,c.stencilFuncMask=this.stencilFuncMask,c.stencilFail=this.stencilFail,c.stencilZFail=this.stencilZFail,c.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(c.rotation=this.rotation),this.polygonOffset===!0&&(c.polygonOffset=!0),this.polygonOffsetFactor!==0&&(c.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(c.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(c.linewidth=this.linewidth),this.dashSize!==void 0&&(c.dashSize=this.dashSize),this.gapSize!==void 0&&(c.gapSize=this.gapSize),this.scale!==void 0&&(c.scale=this.scale),this.dithering===!0&&(c.dithering=!0),this.alphaTest>0&&(c.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(c.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(c.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(c.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(c.wireframe=this.wireframe),this.wireframeLinewidth>1&&(c.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(c.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(c.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(c.flatShading=this.flatShading),this.visible===!1&&(c.visible=!1),this.toneMapped===!1&&(c.toneMapped=!1),this.fog===!1&&(c.fog=!1),Object.keys(this.userData).length>0&&(c.userData=this.userData);function d(m){const _=[];for(const S in m){const T=m[S];delete T.metadata,_.push(T)}return _}if(r){const m=d(n.textures),_=d(n.images);m.length>0&&(c.textures=m),_.length>0&&(c.images=_)}return c}clone(){return new this.constructor().copy(this)}copy(n){this.name=n.name,this.blending=n.blending,this.side=n.side,this.vertexColors=n.vertexColors,this.opacity=n.opacity,this.transparent=n.transparent,this.blendSrc=n.blendSrc,this.blendDst=n.blendDst,this.blendEquation=n.blendEquation,this.blendSrcAlpha=n.blendSrcAlpha,this.blendDstAlpha=n.blendDstAlpha,this.blendEquationAlpha=n.blendEquationAlpha,this.depthFunc=n.depthFunc,this.depthTest=n.depthTest,this.depthWrite=n.depthWrite,this.stencilWriteMask=n.stencilWriteMask,this.stencilFunc=n.stencilFunc,this.stencilRef=n.stencilRef,this.stencilFuncMask=n.stencilFuncMask,this.stencilFail=n.stencilFail,this.stencilZFail=n.stencilZFail,this.stencilZPass=n.stencilZPass,this.stencilWrite=n.stencilWrite;const r=n.clippingPlanes;let c=null;if(r!==null){const d=r.length;c=new Array(d);for(let m=0;m!==d;++m)c[m]=r[m].clone()}return this.clippingPlanes=c,this.clipIntersection=n.clipIntersection,this.clipShadows=n.clipShadows,this.shadowSide=n.shadowSide,this.colorWrite=n.colorWrite,this.precision=n.precision,this.polygonOffset=n.polygonOffset,this.polygonOffsetFactor=n.polygonOffsetFactor,this.polygonOffsetUnits=n.polygonOffsetUnits,this.dithering=n.dithering,this.alphaTest=n.alphaTest,this.alphaToCoverage=n.alphaToCoverage,this.premultipliedAlpha=n.premultipliedAlpha,this.forceSinglePass=n.forceSinglePass,this.visible=n.visible,this.toneMapped=n.toneMapped,this.userData=JSON.parse(JSON.stringify(n.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(n){n===!0&&this.version++}}const oM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},uo={h:0,s:0,l:0},rm={h:0,s:0,l:0};function Uy(y,n,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?y+(n-y)*6*r:r<1/2?n:r<2/3?y+(n-y)*6*(2/3-r):y}class vn{constructor(n,r,c){return this.isColor=!0,this.r=1,this.g=1,this.b=1,r===void 0&&c===void 0?this.set(n):this.setRGB(n,r,c)}set(n){return n&&n.isColor?this.copy(n):typeof n=="number"?this.setHex(n):typeof n=="string"&&this.setStyle(n),this}setScalar(n){return this.r=n,this.g=n,this.b=n,this}setHex(n,r=ci){return n=Math.floor(n),this.r=(n>>16&255)/255,this.g=(n>>8&255)/255,this.b=(n&255)/255,zr.toWorkingColorSpace(this,r),this}setRGB(n,r,c,d=zr.workingColorSpace){return this.r=n,this.g=r,this.b=c,zr.toWorkingColorSpace(this,d),this}setHSL(n,r,c,d=zr.workingColorSpace){if(n=My(n,1),r=is(r,0,1),c=is(c,0,1),r===0)this.r=this.g=this.b=c;else{const m=c<=.5?c*(1+r):c+r-c*r,_=2*c-m;this.r=Uy(_,m,n+1/3),this.g=Uy(_,m,n),this.b=Uy(_,m,n-1/3)}return zr.toWorkingColorSpace(this,d),this}setStyle(n,r=ci){function c(m){m!==void 0&&parseFloat(m)<1&&console.warn("THREE.Color: Alpha component of "+n+" will be ignored.")}let d;if(d=/^(\w+)\(([^\)]*)\)/.exec(n)){let m;const _=d[1],S=d[2];switch(_){case"rgb":case"rgba":if(m=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(S))return c(m[4]),this.setRGB(Math.min(255,parseInt(m[1],10))/255,Math.min(255,parseInt(m[2],10))/255,Math.min(255,parseInt(m[3],10))/255,r);if(m=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(S))return c(m[4]),this.setRGB(Math.min(100,parseInt(m[1],10))/100,Math.min(100,parseInt(m[2],10))/100,Math.min(100,parseInt(m[3],10))/100,r);break;case"hsl":case"hsla":if(m=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(S))return c(m[4]),this.setHSL(parseFloat(m[1])/360,parseFloat(m[2])/100,parseFloat(m[3])/100,r);break;default:console.warn("THREE.Color: Unknown color model "+n)}}else if(d=/^\#([A-Fa-f\d]+)$/.exec(n)){const m=d[1],_=m.length;if(_===3)return this.setRGB(parseInt(m.charAt(0),16)/15,parseInt(m.charAt(1),16)/15,parseInt(m.charAt(2),16)/15,r);if(_===6)return this.setHex(parseInt(m,16),r);console.warn("THREE.Color: Invalid hex color "+n)}else if(n&&n.length>0)return this.setColorName(n,r);return this}setColorName(n,r=ci){const c=oM[n.toLowerCase()];return c!==void 0?this.setHex(c,r):console.warn("THREE.Color: Unknown color "+n),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(n){return this.r=n.r,this.g=n.g,this.b=n.b,this}copySRGBToLinear(n){return this.r=lu(n.r),this.g=lu(n.g),this.b=lu(n.b),this}copyLinearToSRGB(n){return this.r=Ty(n.r),this.g=Ty(n.g),this.b=Ty(n.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(n=ci){return zr.fromWorkingColorSpace(zs.copy(this),n),Math.round(is(zs.r*255,0,255))*65536+Math.round(is(zs.g*255,0,255))*256+Math.round(is(zs.b*255,0,255))}getHexString(n=ci){return("000000"+this.getHex(n).toString(16)).slice(-6)}getHSL(n,r=zr.workingColorSpace){zr.fromWorkingColorSpace(zs.copy(this),r);const c=zs.r,d=zs.g,m=zs.b,_=Math.max(c,d,m),S=Math.min(c,d,m);let T,A;const I=(S+_)/2;if(S===_)T=0,A=0;else{const L=_-S;switch(A=I<=.5?L/(_+S):L/(2-_-S),_){case c:T=(d-m)/L+(d<m?6:0);break;case d:T=(m-c)/L+2;break;case m:T=(c-d)/L+4;break}T/=6}return n.h=T,n.s=A,n.l=I,n}getRGB(n,r=zr.workingColorSpace){return zr.fromWorkingColorSpace(zs.copy(this),r),n.r=zs.r,n.g=zs.g,n.b=zs.b,n}getStyle(n=ci){zr.fromWorkingColorSpace(zs.copy(this),n);const r=zs.r,c=zs.g,d=zs.b;return n!==ci?`color(${n} ${r.toFixed(3)} ${c.toFixed(3)} ${d.toFixed(3)})`:`rgb(${Math.round(r*255)},${Math.round(c*255)},${Math.round(d*255)})`}offsetHSL(n,r,c){return this.getHSL(uo),uo.h+=n,uo.s+=r,uo.l+=c,this.setHSL(uo.h,uo.s,uo.l),this}add(n){return this.r+=n.r,this.g+=n.g,this.b+=n.b,this}addColors(n,r){return this.r=n.r+r.r,this.g=n.g+r.g,this.b=n.b+r.b,this}addScalar(n){return this.r+=n,this.g+=n,this.b+=n,this}sub(n){return this.r=Math.max(0,this.r-n.r),this.g=Math.max(0,this.g-n.g),this.b=Math.max(0,this.b-n.b),this}multiply(n){return this.r*=n.r,this.g*=n.g,this.b*=n.b,this}multiplyScalar(n){return this.r*=n,this.g*=n,this.b*=n,this}lerp(n,r){return this.r+=(n.r-this.r)*r,this.g+=(n.g-this.g)*r,this.b+=(n.b-this.b)*r,this}lerpColors(n,r,c){return this.r=n.r+(r.r-n.r)*c,this.g=n.g+(r.g-n.g)*c,this.b=n.b+(r.b-n.b)*c,this}lerpHSL(n,r){this.getHSL(uo),n.getHSL(rm);const c=vf(uo.h,rm.h,r),d=vf(uo.s,rm.s,r),m=vf(uo.l,rm.l,r);return this.setHSL(c,d,m),this}setFromVector3(n){return this.r=n.x,this.g=n.y,this.b=n.z,this}applyMatrix3(n){const r=this.r,c=this.g,d=this.b,m=n.elements;return this.r=m[0]*r+m[3]*c+m[6]*d,this.g=m[1]*r+m[4]*c+m[7]*d,this.b=m[2]*r+m[5]*c+m[8]*d,this}equals(n){return n.r===this.r&&n.g===this.g&&n.b===this.b}fromArray(n,r=0){return this.r=n[r],this.g=n[r+1],this.b=n[r+2],this}toArray(n=[],r=0){return n[r]=this.r,n[r+1]=this.g,n[r+2]=this.b,n}fromBufferAttribute(n,r){return this.r=n.getX(r),this.g=n.getY(r),this.b=n.getZ(r),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const zs=new vn;vn.NAMES=oM;class sl extends Bs{constructor(n){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new vn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ue,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.fog=n.fog,this}}const ma=oF();function oF(){const y=new ArrayBuffer(4),n=new Float32Array(y),r=new Uint32Array(y),c=new Uint32Array(512),d=new Uint32Array(512);for(let T=0;T<256;++T){const A=T-127;A<-27?(c[T]=0,c[T|256]=32768,d[T]=24,d[T|256]=24):A<-14?(c[T]=1024>>-A-14,c[T|256]=1024>>-A-14|32768,d[T]=-A-1,d[T|256]=-A-1):A<=15?(c[T]=A+15<<10,c[T|256]=A+15<<10|32768,d[T]=13,d[T|256]=13):A<128?(c[T]=31744,c[T|256]=64512,d[T]=24,d[T|256]=24):(c[T]=31744,c[T|256]=64512,d[T]=13,d[T|256]=13)}const m=new Uint32Array(2048),_=new Uint32Array(64),S=new Uint32Array(64);for(let T=1;T<1024;++T){let A=T<<13,I=0;for(;!(A&8388608);)A<<=1,I-=8388608;A&=-8388609,I+=947912704,m[T]=A|I}for(let T=1024;T<2048;++T)m[T]=939524096+(T-1024<<13);for(let T=1;T<31;++T)_[T]=T<<23;_[31]=1199570944,_[32]=2147483648;for(let T=33;T<63;++T)_[T]=2147483648+(T-32<<23);_[63]=3347054592;for(let T=1;T<64;++T)T!==32&&(S[T]=1024);return{floatView:n,uint32View:r,baseTable:c,shiftTable:d,mantissaTable:m,exponentTable:_,offsetTable:S}}function dr(y){Math.abs(y)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),y=is(y,-65504,65504),ma.floatView[0]=y;const n=ma.uint32View[0],r=n>>23&511;return ma.baseTable[r]+((n&8388607)>>ma.shiftTable[r])}function Ef(y){const n=y>>10;return ma.uint32View[0]=ma.mantissaTable[ma.offsetTable[n]+(y&1023)]+ma.exponentTable[n],ma.floatView[0]}const aF={toHalfFloat:dr,fromHalfFloat:Ef},hs=new Re,om=new Vt;class Wi{constructor(n,r,c=!1){if(Array.isArray(n))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=n,this.itemSize=r,this.count=n!==void 0?n.length/r:0,this.normalized=c,this.usage=gf,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(n){n===!0&&this.version++}setUsage(n){return this.usage=n,this}copy(n){return this.name=n.name,this.array=new n.array.constructor(n.array),this.itemSize=n.itemSize,this.count=n.count,this.normalized=n.normalized,this.usage=n.usage,this}copyAt(n,r,c){n*=this.itemSize,c*=r.itemSize;for(let d=0,m=this.itemSize;d<m;d++)this.array[n+d]=r.array[c+d];return this}copyArray(n){return this.array.set(n),this}applyMatrix3(n){if(this.itemSize===2)for(let r=0,c=this.count;r<c;r++)om.fromBufferAttribute(this,r),om.applyMatrix3(n),this.setXY(r,om.x,om.y);else if(this.itemSize===3)for(let r=0,c=this.count;r<c;r++)hs.fromBufferAttribute(this,r),hs.applyMatrix3(n),this.setXYZ(r,hs.x,hs.y,hs.z);return this}applyMatrix4(n){for(let r=0,c=this.count;r<c;r++)hs.fromBufferAttribute(this,r),hs.applyMatrix4(n),this.setXYZ(r,hs.x,hs.y,hs.z);return this}applyNormalMatrix(n){for(let r=0,c=this.count;r<c;r++)hs.fromBufferAttribute(this,r),hs.applyNormalMatrix(n),this.setXYZ(r,hs.x,hs.y,hs.z);return this}transformDirection(n){for(let r=0,c=this.count;r<c;r++)hs.fromBufferAttribute(this,r),hs.transformDirection(n),this.setXYZ(r,hs.x,hs.y,hs.z);return this}set(n,r=0){return this.array.set(n,r),this}getX(n){let r=this.array[n*this.itemSize];return this.normalized&&(r=xr(r,this.array)),r}setX(n,r){return this.normalized&&(r=di(r,this.array)),this.array[n*this.itemSize]=r,this}getY(n){let r=this.array[n*this.itemSize+1];return this.normalized&&(r=xr(r,this.array)),r}setY(n,r){return this.normalized&&(r=di(r,this.array)),this.array[n*this.itemSize+1]=r,this}getZ(n){let r=this.array[n*this.itemSize+2];return this.normalized&&(r=xr(r,this.array)),r}setZ(n,r){return this.normalized&&(r=di(r,this.array)),this.array[n*this.itemSize+2]=r,this}getW(n){let r=this.array[n*this.itemSize+3];return this.normalized&&(r=xr(r,this.array)),r}setW(n,r){return this.normalized&&(r=di(r,this.array)),this.array[n*this.itemSize+3]=r,this}setXY(n,r,c){return n*=this.itemSize,this.normalized&&(r=di(r,this.array),c=di(c,this.array)),this.array[n+0]=r,this.array[n+1]=c,this}setXYZ(n,r,c,d){return n*=this.itemSize,this.normalized&&(r=di(r,this.array),c=di(c,this.array),d=di(d,this.array)),this.array[n+0]=r,this.array[n+1]=c,this.array[n+2]=d,this}setXYZW(n,r,c,d,m){return n*=this.itemSize,this.normalized&&(r=di(r,this.array),c=di(c,this.array),d=di(d,this.array),m=di(m,this.array)),this.array[n+0]=r,this.array[n+1]=c,this.array[n+2]=d,this.array[n+3]=m,this}onUpload(n){return this.onUploadCallback=n,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const n={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(n.name=this.name),this.usage!==gf&&(n.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(n.updateRange=this.updateRange),n}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class lF extends Wi{constructor(n,r,c){super(new Int8Array(n),r,c)}}class cF extends Wi{constructor(n,r,c){super(new Uint8Array(n),r,c)}}class uF extends Wi{constructor(n,r,c){super(new Uint8ClampedArray(n),r,c)}}class dF extends Wi{constructor(n,r,c){super(new Int16Array(n),r,c)}}class Vy extends Wi{constructor(n,r,c){super(new Uint16Array(n),r,c)}}class fF extends Wi{constructor(n,r,c){super(new Int32Array(n),r,c)}}class Hy extends Wi{constructor(n,r,c){super(new Uint32Array(n),r,c)}}class hF extends Wi{constructor(n,r,c){super(new Uint16Array(n),r,c),this.isFloat16BufferAttribute=!0}getX(n){let r=Ef(this.array[n*this.itemSize]);return this.normalized&&(r=xr(r,this.array)),r}setX(n,r){return this.normalized&&(r=di(r,this.array)),this.array[n*this.itemSize]=dr(r),this}getY(n){let r=Ef(this.array[n*this.itemSize+1]);return this.normalized&&(r=xr(r,this.array)),r}setY(n,r){return this.normalized&&(r=di(r,this.array)),this.array[n*this.itemSize+1]=dr(r),this}getZ(n){let r=Ef(this.array[n*this.itemSize+2]);return this.normalized&&(r=xr(r,this.array)),r}setZ(n,r){return this.normalized&&(r=di(r,this.array)),this.array[n*this.itemSize+2]=dr(r),this}getW(n){let r=Ef(this.array[n*this.itemSize+3]);return this.normalized&&(r=xr(r,this.array)),r}setW(n,r){return this.normalized&&(r=di(r,this.array)),this.array[n*this.itemSize+3]=dr(r),this}setXY(n,r,c){return n*=this.itemSize,this.normalized&&(r=di(r,this.array),c=di(c,this.array)),this.array[n+0]=dr(r),this.array[n+1]=dr(c),this}setXYZ(n,r,c,d){return n*=this.itemSize,this.normalized&&(r=di(r,this.array),c=di(c,this.array),d=di(d,this.array)),this.array[n+0]=dr(r),this.array[n+1]=dr(c),this.array[n+2]=dr(d),this}setXYZW(n,r,c,d,m){return n*=this.itemSize,this.normalized&&(r=di(r,this.array),c=di(c,this.array),d=di(d,this.array),m=di(m,this.array)),this.array[n+0]=dr(r),this.array[n+1]=dr(c),this.array[n+2]=dr(d),this.array[n+3]=dr(m),this}}class An extends Wi{constructor(n,r,c){super(new Float32Array(n),r,c)}}class pF extends Wi{constructor(n,r,c){super(new Float64Array(n),r,c)}}let mF=0;const $r=new li,Wy=new Ai,yu=new Re,Er=new Bo,Cf=new Bo,xs=new Re;class pi extends la{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:mF++}),this.uuid=Sr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(n){return Array.isArray(n)?this.index=new(Xx(n)?Hy:Vy)(n,1):this.index=n,this}getAttribute(n){return this.attributes[n]}setAttribute(n,r){return this.attributes[n]=r,this}deleteAttribute(n){return delete this.attributes[n],this}hasAttribute(n){return this.attributes[n]!==void 0}addGroup(n,r,c=0){this.groups.push({start:n,count:r,materialIndex:c})}clearGroups(){this.groups=[]}setDrawRange(n,r){this.drawRange.start=n,this.drawRange.count=r}applyMatrix4(n){const r=this.attributes.position;r!==void 0&&(r.applyMatrix4(n),r.needsUpdate=!0);const c=this.attributes.normal;if(c!==void 0){const m=new vi().getNormalMatrix(n);c.applyNormalMatrix(m),c.needsUpdate=!0}const d=this.attributes.tangent;return d!==void 0&&(d.transformDirection(n),d.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(n){return $r.makeRotationFromQuaternion(n),this.applyMatrix4($r),this}rotateX(n){return $r.makeRotationX(n),this.applyMatrix4($r),this}rotateY(n){return $r.makeRotationY(n),this.applyMatrix4($r),this}rotateZ(n){return $r.makeRotationZ(n),this.applyMatrix4($r),this}translate(n,r,c){return $r.makeTranslation(n,r,c),this.applyMatrix4($r),this}scale(n,r,c){return $r.makeScale(n,r,c),this.applyMatrix4($r),this}lookAt(n){return Wy.lookAt(n),Wy.updateMatrix(),this.applyMatrix4(Wy.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(yu).negate(),this.translate(yu.x,yu.y,yu.z),this}setFromPoints(n){const r=[];for(let c=0,d=n.length;c<d;c++){const m=n[c];r.push(m.x,m.y,m.z||0)}return this.setAttribute("position",new An(r,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Bo);const n=this.attributes.position,r=this.morphAttributes.position;if(n&&n.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Re(-1/0,-1/0,-1/0),new Re(1/0,1/0,1/0));return}if(n!==void 0){if(this.boundingBox.setFromBufferAttribute(n),r)for(let c=0,d=r.length;c<d;c++){const m=r[c];Er.setFromBufferAttribute(m),this.morphTargetsRelative?(xs.addVectors(this.boundingBox.min,Er.min),this.boundingBox.expandByPoint(xs),xs.addVectors(this.boundingBox.max,Er.max),this.boundingBox.expandByPoint(xs)):(this.boundingBox.expandByPoint(Er.min),this.boundingBox.expandByPoint(Er.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new zo);const n=this.attributes.position,r=this.morphAttributes.position;if(n&&n.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Re,1/0);return}if(n){const c=this.boundingSphere.center;if(Er.setFromBufferAttribute(n),r)for(let m=0,_=r.length;m<_;m++){const S=r[m];Cf.setFromBufferAttribute(S),this.morphTargetsRelative?(xs.addVectors(Er.min,Cf.min),Er.expandByPoint(xs),xs.addVectors(Er.max,Cf.max),Er.expandByPoint(xs)):(Er.expandByPoint(Cf.min),Er.expandByPoint(Cf.max))}Er.getCenter(c);let d=0;for(let m=0,_=n.count;m<_;m++)xs.fromBufferAttribute(n,m),d=Math.max(d,c.distanceToSquared(xs));if(r)for(let m=0,_=r.length;m<_;m++){const S=r[m],T=this.morphTargetsRelative;for(let A=0,I=S.count;A<I;A++)xs.fromBufferAttribute(S,A),T&&(yu.fromBufferAttribute(n,A),xs.add(yu)),d=Math.max(d,c.distanceToSquared(xs))}this.boundingSphere.radius=Math.sqrt(d),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const n=this.index,r=this.attributes;if(n===null||r.position===void 0||r.normal===void 0||r.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const c=n.array,d=r.position.array,m=r.normal.array,_=r.uv.array,S=d.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Wi(new Float32Array(4*S),4));const T=this.getAttribute("tangent").array,A=[],I=[];for(let ke=0;ke<S;ke++)A[ke]=new Re,I[ke]=new Re;const L=new Re,N=new Re,z=new Re,V=new Vt,Y=new Vt,K=new Vt,$=new Re,oe=new Re;function se(ke,bt,St){L.fromArray(d,ke*3),N.fromArray(d,bt*3),z.fromArray(d,St*3),V.fromArray(_,ke*2),Y.fromArray(_,bt*2),K.fromArray(_,St*2),N.sub(L),z.sub(L),Y.sub(V),K.sub(V);const ot=1/(Y.x*K.y-K.x*Y.y);isFinite(ot)&&($.copy(N).multiplyScalar(K.y).addScaledVector(z,-Y.y).multiplyScalar(ot),oe.copy(z).multiplyScalar(Y.x).addScaledVector(N,-K.x).multiplyScalar(ot),A[ke].add($),A[bt].add($),A[St].add($),I[ke].add(oe),I[bt].add(oe),I[St].add(oe))}let le=this.groups;le.length===0&&(le=[{start:0,count:c.length}]);for(let ke=0,bt=le.length;ke<bt;++ke){const St=le[ke],ot=St.start,mt=St.count;for(let wt=ot,$t=ot+mt;wt<$t;wt+=3)se(c[wt+0],c[wt+1],c[wt+2])}const ye=new Re,Me=new Re,ze=new Re,Ke=new Re;function de(ke){ze.fromArray(m,ke*3),Ke.copy(ze);const bt=A[ke];ye.copy(bt),ye.sub(ze.multiplyScalar(ze.dot(bt))).normalize(),Me.crossVectors(Ke,bt);const ot=Me.dot(I[ke])<0?-1:1;T[ke*4]=ye.x,T[ke*4+1]=ye.y,T[ke*4+2]=ye.z,T[ke*4+3]=ot}for(let ke=0,bt=le.length;ke<bt;++ke){const St=le[ke],ot=St.start,mt=St.count;for(let wt=ot,$t=ot+mt;wt<$t;wt+=3)de(c[wt+0]),de(c[wt+1]),de(c[wt+2])}}computeVertexNormals(){const n=this.index,r=this.getAttribute("position");if(r!==void 0){let c=this.getAttribute("normal");if(c===void 0)c=new Wi(new Float32Array(r.count*3),3),this.setAttribute("normal",c);else for(let N=0,z=c.count;N<z;N++)c.setXYZ(N,0,0,0);const d=new Re,m=new Re,_=new Re,S=new Re,T=new Re,A=new Re,I=new Re,L=new Re;if(n)for(let N=0,z=n.count;N<z;N+=3){const V=n.getX(N+0),Y=n.getX(N+1),K=n.getX(N+2);d.fromBufferAttribute(r,V),m.fromBufferAttribute(r,Y),_.fromBufferAttribute(r,K),I.subVectors(_,m),L.subVectors(d,m),I.cross(L),S.fromBufferAttribute(c,V),T.fromBufferAttribute(c,Y),A.fromBufferAttribute(c,K),S.add(I),T.add(I),A.add(I),c.setXYZ(V,S.x,S.y,S.z),c.setXYZ(Y,T.x,T.y,T.z),c.setXYZ(K,A.x,A.y,A.z)}else for(let N=0,z=r.count;N<z;N+=3)d.fromBufferAttribute(r,N+0),m.fromBufferAttribute(r,N+1),_.fromBufferAttribute(r,N+2),I.subVectors(_,m),L.subVectors(d,m),I.cross(L),c.setXYZ(N+0,I.x,I.y,I.z),c.setXYZ(N+1,I.x,I.y,I.z),c.setXYZ(N+2,I.x,I.y,I.z);this.normalizeNormals(),c.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const n=this.attributes.normal;for(let r=0,c=n.count;r<c;r++)xs.fromBufferAttribute(n,r),xs.normalize(),n.setXYZ(r,xs.x,xs.y,xs.z)}toNonIndexed(){function n(S,T){const A=S.array,I=S.itemSize,L=S.normalized,N=new A.constructor(T.length*I);let z=0,V=0;for(let Y=0,K=T.length;Y<K;Y++){S.isInterleavedBufferAttribute?z=T[Y]*S.data.stride+S.offset:z=T[Y]*I;for(let $=0;$<I;$++)N[V++]=A[z++]}return new Wi(N,I,L)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const r=new pi,c=this.index.array,d=this.attributes;for(const S in d){const T=d[S],A=n(T,c);r.setAttribute(S,A)}const m=this.morphAttributes;for(const S in m){const T=[],A=m[S];for(let I=0,L=A.length;I<L;I++){const N=A[I],z=n(N,c);T.push(z)}r.morphAttributes[S]=T}r.morphTargetsRelative=this.morphTargetsRelative;const _=this.groups;for(let S=0,T=_.length;S<T;S++){const A=_[S];r.addGroup(A.start,A.count,A.materialIndex)}return r}toJSON(){const n={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),Object.keys(this.userData).length>0&&(n.userData=this.userData),this.parameters!==void 0){const T=this.parameters;for(const A in T)T[A]!==void 0&&(n[A]=T[A]);return n}n.data={attributes:{}};const r=this.index;r!==null&&(n.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});const c=this.attributes;for(const T in c){const A=c[T];n.data.attributes[T]=A.toJSON(n.data)}const d={};let m=!1;for(const T in this.morphAttributes){const A=this.morphAttributes[T],I=[];for(let L=0,N=A.length;L<N;L++){const z=A[L];I.push(z.toJSON(n.data))}I.length>0&&(d[T]=I,m=!0)}m&&(n.data.morphAttributes=d,n.data.morphTargetsRelative=this.morphTargetsRelative);const _=this.groups;_.length>0&&(n.data.groups=JSON.parse(JSON.stringify(_)));const S=this.boundingSphere;return S!==null&&(n.data.boundingSphere={center:S.center.toArray(),radius:S.radius}),n}clone(){return new this.constructor().copy(this)}copy(n){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const r={};this.name=n.name;const c=n.index;c!==null&&this.setIndex(c.clone(r));const d=n.attributes;for(const A in d){const I=d[A];this.setAttribute(A,I.clone(r))}const m=n.morphAttributes;for(const A in m){const I=[],L=m[A];for(let N=0,z=L.length;N<z;N++)I.push(L[N].clone(r));this.morphAttributes[A]=I}this.morphTargetsRelative=n.morphTargetsRelative;const _=n.groups;for(let A=0,I=_.length;A<I;A++){const L=_[A];this.addGroup(L.start,L.count,L.materialIndex)}const S=n.boundingBox;S!==null&&(this.boundingBox=S.clone());const T=n.boundingSphere;return T!==null&&(this.boundingSphere=T.clone()),this.drawRange.start=n.drawRange.start,this.drawRange.count=n.drawRange.count,this.userData=n.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const aM=new li,$o=new Sf,am=new zo,lM=new Re,bu=new Re,_u=new Re,wu=new Re,Gy=new Re,lm=new Re,cm=new Vt,um=new Vt,dm=new Vt,cM=new Re,uM=new Re,dM=new Re,fm=new Re,hm=new Re;class ks extends Ai{constructor(n=new pi,r=new sl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=n,this.material=r,this.updateMorphTargets()}copy(n,r){return super.copy(n,r),n.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=n.morphTargetInfluences.slice()),n.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},n.morphTargetDictionary)),this.material=n.material,this.geometry=n.geometry,this}updateMorphTargets(){const r=this.geometry.morphAttributes,c=Object.keys(r);if(c.length>0){const d=r[c[0]];if(d!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let m=0,_=d.length;m<_;m++){const S=d[m].name||String(m);this.morphTargetInfluences.push(0),this.morphTargetDictionary[S]=m}}}}getVertexPosition(n,r){const c=this.geometry,d=c.attributes.position,m=c.morphAttributes.position,_=c.morphTargetsRelative;r.fromBufferAttribute(d,n);const S=this.morphTargetInfluences;if(m&&S){lm.set(0,0,0);for(let T=0,A=m.length;T<A;T++){const I=S[T],L=m[T];I!==0&&(Gy.fromBufferAttribute(L,n),_?lm.addScaledVector(Gy,I):lm.addScaledVector(Gy.sub(r),I))}r.add(lm)}return r}raycast(n,r){const c=this.geometry,d=this.material,m=this.matrixWorld;d!==void 0&&(c.boundingSphere===null&&c.computeBoundingSphere(),am.copy(c.boundingSphere),am.applyMatrix4(m),$o.copy(n.ray).recast(n.near),!(am.containsPoint($o.origin)===!1&&($o.intersectSphere(am,lM)===null||$o.origin.distanceToSquared(lM)>(n.far-n.near)**2))&&(aM.copy(m).invert(),$o.copy(n.ray).applyMatrix4(aM),!(c.boundingBox!==null&&$o.intersectsBox(c.boundingBox)===!1)&&this._computeIntersections(n,r)))}_computeIntersections(n,r){let c;const d=this.geometry,m=this.material,_=d.index,S=d.attributes.position,T=d.attributes.uv,A=d.attributes.uv1,I=d.attributes.normal,L=d.groups,N=d.drawRange;if(_!==null)if(Array.isArray(m))for(let z=0,V=L.length;z<V;z++){const Y=L[z],K=m[Y.materialIndex],$=Math.max(Y.start,N.start),oe=Math.min(_.count,Math.min(Y.start+Y.count,N.start+N.count));for(let se=$,le=oe;se<le;se+=3){const ye=_.getX(se),Me=_.getX(se+1),ze=_.getX(se+2);c=pm(this,K,n,$o,T,A,I,ye,Me,ze),c&&(c.faceIndex=Math.floor(se/3),c.face.materialIndex=Y.materialIndex,r.push(c))}}else{const z=Math.max(0,N.start),V=Math.min(_.count,N.start+N.count);for(let Y=z,K=V;Y<K;Y+=3){const $=_.getX(Y),oe=_.getX(Y+1),se=_.getX(Y+2);c=pm(this,m,n,$o,T,A,I,$,oe,se),c&&(c.faceIndex=Math.floor(Y/3),r.push(c))}}else if(S!==void 0)if(Array.isArray(m))for(let z=0,V=L.length;z<V;z++){const Y=L[z],K=m[Y.materialIndex],$=Math.max(Y.start,N.start),oe=Math.min(S.count,Math.min(Y.start+Y.count,N.start+N.count));for(let se=$,le=oe;se<le;se+=3){const ye=se,Me=se+1,ze=se+2;c=pm(this,K,n,$o,T,A,I,ye,Me,ze),c&&(c.faceIndex=Math.floor(se/3),c.face.materialIndex=Y.materialIndex,r.push(c))}}else{const z=Math.max(0,N.start),V=Math.min(S.count,N.start+N.count);for(let Y=z,K=V;Y<K;Y+=3){const $=Y,oe=Y+1,se=Y+2;c=pm(this,m,n,$o,T,A,I,$,oe,se),c&&(c.faceIndex=Math.floor(Y/3),r.push(c))}}}}function gF(y,n,r,c,d,m,_,S){let T;if(n.side===w?T=c.intersectTriangle(_,m,d,!0,S):T=c.intersectTriangle(d,m,_,n.side===b,S),T===null)return null;hm.copy(S),hm.applyMatrix4(y.matrixWorld);const A=r.ray.origin.distanceTo(hm);return A<r.near||A>r.far?null:{distance:A,point:hm.clone(),object:y}}function pm(y,n,r,c,d,m,_,S,T,A){y.getVertexPosition(S,bu),y.getVertexPosition(T,_u),y.getVertexPosition(A,wu);const I=gF(y,n,r,c,bu,_u,wu,fm);if(I){d&&(cm.fromBufferAttribute(d,S),um.fromBufferAttribute(d,T),dm.fromBufferAttribute(d,A),I.uv=ur.getInterpolation(fm,bu,_u,wu,cm,um,dm,new Vt)),m&&(cm.fromBufferAttribute(m,S),um.fromBufferAttribute(m,T),dm.fromBufferAttribute(m,A),I.uv1=ur.getInterpolation(fm,bu,_u,wu,cm,um,dm,new Vt),I.uv2=I.uv1),_&&(cM.fromBufferAttribute(_,S),uM.fromBufferAttribute(_,T),dM.fromBufferAttribute(_,A),I.normal=ur.getInterpolation(fm,bu,_u,wu,cM,uM,dM,new Re),I.normal.dot(c.direction)>0&&I.normal.multiplyScalar(-1));const L={a:S,b:T,c:A,normal:new Re,materialIndex:0};ur.getNormal(bu,_u,wu,L.normal),I.face=L}return I}class rl extends pi{constructor(n=1,r=1,c=1,d=1,m=1,_=1){super(),this.type="BoxGeometry",this.parameters={width:n,height:r,depth:c,widthSegments:d,heightSegments:m,depthSegments:_};const S=this;d=Math.floor(d),m=Math.floor(m),_=Math.floor(_);const T=[],A=[],I=[],L=[];let N=0,z=0;V("z","y","x",-1,-1,c,r,n,_,m,0),V("z","y","x",1,-1,c,r,-n,_,m,1),V("x","z","y",1,1,n,c,r,d,_,2),V("x","z","y",1,-1,n,c,-r,d,_,3),V("x","y","z",1,-1,n,r,c,d,m,4),V("x","y","z",-1,-1,n,r,-c,d,m,5),this.setIndex(T),this.setAttribute("position",new An(A,3)),this.setAttribute("normal",new An(I,3)),this.setAttribute("uv",new An(L,2));function V(Y,K,$,oe,se,le,ye,Me,ze,Ke,de){const ke=le/ze,bt=ye/Ke,St=le/2,ot=ye/2,mt=Me/2,wt=ze+1,$t=Ke+1;let Ot=0,Dt=0;const Qt=new Re;for(let Gt=0;Gt<$t;Gt++){const In=Gt*bt-ot;for(let sn=0;sn<wt;sn++){const Et=sn*ke-St;Qt[Y]=Et*oe,Qt[K]=In*se,Qt[$]=mt,A.push(Qt.x,Qt.y,Qt.z),Qt[Y]=0,Qt[K]=0,Qt[$]=Me>0?1:-1,I.push(Qt.x,Qt.y,Qt.z),L.push(sn/ze),L.push(1-Gt/Ke),Ot+=1}}for(let Gt=0;Gt<Ke;Gt++)for(let In=0;In<ze;In++){const sn=N+In+wt*Gt,Et=N+In+wt*(Gt+1),Ht=N+(In+1)+wt*(Gt+1),dn=N+(In+1)+wt*Gt;T.push(sn,Et,dn),T.push(Et,Ht,dn),Dt+=6}S.addGroup(z,Dt,de),z+=Dt,N+=Ot}}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new rl(n.width,n.height,n.depth,n.widthSegments,n.heightSegments,n.depthSegments)}}function Su(y){const n={};for(const r in y){n[r]={};for(const c in y[r]){const d=y[r][c];d&&(d.isColor||d.isMatrix3||d.isMatrix4||d.isVector2||d.isVector3||d.isVector4||d.isTexture||d.isQuaternion)?d.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),n[r][c]=null):n[r][c]=d.clone():Array.isArray(d)?n[r][c]=d.slice():n[r][c]=d}}return n}function Ks(y){const n={};for(let r=0;r<y.length;r++){const c=Su(y[r]);for(const d in c)n[d]=c[d]}return n}function vF(y){const n=[];for(let r=0;r<y.length;r++)n.push(y[r].clone());return n}function fM(y){return y.getRenderTarget()===null?y.outputColorSpace:oo}const hM={clone:Su,merge:Ks};var yF=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,bF=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Uo extends Bs{constructor(n){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=yF,this.fragmentShader=bF,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,n!==void 0&&this.setValues(n)}copy(n){return super.copy(n),this.fragmentShader=n.fragmentShader,this.vertexShader=n.vertexShader,this.uniforms=Su(n.uniforms),this.uniformsGroups=vF(n.uniformsGroups),this.defines=Object.assign({},n.defines),this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.fog=n.fog,this.lights=n.lights,this.clipping=n.clipping,this.extensions=Object.assign({},n.extensions),this.glslVersion=n.glslVersion,this}toJSON(n){const r=super.toJSON(n);r.glslVersion=this.glslVersion,r.uniforms={};for(const d in this.uniforms){const _=this.uniforms[d].value;_&&_.isTexture?r.uniforms[d]={type:"t",value:_.toJSON(n).uuid}:_&&_.isColor?r.uniforms[d]={type:"c",value:_.getHex()}:_&&_.isVector2?r.uniforms[d]={type:"v2",value:_.toArray()}:_&&_.isVector3?r.uniforms[d]={type:"v3",value:_.toArray()}:_&&_.isVector4?r.uniforms[d]={type:"v4",value:_.toArray()}:_&&_.isMatrix3?r.uniforms[d]={type:"m3",value:_.toArray()}:_&&_.isMatrix4?r.uniforms[d]={type:"m4",value:_.toArray()}:r.uniforms[d]={value:_}}Object.keys(this.defines).length>0&&(r.defines=this.defines),r.vertexShader=this.vertexShader,r.fragmentShader=this.fragmentShader,r.lights=this.lights,r.clipping=this.clipping;const c={};for(const d in this.extensions)this.extensions[d]===!0&&(c[d]=!0);return Object.keys(c).length>0&&(r.extensions=c),r}}class mm extends Ai{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new li,this.projectionMatrix=new li,this.projectionMatrixInverse=new li}copy(n,r){return super.copy(n,r),this.matrixWorldInverse.copy(n.matrixWorldInverse),this.projectionMatrix.copy(n.projectionMatrix),this.projectionMatrixInverse.copy(n.projectionMatrixInverse),this}getWorldDirection(n){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return n.set(-r[8],-r[9],-r[10]).normalize()}updateMatrixWorld(n){super.updateMatrixWorld(n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(n,r){super.updateWorldMatrix(n,r),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Ps extends mm{constructor(n=50,r=1,c=.1,d=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=n,this.zoom=1,this.near=c,this.far=d,this.focus=10,this.aspect=r,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(n,r){return super.copy(n,r),this.fov=n.fov,this.zoom=n.zoom,this.near=n.near,this.far=n.far,this.focus=n.focus,this.aspect=n.aspect,this.view=n.view===null?null:Object.assign({},n.view),this.filmGauge=n.filmGauge,this.filmOffset=n.filmOffset,this}setFocalLength(n){const r=.5*this.getFilmHeight()/n;this.fov=ou*2*Math.atan(r),this.updateProjectionMatrix()}getFocalLength(){const n=Math.tan(Yl*.5*this.fov);return .5*this.getFilmHeight()/n}getEffectiveFOV(){return ou*2*Math.atan(Math.tan(Yl*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(n,r,c,d,m,_){this.aspect=n/r,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=r,this.view.offsetX=c,this.view.offsetY=d,this.view.width=m,this.view.height=_,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const n=this.near;let r=n*Math.tan(Yl*.5*this.fov)/this.zoom,c=2*r,d=this.aspect*c,m=-.5*d;const _=this.view;if(this.view!==null&&this.view.enabled){const T=_.fullWidth,A=_.fullHeight;m+=_.offsetX*d/T,r-=_.offsetY*c/A,d*=_.width/T,c*=_.height/A}const S=this.filmOffset;S!==0&&(m+=n*S/this.getFilmWidth()),this.projectionMatrix.makePerspective(m,m+d,r,r-c,n,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(n){const r=super.toJSON(n);return r.object.fov=this.fov,r.object.zoom=this.zoom,r.object.near=this.near,r.object.far=this.far,r.object.focus=this.focus,r.object.aspect=this.aspect,this.view!==null&&(r.object.view=Object.assign({},this.view)),r.object.filmGauge=this.filmGauge,r.object.filmOffset=this.filmOffset,r}}const xu=-90,Mu=1;class pM extends Ai{constructor(n,r,c){super(),this.type="CubeCamera",this.renderTarget=c;const d=new Ps(xu,Mu,n,r);d.layers=this.layers,d.up.set(0,1,0),d.lookAt(1,0,0),this.add(d);const m=new Ps(xu,Mu,n,r);m.layers=this.layers,m.up.set(0,1,0),m.lookAt(-1,0,0),this.add(m);const _=new Ps(xu,Mu,n,r);_.layers=this.layers,_.up.set(0,0,-1),_.lookAt(0,1,0),this.add(_);const S=new Ps(xu,Mu,n,r);S.layers=this.layers,S.up.set(0,0,1),S.lookAt(0,-1,0),this.add(S);const T=new Ps(xu,Mu,n,r);T.layers=this.layers,T.up.set(0,1,0),T.lookAt(0,0,1),this.add(T);const A=new Ps(xu,Mu,n,r);A.layers=this.layers,A.up.set(0,1,0),A.lookAt(0,0,-1),this.add(A)}update(n,r){this.parent===null&&this.updateMatrixWorld();const c=this.renderTarget,[d,m,_,S,T,A]=this.children,I=n.getRenderTarget(),L=n.toneMapping,N=n.xr.enabled;n.toneMapping=we,n.xr.enabled=!1;const z=c.texture.generateMipmaps;c.texture.generateMipmaps=!1,n.setRenderTarget(c,0),n.render(r,d),n.setRenderTarget(c,1),n.render(r,m),n.setRenderTarget(c,2),n.render(r,_),n.setRenderTarget(c,3),n.render(r,S),n.setRenderTarget(c,4),n.render(r,T),c.texture.generateMipmaps=z,n.setRenderTarget(c,5),n.render(r,A),n.setRenderTarget(I),n.toneMapping=L,n.xr.enabled=N,c.texture.needsPMREMUpdate=!0}}class Tf extends rs{constructor(n,r,c,d,m,_,S,T,A,I){n=n!==void 0?n:[],r=r!==void 0?r:rt,super(n,r,c,d,m,_,S,T,A,I),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(n){this.image=n}}class mM extends ao{constructor(n=1,r={}){super(n,n,r),this.isWebGLCubeRenderTarget=!0;const c={width:n,height:n,depth:1},d=[c,c,c,c,c,c];r.encoding!==void 0&&(bf("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Za?ci:Qa),this.texture=new Tf(d,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Se}fromEquirectangularTexture(n,r){this.texture.type=r.type,this.texture.colorSpace=r.colorSpace,this.texture.generateMipmaps=r.generateMipmaps,this.texture.minFilter=r.minFilter,this.texture.magFilter=r.magFilter;const c={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},d=new rl(5,5,5),m=new Uo({name:"CubemapFromEquirect",uniforms:Su(c.uniforms),vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,side:w,blending:E});m.uniforms.tEquirect.value=r;const _=new ks(d,m),S=r.minFilter;return r.minFilter===tn&&(r.minFilter=Se),new pM(1,10,this).update(n,_),r.minFilter=S,_.geometry.dispose(),_.material.dispose(),this}clear(n,r,c,d){const m=n.getRenderTarget();for(let _=0;_<6;_++)n.setRenderTarget(this,_),n.clear(r,c,d);n.setRenderTarget(m)}}const Ky=new Re,_F=new Re,wF=new vi;class ol{constructor(n=new Re(1,0,0),r=0){this.isPlane=!0,this.normal=n,this.constant=r}set(n,r){return this.normal.copy(n),this.constant=r,this}setComponents(n,r,c,d){return this.normal.set(n,r,c),this.constant=d,this}setFromNormalAndCoplanarPoint(n,r){return this.normal.copy(n),this.constant=-r.dot(this.normal),this}setFromCoplanarPoints(n,r,c){const d=Ky.subVectors(c,r).cross(_F.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(d,n),this}copy(n){return this.normal.copy(n.normal),this.constant=n.constant,this}normalize(){const n=1/this.normal.length();return this.normal.multiplyScalar(n),this.constant*=n,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(n){return this.normal.dot(n)+this.constant}distanceToSphere(n){return this.distanceToPoint(n.center)-n.radius}projectPoint(n,r){return r.copy(n).addScaledVector(this.normal,-this.distanceToPoint(n))}intersectLine(n,r){const c=n.delta(Ky),d=this.normal.dot(c);if(d===0)return this.distanceToPoint(n.start)===0?r.copy(n.start):null;const m=-(n.start.dot(this.normal)+this.constant)/d;return m<0||m>1?null:r.copy(n.start).addScaledVector(c,m)}intersectsLine(n){const r=this.distanceToPoint(n.start),c=this.distanceToPoint(n.end);return r<0&&c>0||c<0&&r>0}intersectsBox(n){return n.intersectsPlane(this)}intersectsSphere(n){return n.intersectsPlane(this)}coplanarPoint(n){return n.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(n,r){const c=r||wF.getNormalMatrix(n),d=this.coplanarPoint(Ky).applyMatrix4(n),m=this.normal.applyMatrix3(c).normalize();return this.constant=-d.dot(m),this}translate(n){return this.constant-=n.dot(this.normal),this}equals(n){return n.normal.equals(this.normal)&&n.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ec=new zo,gm=new Re;class vm{constructor(n=new ol,r=new ol,c=new ol,d=new ol,m=new ol,_=new ol){this.planes=[n,r,c,d,m,_]}set(n,r,c,d,m,_){const S=this.planes;return S[0].copy(n),S[1].copy(r),S[2].copy(c),S[3].copy(d),S[4].copy(m),S[5].copy(_),this}copy(n){const r=this.planes;for(let c=0;c<6;c++)r[c].copy(n.planes[c]);return this}setFromProjectionMatrix(n){const r=this.planes,c=n.elements,d=c[0],m=c[1],_=c[2],S=c[3],T=c[4],A=c[5],I=c[6],L=c[7],N=c[8],z=c[9],V=c[10],Y=c[11],K=c[12],$=c[13],oe=c[14],se=c[15];return r[0].setComponents(S-d,L-T,Y-N,se-K).normalize(),r[1].setComponents(S+d,L+T,Y+N,se+K).normalize(),r[2].setComponents(S+m,L+A,Y+z,se+$).normalize(),r[3].setComponents(S-m,L-A,Y-z,se-$).normalize(),r[4].setComponents(S-_,L-I,Y-V,se-oe).normalize(),r[5].setComponents(S+_,L+I,Y+V,se+oe).normalize(),this}intersectsObject(n){if(n.boundingSphere!==void 0)n.boundingSphere===null&&n.computeBoundingSphere(),ec.copy(n.boundingSphere).applyMatrix4(n.matrixWorld);else{const r=n.geometry;r.boundingSphere===null&&r.computeBoundingSphere(),ec.copy(r.boundingSphere).applyMatrix4(n.matrixWorld)}return this.intersectsSphere(ec)}intersectsSprite(n){return ec.center.set(0,0,0),ec.radius=.7071067811865476,ec.applyMatrix4(n.matrixWorld),this.intersectsSphere(ec)}intersectsSphere(n){const r=this.planes,c=n.center,d=-n.radius;for(let m=0;m<6;m++)if(r[m].distanceToPoint(c)<d)return!1;return!0}intersectsBox(n){const r=this.planes;for(let c=0;c<6;c++){const d=r[c];if(gm.x=d.normal.x>0?n.max.x:n.min.x,gm.y=d.normal.y>0?n.max.y:n.min.y,gm.z=d.normal.z>0?n.max.z:n.min.z,d.distanceToPoint(gm)<0)return!1}return!0}containsPoint(n){const r=this.planes;for(let c=0;c<6;c++)if(r[c].distanceToPoint(n)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function gM(){let y=null,n=!1,r=null,c=null;function d(m,_){r(m,_),c=y.requestAnimationFrame(d)}return{start:function(){n!==!0&&r!==null&&(c=y.requestAnimationFrame(d),n=!0)},stop:function(){y.cancelAnimationFrame(c),n=!1},setAnimationLoop:function(m){r=m},setContext:function(m){y=m}}}function SF(y,n){const r=n.isWebGL2,c=new WeakMap;function d(A,I){const L=A.array,N=A.usage,z=y.createBuffer();y.bindBuffer(I,z),y.bufferData(I,L,N),A.onUploadCallback();let V;if(L instanceof Float32Array)V=y.FLOAT;else if(L instanceof Uint16Array)if(A.isFloat16BufferAttribute)if(r)V=y.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else V=y.UNSIGNED_SHORT;else if(L instanceof Int16Array)V=y.SHORT;else if(L instanceof Uint32Array)V=y.UNSIGNED_INT;else if(L instanceof Int32Array)V=y.INT;else if(L instanceof Int8Array)V=y.BYTE;else if(L instanceof Uint8Array)V=y.UNSIGNED_BYTE;else if(L instanceof Uint8ClampedArray)V=y.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+L);return{buffer:z,type:V,bytesPerElement:L.BYTES_PER_ELEMENT,version:A.version}}function m(A,I,L){const N=I.array,z=I.updateRange;y.bindBuffer(L,A),z.count===-1?y.bufferSubData(L,0,N):(r?y.bufferSubData(L,z.offset*N.BYTES_PER_ELEMENT,N,z.offset,z.count):y.bufferSubData(L,z.offset*N.BYTES_PER_ELEMENT,N.subarray(z.offset,z.offset+z.count)),z.count=-1),I.onUploadCallback()}function _(A){return A.isInterleavedBufferAttribute&&(A=A.data),c.get(A)}function S(A){A.isInterleavedBufferAttribute&&(A=A.data);const I=c.get(A);I&&(y.deleteBuffer(I.buffer),c.delete(A))}function T(A,I){if(A.isGLBufferAttribute){const N=c.get(A);(!N||N.version<A.version)&&c.set(A,{buffer:A.buffer,type:A.type,bytesPerElement:A.elementSize,version:A.version});return}A.isInterleavedBufferAttribute&&(A=A.data);const L=c.get(A);L===void 0?c.set(A,d(A,I)):L.version<A.version&&(m(L.buffer,A,I),L.version=A.version)}return{get:_,remove:S,update:T}}class Eu extends pi{constructor(n=1,r=1,c=1,d=1){super(),this.type="PlaneGeometry",this.parameters={width:n,height:r,widthSegments:c,heightSegments:d};const m=n/2,_=r/2,S=Math.floor(c),T=Math.floor(d),A=S+1,I=T+1,L=n/S,N=r/T,z=[],V=[],Y=[],K=[];for(let $=0;$<I;$++){const oe=$*N-_;for(let se=0;se<A;se++){const le=se*L-m;V.push(le,-oe,0),Y.push(0,0,1),K.push(se/S),K.push(1-$/T)}}for(let $=0;$<T;$++)for(let oe=0;oe<S;oe++){const se=oe+A*$,le=oe+A*($+1),ye=oe+1+A*($+1),Me=oe+1+A*$;z.push(se,le,Me),z.push(le,ye,Me)}this.setIndex(z),this.setAttribute("position",new An(V,3)),this.setAttribute("normal",new An(Y,3)),this.setAttribute("uv",new An(K,2))}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new Eu(n.width,n.height,n.widthSegments,n.heightSegments)}}var xF=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,MF=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,EF=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,CF=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,TF=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,AF=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,RF="vec3 transformed = vec3( position );",kF=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,PF=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,IF=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,LF=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,NF=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,OF=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,DF=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,FF=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,BF=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,zF=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,$F=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,UF=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,VF=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,HF=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,WF=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,GF=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,KF=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,qF=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,jF=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,XF="gl_FragColor = linearToOutputTexel( gl_FragColor );",YF=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,ZF=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,JF=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,QF=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,e4=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,t4=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,n4=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,i4=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,s4=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,r4=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,o4=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,a4=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,l4=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,c4=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,u4=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,d4=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,f4=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,h4=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,p4=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,m4=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,g4=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,v4=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif`,y4=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,b4=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,_4=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,w4=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,S4=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,x4=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,M4=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,E4=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,C4=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,T4=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,A4=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,R4=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,k4=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,P4=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,I4=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,L4=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,N4=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,O4=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,D4=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#ifdef USE_NORMALMAP_TANGENTSPACE
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,F4=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,B4=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,z4=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,$4=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,U4=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,V4=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,H4=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,W4=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,G4=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,K4=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,q4=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,j4=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,X4=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Y4=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Z4=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,J4=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Q4=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,eB=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,tB=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,nB=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,iB=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,sB=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,rB=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,oB=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,aB=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,lB=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,cB=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,uB=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,dB=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,fB=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,hB=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,pB=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,mB=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,gB=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,vB=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const fi={alphamap_fragment:xF,alphamap_pars_fragment:MF,alphatest_fragment:EF,alphatest_pars_fragment:CF,aomap_fragment:TF,aomap_pars_fragment:AF,begin_vertex:RF,beginnormal_vertex:kF,bsdfs:PF,iridescence_fragment:IF,bumpmap_pars_fragment:LF,clipping_planes_fragment:NF,clipping_planes_pars_fragment:OF,clipping_planes_pars_vertex:DF,clipping_planes_vertex:FF,color_fragment:BF,color_pars_fragment:zF,color_pars_vertex:$F,color_vertex:UF,common:VF,cube_uv_reflection_fragment:HF,defaultnormal_vertex:WF,displacementmap_pars_vertex:GF,displacementmap_vertex:KF,emissivemap_fragment:qF,emissivemap_pars_fragment:jF,encodings_fragment:XF,encodings_pars_fragment:YF,envmap_fragment:ZF,envmap_common_pars_fragment:JF,envmap_pars_fragment:QF,envmap_pars_vertex:e4,envmap_physical_pars_fragment:f4,envmap_vertex:t4,fog_vertex:n4,fog_pars_vertex:i4,fog_fragment:s4,fog_pars_fragment:r4,gradientmap_pars_fragment:o4,lightmap_fragment:a4,lightmap_pars_fragment:l4,lights_lambert_fragment:c4,lights_lambert_pars_fragment:u4,lights_pars_begin:d4,lights_toon_fragment:h4,lights_toon_pars_fragment:p4,lights_phong_fragment:m4,lights_phong_pars_fragment:g4,lights_physical_fragment:v4,lights_physical_pars_fragment:y4,lights_fragment_begin:b4,lights_fragment_maps:_4,lights_fragment_end:w4,logdepthbuf_fragment:S4,logdepthbuf_pars_fragment:x4,logdepthbuf_pars_vertex:M4,logdepthbuf_vertex:E4,map_fragment:C4,map_pars_fragment:T4,map_particle_fragment:A4,map_particle_pars_fragment:R4,metalnessmap_fragment:k4,metalnessmap_pars_fragment:P4,morphcolor_vertex:I4,morphnormal_vertex:L4,morphtarget_pars_vertex:N4,morphtarget_vertex:O4,normal_fragment_begin:D4,normal_fragment_maps:F4,normal_pars_fragment:B4,normal_pars_vertex:z4,normal_vertex:$4,normalmap_pars_fragment:U4,clearcoat_normal_fragment_begin:V4,clearcoat_normal_fragment_maps:H4,clearcoat_pars_fragment:W4,iridescence_pars_fragment:G4,output_fragment:K4,packing:q4,premultiplied_alpha_fragment:j4,project_vertex:X4,dithering_fragment:Y4,dithering_pars_fragment:Z4,roughnessmap_fragment:J4,roughnessmap_pars_fragment:Q4,shadowmap_pars_fragment:eB,shadowmap_pars_vertex:tB,shadowmap_vertex:nB,shadowmask_pars_fragment:iB,skinbase_vertex:sB,skinning_pars_vertex:rB,skinning_vertex:oB,skinnormal_vertex:aB,specularmap_fragment:lB,specularmap_pars_fragment:cB,tonemapping_fragment:uB,tonemapping_pars_fragment:dB,transmission_fragment:fB,transmission_pars_fragment:hB,uv_pars_fragment:pB,uv_pars_vertex:mB,uv_vertex:gB,worldpos_vertex:vB,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,backgroundCube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,backgroundCube_frag:`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`},ln={common:{diffuse:{value:new vn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new vi},alphaMap:{value:null},alphaMapTransform:{value:new vi},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new vi}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new vi}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new vi}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new vi},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new vi},normalScale:{value:new Vt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new vi},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new vi}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new vi}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new vi}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new vn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new vn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new vi}},sprite:{diffuse:{value:new vn(16777215)},opacity:{value:1},center:{value:new Vt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new vi},alphaMap:{value:null},alphaTest:{value:0}}},fo={basic:{uniforms:Ks([ln.common,ln.specularmap,ln.envmap,ln.aomap,ln.lightmap,ln.fog]),vertexShader:fi.meshbasic_vert,fragmentShader:fi.meshbasic_frag},lambert:{uniforms:Ks([ln.common,ln.specularmap,ln.envmap,ln.aomap,ln.lightmap,ln.emissivemap,ln.bumpmap,ln.normalmap,ln.displacementmap,ln.fog,ln.lights,{emissive:{value:new vn(0)}}]),vertexShader:fi.meshlambert_vert,fragmentShader:fi.meshlambert_frag},phong:{uniforms:Ks([ln.common,ln.specularmap,ln.envmap,ln.aomap,ln.lightmap,ln.emissivemap,ln.bumpmap,ln.normalmap,ln.displacementmap,ln.fog,ln.lights,{emissive:{value:new vn(0)},specular:{value:new vn(1118481)},shininess:{value:30}}]),vertexShader:fi.meshphong_vert,fragmentShader:fi.meshphong_frag},standard:{uniforms:Ks([ln.common,ln.envmap,ln.aomap,ln.lightmap,ln.emissivemap,ln.bumpmap,ln.normalmap,ln.displacementmap,ln.roughnessmap,ln.metalnessmap,ln.fog,ln.lights,{emissive:{value:new vn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:fi.meshphysical_vert,fragmentShader:fi.meshphysical_frag},toon:{uniforms:Ks([ln.common,ln.aomap,ln.lightmap,ln.emissivemap,ln.bumpmap,ln.normalmap,ln.displacementmap,ln.gradientmap,ln.fog,ln.lights,{emissive:{value:new vn(0)}}]),vertexShader:fi.meshtoon_vert,fragmentShader:fi.meshtoon_frag},matcap:{uniforms:Ks([ln.common,ln.bumpmap,ln.normalmap,ln.displacementmap,ln.fog,{matcap:{value:null}}]),vertexShader:fi.meshmatcap_vert,fragmentShader:fi.meshmatcap_frag},points:{uniforms:Ks([ln.points,ln.fog]),vertexShader:fi.points_vert,fragmentShader:fi.points_frag},dashed:{uniforms:Ks([ln.common,ln.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:fi.linedashed_vert,fragmentShader:fi.linedashed_frag},depth:{uniforms:Ks([ln.common,ln.displacementmap]),vertexShader:fi.depth_vert,fragmentShader:fi.depth_frag},normal:{uniforms:Ks([ln.common,ln.bumpmap,ln.normalmap,ln.displacementmap,{opacity:{value:1}}]),vertexShader:fi.meshnormal_vert,fragmentShader:fi.meshnormal_frag},sprite:{uniforms:Ks([ln.sprite,ln.fog]),vertexShader:fi.sprite_vert,fragmentShader:fi.sprite_frag},background:{uniforms:{uvTransform:{value:new vi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:fi.background_vert,fragmentShader:fi.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:fi.backgroundCube_vert,fragmentShader:fi.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:fi.cube_vert,fragmentShader:fi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:fi.equirect_vert,fragmentShader:fi.equirect_frag},distanceRGBA:{uniforms:Ks([ln.common,ln.displacementmap,{referencePosition:{value:new Re},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:fi.distanceRGBA_vert,fragmentShader:fi.distanceRGBA_frag},shadow:{uniforms:Ks([ln.lights,ln.fog,{color:{value:new vn(0)},opacity:{value:1}}]),vertexShader:fi.shadow_vert,fragmentShader:fi.shadow_frag}};fo.physical={uniforms:Ks([fo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new vi},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new vi},clearcoatNormalScale:{value:new Vt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new vi},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new vi},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new vi},sheen:{value:0},sheenColor:{value:new vn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new vi},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new vi},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new vi},transmissionSamplerSize:{value:new Vt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new vi},attenuationDistance:{value:0},attenuationColor:{value:new vn(0)},specularColor:{value:new vn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new vi},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new vi}}]),vertexShader:fi.meshphysical_vert,fragmentShader:fi.meshphysical_frag};const ym={r:0,b:0,g:0};function yB(y,n,r,c,d,m,_){const S=new vn(0);let T=m===!0?0:1,A,I,L=null,N=0,z=null;function V(K,$){let oe=!1,se=$.isScene===!0?$.background:null;switch(se&&se.isTexture&&(se=($.backgroundBlurriness>0?r:n).get(se)),se===null?Y(S,T):se&&se.isColor&&(Y(se,1),oe=!0),y.xr.getEnvironmentBlendMode()){case"opaque":oe=!0;break;case"additive":c.buffers.color.setClear(0,0,0,1,_),oe=!0;break;case"alpha-blend":c.buffers.color.setClear(0,0,0,0,_),oe=!0;break}(y.autoClear||oe)&&y.clear(y.autoClearColor,y.autoClearDepth,y.autoClearStencil),se&&(se.isCubeTexture||se.mapping===We)?(I===void 0&&(I=new ks(new rl(1,1,1),new Uo({name:"BackgroundCubeMaterial",uniforms:Su(fo.backgroundCube.uniforms),vertexShader:fo.backgroundCube.vertexShader,fragmentShader:fo.backgroundCube.fragmentShader,side:w,depthTest:!1,depthWrite:!1,fog:!1})),I.geometry.deleteAttribute("normal"),I.geometry.deleteAttribute("uv"),I.onBeforeRender=function(Me,ze,Ke){this.matrixWorld.copyPosition(Ke.matrixWorld)},Object.defineProperty(I.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),d.update(I)),I.material.uniforms.envMap.value=se,I.material.uniforms.flipEnvMap.value=se.isCubeTexture&&se.isRenderTargetTexture===!1?-1:1,I.material.uniforms.backgroundBlurriness.value=$.backgroundBlurriness,I.material.uniforms.backgroundIntensity.value=$.backgroundIntensity,I.material.toneMapped=se.colorSpace!==ci,(L!==se||N!==se.version||z!==y.toneMapping)&&(I.material.needsUpdate=!0,L=se,N=se.version,z=y.toneMapping),I.layers.enableAll(),K.unshift(I,I.geometry,I.material,0,0,null)):se&&se.isTexture&&(A===void 0&&(A=new ks(new Eu(2,2),new Uo({name:"BackgroundMaterial",uniforms:Su(fo.background.uniforms),vertexShader:fo.background.vertexShader,fragmentShader:fo.background.fragmentShader,side:b,depthTest:!1,depthWrite:!1,fog:!1})),A.geometry.deleteAttribute("normal"),Object.defineProperty(A.material,"map",{get:function(){return this.uniforms.t2D.value}}),d.update(A)),A.material.uniforms.t2D.value=se,A.material.uniforms.backgroundIntensity.value=$.backgroundIntensity,A.material.toneMapped=se.colorSpace!==ci,se.matrixAutoUpdate===!0&&se.updateMatrix(),A.material.uniforms.uvTransform.value.copy(se.matrix),(L!==se||N!==se.version||z!==y.toneMapping)&&(A.material.needsUpdate=!0,L=se,N=se.version,z=y.toneMapping),A.layers.enableAll(),K.unshift(A,A.geometry,A.material,0,0,null))}function Y(K,$){K.getRGB(ym,fM(y)),c.buffers.color.setClear(ym.r,ym.g,ym.b,$,_)}return{getClearColor:function(){return S},setClearColor:function(K,$=1){S.set(K),T=$,Y(S,T)},getClearAlpha:function(){return T},setClearAlpha:function(K){T=K,Y(S,T)},render:V}}function bB(y,n,r,c){const d=y.getParameter(y.MAX_VERTEX_ATTRIBS),m=c.isWebGL2?null:n.get("OES_vertex_array_object"),_=c.isWebGL2||m!==null,S={},T=K(null);let A=T,I=!1;function L(mt,wt,$t,Ot,Dt){let Qt=!1;if(_){const Gt=Y(Ot,$t,wt);A!==Gt&&(A=Gt,z(A.object)),Qt=$(mt,Ot,$t,Dt),Qt&&oe(mt,Ot,$t,Dt)}else{const Gt=wt.wireframe===!0;(A.geometry!==Ot.id||A.program!==$t.id||A.wireframe!==Gt)&&(A.geometry=Ot.id,A.program=$t.id,A.wireframe=Gt,Qt=!0)}Dt!==null&&r.update(Dt,y.ELEMENT_ARRAY_BUFFER),(Qt||I)&&(I=!1,Ke(mt,wt,$t,Ot),Dt!==null&&y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,r.get(Dt).buffer))}function N(){return c.isWebGL2?y.createVertexArray():m.createVertexArrayOES()}function z(mt){return c.isWebGL2?y.bindVertexArray(mt):m.bindVertexArrayOES(mt)}function V(mt){return c.isWebGL2?y.deleteVertexArray(mt):m.deleteVertexArrayOES(mt)}function Y(mt,wt,$t){const Ot=$t.wireframe===!0;let Dt=S[mt.id];Dt===void 0&&(Dt={},S[mt.id]=Dt);let Qt=Dt[wt.id];Qt===void 0&&(Qt={},Dt[wt.id]=Qt);let Gt=Qt[Ot];return Gt===void 0&&(Gt=K(N()),Qt[Ot]=Gt),Gt}function K(mt){const wt=[],$t=[],Ot=[];for(let Dt=0;Dt<d;Dt++)wt[Dt]=0,$t[Dt]=0,Ot[Dt]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:wt,enabledAttributes:$t,attributeDivisors:Ot,object:mt,attributes:{},index:null}}function $(mt,wt,$t,Ot){const Dt=A.attributes,Qt=wt.attributes;let Gt=0;const In=$t.getAttributes();for(const sn in In)if(In[sn].location>=0){const Ht=Dt[sn];let dn=Qt[sn];if(dn===void 0&&(sn==="instanceMatrix"&&mt.instanceMatrix&&(dn=mt.instanceMatrix),sn==="instanceColor"&&mt.instanceColor&&(dn=mt.instanceColor)),Ht===void 0||Ht.attribute!==dn||dn&&Ht.data!==dn.data)return!0;Gt++}return A.attributesNum!==Gt||A.index!==Ot}function oe(mt,wt,$t,Ot){const Dt={},Qt=wt.attributes;let Gt=0;const In=$t.getAttributes();for(const sn in In)if(In[sn].location>=0){let Ht=Qt[sn];Ht===void 0&&(sn==="instanceMatrix"&&mt.instanceMatrix&&(Ht=mt.instanceMatrix),sn==="instanceColor"&&mt.instanceColor&&(Ht=mt.instanceColor));const dn={};dn.attribute=Ht,Ht&&Ht.data&&(dn.data=Ht.data),Dt[sn]=dn,Gt++}A.attributes=Dt,A.attributesNum=Gt,A.index=Ot}function se(){const mt=A.newAttributes;for(let wt=0,$t=mt.length;wt<$t;wt++)mt[wt]=0}function le(mt){ye(mt,0)}function ye(mt,wt){const $t=A.newAttributes,Ot=A.enabledAttributes,Dt=A.attributeDivisors;$t[mt]=1,Ot[mt]===0&&(y.enableVertexAttribArray(mt),Ot[mt]=1),Dt[mt]!==wt&&((c.isWebGL2?y:n.get("ANGLE_instanced_arrays"))[c.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](mt,wt),Dt[mt]=wt)}function Me(){const mt=A.newAttributes,wt=A.enabledAttributes;for(let $t=0,Ot=wt.length;$t<Ot;$t++)wt[$t]!==mt[$t]&&(y.disableVertexAttribArray($t),wt[$t]=0)}function ze(mt,wt,$t,Ot,Dt,Qt){c.isWebGL2===!0&&($t===y.INT||$t===y.UNSIGNED_INT)?y.vertexAttribIPointer(mt,wt,$t,Dt,Qt):y.vertexAttribPointer(mt,wt,$t,Ot,Dt,Qt)}function Ke(mt,wt,$t,Ot){if(c.isWebGL2===!1&&(mt.isInstancedMesh||Ot.isInstancedBufferGeometry)&&n.get("ANGLE_instanced_arrays")===null)return;se();const Dt=Ot.attributes,Qt=$t.getAttributes(),Gt=wt.defaultAttributeValues;for(const In in Qt){const sn=Qt[In];if(sn.location>=0){let Et=Dt[In];if(Et===void 0&&(In==="instanceMatrix"&&mt.instanceMatrix&&(Et=mt.instanceMatrix),In==="instanceColor"&&mt.instanceColor&&(Et=mt.instanceColor)),Et!==void 0){const Ht=Et.normalized,dn=Et.itemSize,mn=r.get(Et);if(mn===void 0)continue;const je=mn.buffer,Qn=mn.type,ni=mn.bytesPerElement;if(Et.isInterleavedBufferAttribute){const nn=Et.data,Fn=nn.stride,qt=Et.offset;if(nn.isInstancedInterleavedBuffer){for(let kt=0;kt<sn.locationSize;kt++)ye(sn.location+kt,nn.meshPerAttribute);mt.isInstancedMesh!==!0&&Ot._maxInstanceCount===void 0&&(Ot._maxInstanceCount=nn.meshPerAttribute*nn.count)}else for(let kt=0;kt<sn.locationSize;kt++)le(sn.location+kt);y.bindBuffer(y.ARRAY_BUFFER,je);for(let kt=0;kt<sn.locationSize;kt++)ze(sn.location+kt,dn/sn.locationSize,Qn,Ht,Fn*ni,(qt+dn/sn.locationSize*kt)*ni)}else{if(Et.isInstancedBufferAttribute){for(let nn=0;nn<sn.locationSize;nn++)ye(sn.location+nn,Et.meshPerAttribute);mt.isInstancedMesh!==!0&&Ot._maxInstanceCount===void 0&&(Ot._maxInstanceCount=Et.meshPerAttribute*Et.count)}else for(let nn=0;nn<sn.locationSize;nn++)le(sn.location+nn);y.bindBuffer(y.ARRAY_BUFFER,je);for(let nn=0;nn<sn.locationSize;nn++)ze(sn.location+nn,dn/sn.locationSize,Qn,Ht,dn*ni,dn/sn.locationSize*nn*ni)}}else if(Gt!==void 0){const Ht=Gt[In];if(Ht!==void 0)switch(Ht.length){case 2:y.vertexAttrib2fv(sn.location,Ht);break;case 3:y.vertexAttrib3fv(sn.location,Ht);break;case 4:y.vertexAttrib4fv(sn.location,Ht);break;default:y.vertexAttrib1fv(sn.location,Ht)}}}}Me()}function de(){St();for(const mt in S){const wt=S[mt];for(const $t in wt){const Ot=wt[$t];for(const Dt in Ot)V(Ot[Dt].object),delete Ot[Dt];delete wt[$t]}delete S[mt]}}function ke(mt){if(S[mt.id]===void 0)return;const wt=S[mt.id];for(const $t in wt){const Ot=wt[$t];for(const Dt in Ot)V(Ot[Dt].object),delete Ot[Dt];delete wt[$t]}delete S[mt.id]}function bt(mt){for(const wt in S){const $t=S[wt];if($t[mt.id]===void 0)continue;const Ot=$t[mt.id];for(const Dt in Ot)V(Ot[Dt].object),delete Ot[Dt];delete $t[mt.id]}}function St(){ot(),I=!0,A!==T&&(A=T,z(A.object))}function ot(){T.geometry=null,T.program=null,T.wireframe=!1}return{setup:L,reset:St,resetDefaultState:ot,dispose:de,releaseStatesOfGeometry:ke,releaseStatesOfProgram:bt,initAttributes:se,enableAttribute:le,disableUnusedAttributes:Me}}function _B(y,n,r,c){const d=c.isWebGL2;let m;function _(A){m=A}function S(A,I){y.drawArrays(m,A,I),r.update(I,m,1)}function T(A,I,L){if(L===0)return;let N,z;if(d)N=y,z="drawArraysInstanced";else if(N=n.get("ANGLE_instanced_arrays"),z="drawArraysInstancedANGLE",N===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}N[z](m,A,I,L),r.update(I,m,L)}this.setMode=_,this.render=S,this.renderInstances=T}function wB(y,n,r){let c;function d(){if(c!==void 0)return c;if(n.has("EXT_texture_filter_anisotropic")===!0){const ze=n.get("EXT_texture_filter_anisotropic");c=y.getParameter(ze.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else c=0;return c}function m(ze){if(ze==="highp"){if(y.getShaderPrecisionFormat(y.VERTEX_SHADER,y.HIGH_FLOAT).precision>0&&y.getShaderPrecisionFormat(y.FRAGMENT_SHADER,y.HIGH_FLOAT).precision>0)return"highp";ze="mediump"}return ze==="mediump"&&y.getShaderPrecisionFormat(y.VERTEX_SHADER,y.MEDIUM_FLOAT).precision>0&&y.getShaderPrecisionFormat(y.FRAGMENT_SHADER,y.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const _=typeof WebGL2RenderingContext<"u"&&y.constructor.name==="WebGL2RenderingContext";let S=r.precision!==void 0?r.precision:"highp";const T=m(S);T!==S&&(console.warn("THREE.WebGLRenderer:",S,"not supported, using",T,"instead."),S=T);const A=_||n.has("WEBGL_draw_buffers"),I=r.logarithmicDepthBuffer===!0,L=y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS),N=y.getParameter(y.MAX_VERTEX_TEXTURE_IMAGE_UNITS),z=y.getParameter(y.MAX_TEXTURE_SIZE),V=y.getParameter(y.MAX_CUBE_MAP_TEXTURE_SIZE),Y=y.getParameter(y.MAX_VERTEX_ATTRIBS),K=y.getParameter(y.MAX_VERTEX_UNIFORM_VECTORS),$=y.getParameter(y.MAX_VARYING_VECTORS),oe=y.getParameter(y.MAX_FRAGMENT_UNIFORM_VECTORS),se=N>0,le=_||n.has("OES_texture_float"),ye=se&&le,Me=_?y.getParameter(y.MAX_SAMPLES):0;return{isWebGL2:_,drawBuffers:A,getMaxAnisotropy:d,getMaxPrecision:m,precision:S,logarithmicDepthBuffer:I,maxTextures:L,maxVertexTextures:N,maxTextureSize:z,maxCubemapSize:V,maxAttributes:Y,maxVertexUniforms:K,maxVaryings:$,maxFragmentUniforms:oe,vertexTextures:se,floatFragmentTextures:le,floatVertexTextures:ye,maxSamples:Me}}function SB(y){const n=this;let r=null,c=0,d=!1,m=!1;const _=new ol,S=new vi,T={value:null,needsUpdate:!1};this.uniform=T,this.numPlanes=0,this.numIntersection=0,this.init=function(L,N){const z=L.length!==0||N||c!==0||d;return d=N,c=L.length,z},this.beginShadows=function(){m=!0,I(null)},this.endShadows=function(){m=!1},this.setGlobalState=function(L,N){r=I(L,N,0)},this.setState=function(L,N,z){const V=L.clippingPlanes,Y=L.clipIntersection,K=L.clipShadows,$=y.get(L);if(!d||V===null||V.length===0||m&&!K)m?I(null):A();else{const oe=m?0:c,se=oe*4;let le=$.clippingState||null;T.value=le,le=I(V,N,se,z);for(let ye=0;ye!==se;++ye)le[ye]=r[ye];$.clippingState=le,this.numIntersection=Y?this.numPlanes:0,this.numPlanes+=oe}};function A(){T.value!==r&&(T.value=r,T.needsUpdate=c>0),n.numPlanes=c,n.numIntersection=0}function I(L,N,z,V){const Y=L!==null?L.length:0;let K=null;if(Y!==0){if(K=T.value,V!==!0||K===null){const $=z+Y*4,oe=N.matrixWorldInverse;S.getNormalMatrix(oe),(K===null||K.length<$)&&(K=new Float32Array($));for(let se=0,le=z;se!==Y;++se,le+=4)_.copy(L[se]).applyMatrix4(oe,S),_.normal.toArray(K,le),K[le+3]=_.constant}T.value=K,T.needsUpdate=!0}return n.numPlanes=Y,n.numIntersection=0,K}}function xB(y){let n=new WeakMap;function r(_,S){return S===Mt?_.mapping=rt:S===yt&&(_.mapping=Je),_}function c(_){if(_&&_.isTexture&&_.isRenderTargetTexture===!1){const S=_.mapping;if(S===Mt||S===yt)if(n.has(_)){const T=n.get(_).texture;return r(T,_.mapping)}else{const T=_.image;if(T&&T.height>0){const A=new mM(T.height/2);return A.fromEquirectangularTexture(y,_),n.set(_,A),_.addEventListener("dispose",d),r(A.texture,_.mapping)}else return null}}return _}function d(_){const S=_.target;S.removeEventListener("dispose",d);const T=n.get(S);T!==void 0&&(n.delete(S),T.dispose())}function m(){n=new WeakMap}return{get:c,dispose:m}}class bm extends mm{constructor(n=-1,r=1,c=1,d=-1,m=.1,_=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=n,this.right=r,this.top=c,this.bottom=d,this.near=m,this.far=_,this.updateProjectionMatrix()}copy(n,r){return super.copy(n,r),this.left=n.left,this.right=n.right,this.top=n.top,this.bottom=n.bottom,this.near=n.near,this.far=n.far,this.zoom=n.zoom,this.view=n.view===null?null:Object.assign({},n.view),this}setViewOffset(n,r,c,d,m,_){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=r,this.view.offsetX=c,this.view.offsetY=d,this.view.width=m,this.view.height=_,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const n=(this.right-this.left)/(2*this.zoom),r=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,d=(this.top+this.bottom)/2;let m=c-n,_=c+n,S=d+r,T=d-r;if(this.view!==null&&this.view.enabled){const A=(this.right-this.left)/this.view.fullWidth/this.zoom,I=(this.top-this.bottom)/this.view.fullHeight/this.zoom;m+=A*this.view.offsetX,_=m+A*this.view.width,S-=I*this.view.offsetY,T=S-I*this.view.height}this.projectionMatrix.makeOrthographic(m,_,S,T,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(n){const r=super.toJSON(n);return r.object.zoom=this.zoom,r.object.left=this.left,r.object.right=this.right,r.object.top=this.top,r.object.bottom=this.bottom,r.object.near=this.near,r.object.far=this.far,this.view!==null&&(r.object.view=Object.assign({},this.view)),r}}const Cu=4,vM=[.125,.215,.35,.446,.526,.582],tc=20,qy=new bm,yM=new vn;let jy=null;const nc=(1+Math.sqrt(5))/2,Tu=1/nc,bM=[new Re(1,1,1),new Re(-1,1,1),new Re(1,1,-1),new Re(-1,1,-1),new Re(0,nc,Tu),new Re(0,nc,-Tu),new Re(Tu,0,nc),new Re(-Tu,0,nc),new Re(nc,Tu,0),new Re(-nc,Tu,0)];class Xy{constructor(n){this._renderer=n,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(n,r=0,c=.1,d=100){jy=this._renderer.getRenderTarget(),this._setSize(256);const m=this._allocateTargets();return m.depthBuffer=!0,this._sceneToCubeUV(n,c,d,m),r>0&&this._blur(m,0,0,r),this._applyPMREM(m),this._cleanup(m),m}fromEquirectangular(n,r=null){return this._fromTexture(n,r)}fromCubemap(n,r=null){return this._fromTexture(n,r)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=SM(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=wM(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(n){this._lodMax=Math.floor(Math.log2(n)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let n=0;n<this._lodPlanes.length;n++)this._lodPlanes[n].dispose()}_cleanup(n){this._renderer.setRenderTarget(jy),n.scissorTest=!1,_m(n,0,0,n.width,n.height)}_fromTexture(n,r){n.mapping===rt||n.mapping===Je?this._setSize(n.image.length===0?16:n.image[0].width||n.image[0].image.width):this._setSize(n.image.width/4),jy=this._renderer.getRenderTarget();const c=r||this._allocateTargets();return this._textureToCubeUV(n,c),this._applyPMREM(c),this._cleanup(c),c}_allocateTargets(){const n=3*Math.max(this._cubeSize,112),r=4*this._cubeSize,c={magFilter:Se,minFilter:Se,generateMipmaps:!1,type:Kt,format:Ss,colorSpace:oo,depthBuffer:!1},d=_M(n,r,c);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==n||this._pingPongRenderTarget.height!==r){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_M(n,r,c);const{_lodMax:m}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=MB(m)),this._blurMaterial=EB(m,n,r)}return d}_compileMaterial(n){const r=new ks(this._lodPlanes[0],n);this._renderer.compile(r,qy)}_sceneToCubeUV(n,r,c,d){const S=new Ps(90,1,r,c),T=[1,-1,1,1,1,1],A=[1,1,1,-1,-1,-1],I=this._renderer,L=I.autoClear,N=I.toneMapping;I.getClearColor(yM),I.toneMapping=we,I.autoClear=!1;const z=new sl({name:"PMREM.Background",side:w,depthWrite:!1,depthTest:!1}),V=new ks(new rl,z);let Y=!1;const K=n.background;K?K.isColor&&(z.color.copy(K),n.background=null,Y=!0):(z.color.copy(yM),Y=!0);for(let $=0;$<6;$++){const oe=$%3;oe===0?(S.up.set(0,T[$],0),S.lookAt(A[$],0,0)):oe===1?(S.up.set(0,0,T[$]),S.lookAt(0,A[$],0)):(S.up.set(0,T[$],0),S.lookAt(0,0,A[$]));const se=this._cubeSize;_m(d,oe*se,$>2?se:0,se,se),I.setRenderTarget(d),Y&&I.render(V,S),I.render(n,S)}V.geometry.dispose(),V.material.dispose(),I.toneMapping=N,I.autoClear=L,n.background=K}_textureToCubeUV(n,r){const c=this._renderer,d=n.mapping===rt||n.mapping===Je;d?(this._cubemapMaterial===null&&(this._cubemapMaterial=SM()),this._cubemapMaterial.uniforms.flipEnvMap.value=n.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=wM());const m=d?this._cubemapMaterial:this._equirectMaterial,_=new ks(this._lodPlanes[0],m),S=m.uniforms;S.envMap.value=n;const T=this._cubeSize;_m(r,0,0,3*T,2*T),c.setRenderTarget(r),c.render(_,qy)}_applyPMREM(n){const r=this._renderer,c=r.autoClear;r.autoClear=!1;for(let d=1;d<this._lodPlanes.length;d++){const m=Math.sqrt(this._sigmas[d]*this._sigmas[d]-this._sigmas[d-1]*this._sigmas[d-1]),_=bM[(d-1)%bM.length];this._blur(n,d-1,d,m,_)}r.autoClear=c}_blur(n,r,c,d,m){const _=this._pingPongRenderTarget;this._halfBlur(n,_,r,c,d,"latitudinal",m),this._halfBlur(_,n,c,c,d,"longitudinal",m)}_halfBlur(n,r,c,d,m,_,S){const T=this._renderer,A=this._blurMaterial;_!=="latitudinal"&&_!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const I=3,L=new ks(this._lodPlanes[d],A),N=A.uniforms,z=this._sizeLods[c]-1,V=isFinite(m)?Math.PI/(2*z):2*Math.PI/(2*tc-1),Y=m/V,K=isFinite(m)?1+Math.floor(I*Y):tc;K>tc&&console.warn(`sigmaRadians, ${m}, is too large and will clip, as it requested ${K} samples when the maximum is set to ${tc}`);const $=[];let oe=0;for(let ze=0;ze<tc;++ze){const Ke=ze/Y,de=Math.exp(-Ke*Ke/2);$.push(de),ze===0?oe+=de:ze<K&&(oe+=2*de)}for(let ze=0;ze<$.length;ze++)$[ze]=$[ze]/oe;N.envMap.value=n.texture,N.samples.value=K,N.weights.value=$,N.latitudinal.value=_==="latitudinal",S&&(N.poleAxis.value=S);const{_lodMax:se}=this;N.dTheta.value=V,N.mipInt.value=se-c;const le=this._sizeLods[d],ye=3*le*(d>se-Cu?d-se+Cu:0),Me=4*(this._cubeSize-le);_m(r,ye,Me,3*le,2*le),T.setRenderTarget(r),T.render(L,qy)}}function MB(y){const n=[],r=[],c=[];let d=y;const m=y-Cu+1+vM.length;for(let _=0;_<m;_++){const S=Math.pow(2,d);r.push(S);let T=1/S;_>y-Cu?T=vM[_-y+Cu-1]:_===0&&(T=0),c.push(T);const A=1/(S-2),I=-A,L=1+A,N=[I,I,L,I,L,L,I,I,L,L,I,L],z=6,V=6,Y=3,K=2,$=1,oe=new Float32Array(Y*V*z),se=new Float32Array(K*V*z),le=new Float32Array($*V*z);for(let Me=0;Me<z;Me++){const ze=Me%3*2/3-1,Ke=Me>2?0:-1,de=[ze,Ke,0,ze+2/3,Ke,0,ze+2/3,Ke+1,0,ze,Ke,0,ze+2/3,Ke+1,0,ze,Ke+1,0];oe.set(de,Y*V*Me),se.set(N,K*V*Me);const ke=[Me,Me,Me,Me,Me,Me];le.set(ke,$*V*Me)}const ye=new pi;ye.setAttribute("position",new Wi(oe,Y)),ye.setAttribute("uv",new Wi(se,K)),ye.setAttribute("faceIndex",new Wi(le,$)),n.push(ye),d>Cu&&d--}return{lodPlanes:n,sizeLods:r,sigmas:c}}function _M(y,n,r){const c=new ao(y,n,r);return c.texture.mapping=We,c.texture.name="PMREM.cubeUv",c.scissorTest=!0,c}function _m(y,n,r,c,d){y.viewport.set(n,r,c,d),y.scissor.set(n,r,c,d)}function EB(y,n,r){const c=new Float32Array(tc),d=new Re(0,1,0);return new Uo({name:"SphericalGaussianBlur",defines:{n:tc,CUBEUV_TEXEL_WIDTH:1/n,CUBEUV_TEXEL_HEIGHT:1/r,CUBEUV_MAX_MIP:`${y}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:c},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:d}},vertexShader:Yy(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:E,depthTest:!1,depthWrite:!1})}function wM(){return new Uo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Yy(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:E,depthTest:!1,depthWrite:!1})}function SM(){return new Uo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Yy(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:E,depthTest:!1,depthWrite:!1})}function Yy(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function CB(y){let n=new WeakMap,r=null;function c(S){if(S&&S.isTexture){const T=S.mapping,A=T===Mt||T===yt,I=T===rt||T===Je;if(A||I)if(S.isRenderTargetTexture&&S.needsPMREMUpdate===!0){S.needsPMREMUpdate=!1;let L=n.get(S);return r===null&&(r=new Xy(y)),L=A?r.fromEquirectangular(S,L):r.fromCubemap(S,L),n.set(S,L),L.texture}else{if(n.has(S))return n.get(S).texture;{const L=S.image;if(A&&L&&L.height>0||I&&L&&d(L)){r===null&&(r=new Xy(y));const N=A?r.fromEquirectangular(S):r.fromCubemap(S);return n.set(S,N),S.addEventListener("dispose",m),N.texture}else return null}}}return S}function d(S){let T=0;const A=6;for(let I=0;I<A;I++)S[I]!==void 0&&T++;return T===A}function m(S){const T=S.target;T.removeEventListener("dispose",m);const A=n.get(T);A!==void 0&&(n.delete(T),A.dispose())}function _(){n=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:c,dispose:_}}function TB(y){const n={};function r(c){if(n[c]!==void 0)return n[c];let d;switch(c){case"WEBGL_depth_texture":d=y.getExtension("WEBGL_depth_texture")||y.getExtension("MOZ_WEBGL_depth_texture")||y.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":d=y.getExtension("EXT_texture_filter_anisotropic")||y.getExtension("MOZ_EXT_texture_filter_anisotropic")||y.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":d=y.getExtension("WEBGL_compressed_texture_s3tc")||y.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||y.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":d=y.getExtension("WEBGL_compressed_texture_pvrtc")||y.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:d=y.getExtension(c)}return n[c]=d,d}return{has:function(c){return r(c)!==null},init:function(c){c.isWebGL2?r("EXT_color_buffer_float"):(r("WEBGL_depth_texture"),r("OES_texture_float"),r("OES_texture_half_float"),r("OES_texture_half_float_linear"),r("OES_standard_derivatives"),r("OES_element_index_uint"),r("OES_vertex_array_object"),r("ANGLE_instanced_arrays")),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture")},get:function(c){const d=r(c);return d===null&&console.warn("THREE.WebGLRenderer: "+c+" extension not supported."),d}}}function AB(y,n,r,c){const d={},m=new WeakMap;function _(L){const N=L.target;N.index!==null&&n.remove(N.index);for(const V in N.attributes)n.remove(N.attributes[V]);N.removeEventListener("dispose",_),delete d[N.id];const z=m.get(N);z&&(n.remove(z),m.delete(N)),c.releaseStatesOfGeometry(N),N.isInstancedBufferGeometry===!0&&delete N._maxInstanceCount,r.memory.geometries--}function S(L,N){return d[N.id]===!0||(N.addEventListener("dispose",_),d[N.id]=!0,r.memory.geometries++),N}function T(L){const N=L.attributes;for(const V in N)n.update(N[V],y.ARRAY_BUFFER);const z=L.morphAttributes;for(const V in z){const Y=z[V];for(let K=0,$=Y.length;K<$;K++)n.update(Y[K],y.ARRAY_BUFFER)}}function A(L){const N=[],z=L.index,V=L.attributes.position;let Y=0;if(z!==null){const oe=z.array;Y=z.version;for(let se=0,le=oe.length;se<le;se+=3){const ye=oe[se+0],Me=oe[se+1],ze=oe[se+2];N.push(ye,Me,Me,ze,ze,ye)}}else{const oe=V.array;Y=V.version;for(let se=0,le=oe.length/3-1;se<le;se+=3){const ye=se+0,Me=se+1,ze=se+2;N.push(ye,Me,Me,ze,ze,ye)}}const K=new(Xx(N)?Hy:Vy)(N,1);K.version=Y;const $=m.get(L);$&&n.remove($),m.set(L,K)}function I(L){const N=m.get(L);if(N){const z=L.index;z!==null&&N.version<z.version&&A(L)}else A(L);return m.get(L)}return{get:S,update:T,getWireframeAttribute:I}}function RB(y,n,r,c){const d=c.isWebGL2;let m;function _(N){m=N}let S,T;function A(N){S=N.type,T=N.bytesPerElement}function I(N,z){y.drawElements(m,z,S,N*T),r.update(z,m,1)}function L(N,z,V){if(V===0)return;let Y,K;if(d)Y=y,K="drawElementsInstanced";else if(Y=n.get("ANGLE_instanced_arrays"),K="drawElementsInstancedANGLE",Y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}Y[K](m,z,S,N*T,V),r.update(z,m,V)}this.setMode=_,this.setIndex=A,this.render=I,this.renderInstances=L}function kB(y){const n={geometries:0,textures:0},r={frame:0,calls:0,triangles:0,points:0,lines:0};function c(m,_,S){switch(r.calls++,_){case y.TRIANGLES:r.triangles+=S*(m/3);break;case y.LINES:r.lines+=S*(m/2);break;case y.LINE_STRIP:r.lines+=S*(m-1);break;case y.LINE_LOOP:r.lines+=S*m;break;case y.POINTS:r.points+=S*m;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",_);break}}function d(){r.frame++,r.calls=0,r.triangles=0,r.points=0,r.lines=0}return{memory:n,render:r,programs:null,autoReset:!0,reset:d,update:c}}function PB(y,n){return y[0]-n[0]}function IB(y,n){return Math.abs(n[1])-Math.abs(y[1])}function LB(y,n,r){const c={},d=new Float32Array(8),m=new WeakMap,_=new Li,S=[];for(let A=0;A<8;A++)S[A]=[A,0];function T(A,I,L){const N=A.morphTargetInfluences;if(n.isWebGL2===!0){const V=I.morphAttributes.position||I.morphAttributes.normal||I.morphAttributes.color,Y=V!==void 0?V.length:0;let K=m.get(I);if(K===void 0||K.count!==Y){let wt=function(){ot.dispose(),m.delete(I),I.removeEventListener("dispose",wt)};var z=wt;K!==void 0&&K.texture.dispose();const se=I.morphAttributes.position!==void 0,le=I.morphAttributes.normal!==void 0,ye=I.morphAttributes.color!==void 0,Me=I.morphAttributes.position||[],ze=I.morphAttributes.normal||[],Ke=I.morphAttributes.color||[];let de=0;se===!0&&(de=1),le===!0&&(de=2),ye===!0&&(de=3);let ke=I.attributes.position.count*de,bt=1;ke>n.maxTextureSize&&(bt=Math.ceil(ke/n.maxTextureSize),ke=n.maxTextureSize);const St=new Float32Array(ke*bt*4*Y),ot=new Yp(St,ke,bt,Y);ot.type=st,ot.needsUpdate=!0;const mt=de*4;for(let $t=0;$t<Y;$t++){const Ot=Me[$t],Dt=ze[$t],Qt=Ke[$t],Gt=ke*bt*4*$t;for(let In=0;In<Ot.count;In++){const sn=In*mt;se===!0&&(_.fromBufferAttribute(Ot,In),St[Gt+sn+0]=_.x,St[Gt+sn+1]=_.y,St[Gt+sn+2]=_.z,St[Gt+sn+3]=0),le===!0&&(_.fromBufferAttribute(Dt,In),St[Gt+sn+4]=_.x,St[Gt+sn+5]=_.y,St[Gt+sn+6]=_.z,St[Gt+sn+7]=0),ye===!0&&(_.fromBufferAttribute(Qt,In),St[Gt+sn+8]=_.x,St[Gt+sn+9]=_.y,St[Gt+sn+10]=_.z,St[Gt+sn+11]=Qt.itemSize===4?_.w:1)}}K={count:Y,texture:ot,size:new Vt(ke,bt)},m.set(I,K),I.addEventListener("dispose",wt)}let $=0;for(let se=0;se<N.length;se++)$+=N[se];const oe=I.morphTargetsRelative?1:1-$;L.getUniforms().setValue(y,"morphTargetBaseInfluence",oe),L.getUniforms().setValue(y,"morphTargetInfluences",N),L.getUniforms().setValue(y,"morphTargetsTexture",K.texture,r),L.getUniforms().setValue(y,"morphTargetsTextureSize",K.size)}else{const V=N===void 0?0:N.length;let Y=c[I.id];if(Y===void 0||Y.length!==V){Y=[];for(let le=0;le<V;le++)Y[le]=[le,0];c[I.id]=Y}for(let le=0;le<V;le++){const ye=Y[le];ye[0]=le,ye[1]=N[le]}Y.sort(IB);for(let le=0;le<8;le++)le<V&&Y[le][1]?(S[le][0]=Y[le][0],S[le][1]=Y[le][1]):(S[le][0]=Number.MAX_SAFE_INTEGER,S[le][1]=0);S.sort(PB);const K=I.morphAttributes.position,$=I.morphAttributes.normal;let oe=0;for(let le=0;le<8;le++){const ye=S[le],Me=ye[0],ze=ye[1];Me!==Number.MAX_SAFE_INTEGER&&ze?(K&&I.getAttribute("morphTarget"+le)!==K[Me]&&I.setAttribute("morphTarget"+le,K[Me]),$&&I.getAttribute("morphNormal"+le)!==$[Me]&&I.setAttribute("morphNormal"+le,$[Me]),d[le]=ze,oe+=ze):(K&&I.hasAttribute("morphTarget"+le)===!0&&I.deleteAttribute("morphTarget"+le),$&&I.hasAttribute("morphNormal"+le)===!0&&I.deleteAttribute("morphNormal"+le),d[le]=0)}const se=I.morphTargetsRelative?1:1-oe;L.getUniforms().setValue(y,"morphTargetBaseInfluence",se),L.getUniforms().setValue(y,"morphTargetInfluences",d)}}return{update:T}}function NB(y,n,r,c){let d=new WeakMap;function m(T){const A=c.render.frame,I=T.geometry,L=n.get(T,I);return d.get(L)!==A&&(n.update(L),d.set(L,A)),T.isInstancedMesh&&(T.hasEventListener("dispose",S)===!1&&T.addEventListener("dispose",S),r.update(T.instanceMatrix,y.ARRAY_BUFFER),T.instanceColor!==null&&r.update(T.instanceColor,y.ARRAY_BUFFER)),L}function _(){d=new WeakMap}function S(T){const A=T.target;A.removeEventListener("dispose",S),r.remove(A.instanceMatrix),A.instanceColor!==null&&r.remove(A.instanceColor)}return{update:m,dispose:_}}const xM=new rs,MM=new Yp,EM=new ky,CM=new Tf,TM=[],AM=[],RM=new Float32Array(16),kM=new Float32Array(9),PM=new Float32Array(4);function Au(y,n,r){const c=y[0];if(c<=0||c>0)return y;const d=n*r;let m=TM[d];if(m===void 0&&(m=new Float32Array(d),TM[d]=m),n!==0){c.toArray(m,0);for(let _=1,S=0;_!==n;++_)S+=r,y[_].toArray(m,S)}return m}function ys(y,n){if(y.length!==n.length)return!1;for(let r=0,c=y.length;r<c;r++)if(y[r]!==n[r])return!1;return!0}function bs(y,n){for(let r=0,c=n.length;r<c;r++)y[r]=n[r]}function wm(y,n){let r=AM[n];r===void 0&&(r=new Int32Array(n),AM[n]=r);for(let c=0;c!==n;++c)r[c]=y.allocateTextureUnit();return r}function OB(y,n){const r=this.cache;r[0]!==n&&(y.uniform1f(this.addr,n),r[0]=n)}function DB(y,n){const r=this.cache;if(n.x!==void 0)(r[0]!==n.x||r[1]!==n.y)&&(y.uniform2f(this.addr,n.x,n.y),r[0]=n.x,r[1]=n.y);else{if(ys(r,n))return;y.uniform2fv(this.addr,n),bs(r,n)}}function FB(y,n){const r=this.cache;if(n.x!==void 0)(r[0]!==n.x||r[1]!==n.y||r[2]!==n.z)&&(y.uniform3f(this.addr,n.x,n.y,n.z),r[0]=n.x,r[1]=n.y,r[2]=n.z);else if(n.r!==void 0)(r[0]!==n.r||r[1]!==n.g||r[2]!==n.b)&&(y.uniform3f(this.addr,n.r,n.g,n.b),r[0]=n.r,r[1]=n.g,r[2]=n.b);else{if(ys(r,n))return;y.uniform3fv(this.addr,n),bs(r,n)}}function BB(y,n){const r=this.cache;if(n.x!==void 0)(r[0]!==n.x||r[1]!==n.y||r[2]!==n.z||r[3]!==n.w)&&(y.uniform4f(this.addr,n.x,n.y,n.z,n.w),r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=n.w);else{if(ys(r,n))return;y.uniform4fv(this.addr,n),bs(r,n)}}function zB(y,n){const r=this.cache,c=n.elements;if(c===void 0){if(ys(r,n))return;y.uniformMatrix2fv(this.addr,!1,n),bs(r,n)}else{if(ys(r,c))return;PM.set(c),y.uniformMatrix2fv(this.addr,!1,PM),bs(r,c)}}function $B(y,n){const r=this.cache,c=n.elements;if(c===void 0){if(ys(r,n))return;y.uniformMatrix3fv(this.addr,!1,n),bs(r,n)}else{if(ys(r,c))return;kM.set(c),y.uniformMatrix3fv(this.addr,!1,kM),bs(r,c)}}function UB(y,n){const r=this.cache,c=n.elements;if(c===void 0){if(ys(r,n))return;y.uniformMatrix4fv(this.addr,!1,n),bs(r,n)}else{if(ys(r,c))return;RM.set(c),y.uniformMatrix4fv(this.addr,!1,RM),bs(r,c)}}function VB(y,n){const r=this.cache;r[0]!==n&&(y.uniform1i(this.addr,n),r[0]=n)}function HB(y,n){const r=this.cache;if(n.x!==void 0)(r[0]!==n.x||r[1]!==n.y)&&(y.uniform2i(this.addr,n.x,n.y),r[0]=n.x,r[1]=n.y);else{if(ys(r,n))return;y.uniform2iv(this.addr,n),bs(r,n)}}function WB(y,n){const r=this.cache;if(n.x!==void 0)(r[0]!==n.x||r[1]!==n.y||r[2]!==n.z)&&(y.uniform3i(this.addr,n.x,n.y,n.z),r[0]=n.x,r[1]=n.y,r[2]=n.z);else{if(ys(r,n))return;y.uniform3iv(this.addr,n),bs(r,n)}}function GB(y,n){const r=this.cache;if(n.x!==void 0)(r[0]!==n.x||r[1]!==n.y||r[2]!==n.z||r[3]!==n.w)&&(y.uniform4i(this.addr,n.x,n.y,n.z,n.w),r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=n.w);else{if(ys(r,n))return;y.uniform4iv(this.addr,n),bs(r,n)}}function KB(y,n){const r=this.cache;r[0]!==n&&(y.uniform1ui(this.addr,n),r[0]=n)}function qB(y,n){const r=this.cache;if(n.x!==void 0)(r[0]!==n.x||r[1]!==n.y)&&(y.uniform2ui(this.addr,n.x,n.y),r[0]=n.x,r[1]=n.y);else{if(ys(r,n))return;y.uniform2uiv(this.addr,n),bs(r,n)}}function jB(y,n){const r=this.cache;if(n.x!==void 0)(r[0]!==n.x||r[1]!==n.y||r[2]!==n.z)&&(y.uniform3ui(this.addr,n.x,n.y,n.z),r[0]=n.x,r[1]=n.y,r[2]=n.z);else{if(ys(r,n))return;y.uniform3uiv(this.addr,n),bs(r,n)}}function XB(y,n){const r=this.cache;if(n.x!==void 0)(r[0]!==n.x||r[1]!==n.y||r[2]!==n.z||r[3]!==n.w)&&(y.uniform4ui(this.addr,n.x,n.y,n.z,n.w),r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=n.w);else{if(ys(r,n))return;y.uniform4uiv(this.addr,n),bs(r,n)}}function YB(y,n,r){const c=this.cache,d=r.allocateTextureUnit();c[0]!==d&&(y.uniform1i(this.addr,d),c[0]=d),r.setTexture2D(n||xM,d)}function ZB(y,n,r){const c=this.cache,d=r.allocateTextureUnit();c[0]!==d&&(y.uniform1i(this.addr,d),c[0]=d),r.setTexture3D(n||EM,d)}function JB(y,n,r){const c=this.cache,d=r.allocateTextureUnit();c[0]!==d&&(y.uniform1i(this.addr,d),c[0]=d),r.setTextureCube(n||CM,d)}function QB(y,n,r){const c=this.cache,d=r.allocateTextureUnit();c[0]!==d&&(y.uniform1i(this.addr,d),c[0]=d),r.setTexture2DArray(n||MM,d)}function ez(y){switch(y){case 5126:return OB;case 35664:return DB;case 35665:return FB;case 35666:return BB;case 35674:return zB;case 35675:return $B;case 35676:return UB;case 5124:case 35670:return VB;case 35667:case 35671:return HB;case 35668:case 35672:return WB;case 35669:case 35673:return GB;case 5125:return KB;case 36294:return qB;case 36295:return jB;case 36296:return XB;case 35678:case 36198:case 36298:case 36306:case 35682:return YB;case 35679:case 36299:case 36307:return ZB;case 35680:case 36300:case 36308:case 36293:return JB;case 36289:case 36303:case 36311:case 36292:return QB}}function tz(y,n){y.uniform1fv(this.addr,n)}function nz(y,n){const r=Au(n,this.size,2);y.uniform2fv(this.addr,r)}function iz(y,n){const r=Au(n,this.size,3);y.uniform3fv(this.addr,r)}function sz(y,n){const r=Au(n,this.size,4);y.uniform4fv(this.addr,r)}function rz(y,n){const r=Au(n,this.size,4);y.uniformMatrix2fv(this.addr,!1,r)}function oz(y,n){const r=Au(n,this.size,9);y.uniformMatrix3fv(this.addr,!1,r)}function az(y,n){const r=Au(n,this.size,16);y.uniformMatrix4fv(this.addr,!1,r)}function lz(y,n){y.uniform1iv(this.addr,n)}function cz(y,n){y.uniform2iv(this.addr,n)}function uz(y,n){y.uniform3iv(this.addr,n)}function dz(y,n){y.uniform4iv(this.addr,n)}function fz(y,n){y.uniform1uiv(this.addr,n)}function hz(y,n){y.uniform2uiv(this.addr,n)}function pz(y,n){y.uniform3uiv(this.addr,n)}function mz(y,n){y.uniform4uiv(this.addr,n)}function gz(y,n,r){const c=this.cache,d=n.length,m=wm(r,d);ys(c,m)||(y.uniform1iv(this.addr,m),bs(c,m));for(let _=0;_!==d;++_)r.setTexture2D(n[_]||xM,m[_])}function vz(y,n,r){const c=this.cache,d=n.length,m=wm(r,d);ys(c,m)||(y.uniform1iv(this.addr,m),bs(c,m));for(let _=0;_!==d;++_)r.setTexture3D(n[_]||EM,m[_])}function yz(y,n,r){const c=this.cache,d=n.length,m=wm(r,d);ys(c,m)||(y.uniform1iv(this.addr,m),bs(c,m));for(let _=0;_!==d;++_)r.setTextureCube(n[_]||CM,m[_])}function bz(y,n,r){const c=this.cache,d=n.length,m=wm(r,d);ys(c,m)||(y.uniform1iv(this.addr,m),bs(c,m));for(let _=0;_!==d;++_)r.setTexture2DArray(n[_]||MM,m[_])}function _z(y){switch(y){case 5126:return tz;case 35664:return nz;case 35665:return iz;case 35666:return sz;case 35674:return rz;case 35675:return oz;case 35676:return az;case 5124:case 35670:return lz;case 35667:case 35671:return cz;case 35668:case 35672:return uz;case 35669:case 35673:return dz;case 5125:return fz;case 36294:return hz;case 36295:return pz;case 36296:return mz;case 35678:case 36198:case 36298:case 36306:case 35682:return gz;case 35679:case 36299:case 36307:return vz;case 35680:case 36300:case 36308:case 36293:return yz;case 36289:case 36303:case 36311:case 36292:return bz}}class wz{constructor(n,r,c){this.id=n,this.addr=c,this.cache=[],this.setValue=ez(r.type)}}class Sz{constructor(n,r,c){this.id=n,this.addr=c,this.cache=[],this.size=r.size,this.setValue=_z(r.type)}}class xz{constructor(n){this.id=n,this.seq=[],this.map={}}setValue(n,r,c){const d=this.seq;for(let m=0,_=d.length;m!==_;++m){const S=d[m];S.setValue(n,r[S.id],c)}}}const Zy=/(\w+)(\])?(\[|\.)?/g;function IM(y,n){y.seq.push(n),y.map[n.id]=n}function Mz(y,n,r){const c=y.name,d=c.length;for(Zy.lastIndex=0;;){const m=Zy.exec(c),_=Zy.lastIndex;let S=m[1];const T=m[2]==="]",A=m[3];if(T&&(S=S|0),A===void 0||A==="["&&_+2===d){IM(r,A===void 0?new wz(S,y,n):new Sz(S,y,n));break}else{let L=r.map[S];L===void 0&&(L=new xz(S),IM(r,L)),r=L}}}class Sm{constructor(n,r){this.seq=[],this.map={};const c=n.getProgramParameter(r,n.ACTIVE_UNIFORMS);for(let d=0;d<c;++d){const m=n.getActiveUniform(r,d),_=n.getUniformLocation(r,m.name);Mz(m,_,this)}}setValue(n,r,c,d){const m=this.map[r];m!==void 0&&m.setValue(n,c,d)}setOptional(n,r,c){const d=r[c];d!==void 0&&this.setValue(n,c,d)}static upload(n,r,c,d){for(let m=0,_=r.length;m!==_;++m){const S=r[m],T=c[S.id];T.needsUpdate!==!1&&S.setValue(n,T.value,d)}}static seqWithValue(n,r){const c=[];for(let d=0,m=n.length;d!==m;++d){const _=n[d];_.id in r&&c.push(_)}return c}}function LM(y,n,r){const c=y.createShader(n);return y.shaderSource(c,r),y.compileShader(c),c}let Ez=0;function Cz(y,n){const r=y.split(`
`),c=[],d=Math.max(n-6,0),m=Math.min(n+6,r.length);for(let _=d;_<m;_++){const S=_+1;c.push(`${S===n?">":" "} ${S}: ${r[_]}`)}return c.join(`
`)}function Tz(y){switch(y){case oo:return["Linear","( value )"];case ci:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",y),["Linear","( value )"]}}function NM(y,n,r){const c=y.getShaderParameter(n,y.COMPILE_STATUS),d=y.getShaderInfoLog(n).trim();if(c&&d==="")return"";const m=/ERROR: 0:(\d+)/.exec(d);if(m){const _=parseInt(m[1]);return r.toUpperCase()+`

`+d+`

`+Cz(y.getShaderSource(n),_)}else return d}function Az(y,n){const r=Tz(n);return"vec4 "+y+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function Rz(y,n){let r;switch(n){case Ve:r="Linear";break;case Ye:r="Reinhard";break;case lt:r="OptimizedCineon";break;case He:r="ACESFilmic";break;case ct:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",n),r="Linear"}return"vec3 "+y+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function kz(y){return[y.extensionDerivatives||y.envMapCubeUVHeight||y.bumpMap||y.normalMapTangentSpace||y.clearcoatNormalMap||y.flatShading||y.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(y.extensionFragDepth||y.logarithmicDepthBuffer)&&y.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",y.extensionDrawBuffers&&y.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(y.extensionShaderTextureLOD||y.envMap||y.transmission)&&y.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Af).join(`
`)}function Pz(y){const n=[];for(const r in y){const c=y[r];c!==!1&&n.push("#define "+r+" "+c)}return n.join(`
`)}function Iz(y,n){const r={},c=y.getProgramParameter(n,y.ACTIVE_ATTRIBUTES);for(let d=0;d<c;d++){const m=y.getActiveAttrib(n,d),_=m.name;let S=1;m.type===y.FLOAT_MAT2&&(S=2),m.type===y.FLOAT_MAT3&&(S=3),m.type===y.FLOAT_MAT4&&(S=4),r[_]={type:m.type,location:y.getAttribLocation(n,_),locationSize:S}}return r}function Af(y){return y!==""}function OM(y,n){const r=n.numSpotLightShadows+n.numSpotLightMaps-n.numSpotLightShadowsWithMaps;return y.replace(/NUM_DIR_LIGHTS/g,n.numDirLights).replace(/NUM_SPOT_LIGHTS/g,n.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,n.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,r).replace(/NUM_RECT_AREA_LIGHTS/g,n.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,n.numPointLights).replace(/NUM_HEMI_LIGHTS/g,n.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,n.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,n.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,n.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,n.numPointLightShadows)}function DM(y,n){return y.replace(/NUM_CLIPPING_PLANES/g,n.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,n.numClippingPlanes-n.numClipIntersection)}const Lz=/^[ \t]*#include +<([\w\d./]+)>/gm;function Jy(y){return y.replace(Lz,Nz)}function Nz(y,n){const r=fi[n];if(r===void 0)throw new Error("Can not resolve #include <"+n+">");return Jy(r)}const Oz=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function FM(y){return y.replace(Oz,Dz)}function Dz(y,n,r,c){let d="";for(let m=parseInt(n);m<parseInt(r);m++)d+=c.replace(/\[\s*i\s*\]/g,"[ "+m+" ]").replace(/UNROLLED_LOOP_INDEX/g,m);return d}function BM(y){let n="precision "+y.precision+` float;
precision `+y.precision+" int;";return y.precision==="highp"?n+=`
#define HIGH_PRECISION`:y.precision==="mediump"?n+=`
#define MEDIUM_PRECISION`:y.precision==="lowp"&&(n+=`
#define LOW_PRECISION`),n}function Fz(y){let n="SHADOWMAP_TYPE_BASIC";return y.shadowMapType===p?n="SHADOWMAP_TYPE_PCF":y.shadowMapType===g?n="SHADOWMAP_TYPE_PCF_SOFT":y.shadowMapType===v&&(n="SHADOWMAP_TYPE_VSM"),n}function Bz(y){let n="ENVMAP_TYPE_CUBE";if(y.envMap)switch(y.envMapMode){case rt:case Je:n="ENVMAP_TYPE_CUBE";break;case We:n="ENVMAP_TYPE_CUBE_UV";break}return n}function zz(y){let n="ENVMAP_MODE_REFLECTION";if(y.envMap)switch(y.envMapMode){case Je:n="ENVMAP_MODE_REFRACTION";break}return n}function $z(y){let n="ENVMAP_BLENDING_NONE";if(y.envMap)switch(y.combine){case Ue:n="ENVMAP_BLENDING_MULTIPLY";break;case ut:n="ENVMAP_BLENDING_MIX";break;case ue:n="ENVMAP_BLENDING_ADD";break}return n}function Uz(y){const n=y.envMapCubeUVHeight;if(n===null)return null;const r=Math.log2(n)-2,c=1/n;return{texelWidth:1/(3*Math.max(Math.pow(2,r),7*16)),texelHeight:c,maxMip:r}}function Vz(y,n,r,c){const d=y.getContext(),m=r.defines;let _=r.vertexShader,S=r.fragmentShader;const T=Fz(r),A=Bz(r),I=zz(r),L=$z(r),N=Uz(r),z=r.isWebGL2?"":kz(r),V=Pz(m),Y=d.createProgram();let K,$,oe=r.glslVersion?"#version "+r.glslVersion+`
`:"";r.isRawShaderMaterial?(K=[V].filter(Af).join(`
`),K.length>0&&(K+=`
`),$=[z,V].filter(Af).join(`
`),$.length>0&&($+=`
`)):(K=[BM(r),"#define SHADER_NAME "+r.shaderName,V,r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+I:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",r.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",r.displacementMap?"#define USE_DISPLACEMENTMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",r.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",r.mapUv?"#define MAP_UV "+r.mapUv:"",r.alphaMapUv?"#define ALPHAMAP_UV "+r.alphaMapUv:"",r.lightMapUv?"#define LIGHTMAP_UV "+r.lightMapUv:"",r.aoMapUv?"#define AOMAP_UV "+r.aoMapUv:"",r.emissiveMapUv?"#define EMISSIVEMAP_UV "+r.emissiveMapUv:"",r.bumpMapUv?"#define BUMPMAP_UV "+r.bumpMapUv:"",r.normalMapUv?"#define NORMALMAP_UV "+r.normalMapUv:"",r.displacementMapUv?"#define DISPLACEMENTMAP_UV "+r.displacementMapUv:"",r.metalnessMapUv?"#define METALNESSMAP_UV "+r.metalnessMapUv:"",r.roughnessMapUv?"#define ROUGHNESSMAP_UV "+r.roughnessMapUv:"",r.clearcoatMapUv?"#define CLEARCOATMAP_UV "+r.clearcoatMapUv:"",r.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+r.clearcoatNormalMapUv:"",r.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+r.clearcoatRoughnessMapUv:"",r.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+r.iridescenceMapUv:"",r.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+r.iridescenceThicknessMapUv:"",r.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+r.sheenColorMapUv:"",r.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+r.sheenRoughnessMapUv:"",r.specularMapUv?"#define SPECULARMAP_UV "+r.specularMapUv:"",r.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+r.specularColorMapUv:"",r.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+r.specularIntensityMapUv:"",r.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+r.transmissionMapUv:"",r.thicknessMapUv?"#define THICKNESSMAP_UV "+r.thicknessMapUv:"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUv1s?"#define USE_UV1":"",r.vertexUv2s?"#define USE_UV2":"",r.vertexUv3s?"#define USE_UV3":"",r.pointsUvs?"#define USE_POINTS_UV":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===!1?"#define USE_MORPHNORMALS":"",r.morphColors&&r.isWebGL2?"#define USE_MORPHCOLORS":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+r.morphTextureStride:"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+T:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Af).join(`
`),$=[z,BM(r),"#define SHADER_NAME "+r.shaderName,V,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+A:"",r.envMap?"#define "+I:"",r.envMap?"#define "+L:"",N?"#define CUBEUV_TEXEL_WIDTH "+N.texelWidth:"",N?"#define CUBEUV_TEXEL_HEIGHT "+N.texelHeight:"",N?"#define CUBEUV_MAX_MIP "+N.maxMip+".0":"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",r.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescence?"#define USE_IRIDESCENCE":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",r.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUv1s?"#define USE_UV1":"",r.vertexUv2s?"#define USE_UV2":"",r.vertexUv3s?"#define USE_UV3":"",r.pointsUvs?"#define USE_POINTS_UV":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+T:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.useLegacyLights?"#define LEGACY_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==we?"#define TONE_MAPPING":"",r.toneMapping!==we?fi.tonemapping_pars_fragment:"",r.toneMapping!==we?Rz("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.opaque?"#define OPAQUE":"",fi.encodings_pars_fragment,Az("linearToOutputTexel",r.outputColorSpace),r.useDepthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",`
`].filter(Af).join(`
`)),_=Jy(_),_=OM(_,r),_=DM(_,r),S=Jy(S),S=OM(S,r),S=DM(S,r),_=FM(_),S=FM(S),r.isWebGL2&&r.isRawShaderMaterial!==!0&&(oe=`#version 300 es
`,K=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+K,$=["#define varying in",r.glslVersion===xy?"":"layout(location = 0) out highp vec4 pc_fragColor;",r.glslVersion===xy?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+$);const se=oe+K+_,le=oe+$+S,ye=LM(d,d.VERTEX_SHADER,se),Me=LM(d,d.FRAGMENT_SHADER,le);if(d.attachShader(Y,ye),d.attachShader(Y,Me),r.index0AttributeName!==void 0?d.bindAttribLocation(Y,0,r.index0AttributeName):r.morphTargets===!0&&d.bindAttribLocation(Y,0,"position"),d.linkProgram(Y),y.debug.checkShaderErrors){const de=d.getProgramInfoLog(Y).trim(),ke=d.getShaderInfoLog(ye).trim(),bt=d.getShaderInfoLog(Me).trim();let St=!0,ot=!0;if(d.getProgramParameter(Y,d.LINK_STATUS)===!1)if(St=!1,typeof y.debug.onShaderError=="function")y.debug.onShaderError(d,Y,ye,Me);else{const mt=NM(d,ye,"vertex"),wt=NM(d,Me,"fragment");console.error("THREE.WebGLProgram: Shader Error "+d.getError()+" - VALIDATE_STATUS "+d.getProgramParameter(Y,d.VALIDATE_STATUS)+`

Program Info Log: `+de+`
`+mt+`
`+wt)}else de!==""?console.warn("THREE.WebGLProgram: Program Info Log:",de):(ke===""||bt==="")&&(ot=!1);ot&&(this.diagnostics={runnable:St,programLog:de,vertexShader:{log:ke,prefix:K},fragmentShader:{log:bt,prefix:$}})}d.deleteShader(ye),d.deleteShader(Me);let ze;this.getUniforms=function(){return ze===void 0&&(ze=new Sm(d,Y)),ze};let Ke;return this.getAttributes=function(){return Ke===void 0&&(Ke=Iz(d,Y)),Ke},this.destroy=function(){c.releaseStatesOfProgram(this),d.deleteProgram(Y),this.program=void 0},this.name=r.shaderName,this.id=Ez++,this.cacheKey=n,this.usedTimes=1,this.program=Y,this.vertexShader=ye,this.fragmentShader=Me,this}let Hz=0;class Wz{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(n){const r=n.vertexShader,c=n.fragmentShader,d=this._getShaderStage(r),m=this._getShaderStage(c),_=this._getShaderCacheForMaterial(n);return _.has(d)===!1&&(_.add(d),d.usedTimes++),_.has(m)===!1&&(_.add(m),m.usedTimes++),this}remove(n){const r=this.materialCache.get(n);for(const c of r)c.usedTimes--,c.usedTimes===0&&this.shaderCache.delete(c.code);return this.materialCache.delete(n),this}getVertexShaderID(n){return this._getShaderStage(n.vertexShader).id}getFragmentShaderID(n){return this._getShaderStage(n.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(n){const r=this.materialCache;let c=r.get(n);return c===void 0&&(c=new Set,r.set(n,c)),c}_getShaderStage(n){const r=this.shaderCache;let c=r.get(n);return c===void 0&&(c=new Gz(n),r.set(n,c)),c}}class Gz{constructor(n){this.id=Hz++,this.code=n,this.usedTimes=0}}function Kz(y,n,r,c,d,m,_){const S=new nm,T=new Wz,A=[],I=d.isWebGL2,L=d.logarithmicDepthBuffer,N=d.vertexTextures;let z=d.precision;const V={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function Y(de){return de===1?"uv1":de===2?"uv2":de===3?"uv3":"uv"}function K(de,ke,bt,St,ot){const mt=St.fog,wt=ot.geometry,$t=de.isMeshStandardMaterial?St.environment:null,Ot=(de.isMeshStandardMaterial?r:n).get(de.envMap||$t),Dt=Ot&&Ot.mapping===We?Ot.image.height:null,Qt=V[de.type];de.precision!==null&&(z=d.getMaxPrecision(de.precision),z!==de.precision&&console.warn("THREE.WebGLProgram.getParameters:",de.precision,"not supported, using",z,"instead."));const Gt=wt.morphAttributes.position||wt.morphAttributes.normal||wt.morphAttributes.color,In=Gt!==void 0?Gt.length:0;let sn=0;wt.morphAttributes.position!==void 0&&(sn=1),wt.morphAttributes.normal!==void 0&&(sn=2),wt.morphAttributes.color!==void 0&&(sn=3);let Et,Ht,dn,mn;if(Qt){const Gi=fo[Qt];Et=Gi.vertexShader,Ht=Gi.fragmentShader}else Et=de.vertexShader,Ht=de.fragmentShader,T.update(de),dn=T.getVertexShaderID(de),mn=T.getFragmentShaderID(de);const je=y.getRenderTarget(),Qn=ot.isInstancedMesh===!0,ni=!!de.map,nn=!!de.matcap,Fn=!!Ot,qt=!!de.aoMap,kt=!!de.lightMap,jt=!!de.bumpMap,Mn=!!de.normalMap,hn=!!de.displacementMap,Kn=!!de.emissiveMap,qn=!!de.metalnessMap,Vn=!!de.roughnessMap,gi=de.clearcoat>0,Ri=de.iridescence>0,Ne=de.sheen>0,be=de.transmission>0,gt=gi&&!!de.clearcoatMap,Zt=gi&&!!de.clearcoatNormalMap,en=gi&&!!de.clearcoatRoughnessMap,pn=Ri&&!!de.iridescenceMap,Zn=Ri&&!!de.iridescenceThicknessMap,Sn=Ne&&!!de.sheenColorMap,Rt=Ne&&!!de.sheenRoughnessMap,Ln=!!de.specularMap,Hn=!!de.specularColorMap,jn=!!de.specularIntensityMap,En=be&&!!de.transmissionMap,$n=be&&!!de.thicknessMap,xi=!!de.gradientMap,Bi=!!de.alphaMap,as=de.alphaTest>0,Ze=!!de.extensions,Tt=!!wt.attributes.uv1,Jt=!!wt.attributes.uv2,yn=!!wt.attributes.uv3;return{isWebGL2:I,shaderID:Qt,shaderName:de.type,vertexShader:Et,fragmentShader:Ht,defines:de.defines,customVertexShaderID:dn,customFragmentShaderID:mn,isRawShaderMaterial:de.isRawShaderMaterial===!0,glslVersion:de.glslVersion,precision:z,instancing:Qn,instancingColor:Qn&&ot.instanceColor!==null,supportsVertexTextures:N,outputColorSpace:je===null?y.outputColorSpace:je.isXRRenderTarget===!0?je.texture.colorSpace:oo,map:ni,matcap:nn,envMap:Fn,envMapMode:Fn&&Ot.mapping,envMapCubeUVHeight:Dt,aoMap:qt,lightMap:kt,bumpMap:jt,normalMap:Mn,displacementMap:N&&hn,emissiveMap:Kn,normalMapObjectSpace:Mn&&de.normalMapType===Wx,normalMapTangentSpace:Mn&&de.normalMapType===Ja,metalnessMap:qn,roughnessMap:Vn,clearcoat:gi,clearcoatMap:gt,clearcoatNormalMap:Zt,clearcoatRoughnessMap:en,iridescence:Ri,iridescenceMap:pn,iridescenceThicknessMap:Zn,sheen:Ne,sheenColorMap:Sn,sheenRoughnessMap:Rt,specularMap:Ln,specularColorMap:Hn,specularIntensityMap:jn,transmission:be,transmissionMap:En,thicknessMap:$n,gradientMap:xi,opaque:de.transparent===!1&&de.blending===C,alphaMap:Bi,alphaTest:as,combine:de.combine,mapUv:ni&&Y(de.map.channel),aoMapUv:qt&&Y(de.aoMap.channel),lightMapUv:kt&&Y(de.lightMap.channel),bumpMapUv:jt&&Y(de.bumpMap.channel),normalMapUv:Mn&&Y(de.normalMap.channel),displacementMapUv:hn&&Y(de.displacementMap.channel),emissiveMapUv:Kn&&Y(de.emissiveMap.channel),metalnessMapUv:qn&&Y(de.metalnessMap.channel),roughnessMapUv:Vn&&Y(de.roughnessMap.channel),clearcoatMapUv:gt&&Y(de.clearcoatMap.channel),clearcoatNormalMapUv:Zt&&Y(de.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:en&&Y(de.clearcoatRoughnessMap.channel),iridescenceMapUv:pn&&Y(de.iridescenceMap.channel),iridescenceThicknessMapUv:Zn&&Y(de.iridescenceThicknessMap.channel),sheenColorMapUv:Sn&&Y(de.sheenColorMap.channel),sheenRoughnessMapUv:Rt&&Y(de.sheenRoughnessMap.channel),specularMapUv:Ln&&Y(de.specularMap.channel),specularColorMapUv:Hn&&Y(de.specularColorMap.channel),specularIntensityMapUv:jn&&Y(de.specularIntensityMap.channel),transmissionMapUv:En&&Y(de.transmissionMap.channel),thicknessMapUv:$n&&Y(de.thicknessMap.channel),alphaMapUv:Bi&&Y(de.alphaMap.channel),vertexTangents:Mn&&!!wt.attributes.tangent,vertexColors:de.vertexColors,vertexAlphas:de.vertexColors===!0&&!!wt.attributes.color&&wt.attributes.color.itemSize===4,vertexUv1s:Tt,vertexUv2s:Jt,vertexUv3s:yn,pointsUvs:ot.isPoints===!0&&!!wt.attributes.uv&&(ni||Bi),fog:!!mt,useFog:de.fog===!0,fogExp2:mt&&mt.isFogExp2,flatShading:de.flatShading===!0,sizeAttenuation:de.sizeAttenuation===!0,logarithmicDepthBuffer:L,skinning:ot.isSkinnedMesh===!0,morphTargets:wt.morphAttributes.position!==void 0,morphNormals:wt.morphAttributes.normal!==void 0,morphColors:wt.morphAttributes.color!==void 0,morphTargetsCount:In,morphTextureStride:sn,numDirLights:ke.directional.length,numPointLights:ke.point.length,numSpotLights:ke.spot.length,numSpotLightMaps:ke.spotLightMap.length,numRectAreaLights:ke.rectArea.length,numHemiLights:ke.hemi.length,numDirLightShadows:ke.directionalShadowMap.length,numPointLightShadows:ke.pointShadowMap.length,numSpotLightShadows:ke.spotShadowMap.length,numSpotLightShadowsWithMaps:ke.numSpotLightShadowsWithMaps,numClippingPlanes:_.numPlanes,numClipIntersection:_.numIntersection,dithering:de.dithering,shadowMapEnabled:y.shadowMap.enabled&&bt.length>0,shadowMapType:y.shadowMap.type,toneMapping:de.toneMapped?y.toneMapping:we,useLegacyLights:y.useLegacyLights,premultipliedAlpha:de.premultipliedAlpha,doubleSided:de.side===M,flipSided:de.side===w,useDepthPacking:de.depthPacking>=0,depthPacking:de.depthPacking||0,index0AttributeName:de.index0AttributeName,extensionDerivatives:Ze&&de.extensions.derivatives===!0,extensionFragDepth:Ze&&de.extensions.fragDepth===!0,extensionDrawBuffers:Ze&&de.extensions.drawBuffers===!0,extensionShaderTextureLOD:Ze&&de.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:I||c.has("EXT_frag_depth"),rendererExtensionDrawBuffers:I||c.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:I||c.has("EXT_shader_texture_lod"),customProgramCacheKey:de.customProgramCacheKey()}}function $(de){const ke=[];if(de.shaderID?ke.push(de.shaderID):(ke.push(de.customVertexShaderID),ke.push(de.customFragmentShaderID)),de.defines!==void 0)for(const bt in de.defines)ke.push(bt),ke.push(de.defines[bt]);return de.isRawShaderMaterial===!1&&(oe(ke,de),se(ke,de),ke.push(y.outputColorSpace)),ke.push(de.customProgramCacheKey),ke.join()}function oe(de,ke){de.push(ke.precision),de.push(ke.outputColorSpace),de.push(ke.envMapMode),de.push(ke.envMapCubeUVHeight),de.push(ke.mapUv),de.push(ke.alphaMapUv),de.push(ke.lightMapUv),de.push(ke.aoMapUv),de.push(ke.bumpMapUv),de.push(ke.normalMapUv),de.push(ke.displacementMapUv),de.push(ke.emissiveMapUv),de.push(ke.metalnessMapUv),de.push(ke.roughnessMapUv),de.push(ke.clearcoatMapUv),de.push(ke.clearcoatNormalMapUv),de.push(ke.clearcoatRoughnessMapUv),de.push(ke.iridescenceMapUv),de.push(ke.iridescenceThicknessMapUv),de.push(ke.sheenColorMapUv),de.push(ke.sheenRoughnessMapUv),de.push(ke.specularMapUv),de.push(ke.specularColorMapUv),de.push(ke.specularIntensityMapUv),de.push(ke.transmissionMapUv),de.push(ke.thicknessMapUv),de.push(ke.combine),de.push(ke.fogExp2),de.push(ke.sizeAttenuation),de.push(ke.morphTargetsCount),de.push(ke.morphAttributeCount),de.push(ke.numDirLights),de.push(ke.numPointLights),de.push(ke.numSpotLights),de.push(ke.numSpotLightMaps),de.push(ke.numHemiLights),de.push(ke.numRectAreaLights),de.push(ke.numDirLightShadows),de.push(ke.numPointLightShadows),de.push(ke.numSpotLightShadows),de.push(ke.numSpotLightShadowsWithMaps),de.push(ke.shadowMapType),de.push(ke.toneMapping),de.push(ke.numClippingPlanes),de.push(ke.numClipIntersection),de.push(ke.depthPacking)}function se(de,ke){S.disableAll(),ke.isWebGL2&&S.enable(0),ke.supportsVertexTextures&&S.enable(1),ke.instancing&&S.enable(2),ke.instancingColor&&S.enable(3),ke.matcap&&S.enable(4),ke.envMap&&S.enable(5),ke.normalMapObjectSpace&&S.enable(6),ke.normalMapTangentSpace&&S.enable(7),ke.clearcoat&&S.enable(8),ke.iridescence&&S.enable(9),ke.alphaTest&&S.enable(10),ke.vertexColors&&S.enable(11),ke.vertexAlphas&&S.enable(12),ke.vertexUv1s&&S.enable(13),ke.vertexUv2s&&S.enable(14),ke.vertexUv3s&&S.enable(15),ke.vertexTangents&&S.enable(16),de.push(S.mask),S.disableAll(),ke.fog&&S.enable(0),ke.useFog&&S.enable(1),ke.flatShading&&S.enable(2),ke.logarithmicDepthBuffer&&S.enable(3),ke.skinning&&S.enable(4),ke.morphTargets&&S.enable(5),ke.morphNormals&&S.enable(6),ke.morphColors&&S.enable(7),ke.premultipliedAlpha&&S.enable(8),ke.shadowMapEnabled&&S.enable(9),ke.useLegacyLights&&S.enable(10),ke.doubleSided&&S.enable(11),ke.flipSided&&S.enable(12),ke.useDepthPacking&&S.enable(13),ke.dithering&&S.enable(14),ke.transmission&&S.enable(15),ke.sheen&&S.enable(16),ke.opaque&&S.enable(17),ke.pointsUvs&&S.enable(18),de.push(S.mask)}function le(de){const ke=V[de.type];let bt;if(ke){const St=fo[ke];bt=hM.clone(St.uniforms)}else bt=de.uniforms;return bt}function ye(de,ke){let bt;for(let St=0,ot=A.length;St<ot;St++){const mt=A[St];if(mt.cacheKey===ke){bt=mt,++bt.usedTimes;break}}return bt===void 0&&(bt=new Vz(y,ke,de,m),A.push(bt)),bt}function Me(de){if(--de.usedTimes===0){const ke=A.indexOf(de);A[ke]=A[A.length-1],A.pop(),de.destroy()}}function ze(de){T.remove(de)}function Ke(){T.dispose()}return{getParameters:K,getProgramCacheKey:$,getUniforms:le,acquireProgram:ye,releaseProgram:Me,releaseShaderCache:ze,programs:A,dispose:Ke}}function qz(){let y=new WeakMap;function n(m){let _=y.get(m);return _===void 0&&(_={},y.set(m,_)),_}function r(m){y.delete(m)}function c(m,_,S){y.get(m)[_]=S}function d(){y=new WeakMap}return{get:n,remove:r,update:c,dispose:d}}function jz(y,n){return y.groupOrder!==n.groupOrder?y.groupOrder-n.groupOrder:y.renderOrder!==n.renderOrder?y.renderOrder-n.renderOrder:y.material.id!==n.material.id?y.material.id-n.material.id:y.z!==n.z?y.z-n.z:y.id-n.id}function zM(y,n){return y.groupOrder!==n.groupOrder?y.groupOrder-n.groupOrder:y.renderOrder!==n.renderOrder?y.renderOrder-n.renderOrder:y.z!==n.z?n.z-y.z:y.id-n.id}function $M(){const y=[];let n=0;const r=[],c=[],d=[];function m(){n=0,r.length=0,c.length=0,d.length=0}function _(L,N,z,V,Y,K){let $=y[n];return $===void 0?($={id:L.id,object:L,geometry:N,material:z,groupOrder:V,renderOrder:L.renderOrder,z:Y,group:K},y[n]=$):($.id=L.id,$.object=L,$.geometry=N,$.material=z,$.groupOrder=V,$.renderOrder=L.renderOrder,$.z=Y,$.group=K),n++,$}function S(L,N,z,V,Y,K){const $=_(L,N,z,V,Y,K);z.transmission>0?c.push($):z.transparent===!0?d.push($):r.push($)}function T(L,N,z,V,Y,K){const $=_(L,N,z,V,Y,K);z.transmission>0?c.unshift($):z.transparent===!0?d.unshift($):r.unshift($)}function A(L,N){r.length>1&&r.sort(L||jz),c.length>1&&c.sort(N||zM),d.length>1&&d.sort(N||zM)}function I(){for(let L=n,N=y.length;L<N;L++){const z=y[L];if(z.id===null)break;z.id=null,z.object=null,z.geometry=null,z.material=null,z.group=null}}return{opaque:r,transmissive:c,transparent:d,init:m,push:S,unshift:T,finish:I,sort:A}}function Xz(){let y=new WeakMap;function n(c,d){const m=y.get(c);let _;return m===void 0?(_=new $M,y.set(c,[_])):d>=m.length?(_=new $M,m.push(_)):_=m[d],_}function r(){y=new WeakMap}return{get:n,dispose:r}}function Yz(){const y={};return{get:function(n){if(y[n.id]!==void 0)return y[n.id];let r;switch(n.type){case"DirectionalLight":r={direction:new Re,color:new vn};break;case"SpotLight":r={position:new Re,direction:new Re,color:new vn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new Re,color:new vn,distance:0,decay:0};break;case"HemisphereLight":r={direction:new Re,skyColor:new vn,groundColor:new vn};break;case"RectAreaLight":r={color:new vn,position:new Re,halfWidth:new Re,halfHeight:new Re};break}return y[n.id]=r,r}}}function Zz(){const y={};return{get:function(n){if(y[n.id]!==void 0)return y[n.id];let r;switch(n.type){case"DirectionalLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vt};break;case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vt};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vt,shadowCameraNear:1,shadowCameraFar:1e3};break}return y[n.id]=r,r}}}let Jz=0;function Qz(y,n){return(n.castShadow?2:0)-(y.castShadow?2:0)+(n.map?1:0)-(y.map?1:0)}function e$(y,n){const r=new Yz,c=Zz(),d={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let I=0;I<9;I++)d.probe.push(new Re);const m=new Re,_=new li,S=new li;function T(I,L){let N=0,z=0,V=0;for(let bt=0;bt<9;bt++)d.probe[bt].set(0,0,0);let Y=0,K=0,$=0,oe=0,se=0,le=0,ye=0,Me=0,ze=0,Ke=0;I.sort(Qz);const de=L===!0?Math.PI:1;for(let bt=0,St=I.length;bt<St;bt++){const ot=I[bt],mt=ot.color,wt=ot.intensity,$t=ot.distance,Ot=ot.shadow&&ot.shadow.map?ot.shadow.map.texture:null;if(ot.isAmbientLight)N+=mt.r*wt*de,z+=mt.g*wt*de,V+=mt.b*wt*de;else if(ot.isLightProbe)for(let Dt=0;Dt<9;Dt++)d.probe[Dt].addScaledVector(ot.sh.coefficients[Dt],wt);else if(ot.isDirectionalLight){const Dt=r.get(ot);if(Dt.color.copy(ot.color).multiplyScalar(ot.intensity*de),ot.castShadow){const Qt=ot.shadow,Gt=c.get(ot);Gt.shadowBias=Qt.bias,Gt.shadowNormalBias=Qt.normalBias,Gt.shadowRadius=Qt.radius,Gt.shadowMapSize=Qt.mapSize,d.directionalShadow[Y]=Gt,d.directionalShadowMap[Y]=Ot,d.directionalShadowMatrix[Y]=ot.shadow.matrix,le++}d.directional[Y]=Dt,Y++}else if(ot.isSpotLight){const Dt=r.get(ot);Dt.position.setFromMatrixPosition(ot.matrixWorld),Dt.color.copy(mt).multiplyScalar(wt*de),Dt.distance=$t,Dt.coneCos=Math.cos(ot.angle),Dt.penumbraCos=Math.cos(ot.angle*(1-ot.penumbra)),Dt.decay=ot.decay,d.spot[$]=Dt;const Qt=ot.shadow;if(ot.map&&(d.spotLightMap[ze]=ot.map,ze++,Qt.updateMatrices(ot),ot.castShadow&&Ke++),d.spotLightMatrix[$]=Qt.matrix,ot.castShadow){const Gt=c.get(ot);Gt.shadowBias=Qt.bias,Gt.shadowNormalBias=Qt.normalBias,Gt.shadowRadius=Qt.radius,Gt.shadowMapSize=Qt.mapSize,d.spotShadow[$]=Gt,d.spotShadowMap[$]=Ot,Me++}$++}else if(ot.isRectAreaLight){const Dt=r.get(ot);Dt.color.copy(mt).multiplyScalar(wt),Dt.halfWidth.set(ot.width*.5,0,0),Dt.halfHeight.set(0,ot.height*.5,0),d.rectArea[oe]=Dt,oe++}else if(ot.isPointLight){const Dt=r.get(ot);if(Dt.color.copy(ot.color).multiplyScalar(ot.intensity*de),Dt.distance=ot.distance,Dt.decay=ot.decay,ot.castShadow){const Qt=ot.shadow,Gt=c.get(ot);Gt.shadowBias=Qt.bias,Gt.shadowNormalBias=Qt.normalBias,Gt.shadowRadius=Qt.radius,Gt.shadowMapSize=Qt.mapSize,Gt.shadowCameraNear=Qt.camera.near,Gt.shadowCameraFar=Qt.camera.far,d.pointShadow[K]=Gt,d.pointShadowMap[K]=Ot,d.pointShadowMatrix[K]=ot.shadow.matrix,ye++}d.point[K]=Dt,K++}else if(ot.isHemisphereLight){const Dt=r.get(ot);Dt.skyColor.copy(ot.color).multiplyScalar(wt*de),Dt.groundColor.copy(ot.groundColor).multiplyScalar(wt*de),d.hemi[se]=Dt,se++}}oe>0&&(n.isWebGL2||y.has("OES_texture_float_linear")===!0?(d.rectAreaLTC1=ln.LTC_FLOAT_1,d.rectAreaLTC2=ln.LTC_FLOAT_2):y.has("OES_texture_half_float_linear")===!0?(d.rectAreaLTC1=ln.LTC_HALF_1,d.rectAreaLTC2=ln.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),d.ambient[0]=N,d.ambient[1]=z,d.ambient[2]=V;const ke=d.hash;(ke.directionalLength!==Y||ke.pointLength!==K||ke.spotLength!==$||ke.rectAreaLength!==oe||ke.hemiLength!==se||ke.numDirectionalShadows!==le||ke.numPointShadows!==ye||ke.numSpotShadows!==Me||ke.numSpotMaps!==ze)&&(d.directional.length=Y,d.spot.length=$,d.rectArea.length=oe,d.point.length=K,d.hemi.length=se,d.directionalShadow.length=le,d.directionalShadowMap.length=le,d.pointShadow.length=ye,d.pointShadowMap.length=ye,d.spotShadow.length=Me,d.spotShadowMap.length=Me,d.directionalShadowMatrix.length=le,d.pointShadowMatrix.length=ye,d.spotLightMatrix.length=Me+ze-Ke,d.spotLightMap.length=ze,d.numSpotLightShadowsWithMaps=Ke,ke.directionalLength=Y,ke.pointLength=K,ke.spotLength=$,ke.rectAreaLength=oe,ke.hemiLength=se,ke.numDirectionalShadows=le,ke.numPointShadows=ye,ke.numSpotShadows=Me,ke.numSpotMaps=ze,d.version=Jz++)}function A(I,L){let N=0,z=0,V=0,Y=0,K=0;const $=L.matrixWorldInverse;for(let oe=0,se=I.length;oe<se;oe++){const le=I[oe];if(le.isDirectionalLight){const ye=d.directional[N];ye.direction.setFromMatrixPosition(le.matrixWorld),m.setFromMatrixPosition(le.target.matrixWorld),ye.direction.sub(m),ye.direction.transformDirection($),N++}else if(le.isSpotLight){const ye=d.spot[V];ye.position.setFromMatrixPosition(le.matrixWorld),ye.position.applyMatrix4($),ye.direction.setFromMatrixPosition(le.matrixWorld),m.setFromMatrixPosition(le.target.matrixWorld),ye.direction.sub(m),ye.direction.transformDirection($),V++}else if(le.isRectAreaLight){const ye=d.rectArea[Y];ye.position.setFromMatrixPosition(le.matrixWorld),ye.position.applyMatrix4($),S.identity(),_.copy(le.matrixWorld),_.premultiply($),S.extractRotation(_),ye.halfWidth.set(le.width*.5,0,0),ye.halfHeight.set(0,le.height*.5,0),ye.halfWidth.applyMatrix4(S),ye.halfHeight.applyMatrix4(S),Y++}else if(le.isPointLight){const ye=d.point[z];ye.position.setFromMatrixPosition(le.matrixWorld),ye.position.applyMatrix4($),z++}else if(le.isHemisphereLight){const ye=d.hemi[K];ye.direction.setFromMatrixPosition(le.matrixWorld),ye.direction.transformDirection($),K++}}}return{setup:T,setupView:A,state:d}}function UM(y,n){const r=new e$(y,n),c=[],d=[];function m(){c.length=0,d.length=0}function _(L){c.push(L)}function S(L){d.push(L)}function T(L){r.setup(c,L)}function A(L){r.setupView(c,L)}return{init:m,state:{lightsArray:c,shadowsArray:d,lights:r},setupLights:T,setupLightsView:A,pushLight:_,pushShadow:S}}function t$(y,n){let r=new WeakMap;function c(m,_=0){const S=r.get(m);let T;return S===void 0?(T=new UM(y,n),r.set(m,[T])):_>=S.length?(T=new UM(y,n),S.push(T)):T=S[_],T}function d(){r=new WeakMap}return{get:c,dispose:d}}class Qy extends Bs{constructor(n){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Vx,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(n)}copy(n){return super.copy(n),this.depthPacking=n.depthPacking,this.map=n.map,this.alphaMap=n.alphaMap,this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this}}class eb extends Bs{constructor(n){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(n)}copy(n){return super.copy(n),this.map=n.map,this.alphaMap=n.alphaMap,this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this}}const n$=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,i$=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function s$(y,n,r){let c=new vm;const d=new Vt,m=new Vt,_=new Li,S=new Qy({depthPacking:Hx}),T=new eb,A={},I=r.maxTextureSize,L={[b]:w,[w]:b,[M]:M},N=new Uo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vt},radius:{value:4}},vertexShader:n$,fragmentShader:i$}),z=N.clone();z.defines.HORIZONTAL_PASS=1;const V=new pi;V.setAttribute("position",new Wi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const Y=new ks(V,N),K=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=p;let $=this.type;this.render=function(ye,Me,ze){if(K.enabled===!1||K.autoUpdate===!1&&K.needsUpdate===!1||ye.length===0)return;const Ke=y.getRenderTarget(),de=y.getActiveCubeFace(),ke=y.getActiveMipmapLevel(),bt=y.state;bt.setBlending(E),bt.buffers.color.setClear(1,1,1,1),bt.buffers.depth.setTest(!0),bt.setScissorTest(!1);const St=$!==v&&this.type===v,ot=$===v&&this.type!==v;for(let mt=0,wt=ye.length;mt<wt;mt++){const $t=ye[mt],Ot=$t.shadow;if(Ot===void 0){console.warn("THREE.WebGLShadowMap:",$t,"has no shadow.");continue}if(Ot.autoUpdate===!1&&Ot.needsUpdate===!1)continue;d.copy(Ot.mapSize);const Dt=Ot.getFrameExtents();if(d.multiply(Dt),m.copy(Ot.mapSize),(d.x>I||d.y>I)&&(d.x>I&&(m.x=Math.floor(I/Dt.x),d.x=m.x*Dt.x,Ot.mapSize.x=m.x),d.y>I&&(m.y=Math.floor(I/Dt.y),d.y=m.y*Dt.y,Ot.mapSize.y=m.y)),Ot.map===null||St===!0||ot===!0){const Gt=this.type!==v?{minFilter:Pe,magFilter:Pe}:{};Ot.map!==null&&Ot.map.dispose(),Ot.map=new ao(d.x,d.y,Gt),Ot.map.texture.name=$t.name+".shadowMap",Ot.camera.updateProjectionMatrix()}y.setRenderTarget(Ot.map),y.clear();const Qt=Ot.getViewportCount();for(let Gt=0;Gt<Qt;Gt++){const In=Ot.getViewport(Gt);_.set(m.x*In.x,m.y*In.y,m.x*In.z,m.y*In.w),bt.viewport(_),Ot.updateMatrices($t,Gt),c=Ot.getFrustum(),le(Me,ze,Ot.camera,$t,this.type)}Ot.isPointLightShadow!==!0&&this.type===v&&oe(Ot,ze),Ot.needsUpdate=!1}$=this.type,K.needsUpdate=!1,y.setRenderTarget(Ke,de,ke)};function oe(ye,Me){const ze=n.update(Y);N.defines.VSM_SAMPLES!==ye.blurSamples&&(N.defines.VSM_SAMPLES=ye.blurSamples,z.defines.VSM_SAMPLES=ye.blurSamples,N.needsUpdate=!0,z.needsUpdate=!0),ye.mapPass===null&&(ye.mapPass=new ao(d.x,d.y)),N.uniforms.shadow_pass.value=ye.map.texture,N.uniforms.resolution.value=ye.mapSize,N.uniforms.radius.value=ye.radius,y.setRenderTarget(ye.mapPass),y.clear(),y.renderBufferDirect(Me,null,ze,N,Y,null),z.uniforms.shadow_pass.value=ye.mapPass.texture,z.uniforms.resolution.value=ye.mapSize,z.uniforms.radius.value=ye.radius,y.setRenderTarget(ye.map),y.clear(),y.renderBufferDirect(Me,null,ze,z,Y,null)}function se(ye,Me,ze,Ke){let de=null;const ke=ze.isPointLight===!0?ye.customDistanceMaterial:ye.customDepthMaterial;if(ke!==void 0)de=ke;else if(de=ze.isPointLight===!0?T:S,y.localClippingEnabled&&Me.clipShadows===!0&&Array.isArray(Me.clippingPlanes)&&Me.clippingPlanes.length!==0||Me.displacementMap&&Me.displacementScale!==0||Me.alphaMap&&Me.alphaTest>0||Me.map&&Me.alphaTest>0){const bt=de.uuid,St=Me.uuid;let ot=A[bt];ot===void 0&&(ot={},A[bt]=ot);let mt=ot[St];mt===void 0&&(mt=de.clone(),ot[St]=mt),de=mt}if(de.visible=Me.visible,de.wireframe=Me.wireframe,Ke===v?de.side=Me.shadowSide!==null?Me.shadowSide:Me.side:de.side=Me.shadowSide!==null?Me.shadowSide:L[Me.side],de.alphaMap=Me.alphaMap,de.alphaTest=Me.alphaTest,de.map=Me.map,de.clipShadows=Me.clipShadows,de.clippingPlanes=Me.clippingPlanes,de.clipIntersection=Me.clipIntersection,de.displacementMap=Me.displacementMap,de.displacementScale=Me.displacementScale,de.displacementBias=Me.displacementBias,de.wireframeLinewidth=Me.wireframeLinewidth,de.linewidth=Me.linewidth,ze.isPointLight===!0&&de.isMeshDistanceMaterial===!0){const bt=y.properties.get(de);bt.light=ze}return de}function le(ye,Me,ze,Ke,de){if(ye.visible===!1)return;if(ye.layers.test(Me.layers)&&(ye.isMesh||ye.isLine||ye.isPoints)&&(ye.castShadow||ye.receiveShadow&&de===v)&&(!ye.frustumCulled||c.intersectsObject(ye))){ye.modelViewMatrix.multiplyMatrices(ze.matrixWorldInverse,ye.matrixWorld);const St=n.update(ye),ot=ye.material;if(Array.isArray(ot)){const mt=St.groups;for(let wt=0,$t=mt.length;wt<$t;wt++){const Ot=mt[wt],Dt=ot[Ot.materialIndex];if(Dt&&Dt.visible){const Qt=se(ye,Dt,Ke,de);y.renderBufferDirect(ze,null,St,Qt,ye,Ot)}}}else if(ot.visible){const mt=se(ye,ot,Ke,de);y.renderBufferDirect(ze,null,St,mt,ye,null)}}const bt=ye.children;for(let St=0,ot=bt.length;St<ot;St++)le(bt[St],Me,ze,Ke,de)}}function r$(y,n,r){const c=r.isWebGL2;function d(){let Ze=!1;const Tt=new Li;let Jt=null;const yn=new Li(0,0,0,0);return{setMask:function(zn){Jt!==zn&&!Ze&&(y.colorMask(zn,zn,zn,zn),Jt=zn)},setLocked:function(zn){Ze=zn},setClear:function(zn,Gi,Ki,$s,ul){ul===!0&&(zn*=$s,Gi*=$s,Ki*=$s),Tt.set(zn,Gi,Ki,$s),yn.equals(Tt)===!1&&(y.clearColor(zn,Gi,Ki,$s),yn.copy(Tt))},reset:function(){Ze=!1,Jt=null,yn.set(-1,0,0,0)}}}function m(){let Ze=!1,Tt=null,Jt=null,yn=null;return{setTest:function(zn){zn?je(y.DEPTH_TEST):Qn(y.DEPTH_TEST)},setMask:function(zn){Tt!==zn&&!Ze&&(y.depthMask(zn),Tt=zn)},setFunc:function(zn){if(Jt!==zn){switch(zn){case he:y.depthFunc(y.NEVER);break;case Ce:y.depthFunc(y.ALWAYS);break;case Ge:y.depthFunc(y.LESS);break;case Te:y.depthFunc(y.LEQUAL);break;case xe:y.depthFunc(y.EQUAL);break;case Ie:y.depthFunc(y.GEQUAL);break;case ge:y.depthFunc(y.GREATER);break;case Le:y.depthFunc(y.NOTEQUAL);break;default:y.depthFunc(y.LEQUAL)}Jt=zn}},setLocked:function(zn){Ze=zn},setClear:function(zn){yn!==zn&&(y.clearDepth(zn),yn=zn)},reset:function(){Ze=!1,Tt=null,Jt=null,yn=null}}}function _(){let Ze=!1,Tt=null,Jt=null,yn=null,zn=null,Gi=null,Ki=null,$s=null,ul=null;return{setTest:function(ls){Ze||(ls?je(y.STENCIL_TEST):Qn(y.STENCIL_TEST))},setMask:function(ls){Tt!==ls&&!Ze&&(y.stencilMask(ls),Tt=ls)},setFunc:function(ls,Vr,Wo){(Jt!==ls||yn!==Vr||zn!==Wo)&&(y.stencilFunc(ls,Vr,Wo),Jt=ls,yn=Vr,zn=Wo)},setOp:function(ls,Vr,Wo){(Gi!==ls||Ki!==Vr||$s!==Wo)&&(y.stencilOp(ls,Vr,Wo),Gi=ls,Ki=Vr,$s=Wo)},setLocked:function(ls){Ze=ls},setClear:function(ls){ul!==ls&&(y.clearStencil(ls),ul=ls)},reset:function(){Ze=!1,Tt=null,Jt=null,yn=null,zn=null,Gi=null,Ki=null,$s=null,ul=null}}}const S=new d,T=new m,A=new _,I=new WeakMap,L=new WeakMap;let N={},z={},V=new WeakMap,Y=[],K=null,$=!1,oe=null,se=null,le=null,ye=null,Me=null,ze=null,Ke=null,de=!1,ke=null,bt=null,St=null,ot=null,mt=null;const wt=y.getParameter(y.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let $t=!1,Ot=0;const Dt=y.getParameter(y.VERSION);Dt.indexOf("WebGL")!==-1?(Ot=parseFloat(/^WebGL (\d)/.exec(Dt)[1]),$t=Ot>=1):Dt.indexOf("OpenGL ES")!==-1&&(Ot=parseFloat(/^OpenGL ES (\d)/.exec(Dt)[1]),$t=Ot>=2);let Qt=null,Gt={};const In=y.getParameter(y.SCISSOR_BOX),sn=y.getParameter(y.VIEWPORT),Et=new Li().fromArray(In),Ht=new Li().fromArray(sn);function dn(Ze,Tt,Jt,yn){const zn=new Uint8Array(4),Gi=y.createTexture();y.bindTexture(Ze,Gi),y.texParameteri(Ze,y.TEXTURE_MIN_FILTER,y.NEAREST),y.texParameteri(Ze,y.TEXTURE_MAG_FILTER,y.NEAREST);for(let Ki=0;Ki<Jt;Ki++)c&&(Ze===y.TEXTURE_3D||Ze===y.TEXTURE_2D_ARRAY)?y.texImage3D(Tt,0,y.RGBA,1,1,yn,0,y.RGBA,y.UNSIGNED_BYTE,zn):y.texImage2D(Tt+Ki,0,y.RGBA,1,1,0,y.RGBA,y.UNSIGNED_BYTE,zn);return Gi}const mn={};mn[y.TEXTURE_2D]=dn(y.TEXTURE_2D,y.TEXTURE_2D,1),mn[y.TEXTURE_CUBE_MAP]=dn(y.TEXTURE_CUBE_MAP,y.TEXTURE_CUBE_MAP_POSITIVE_X,6),c&&(mn[y.TEXTURE_2D_ARRAY]=dn(y.TEXTURE_2D_ARRAY,y.TEXTURE_2D_ARRAY,1,1),mn[y.TEXTURE_3D]=dn(y.TEXTURE_3D,y.TEXTURE_3D,1,1)),S.setClear(0,0,0,1),T.setClear(1),A.setClear(0),je(y.DEPTH_TEST),T.setFunc(Te),hn(!1),Kn(a),je(y.CULL_FACE),jt(E);function je(Ze){N[Ze]!==!0&&(y.enable(Ze),N[Ze]=!0)}function Qn(Ze){N[Ze]!==!1&&(y.disable(Ze),N[Ze]=!1)}function ni(Ze,Tt){return z[Ze]!==Tt?(y.bindFramebuffer(Ze,Tt),z[Ze]=Tt,c&&(Ze===y.DRAW_FRAMEBUFFER&&(z[y.FRAMEBUFFER]=Tt),Ze===y.FRAMEBUFFER&&(z[y.DRAW_FRAMEBUFFER]=Tt)),!0):!1}function nn(Ze,Tt){let Jt=Y,yn=!1;if(Ze)if(Jt=V.get(Tt),Jt===void 0&&(Jt=[],V.set(Tt,Jt)),Ze.isWebGLMultipleRenderTargets){const zn=Ze.texture;if(Jt.length!==zn.length||Jt[0]!==y.COLOR_ATTACHMENT0){for(let Gi=0,Ki=zn.length;Gi<Ki;Gi++)Jt[Gi]=y.COLOR_ATTACHMENT0+Gi;Jt.length=zn.length,yn=!0}}else Jt[0]!==y.COLOR_ATTACHMENT0&&(Jt[0]=y.COLOR_ATTACHMENT0,yn=!0);else Jt[0]!==y.BACK&&(Jt[0]=y.BACK,yn=!0);yn&&(r.isWebGL2?y.drawBuffers(Jt):n.get("WEBGL_draw_buffers").drawBuffersWEBGL(Jt))}function Fn(Ze){return K!==Ze?(y.useProgram(Ze),K=Ze,!0):!1}const qt={[F]:y.FUNC_ADD,[G]:y.FUNC_SUBTRACT,[H]:y.FUNC_REVERSE_SUBTRACT};if(c)qt[j]=y.MIN,qt[q]=y.MAX;else{const Ze=n.get("EXT_blend_minmax");Ze!==null&&(qt[j]=Ze.MIN_EXT,qt[q]=Ze.MAX_EXT)}const kt={[ie]:y.ZERO,[Q]:y.ONE,[Z]:y.SRC_COLOR,[ce]:y.SRC_ALPHA,[Ee]:y.SRC_ALPHA_SATURATE,[J]:y.DST_COLOR,[W]:y.DST_ALPHA,[re]:y.ONE_MINUS_SRC_COLOR,[te]:y.ONE_MINUS_SRC_ALPHA,[pe]:y.ONE_MINUS_DST_COLOR,[ee]:y.ONE_MINUS_DST_ALPHA};function jt(Ze,Tt,Jt,yn,zn,Gi,Ki,$s){if(Ze===E){$===!0&&(Qn(y.BLEND),$=!1);return}if($===!1&&(je(y.BLEND),$=!0),Ze!==O){if(Ze!==oe||$s!==de){if((se!==F||Me!==F)&&(y.blendEquation(y.FUNC_ADD),se=F,Me=F),$s)switch(Ze){case C:y.blendFuncSeparate(y.ONE,y.ONE_MINUS_SRC_ALPHA,y.ONE,y.ONE_MINUS_SRC_ALPHA);break;case k:y.blendFunc(y.ONE,y.ONE);break;case R:y.blendFuncSeparate(y.ZERO,y.ONE_MINUS_SRC_COLOR,y.ZERO,y.ONE);break;case P:y.blendFuncSeparate(y.ZERO,y.SRC_COLOR,y.ZERO,y.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ze);break}else switch(Ze){case C:y.blendFuncSeparate(y.SRC_ALPHA,y.ONE_MINUS_SRC_ALPHA,y.ONE,y.ONE_MINUS_SRC_ALPHA);break;case k:y.blendFunc(y.SRC_ALPHA,y.ONE);break;case R:y.blendFuncSeparate(y.ZERO,y.ONE_MINUS_SRC_COLOR,y.ZERO,y.ONE);break;case P:y.blendFunc(y.ZERO,y.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ze);break}le=null,ye=null,ze=null,Ke=null,oe=Ze,de=$s}return}zn=zn||Tt,Gi=Gi||Jt,Ki=Ki||yn,(Tt!==se||zn!==Me)&&(y.blendEquationSeparate(qt[Tt],qt[zn]),se=Tt,Me=zn),(Jt!==le||yn!==ye||Gi!==ze||Ki!==Ke)&&(y.blendFuncSeparate(kt[Jt],kt[yn],kt[Gi],kt[Ki]),le=Jt,ye=yn,ze=Gi,Ke=Ki),oe=Ze,de=!1}function Mn(Ze,Tt){Ze.side===M?Qn(y.CULL_FACE):je(y.CULL_FACE);let Jt=Ze.side===w;Tt&&(Jt=!Jt),hn(Jt),Ze.blending===C&&Ze.transparent===!1?jt(E):jt(Ze.blending,Ze.blendEquation,Ze.blendSrc,Ze.blendDst,Ze.blendEquationAlpha,Ze.blendSrcAlpha,Ze.blendDstAlpha,Ze.premultipliedAlpha),T.setFunc(Ze.depthFunc),T.setTest(Ze.depthTest),T.setMask(Ze.depthWrite),S.setMask(Ze.colorWrite);const yn=Ze.stencilWrite;A.setTest(yn),yn&&(A.setMask(Ze.stencilWriteMask),A.setFunc(Ze.stencilFunc,Ze.stencilRef,Ze.stencilFuncMask),A.setOp(Ze.stencilFail,Ze.stencilZFail,Ze.stencilZPass)),Vn(Ze.polygonOffset,Ze.polygonOffsetFactor,Ze.polygonOffsetUnits),Ze.alphaToCoverage===!0?je(y.SAMPLE_ALPHA_TO_COVERAGE):Qn(y.SAMPLE_ALPHA_TO_COVERAGE)}function hn(Ze){ke!==Ze&&(Ze?y.frontFace(y.CW):y.frontFace(y.CCW),ke=Ze)}function Kn(Ze){Ze!==o?(je(y.CULL_FACE),Ze!==bt&&(Ze===a?y.cullFace(y.BACK):Ze===l?y.cullFace(y.FRONT):y.cullFace(y.FRONT_AND_BACK))):Qn(y.CULL_FACE),bt=Ze}function qn(Ze){Ze!==St&&($t&&y.lineWidth(Ze),St=Ze)}function Vn(Ze,Tt,Jt){Ze?(je(y.POLYGON_OFFSET_FILL),(ot!==Tt||mt!==Jt)&&(y.polygonOffset(Tt,Jt),ot=Tt,mt=Jt)):Qn(y.POLYGON_OFFSET_FILL)}function gi(Ze){Ze?je(y.SCISSOR_TEST):Qn(y.SCISSOR_TEST)}function Ri(Ze){Ze===void 0&&(Ze=y.TEXTURE0+wt-1),Qt!==Ze&&(y.activeTexture(Ze),Qt=Ze)}function Ne(Ze,Tt,Jt){Jt===void 0&&(Qt===null?Jt=y.TEXTURE0+wt-1:Jt=Qt);let yn=Gt[Jt];yn===void 0&&(yn={type:void 0,texture:void 0},Gt[Jt]=yn),(yn.type!==Ze||yn.texture!==Tt)&&(Qt!==Jt&&(y.activeTexture(Jt),Qt=Jt),y.bindTexture(Ze,Tt||mn[Ze]),yn.type=Ze,yn.texture=Tt)}function be(){const Ze=Gt[Qt];Ze!==void 0&&Ze.type!==void 0&&(y.bindTexture(Ze.type,null),Ze.type=void 0,Ze.texture=void 0)}function gt(){try{y.compressedTexImage2D.apply(y,arguments)}catch(Ze){console.error("THREE.WebGLState:",Ze)}}function Zt(){try{y.compressedTexImage3D.apply(y,arguments)}catch(Ze){console.error("THREE.WebGLState:",Ze)}}function en(){try{y.texSubImage2D.apply(y,arguments)}catch(Ze){console.error("THREE.WebGLState:",Ze)}}function pn(){try{y.texSubImage3D.apply(y,arguments)}catch(Ze){console.error("THREE.WebGLState:",Ze)}}function Zn(){try{y.compressedTexSubImage2D.apply(y,arguments)}catch(Ze){console.error("THREE.WebGLState:",Ze)}}function Sn(){try{y.compressedTexSubImage3D.apply(y,arguments)}catch(Ze){console.error("THREE.WebGLState:",Ze)}}function Rt(){try{y.texStorage2D.apply(y,arguments)}catch(Ze){console.error("THREE.WebGLState:",Ze)}}function Ln(){try{y.texStorage3D.apply(y,arguments)}catch(Ze){console.error("THREE.WebGLState:",Ze)}}function Hn(){try{y.texImage2D.apply(y,arguments)}catch(Ze){console.error("THREE.WebGLState:",Ze)}}function jn(){try{y.texImage3D.apply(y,arguments)}catch(Ze){console.error("THREE.WebGLState:",Ze)}}function En(Ze){Et.equals(Ze)===!1&&(y.scissor(Ze.x,Ze.y,Ze.z,Ze.w),Et.copy(Ze))}function $n(Ze){Ht.equals(Ze)===!1&&(y.viewport(Ze.x,Ze.y,Ze.z,Ze.w),Ht.copy(Ze))}function xi(Ze,Tt){let Jt=L.get(Tt);Jt===void 0&&(Jt=new WeakMap,L.set(Tt,Jt));let yn=Jt.get(Ze);yn===void 0&&(yn=y.getUniformBlockIndex(Tt,Ze.name),Jt.set(Ze,yn))}function Bi(Ze,Tt){const yn=L.get(Tt).get(Ze);I.get(Tt)!==yn&&(y.uniformBlockBinding(Tt,yn,Ze.__bindingPointIndex),I.set(Tt,yn))}function as(){y.disable(y.BLEND),y.disable(y.CULL_FACE),y.disable(y.DEPTH_TEST),y.disable(y.POLYGON_OFFSET_FILL),y.disable(y.SCISSOR_TEST),y.disable(y.STENCIL_TEST),y.disable(y.SAMPLE_ALPHA_TO_COVERAGE),y.blendEquation(y.FUNC_ADD),y.blendFunc(y.ONE,y.ZERO),y.blendFuncSeparate(y.ONE,y.ZERO,y.ONE,y.ZERO),y.colorMask(!0,!0,!0,!0),y.clearColor(0,0,0,0),y.depthMask(!0),y.depthFunc(y.LESS),y.clearDepth(1),y.stencilMask(4294967295),y.stencilFunc(y.ALWAYS,0,4294967295),y.stencilOp(y.KEEP,y.KEEP,y.KEEP),y.clearStencil(0),y.cullFace(y.BACK),y.frontFace(y.CCW),y.polygonOffset(0,0),y.activeTexture(y.TEXTURE0),y.bindFramebuffer(y.FRAMEBUFFER,null),c===!0&&(y.bindFramebuffer(y.DRAW_FRAMEBUFFER,null),y.bindFramebuffer(y.READ_FRAMEBUFFER,null)),y.useProgram(null),y.lineWidth(1),y.scissor(0,0,y.canvas.width,y.canvas.height),y.viewport(0,0,y.canvas.width,y.canvas.height),N={},Qt=null,Gt={},z={},V=new WeakMap,Y=[],K=null,$=!1,oe=null,se=null,le=null,ye=null,Me=null,ze=null,Ke=null,de=!1,ke=null,bt=null,St=null,ot=null,mt=null,Et.set(0,0,y.canvas.width,y.canvas.height),Ht.set(0,0,y.canvas.width,y.canvas.height),S.reset(),T.reset(),A.reset()}return{buffers:{color:S,depth:T,stencil:A},enable:je,disable:Qn,bindFramebuffer:ni,drawBuffers:nn,useProgram:Fn,setBlending:jt,setMaterial:Mn,setFlipSided:hn,setCullFace:Kn,setLineWidth:qn,setPolygonOffset:Vn,setScissorTest:gi,activeTexture:Ri,bindTexture:Ne,unbindTexture:be,compressedTexImage2D:gt,compressedTexImage3D:Zt,texImage2D:Hn,texImage3D:jn,updateUBOMapping:xi,uniformBlockBinding:Bi,texStorage2D:Rt,texStorage3D:Ln,texSubImage2D:en,texSubImage3D:pn,compressedTexSubImage2D:Zn,compressedTexSubImage3D:Sn,scissor:En,viewport:$n,reset:as}}function o$(y,n,r,c,d,m,_){const S=d.isWebGL2,T=d.maxTextures,A=d.maxCubemapSize,I=d.maxTextureSize,L=d.maxSamples,N=n.has("WEBGL_multisampled_render_to_texture")?n.get("WEBGL_multisampled_render_to_texture"):null,z=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),V=new WeakMap;let Y;const K=new WeakMap;let $=!1;try{$=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function oe(Ne,be){return $?new OffscreenCanvas(Ne,be):yf("canvas")}function se(Ne,be,gt,Zt){let en=1;if((Ne.width>Zt||Ne.height>Zt)&&(en=Zt/Math.max(Ne.width,Ne.height)),en<1||be===!0)if(typeof HTMLImageElement<"u"&&Ne instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Ne instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Ne instanceof ImageBitmap){const pn=be?jx:Math.floor,Zn=pn(en*Ne.width),Sn=pn(en*Ne.height);Y===void 0&&(Y=oe(Zn,Sn));const Rt=gt?oe(Zn,Sn):Y;return Rt.width=Zn,Rt.height=Sn,Rt.getContext("2d").drawImage(Ne,0,0,Zn,Sn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ne.width+"x"+Ne.height+") to ("+Zn+"x"+Sn+")."),Rt}else return"data"in Ne&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ne.width+"x"+Ne.height+")."),Ne;return Ne}function le(Ne){return Ey(Ne.width)&&Ey(Ne.height)}function ye(Ne){return S?!1:Ne.wrapS!==Ut||Ne.wrapT!==Ut||Ne.minFilter!==Pe&&Ne.minFilter!==Se}function Me(Ne,be){return Ne.generateMipmaps&&be&&Ne.minFilter!==Pe&&Ne.minFilter!==Se}function ze(Ne){y.generateMipmap(Ne)}function Ke(Ne,be,gt,Zt,en=!1){if(S===!1)return be;if(Ne!==null){if(y[Ne]!==void 0)return y[Ne];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Ne+"'")}let pn=be;return be===y.RED&&(gt===y.FLOAT&&(pn=y.R32F),gt===y.HALF_FLOAT&&(pn=y.R16F),gt===y.UNSIGNED_BYTE&&(pn=y.R8)),be===y.RG&&(gt===y.FLOAT&&(pn=y.RG32F),gt===y.HALF_FLOAT&&(pn=y.RG16F),gt===y.UNSIGNED_BYTE&&(pn=y.RG8)),be===y.RGBA&&(gt===y.FLOAT&&(pn=y.RGBA32F),gt===y.HALF_FLOAT&&(pn=y.RGBA16F),gt===y.UNSIGNED_BYTE&&(pn=Zt===ci&&en===!1?y.SRGB8_ALPHA8:y.RGBA8),gt===y.UNSIGNED_SHORT_4_4_4_4&&(pn=y.RGBA4),gt===y.UNSIGNED_SHORT_5_5_5_1&&(pn=y.RGB5_A1)),(pn===y.R16F||pn===y.R32F||pn===y.RG16F||pn===y.RG32F||pn===y.RGBA16F||pn===y.RGBA32F)&&n.get("EXT_color_buffer_float"),pn}function de(Ne,be,gt){return Me(Ne,gt)===!0||Ne.isFramebufferTexture&&Ne.minFilter!==Pe&&Ne.minFilter!==Se?Math.log2(Math.max(be.width,be.height))+1:Ne.mipmaps!==void 0&&Ne.mipmaps.length>0?Ne.mipmaps.length:Ne.isCompressedTexture&&Array.isArray(Ne.image)?be.mipmaps.length:1}function ke(Ne){return Ne===Pe||Ne===$e||Ne===Fe?y.NEAREST:y.LINEAR}function bt(Ne){const be=Ne.target;be.removeEventListener("dispose",bt),ot(be),be.isVideoTexture&&V.delete(be)}function St(Ne){const be=Ne.target;be.removeEventListener("dispose",St),wt(be)}function ot(Ne){const be=c.get(Ne);if(be.__webglInit===void 0)return;const gt=Ne.source,Zt=K.get(gt);if(Zt){const en=Zt[be.__cacheKey];en.usedTimes--,en.usedTimes===0&&mt(Ne),Object.keys(Zt).length===0&&K.delete(gt)}c.remove(Ne)}function mt(Ne){const be=c.get(Ne);y.deleteTexture(be.__webglTexture);const gt=Ne.source,Zt=K.get(gt);delete Zt[be.__cacheKey],_.memory.textures--}function wt(Ne){const be=Ne.texture,gt=c.get(Ne),Zt=c.get(be);if(Zt.__webglTexture!==void 0&&(y.deleteTexture(Zt.__webglTexture),_.memory.textures--),Ne.depthTexture&&Ne.depthTexture.dispose(),Ne.isWebGLCubeRenderTarget)for(let en=0;en<6;en++)y.deleteFramebuffer(gt.__webglFramebuffer[en]),gt.__webglDepthbuffer&&y.deleteRenderbuffer(gt.__webglDepthbuffer[en]);else{if(y.deleteFramebuffer(gt.__webglFramebuffer),gt.__webglDepthbuffer&&y.deleteRenderbuffer(gt.__webglDepthbuffer),gt.__webglMultisampledFramebuffer&&y.deleteFramebuffer(gt.__webglMultisampledFramebuffer),gt.__webglColorRenderbuffer)for(let en=0;en<gt.__webglColorRenderbuffer.length;en++)gt.__webglColorRenderbuffer[en]&&y.deleteRenderbuffer(gt.__webglColorRenderbuffer[en]);gt.__webglDepthRenderbuffer&&y.deleteRenderbuffer(gt.__webglDepthRenderbuffer)}if(Ne.isWebGLMultipleRenderTargets)for(let en=0,pn=be.length;en<pn;en++){const Zn=c.get(be[en]);Zn.__webglTexture&&(y.deleteTexture(Zn.__webglTexture),_.memory.textures--),c.remove(be[en])}c.remove(be),c.remove(Ne)}let $t=0;function Ot(){$t=0}function Dt(){const Ne=$t;return Ne>=T&&console.warn("THREE.WebGLTextures: Trying to use "+Ne+" texture units while this GPU supports only "+T),$t+=1,Ne}function Qt(Ne){const be=[];return be.push(Ne.wrapS),be.push(Ne.wrapT),be.push(Ne.wrapR||0),be.push(Ne.magFilter),be.push(Ne.minFilter),be.push(Ne.anisotropy),be.push(Ne.internalFormat),be.push(Ne.format),be.push(Ne.type),be.push(Ne.generateMipmaps),be.push(Ne.premultiplyAlpha),be.push(Ne.flipY),be.push(Ne.unpackAlignment),be.push(Ne.colorSpace),be.join()}function Gt(Ne,be){const gt=c.get(Ne);if(Ne.isVideoTexture&&gi(Ne),Ne.isRenderTargetTexture===!1&&Ne.version>0&&gt.__version!==Ne.version){const Zt=Ne.image;if(Zt===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Zt.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Qn(gt,Ne,be);return}}r.bindTexture(y.TEXTURE_2D,gt.__webglTexture,y.TEXTURE0+be)}function In(Ne,be){const gt=c.get(Ne);if(Ne.version>0&&gt.__version!==Ne.version){Qn(gt,Ne,be);return}r.bindTexture(y.TEXTURE_2D_ARRAY,gt.__webglTexture,y.TEXTURE0+be)}function sn(Ne,be){const gt=c.get(Ne);if(Ne.version>0&&gt.__version!==Ne.version){Qn(gt,Ne,be);return}r.bindTexture(y.TEXTURE_3D,gt.__webglTexture,y.TEXTURE0+be)}function Et(Ne,be){const gt=c.get(Ne);if(Ne.version>0&&gt.__version!==Ne.version){ni(gt,Ne,be);return}r.bindTexture(y.TEXTURE_CUBE_MAP,gt.__webglTexture,y.TEXTURE0+be)}const Ht={[_t]:y.REPEAT,[Ut]:y.CLAMP_TO_EDGE,[fn]:y.MIRRORED_REPEAT},dn={[Pe]:y.NEAREST,[$e]:y.NEAREST_MIPMAP_NEAREST,[Fe]:y.NEAREST_MIPMAP_LINEAR,[Se]:y.LINEAR,[it]:y.LINEAR_MIPMAP_NEAREST,[tn]:y.LINEAR_MIPMAP_LINEAR};function mn(Ne,be,gt){if(gt?(y.texParameteri(Ne,y.TEXTURE_WRAP_S,Ht[be.wrapS]),y.texParameteri(Ne,y.TEXTURE_WRAP_T,Ht[be.wrapT]),(Ne===y.TEXTURE_3D||Ne===y.TEXTURE_2D_ARRAY)&&y.texParameteri(Ne,y.TEXTURE_WRAP_R,Ht[be.wrapR]),y.texParameteri(Ne,y.TEXTURE_MAG_FILTER,dn[be.magFilter]),y.texParameteri(Ne,y.TEXTURE_MIN_FILTER,dn[be.minFilter])):(y.texParameteri(Ne,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE),y.texParameteri(Ne,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE),(Ne===y.TEXTURE_3D||Ne===y.TEXTURE_2D_ARRAY)&&y.texParameteri(Ne,y.TEXTURE_WRAP_R,y.CLAMP_TO_EDGE),(be.wrapS!==Ut||be.wrapT!==Ut)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),y.texParameteri(Ne,y.TEXTURE_MAG_FILTER,ke(be.magFilter)),y.texParameteri(Ne,y.TEXTURE_MIN_FILTER,ke(be.minFilter)),be.minFilter!==Pe&&be.minFilter!==Se&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),n.has("EXT_texture_filter_anisotropic")===!0){const Zt=n.get("EXT_texture_filter_anisotropic");if(be.magFilter===Pe||be.minFilter!==Fe&&be.minFilter!==tn||be.type===st&&n.has("OES_texture_float_linear")===!1||S===!1&&be.type===Kt&&n.has("OES_texture_half_float_linear")===!1)return;(be.anisotropy>1||c.get(be).__currentAnisotropy)&&(y.texParameterf(Ne,Zt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(be.anisotropy,d.getMaxAnisotropy())),c.get(be).__currentAnisotropy=be.anisotropy)}}function je(Ne,be){let gt=!1;Ne.__webglInit===void 0&&(Ne.__webglInit=!0,be.addEventListener("dispose",bt));const Zt=be.source;let en=K.get(Zt);en===void 0&&(en={},K.set(Zt,en));const pn=Qt(be);if(pn!==Ne.__cacheKey){en[pn]===void 0&&(en[pn]={texture:y.createTexture(),usedTimes:0},_.memory.textures++,gt=!0),en[pn].usedTimes++;const Zn=en[Ne.__cacheKey];Zn!==void 0&&(en[Ne.__cacheKey].usedTimes--,Zn.usedTimes===0&&mt(be)),Ne.__cacheKey=pn,Ne.__webglTexture=en[pn].texture}return gt}function Qn(Ne,be,gt){let Zt=y.TEXTURE_2D;(be.isDataArrayTexture||be.isCompressedArrayTexture)&&(Zt=y.TEXTURE_2D_ARRAY),be.isData3DTexture&&(Zt=y.TEXTURE_3D);const en=je(Ne,be),pn=be.source;r.bindTexture(Zt,Ne.__webglTexture,y.TEXTURE0+gt);const Zn=c.get(pn);if(pn.version!==Zn.__version||en===!0){r.activeTexture(y.TEXTURE0+gt),y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,be.flipY),y.pixelStorei(y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,be.premultiplyAlpha),y.pixelStorei(y.UNPACK_ALIGNMENT,be.unpackAlignment),y.pixelStorei(y.UNPACK_COLORSPACE_CONVERSION_WEBGL,y.NONE);const Sn=ye(be)&&le(be.image)===!1;let Rt=se(be.image,Sn,!1,I);Rt=Ri(be,Rt);const Ln=le(Rt)||S,Hn=m.convert(be.format,be.colorSpace);let jn=m.convert(be.type),En=Ke(be.internalFormat,Hn,jn,be.colorSpace);mn(Zt,be,Ln);let $n;const xi=be.mipmaps,Bi=S&&be.isVideoTexture!==!0,as=Zn.__version===void 0||en===!0,Ze=de(be,Rt,Ln);if(be.isDepthTexture)En=y.DEPTH_COMPONENT,S?be.type===st?En=y.DEPTH_COMPONENT32F:be.type===Fi?En=y.DEPTH_COMPONENT24:be.type===qi?En=y.DEPTH24_STENCIL8:En=y.DEPTH_COMPONENT16:be.type===st&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),be.format===Ya&&En===y.DEPTH_COMPONENT&&be.type!==Dn&&be.type!==Fi&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),be.type=Fi,jn=m.convert(be.type)),be.format===ql&&En===y.DEPTH_COMPONENT&&(En=y.DEPTH_STENCIL,be.type!==qi&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),be.type=qi,jn=m.convert(be.type))),as&&(Bi?r.texStorage2D(y.TEXTURE_2D,1,En,Rt.width,Rt.height):r.texImage2D(y.TEXTURE_2D,0,En,Rt.width,Rt.height,0,Hn,jn,null));else if(be.isDataTexture)if(xi.length>0&&Ln){Bi&&as&&r.texStorage2D(y.TEXTURE_2D,Ze,En,xi[0].width,xi[0].height);for(let Tt=0,Jt=xi.length;Tt<Jt;Tt++)$n=xi[Tt],Bi?r.texSubImage2D(y.TEXTURE_2D,Tt,0,0,$n.width,$n.height,Hn,jn,$n.data):r.texImage2D(y.TEXTURE_2D,Tt,En,$n.width,$n.height,0,Hn,jn,$n.data);be.generateMipmaps=!1}else Bi?(as&&r.texStorage2D(y.TEXTURE_2D,Ze,En,Rt.width,Rt.height),r.texSubImage2D(y.TEXTURE_2D,0,0,0,Rt.width,Rt.height,Hn,jn,Rt.data)):r.texImage2D(y.TEXTURE_2D,0,En,Rt.width,Rt.height,0,Hn,jn,Rt.data);else if(be.isCompressedTexture)if(be.isCompressedArrayTexture){Bi&&as&&r.texStorage3D(y.TEXTURE_2D_ARRAY,Ze,En,xi[0].width,xi[0].height,Rt.depth);for(let Tt=0,Jt=xi.length;Tt<Jt;Tt++)$n=xi[Tt],be.format!==Ss?Hn!==null?Bi?r.compressedTexSubImage3D(y.TEXTURE_2D_ARRAY,Tt,0,0,0,$n.width,$n.height,Rt.depth,Hn,$n.data,0,0):r.compressedTexImage3D(y.TEXTURE_2D_ARRAY,Tt,En,$n.width,$n.height,Rt.depth,0,$n.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Bi?r.texSubImage3D(y.TEXTURE_2D_ARRAY,Tt,0,0,0,$n.width,$n.height,Rt.depth,Hn,jn,$n.data):r.texImage3D(y.TEXTURE_2D_ARRAY,Tt,En,$n.width,$n.height,Rt.depth,0,Hn,jn,$n.data)}else{Bi&&as&&r.texStorage2D(y.TEXTURE_2D,Ze,En,xi[0].width,xi[0].height);for(let Tt=0,Jt=xi.length;Tt<Jt;Tt++)$n=xi[Tt],be.format!==Ss?Hn!==null?Bi?r.compressedTexSubImage2D(y.TEXTURE_2D,Tt,0,0,$n.width,$n.height,Hn,$n.data):r.compressedTexImage2D(y.TEXTURE_2D,Tt,En,$n.width,$n.height,0,$n.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Bi?r.texSubImage2D(y.TEXTURE_2D,Tt,0,0,$n.width,$n.height,Hn,jn,$n.data):r.texImage2D(y.TEXTURE_2D,Tt,En,$n.width,$n.height,0,Hn,jn,$n.data)}else if(be.isDataArrayTexture)Bi?(as&&r.texStorage3D(y.TEXTURE_2D_ARRAY,Ze,En,Rt.width,Rt.height,Rt.depth),r.texSubImage3D(y.TEXTURE_2D_ARRAY,0,0,0,0,Rt.width,Rt.height,Rt.depth,Hn,jn,Rt.data)):r.texImage3D(y.TEXTURE_2D_ARRAY,0,En,Rt.width,Rt.height,Rt.depth,0,Hn,jn,Rt.data);else if(be.isData3DTexture)Bi?(as&&r.texStorage3D(y.TEXTURE_3D,Ze,En,Rt.width,Rt.height,Rt.depth),r.texSubImage3D(y.TEXTURE_3D,0,0,0,0,Rt.width,Rt.height,Rt.depth,Hn,jn,Rt.data)):r.texImage3D(y.TEXTURE_3D,0,En,Rt.width,Rt.height,Rt.depth,0,Hn,jn,Rt.data);else if(be.isFramebufferTexture){if(as)if(Bi)r.texStorage2D(y.TEXTURE_2D,Ze,En,Rt.width,Rt.height);else{let Tt=Rt.width,Jt=Rt.height;for(let yn=0;yn<Ze;yn++)r.texImage2D(y.TEXTURE_2D,yn,En,Tt,Jt,0,Hn,jn,null),Tt>>=1,Jt>>=1}}else if(xi.length>0&&Ln){Bi&&as&&r.texStorage2D(y.TEXTURE_2D,Ze,En,xi[0].width,xi[0].height);for(let Tt=0,Jt=xi.length;Tt<Jt;Tt++)$n=xi[Tt],Bi?r.texSubImage2D(y.TEXTURE_2D,Tt,0,0,Hn,jn,$n):r.texImage2D(y.TEXTURE_2D,Tt,En,Hn,jn,$n);be.generateMipmaps=!1}else Bi?(as&&r.texStorage2D(y.TEXTURE_2D,Ze,En,Rt.width,Rt.height),r.texSubImage2D(y.TEXTURE_2D,0,0,0,Hn,jn,Rt)):r.texImage2D(y.TEXTURE_2D,0,En,Hn,jn,Rt);Me(be,Ln)&&ze(Zt),Zn.__version=pn.version,be.onUpdate&&be.onUpdate(be)}Ne.__version=be.version}function ni(Ne,be,gt){if(be.image.length!==6)return;const Zt=je(Ne,be),en=be.source;r.bindTexture(y.TEXTURE_CUBE_MAP,Ne.__webglTexture,y.TEXTURE0+gt);const pn=c.get(en);if(en.version!==pn.__version||Zt===!0){r.activeTexture(y.TEXTURE0+gt),y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,be.flipY),y.pixelStorei(y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,be.premultiplyAlpha),y.pixelStorei(y.UNPACK_ALIGNMENT,be.unpackAlignment),y.pixelStorei(y.UNPACK_COLORSPACE_CONVERSION_WEBGL,y.NONE);const Zn=be.isCompressedTexture||be.image[0].isCompressedTexture,Sn=be.image[0]&&be.image[0].isDataTexture,Rt=[];for(let Tt=0;Tt<6;Tt++)!Zn&&!Sn?Rt[Tt]=se(be.image[Tt],!1,!0,A):Rt[Tt]=Sn?be.image[Tt].image:be.image[Tt],Rt[Tt]=Ri(be,Rt[Tt]);const Ln=Rt[0],Hn=le(Ln)||S,jn=m.convert(be.format,be.colorSpace),En=m.convert(be.type),$n=Ke(be.internalFormat,jn,En,be.colorSpace),xi=S&&be.isVideoTexture!==!0,Bi=pn.__version===void 0||Zt===!0;let as=de(be,Ln,Hn);mn(y.TEXTURE_CUBE_MAP,be,Hn);let Ze;if(Zn){xi&&Bi&&r.texStorage2D(y.TEXTURE_CUBE_MAP,as,$n,Ln.width,Ln.height);for(let Tt=0;Tt<6;Tt++){Ze=Rt[Tt].mipmaps;for(let Jt=0;Jt<Ze.length;Jt++){const yn=Ze[Jt];be.format!==Ss?jn!==null?xi?r.compressedTexSubImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X+Tt,Jt,0,0,yn.width,yn.height,jn,yn.data):r.compressedTexImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X+Tt,Jt,$n,yn.width,yn.height,0,yn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):xi?r.texSubImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X+Tt,Jt,0,0,yn.width,yn.height,jn,En,yn.data):r.texImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X+Tt,Jt,$n,yn.width,yn.height,0,jn,En,yn.data)}}}else{Ze=be.mipmaps,xi&&Bi&&(Ze.length>0&&as++,r.texStorage2D(y.TEXTURE_CUBE_MAP,as,$n,Rt[0].width,Rt[0].height));for(let Tt=0;Tt<6;Tt++)if(Sn){xi?r.texSubImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X+Tt,0,0,0,Rt[Tt].width,Rt[Tt].height,jn,En,Rt[Tt].data):r.texImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X+Tt,0,$n,Rt[Tt].width,Rt[Tt].height,0,jn,En,Rt[Tt].data);for(let Jt=0;Jt<Ze.length;Jt++){const zn=Ze[Jt].image[Tt].image;xi?r.texSubImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X+Tt,Jt+1,0,0,zn.width,zn.height,jn,En,zn.data):r.texImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X+Tt,Jt+1,$n,zn.width,zn.height,0,jn,En,zn.data)}}else{xi?r.texSubImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X+Tt,0,0,0,jn,En,Rt[Tt]):r.texImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X+Tt,0,$n,jn,En,Rt[Tt]);for(let Jt=0;Jt<Ze.length;Jt++){const yn=Ze[Jt];xi?r.texSubImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X+Tt,Jt+1,0,0,jn,En,yn.image[Tt]):r.texImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X+Tt,Jt+1,$n,jn,En,yn.image[Tt])}}}Me(be,Hn)&&ze(y.TEXTURE_CUBE_MAP),pn.__version=en.version,be.onUpdate&&be.onUpdate(be)}Ne.__version=be.version}function nn(Ne,be,gt,Zt,en){const pn=m.convert(gt.format,gt.colorSpace),Zn=m.convert(gt.type),Sn=Ke(gt.internalFormat,pn,Zn,gt.colorSpace);c.get(be).__hasExternalTextures||(en===y.TEXTURE_3D||en===y.TEXTURE_2D_ARRAY?r.texImage3D(en,0,Sn,be.width,be.height,be.depth,0,pn,Zn,null):r.texImage2D(en,0,Sn,be.width,be.height,0,pn,Zn,null)),r.bindFramebuffer(y.FRAMEBUFFER,Ne),Vn(be)?N.framebufferTexture2DMultisampleEXT(y.FRAMEBUFFER,Zt,en,c.get(gt).__webglTexture,0,qn(be)):(en===y.TEXTURE_2D||en>=y.TEXTURE_CUBE_MAP_POSITIVE_X&&en<=y.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&y.framebufferTexture2D(y.FRAMEBUFFER,Zt,en,c.get(gt).__webglTexture,0),r.bindFramebuffer(y.FRAMEBUFFER,null)}function Fn(Ne,be,gt){if(y.bindRenderbuffer(y.RENDERBUFFER,Ne),be.depthBuffer&&!be.stencilBuffer){let Zt=y.DEPTH_COMPONENT16;if(gt||Vn(be)){const en=be.depthTexture;en&&en.isDepthTexture&&(en.type===st?Zt=y.DEPTH_COMPONENT32F:en.type===Fi&&(Zt=y.DEPTH_COMPONENT24));const pn=qn(be);Vn(be)?N.renderbufferStorageMultisampleEXT(y.RENDERBUFFER,pn,Zt,be.width,be.height):y.renderbufferStorageMultisample(y.RENDERBUFFER,pn,Zt,be.width,be.height)}else y.renderbufferStorage(y.RENDERBUFFER,Zt,be.width,be.height);y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_ATTACHMENT,y.RENDERBUFFER,Ne)}else if(be.depthBuffer&&be.stencilBuffer){const Zt=qn(be);gt&&Vn(be)===!1?y.renderbufferStorageMultisample(y.RENDERBUFFER,Zt,y.DEPTH24_STENCIL8,be.width,be.height):Vn(be)?N.renderbufferStorageMultisampleEXT(y.RENDERBUFFER,Zt,y.DEPTH24_STENCIL8,be.width,be.height):y.renderbufferStorage(y.RENDERBUFFER,y.DEPTH_STENCIL,be.width,be.height),y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_STENCIL_ATTACHMENT,y.RENDERBUFFER,Ne)}else{const Zt=be.isWebGLMultipleRenderTargets===!0?be.texture:[be.texture];for(let en=0;en<Zt.length;en++){const pn=Zt[en],Zn=m.convert(pn.format,pn.colorSpace),Sn=m.convert(pn.type),Rt=Ke(pn.internalFormat,Zn,Sn,pn.colorSpace),Ln=qn(be);gt&&Vn(be)===!1?y.renderbufferStorageMultisample(y.RENDERBUFFER,Ln,Rt,be.width,be.height):Vn(be)?N.renderbufferStorageMultisampleEXT(y.RENDERBUFFER,Ln,Rt,be.width,be.height):y.renderbufferStorage(y.RENDERBUFFER,Rt,be.width,be.height)}}y.bindRenderbuffer(y.RENDERBUFFER,null)}function qt(Ne,be){if(be&&be.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(y.FRAMEBUFFER,Ne),!(be.depthTexture&&be.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!c.get(be.depthTexture).__webglTexture||be.depthTexture.image.width!==be.width||be.depthTexture.image.height!==be.height)&&(be.depthTexture.image.width=be.width,be.depthTexture.image.height=be.height,be.depthTexture.needsUpdate=!0),Gt(be.depthTexture,0);const Zt=c.get(be.depthTexture).__webglTexture,en=qn(be);if(be.depthTexture.format===Ya)Vn(be)?N.framebufferTexture2DMultisampleEXT(y.FRAMEBUFFER,y.DEPTH_ATTACHMENT,y.TEXTURE_2D,Zt,0,en):y.framebufferTexture2D(y.FRAMEBUFFER,y.DEPTH_ATTACHMENT,y.TEXTURE_2D,Zt,0);else if(be.depthTexture.format===ql)Vn(be)?N.framebufferTexture2DMultisampleEXT(y.FRAMEBUFFER,y.DEPTH_STENCIL_ATTACHMENT,y.TEXTURE_2D,Zt,0,en):y.framebufferTexture2D(y.FRAMEBUFFER,y.DEPTH_STENCIL_ATTACHMENT,y.TEXTURE_2D,Zt,0);else throw new Error("Unknown depthTexture format")}function kt(Ne){const be=c.get(Ne),gt=Ne.isWebGLCubeRenderTarget===!0;if(Ne.depthTexture&&!be.__autoAllocateDepthBuffer){if(gt)throw new Error("target.depthTexture not supported in Cube render targets");qt(be.__webglFramebuffer,Ne)}else if(gt){be.__webglDepthbuffer=[];for(let Zt=0;Zt<6;Zt++)r.bindFramebuffer(y.FRAMEBUFFER,be.__webglFramebuffer[Zt]),be.__webglDepthbuffer[Zt]=y.createRenderbuffer(),Fn(be.__webglDepthbuffer[Zt],Ne,!1)}else r.bindFramebuffer(y.FRAMEBUFFER,be.__webglFramebuffer),be.__webglDepthbuffer=y.createRenderbuffer(),Fn(be.__webglDepthbuffer,Ne,!1);r.bindFramebuffer(y.FRAMEBUFFER,null)}function jt(Ne,be,gt){const Zt=c.get(Ne);be!==void 0&&nn(Zt.__webglFramebuffer,Ne,Ne.texture,y.COLOR_ATTACHMENT0,y.TEXTURE_2D),gt!==void 0&&kt(Ne)}function Mn(Ne){const be=Ne.texture,gt=c.get(Ne),Zt=c.get(be);Ne.addEventListener("dispose",St),Ne.isWebGLMultipleRenderTargets!==!0&&(Zt.__webglTexture===void 0&&(Zt.__webglTexture=y.createTexture()),Zt.__version=be.version,_.memory.textures++);const en=Ne.isWebGLCubeRenderTarget===!0,pn=Ne.isWebGLMultipleRenderTargets===!0,Zn=le(Ne)||S;if(en){gt.__webglFramebuffer=[];for(let Sn=0;Sn<6;Sn++)gt.__webglFramebuffer[Sn]=y.createFramebuffer()}else{if(gt.__webglFramebuffer=y.createFramebuffer(),pn)if(d.drawBuffers){const Sn=Ne.texture;for(let Rt=0,Ln=Sn.length;Rt<Ln;Rt++){const Hn=c.get(Sn[Rt]);Hn.__webglTexture===void 0&&(Hn.__webglTexture=y.createTexture(),_.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(S&&Ne.samples>0&&Vn(Ne)===!1){const Sn=pn?be:[be];gt.__webglMultisampledFramebuffer=y.createFramebuffer(),gt.__webglColorRenderbuffer=[],r.bindFramebuffer(y.FRAMEBUFFER,gt.__webglMultisampledFramebuffer);for(let Rt=0;Rt<Sn.length;Rt++){const Ln=Sn[Rt];gt.__webglColorRenderbuffer[Rt]=y.createRenderbuffer(),y.bindRenderbuffer(y.RENDERBUFFER,gt.__webglColorRenderbuffer[Rt]);const Hn=m.convert(Ln.format,Ln.colorSpace),jn=m.convert(Ln.type),En=Ke(Ln.internalFormat,Hn,jn,Ln.colorSpace,Ne.isXRRenderTarget===!0),$n=qn(Ne);y.renderbufferStorageMultisample(y.RENDERBUFFER,$n,En,Ne.width,Ne.height),y.framebufferRenderbuffer(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0+Rt,y.RENDERBUFFER,gt.__webglColorRenderbuffer[Rt])}y.bindRenderbuffer(y.RENDERBUFFER,null),Ne.depthBuffer&&(gt.__webglDepthRenderbuffer=y.createRenderbuffer(),Fn(gt.__webglDepthRenderbuffer,Ne,!0)),r.bindFramebuffer(y.FRAMEBUFFER,null)}}if(en){r.bindTexture(y.TEXTURE_CUBE_MAP,Zt.__webglTexture),mn(y.TEXTURE_CUBE_MAP,be,Zn);for(let Sn=0;Sn<6;Sn++)nn(gt.__webglFramebuffer[Sn],Ne,be,y.COLOR_ATTACHMENT0,y.TEXTURE_CUBE_MAP_POSITIVE_X+Sn);Me(be,Zn)&&ze(y.TEXTURE_CUBE_MAP),r.unbindTexture()}else if(pn){const Sn=Ne.texture;for(let Rt=0,Ln=Sn.length;Rt<Ln;Rt++){const Hn=Sn[Rt],jn=c.get(Hn);r.bindTexture(y.TEXTURE_2D,jn.__webglTexture),mn(y.TEXTURE_2D,Hn,Zn),nn(gt.__webglFramebuffer,Ne,Hn,y.COLOR_ATTACHMENT0+Rt,y.TEXTURE_2D),Me(Hn,Zn)&&ze(y.TEXTURE_2D)}r.unbindTexture()}else{let Sn=y.TEXTURE_2D;(Ne.isWebGL3DRenderTarget||Ne.isWebGLArrayRenderTarget)&&(S?Sn=Ne.isWebGL3DRenderTarget?y.TEXTURE_3D:y.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),r.bindTexture(Sn,Zt.__webglTexture),mn(Sn,be,Zn),nn(gt.__webglFramebuffer,Ne,be,y.COLOR_ATTACHMENT0,Sn),Me(be,Zn)&&ze(Sn),r.unbindTexture()}Ne.depthBuffer&&kt(Ne)}function hn(Ne){const be=le(Ne)||S,gt=Ne.isWebGLMultipleRenderTargets===!0?Ne.texture:[Ne.texture];for(let Zt=0,en=gt.length;Zt<en;Zt++){const pn=gt[Zt];if(Me(pn,be)){const Zn=Ne.isWebGLCubeRenderTarget?y.TEXTURE_CUBE_MAP:y.TEXTURE_2D,Sn=c.get(pn).__webglTexture;r.bindTexture(Zn,Sn),ze(Zn),r.unbindTexture()}}}function Kn(Ne){if(S&&Ne.samples>0&&Vn(Ne)===!1){const be=Ne.isWebGLMultipleRenderTargets?Ne.texture:[Ne.texture],gt=Ne.width,Zt=Ne.height;let en=y.COLOR_BUFFER_BIT;const pn=[],Zn=Ne.stencilBuffer?y.DEPTH_STENCIL_ATTACHMENT:y.DEPTH_ATTACHMENT,Sn=c.get(Ne),Rt=Ne.isWebGLMultipleRenderTargets===!0;if(Rt)for(let Ln=0;Ln<be.length;Ln++)r.bindFramebuffer(y.FRAMEBUFFER,Sn.__webglMultisampledFramebuffer),y.framebufferRenderbuffer(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0+Ln,y.RENDERBUFFER,null),r.bindFramebuffer(y.FRAMEBUFFER,Sn.__webglFramebuffer),y.framebufferTexture2D(y.DRAW_FRAMEBUFFER,y.COLOR_ATTACHMENT0+Ln,y.TEXTURE_2D,null,0);r.bindFramebuffer(y.READ_FRAMEBUFFER,Sn.__webglMultisampledFramebuffer),r.bindFramebuffer(y.DRAW_FRAMEBUFFER,Sn.__webglFramebuffer);for(let Ln=0;Ln<be.length;Ln++){pn.push(y.COLOR_ATTACHMENT0+Ln),Ne.depthBuffer&&pn.push(Zn);const Hn=Sn.__ignoreDepthValues!==void 0?Sn.__ignoreDepthValues:!1;if(Hn===!1&&(Ne.depthBuffer&&(en|=y.DEPTH_BUFFER_BIT),Ne.stencilBuffer&&(en|=y.STENCIL_BUFFER_BIT)),Rt&&y.framebufferRenderbuffer(y.READ_FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.RENDERBUFFER,Sn.__webglColorRenderbuffer[Ln]),Hn===!0&&(y.invalidateFramebuffer(y.READ_FRAMEBUFFER,[Zn]),y.invalidateFramebuffer(y.DRAW_FRAMEBUFFER,[Zn])),Rt){const jn=c.get(be[Ln]).__webglTexture;y.framebufferTexture2D(y.DRAW_FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,jn,0)}y.blitFramebuffer(0,0,gt,Zt,0,0,gt,Zt,en,y.NEAREST),z&&y.invalidateFramebuffer(y.READ_FRAMEBUFFER,pn)}if(r.bindFramebuffer(y.READ_FRAMEBUFFER,null),r.bindFramebuffer(y.DRAW_FRAMEBUFFER,null),Rt)for(let Ln=0;Ln<be.length;Ln++){r.bindFramebuffer(y.FRAMEBUFFER,Sn.__webglMultisampledFramebuffer),y.framebufferRenderbuffer(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0+Ln,y.RENDERBUFFER,Sn.__webglColorRenderbuffer[Ln]);const Hn=c.get(be[Ln]).__webglTexture;r.bindFramebuffer(y.FRAMEBUFFER,Sn.__webglFramebuffer),y.framebufferTexture2D(y.DRAW_FRAMEBUFFER,y.COLOR_ATTACHMENT0+Ln,y.TEXTURE_2D,Hn,0)}r.bindFramebuffer(y.DRAW_FRAMEBUFFER,Sn.__webglMultisampledFramebuffer)}}function qn(Ne){return Math.min(L,Ne.samples)}function Vn(Ne){const be=c.get(Ne);return S&&Ne.samples>0&&n.has("WEBGL_multisampled_render_to_texture")===!0&&be.__useRenderToTexture!==!1}function gi(Ne){const be=_.render.frame;V.get(Ne)!==be&&(V.set(Ne,be),Ne.update())}function Ri(Ne,be){const gt=Ne.colorSpace,Zt=Ne.format,en=Ne.type;return Ne.isCompressedTexture===!0||Ne.format===Xp||gt!==oo&&gt!==Qa&&(gt===ci?S===!1?n.has("EXT_sRGB")===!0&&Zt===Ss?(Ne.format=Xp,Ne.minFilter=Se,Ne.generateMipmaps=!1):be=Ay.sRGBToLinear(be):(Zt!==Ss||en!==Ct)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",gt)),be}this.allocateTextureUnit=Dt,this.resetTextureUnits=Ot,this.setTexture2D=Gt,this.setTexture2DArray=In,this.setTexture3D=sn,this.setTextureCube=Et,this.rebindTextures=jt,this.setupRenderTarget=Mn,this.updateRenderTargetMipmap=hn,this.updateMultisampleRenderTarget=Kn,this.setupDepthRenderbuffer=kt,this.setupFrameBufferTexture=nn,this.useMultisampledRTT=Vn}function VM(y,n,r){const c=r.isWebGL2;function d(m,_=Qa){let S;if(m===Ct)return y.UNSIGNED_BYTE;if(m===Yn)return y.UNSIGNED_SHORT_4_4_4_4;if(m===ti)return y.UNSIGNED_SHORT_5_5_5_1;if(m===bn)return y.BYTE;if(m===wn)return y.SHORT;if(m===Dn)return y.UNSIGNED_SHORT;if(m===ui)return y.INT;if(m===Fi)return y.UNSIGNED_INT;if(m===st)return y.FLOAT;if(m===Kt)return c?y.HALF_FLOAT:(S=n.get("OES_texture_half_float"),S!==null?S.HALF_FLOAT_OES:null);if(m===wr)return y.ALPHA;if(m===Ss)return y.RGBA;if(m===kx)return y.LUMINANCE;if(m===Px)return y.LUMINANCE_ALPHA;if(m===Ya)return y.DEPTH_COMPONENT;if(m===ql)return y.DEPTH_STENCIL;if(m===Xp)return S=n.get("EXT_sRGB"),S!==null?S.SRGB_ALPHA_EXT:null;if(m===Ix)return y.RED;if(m===Lx)return y.RED_INTEGER;if(m===Nx)return y.RG;if(m===Ox)return y.RG_INTEGER;if(m===Dx)return y.RGBA_INTEGER;if(m===Up||m===Vp||m===Hp||m===Wp)if(_===ci)if(S=n.get("WEBGL_compressed_texture_s3tc_srgb"),S!==null){if(m===Up)return S.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(m===Vp)return S.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(m===Hp)return S.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(m===Wp)return S.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(S=n.get("WEBGL_compressed_texture_s3tc"),S!==null){if(m===Up)return S.COMPRESSED_RGB_S3TC_DXT1_EXT;if(m===Vp)return S.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(m===Hp)return S.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(m===Wp)return S.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(m===Z0||m===J0||m===Q0||m===ey)if(S=n.get("WEBGL_compressed_texture_pvrtc"),S!==null){if(m===Z0)return S.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(m===J0)return S.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(m===Q0)return S.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(m===ey)return S.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(m===Fx)return S=n.get("WEBGL_compressed_texture_etc1"),S!==null?S.COMPRESSED_RGB_ETC1_WEBGL:null;if(m===ty||m===ny)if(S=n.get("WEBGL_compressed_texture_etc"),S!==null){if(m===ty)return _===ci?S.COMPRESSED_SRGB8_ETC2:S.COMPRESSED_RGB8_ETC2;if(m===ny)return _===ci?S.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:S.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(m===iy||m===sy||m===ry||m===oy||m===ay||m===ly||m===cy||m===uy||m===dy||m===fy||m===hy||m===py||m===my||m===gy)if(S=n.get("WEBGL_compressed_texture_astc"),S!==null){if(m===iy)return _===ci?S.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:S.COMPRESSED_RGBA_ASTC_4x4_KHR;if(m===sy)return _===ci?S.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:S.COMPRESSED_RGBA_ASTC_5x4_KHR;if(m===ry)return _===ci?S.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:S.COMPRESSED_RGBA_ASTC_5x5_KHR;if(m===oy)return _===ci?S.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:S.COMPRESSED_RGBA_ASTC_6x5_KHR;if(m===ay)return _===ci?S.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:S.COMPRESSED_RGBA_ASTC_6x6_KHR;if(m===ly)return _===ci?S.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:S.COMPRESSED_RGBA_ASTC_8x5_KHR;if(m===cy)return _===ci?S.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:S.COMPRESSED_RGBA_ASTC_8x6_KHR;if(m===uy)return _===ci?S.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:S.COMPRESSED_RGBA_ASTC_8x8_KHR;if(m===dy)return _===ci?S.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:S.COMPRESSED_RGBA_ASTC_10x5_KHR;if(m===fy)return _===ci?S.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:S.COMPRESSED_RGBA_ASTC_10x6_KHR;if(m===hy)return _===ci?S.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:S.COMPRESSED_RGBA_ASTC_10x8_KHR;if(m===py)return _===ci?S.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:S.COMPRESSED_RGBA_ASTC_10x10_KHR;if(m===my)return _===ci?S.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:S.COMPRESSED_RGBA_ASTC_12x10_KHR;if(m===gy)return _===ci?S.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:S.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(m===Gp)if(S=n.get("EXT_texture_compression_bptc"),S!==null){if(m===Gp)return _===ci?S.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:S.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(m===Bx||m===vy||m===yy||m===by)if(S=n.get("EXT_texture_compression_rgtc"),S!==null){if(m===Gp)return S.COMPRESSED_RED_RGTC1_EXT;if(m===vy)return S.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(m===yy)return S.COMPRESSED_RED_GREEN_RGTC2_EXT;if(m===by)return S.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return m===qi?c?y.UNSIGNED_INT_24_8:(S=n.get("WEBGL_depth_texture"),S!==null?S.UNSIGNED_INT_24_8_WEBGL:null):y[m]!==void 0?y[m]:null}return{convert:d}}class HM extends Ps{constructor(n=[]){super(),this.isArrayCamera=!0,this.cameras=n}}class Ru extends Ai{constructor(){super(),this.isGroup=!0,this.type="Group"}}const a$={type:"move"};class tb{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ru,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ru,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Re,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Re),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ru,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Re,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Re),this._grip}dispatchEvent(n){return this._targetRay!==null&&this._targetRay.dispatchEvent(n),this._grip!==null&&this._grip.dispatchEvent(n),this._hand!==null&&this._hand.dispatchEvent(n),this}connect(n){if(n&&n.hand){const r=this._hand;if(r)for(const c of n.hand.values())this._getHandJoint(r,c)}return this.dispatchEvent({type:"connected",data:n}),this}disconnect(n){return this.dispatchEvent({type:"disconnected",data:n}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(n,r,c){let d=null,m=null,_=null;const S=this._targetRay,T=this._grip,A=this._hand;if(n&&r.session.visibilityState!=="visible-blurred"){if(A&&n.hand){_=!0;for(const Y of n.hand.values()){const K=r.getJointPose(Y,c),$=this._getHandJoint(A,Y);K!==null&&($.matrix.fromArray(K.transform.matrix),$.matrix.decompose($.position,$.rotation,$.scale),$.matrixWorldNeedsUpdate=!0,$.jointRadius=K.radius),$.visible=K!==null}const I=A.joints["index-finger-tip"],L=A.joints["thumb-tip"],N=I.position.distanceTo(L.position),z=.02,V=.005;A.inputState.pinching&&N>z+V?(A.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:n.handedness,target:this})):!A.inputState.pinching&&N<=z-V&&(A.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:n.handedness,target:this}))}else T!==null&&n.gripSpace&&(m=r.getPose(n.gripSpace,c),m!==null&&(T.matrix.fromArray(m.transform.matrix),T.matrix.decompose(T.position,T.rotation,T.scale),T.matrixWorldNeedsUpdate=!0,m.linearVelocity?(T.hasLinearVelocity=!0,T.linearVelocity.copy(m.linearVelocity)):T.hasLinearVelocity=!1,m.angularVelocity?(T.hasAngularVelocity=!0,T.angularVelocity.copy(m.angularVelocity)):T.hasAngularVelocity=!1));S!==null&&(d=r.getPose(n.targetRaySpace,c),d===null&&m!==null&&(d=m),d!==null&&(S.matrix.fromArray(d.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.matrixWorldNeedsUpdate=!0,d.linearVelocity?(S.hasLinearVelocity=!0,S.linearVelocity.copy(d.linearVelocity)):S.hasLinearVelocity=!1,d.angularVelocity?(S.hasAngularVelocity=!0,S.angularVelocity.copy(d.angularVelocity)):S.hasAngularVelocity=!1,this.dispatchEvent(a$)))}return S!==null&&(S.visible=d!==null),T!==null&&(T.visible=m!==null),A!==null&&(A.visible=_!==null),this}_getHandJoint(n,r){if(n.joints[r.jointName]===void 0){const c=new Ru;c.matrixAutoUpdate=!1,c.visible=!1,n.joints[r.jointName]=c,n.add(c)}return n.joints[r.jointName]}}class WM extends rs{constructor(n,r,c,d,m,_,S,T,A,I){if(I=I!==void 0?I:Ya,I!==Ya&&I!==ql)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");c===void 0&&I===Ya&&(c=Fi),c===void 0&&I===ql&&(c=qi),super(null,d,m,_,S,T,I,c,A),this.isDepthTexture=!0,this.image={width:n,height:r},this.magFilter=S!==void 0?S:Pe,this.minFilter=T!==void 0?T:Pe,this.flipY=!1,this.generateMipmaps=!1}}class l$ extends la{constructor(n,r){super();const c=this;let d=null,m=1,_=null,S="local-floor",T=1,A=null,I=null,L=null,N=null,z=null,V=null;const Y=r.getContextAttributes();let K=null,$=null;const oe=[],se=[],le=new Set,ye=new Map,Me=new Ps;Me.layers.enable(1),Me.viewport=new Li;const ze=new Ps;ze.layers.enable(2),ze.viewport=new Li;const Ke=[Me,ze],de=new HM;de.layers.enable(1),de.layers.enable(2);let ke=null,bt=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Et){let Ht=oe[Et];return Ht===void 0&&(Ht=new tb,oe[Et]=Ht),Ht.getTargetRaySpace()},this.getControllerGrip=function(Et){let Ht=oe[Et];return Ht===void 0&&(Ht=new tb,oe[Et]=Ht),Ht.getGripSpace()},this.getHand=function(Et){let Ht=oe[Et];return Ht===void 0&&(Ht=new tb,oe[Et]=Ht),Ht.getHandSpace()};function St(Et){const Ht=se.indexOf(Et.inputSource);if(Ht===-1)return;const dn=oe[Ht];dn!==void 0&&(dn.update(Et.inputSource,Et.frame,A||_),dn.dispatchEvent({type:Et.type,data:Et.inputSource}))}function ot(){d.removeEventListener("select",St),d.removeEventListener("selectstart",St),d.removeEventListener("selectend",St),d.removeEventListener("squeeze",St),d.removeEventListener("squeezestart",St),d.removeEventListener("squeezeend",St),d.removeEventListener("end",ot),d.removeEventListener("inputsourceschange",mt);for(let Et=0;Et<oe.length;Et++){const Ht=se[Et];Ht!==null&&(se[Et]=null,oe[Et].disconnect(Ht))}ke=null,bt=null,n.setRenderTarget(K),z=null,N=null,L=null,d=null,$=null,sn.stop(),c.isPresenting=!1,c.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Et){m=Et,c.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Et){S=Et,c.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return A||_},this.setReferenceSpace=function(Et){A=Et},this.getBaseLayer=function(){return N!==null?N:z},this.getBinding=function(){return L},this.getFrame=function(){return V},this.getSession=function(){return d},this.setSession=async function(Et){if(d=Et,d!==null){if(K=n.getRenderTarget(),d.addEventListener("select",St),d.addEventListener("selectstart",St),d.addEventListener("selectend",St),d.addEventListener("squeeze",St),d.addEventListener("squeezestart",St),d.addEventListener("squeezeend",St),d.addEventListener("end",ot),d.addEventListener("inputsourceschange",mt),Y.xrCompatible!==!0&&await r.makeXRCompatible(),d.renderState.layers===void 0||n.capabilities.isWebGL2===!1){const Ht={antialias:d.renderState.layers===void 0?Y.antialias:!0,alpha:!0,depth:Y.depth,stencil:Y.stencil,framebufferScaleFactor:m};z=new XRWebGLLayer(d,r,Ht),d.updateRenderState({baseLayer:z}),$=new ao(z.framebufferWidth,z.framebufferHeight,{format:Ss,type:Ct,colorSpace:n.outputColorSpace,stencilBuffer:Y.stencil})}else{let Ht=null,dn=null,mn=null;Y.depth&&(mn=Y.stencil?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24,Ht=Y.stencil?ql:Ya,dn=Y.stencil?qi:Fi);const je={colorFormat:r.RGBA8,depthFormat:mn,scaleFactor:m};L=new XRWebGLBinding(d,r),N=L.createProjectionLayer(je),d.updateRenderState({layers:[N]}),$=new ao(N.textureWidth,N.textureHeight,{format:Ss,type:Ct,depthTexture:new WM(N.textureWidth,N.textureHeight,dn,void 0,void 0,void 0,void 0,void 0,void 0,Ht),stencilBuffer:Y.stencil,colorSpace:n.outputColorSpace,samples:Y.antialias?4:0});const Qn=n.properties.get($);Qn.__ignoreDepthValues=N.ignoreDepthValues}$.isXRRenderTarget=!0,this.setFoveation(T),A=null,_=await d.requestReferenceSpace(S),sn.setContext(d),sn.start(),c.isPresenting=!0,c.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(d!==null)return d.environmentBlendMode};function mt(Et){for(let Ht=0;Ht<Et.removed.length;Ht++){const dn=Et.removed[Ht],mn=se.indexOf(dn);mn>=0&&(se[mn]=null,oe[mn].disconnect(dn))}for(let Ht=0;Ht<Et.added.length;Ht++){const dn=Et.added[Ht];let mn=se.indexOf(dn);if(mn===-1){for(let Qn=0;Qn<oe.length;Qn++)if(Qn>=se.length){se.push(dn),mn=Qn;break}else if(se[Qn]===null){se[Qn]=dn,mn=Qn;break}if(mn===-1)break}const je=oe[mn];je&&je.connect(dn)}}const wt=new Re,$t=new Re;function Ot(Et,Ht,dn){wt.setFromMatrixPosition(Ht.matrixWorld),$t.setFromMatrixPosition(dn.matrixWorld);const mn=wt.distanceTo($t),je=Ht.projectionMatrix.elements,Qn=dn.projectionMatrix.elements,ni=je[14]/(je[10]-1),nn=je[14]/(je[10]+1),Fn=(je[9]+1)/je[5],qt=(je[9]-1)/je[5],kt=(je[8]-1)/je[0],jt=(Qn[8]+1)/Qn[0],Mn=ni*kt,hn=ni*jt,Kn=mn/(-kt+jt),qn=Kn*-kt;Ht.matrixWorld.decompose(Et.position,Et.quaternion,Et.scale),Et.translateX(qn),Et.translateZ(Kn),Et.matrixWorld.compose(Et.position,Et.quaternion,Et.scale),Et.matrixWorldInverse.copy(Et.matrixWorld).invert();const Vn=ni+Kn,gi=nn+Kn,Ri=Mn-qn,Ne=hn+(mn-qn),be=Fn*nn/gi*Vn,gt=qt*nn/gi*Vn;Et.projectionMatrix.makePerspective(Ri,Ne,be,gt,Vn,gi),Et.projectionMatrixInverse.copy(Et.projectionMatrix).invert()}function Dt(Et,Ht){Ht===null?Et.matrixWorld.copy(Et.matrix):Et.matrixWorld.multiplyMatrices(Ht.matrixWorld,Et.matrix),Et.matrixWorldInverse.copy(Et.matrixWorld).invert()}this.updateCamera=function(Et){if(d===null)return;de.near=ze.near=Me.near=Et.near,de.far=ze.far=Me.far=Et.far,(ke!==de.near||bt!==de.far)&&(d.updateRenderState({depthNear:de.near,depthFar:de.far}),ke=de.near,bt=de.far);const Ht=Et.parent,dn=de.cameras;Dt(de,Ht);for(let mn=0;mn<dn.length;mn++)Dt(dn[mn],Ht);dn.length===2?Ot(de,Me,ze):de.projectionMatrix.copy(Me.projectionMatrix),Qt(Et,de,Ht)};function Qt(Et,Ht,dn){dn===null?Et.matrix.copy(Ht.matrixWorld):(Et.matrix.copy(dn.matrixWorld),Et.matrix.invert(),Et.matrix.multiply(Ht.matrixWorld)),Et.matrix.decompose(Et.position,Et.quaternion,Et.scale),Et.updateMatrixWorld(!0);const mn=Et.children;for(let je=0,Qn=mn.length;je<Qn;je++)mn[je].updateMatrixWorld(!0);Et.projectionMatrix.copy(Ht.projectionMatrix),Et.projectionMatrixInverse.copy(Ht.projectionMatrixInverse),Et.isPerspectiveCamera&&(Et.fov=ou*2*Math.atan(1/Et.projectionMatrix.elements[5]),Et.zoom=1)}this.getCamera=function(){return de},this.getFoveation=function(){if(!(N===null&&z===null))return T},this.setFoveation=function(Et){T=Et,N!==null&&(N.fixedFoveation=Et),z!==null&&z.fixedFoveation!==void 0&&(z.fixedFoveation=Et)},this.getPlanes=function(){return le};let Gt=null;function In(Et,Ht){if(I=Ht.getViewerPose(A||_),V=Ht,I!==null){const dn=I.views;z!==null&&(n.setRenderTargetFramebuffer($,z.framebuffer),n.setRenderTarget($));let mn=!1;dn.length!==de.cameras.length&&(de.cameras.length=0,mn=!0);for(let je=0;je<dn.length;je++){const Qn=dn[je];let ni=null;if(z!==null)ni=z.getViewport(Qn);else{const Fn=L.getViewSubImage(N,Qn);ni=Fn.viewport,je===0&&(n.setRenderTargetTextures($,Fn.colorTexture,N.ignoreDepthValues?void 0:Fn.depthStencilTexture),n.setRenderTarget($))}let nn=Ke[je];nn===void 0&&(nn=new Ps,nn.layers.enable(je),nn.viewport=new Li,Ke[je]=nn),nn.matrix.fromArray(Qn.transform.matrix),nn.matrix.decompose(nn.position,nn.quaternion,nn.scale),nn.projectionMatrix.fromArray(Qn.projectionMatrix),nn.projectionMatrixInverse.copy(nn.projectionMatrix).invert(),nn.viewport.set(ni.x,ni.y,ni.width,ni.height),je===0&&(de.matrix.copy(nn.matrix),de.matrix.decompose(de.position,de.quaternion,de.scale)),mn===!0&&de.cameras.push(nn)}}for(let dn=0;dn<oe.length;dn++){const mn=se[dn],je=oe[dn];mn!==null&&je!==void 0&&je.update(mn,Ht,A||_)}if(Gt&&Gt(Et,Ht),Ht.detectedPlanes){c.dispatchEvent({type:"planesdetected",data:Ht.detectedPlanes});let dn=null;for(const mn of le)Ht.detectedPlanes.has(mn)||(dn===null&&(dn=[]),dn.push(mn));if(dn!==null)for(const mn of dn)le.delete(mn),ye.delete(mn),c.dispatchEvent({type:"planeremoved",data:mn});for(const mn of Ht.detectedPlanes)if(!le.has(mn))le.add(mn),ye.set(mn,Ht.lastChangedTime),c.dispatchEvent({type:"planeadded",data:mn});else{const je=ye.get(mn);mn.lastChangedTime>je&&(ye.set(mn,mn.lastChangedTime),c.dispatchEvent({type:"planechanged",data:mn}))}}V=null}const sn=new gM;sn.setAnimationLoop(In),this.setAnimationLoop=function(Et){Gt=Et},this.dispose=function(){}}}function c$(y,n){function r(K,$){K.matrixAutoUpdate===!0&&K.updateMatrix(),$.value.copy(K.matrix)}function c(K,$){$.color.getRGB(K.fogColor.value,fM(y)),$.isFog?(K.fogNear.value=$.near,K.fogFar.value=$.far):$.isFogExp2&&(K.fogDensity.value=$.density)}function d(K,$,oe,se,le){$.isMeshBasicMaterial||$.isMeshLambertMaterial?m(K,$):$.isMeshToonMaterial?(m(K,$),L(K,$)):$.isMeshPhongMaterial?(m(K,$),I(K,$)):$.isMeshStandardMaterial?(m(K,$),N(K,$),$.isMeshPhysicalMaterial&&z(K,$,le)):$.isMeshMatcapMaterial?(m(K,$),V(K,$)):$.isMeshDepthMaterial?m(K,$):$.isMeshDistanceMaterial?(m(K,$),Y(K,$)):$.isMeshNormalMaterial?m(K,$):$.isLineBasicMaterial?(_(K,$),$.isLineDashedMaterial&&S(K,$)):$.isPointsMaterial?T(K,$,oe,se):$.isSpriteMaterial?A(K,$):$.isShadowMaterial?(K.color.value.copy($.color),K.opacity.value=$.opacity):$.isShaderMaterial&&($.uniformsNeedUpdate=!1)}function m(K,$){K.opacity.value=$.opacity,$.color&&K.diffuse.value.copy($.color),$.emissive&&K.emissive.value.copy($.emissive).multiplyScalar($.emissiveIntensity),$.map&&(K.map.value=$.map,r($.map,K.mapTransform)),$.alphaMap&&(K.alphaMap.value=$.alphaMap,r($.alphaMap,K.alphaMapTransform)),$.bumpMap&&(K.bumpMap.value=$.bumpMap,r($.bumpMap,K.bumpMapTransform),K.bumpScale.value=$.bumpScale,$.side===w&&(K.bumpScale.value*=-1)),$.normalMap&&(K.normalMap.value=$.normalMap,r($.normalMap,K.normalMapTransform),K.normalScale.value.copy($.normalScale),$.side===w&&K.normalScale.value.negate()),$.displacementMap&&(K.displacementMap.value=$.displacementMap,r($.displacementMap,K.displacementMapTransform),K.displacementScale.value=$.displacementScale,K.displacementBias.value=$.displacementBias),$.emissiveMap&&(K.emissiveMap.value=$.emissiveMap,r($.emissiveMap,K.emissiveMapTransform)),$.specularMap&&(K.specularMap.value=$.specularMap,r($.specularMap,K.specularMapTransform)),$.alphaTest>0&&(K.alphaTest.value=$.alphaTest);const oe=n.get($).envMap;if(oe&&(K.envMap.value=oe,K.flipEnvMap.value=oe.isCubeTexture&&oe.isRenderTargetTexture===!1?-1:1,K.reflectivity.value=$.reflectivity,K.ior.value=$.ior,K.refractionRatio.value=$.refractionRatio),$.lightMap){K.lightMap.value=$.lightMap;const se=y.useLegacyLights===!0?Math.PI:1;K.lightMapIntensity.value=$.lightMapIntensity*se,r($.lightMap,K.lightMapTransform)}$.aoMap&&(K.aoMap.value=$.aoMap,K.aoMapIntensity.value=$.aoMapIntensity,r($.aoMap,K.aoMapTransform))}function _(K,$){K.diffuse.value.copy($.color),K.opacity.value=$.opacity,$.map&&(K.map.value=$.map,r($.map,K.mapTransform))}function S(K,$){K.dashSize.value=$.dashSize,K.totalSize.value=$.dashSize+$.gapSize,K.scale.value=$.scale}function T(K,$,oe,se){K.diffuse.value.copy($.color),K.opacity.value=$.opacity,K.size.value=$.size*oe,K.scale.value=se*.5,$.map&&(K.map.value=$.map,r($.map,K.uvTransform)),$.alphaMap&&(K.alphaMap.value=$.alphaMap),$.alphaTest>0&&(K.alphaTest.value=$.alphaTest)}function A(K,$){K.diffuse.value.copy($.color),K.opacity.value=$.opacity,K.rotation.value=$.rotation,$.map&&(K.map.value=$.map,r($.map,K.mapTransform)),$.alphaMap&&(K.alphaMap.value=$.alphaMap),$.alphaTest>0&&(K.alphaTest.value=$.alphaTest)}function I(K,$){K.specular.value.copy($.specular),K.shininess.value=Math.max($.shininess,1e-4)}function L(K,$){$.gradientMap&&(K.gradientMap.value=$.gradientMap)}function N(K,$){K.metalness.value=$.metalness,$.metalnessMap&&(K.metalnessMap.value=$.metalnessMap,r($.metalnessMap,K.metalnessMapTransform)),K.roughness.value=$.roughness,$.roughnessMap&&(K.roughnessMap.value=$.roughnessMap,r($.roughnessMap,K.roughnessMapTransform)),n.get($).envMap&&(K.envMapIntensity.value=$.envMapIntensity)}function z(K,$,oe){K.ior.value=$.ior,$.sheen>0&&(K.sheenColor.value.copy($.sheenColor).multiplyScalar($.sheen),K.sheenRoughness.value=$.sheenRoughness,$.sheenColorMap&&(K.sheenColorMap.value=$.sheenColorMap,r($.sheenColorMap,K.sheenColorMapTransform)),$.sheenRoughnessMap&&(K.sheenRoughnessMap.value=$.sheenRoughnessMap,r($.sheenRoughnessMap,K.sheenRoughnessMapTransform))),$.clearcoat>0&&(K.clearcoat.value=$.clearcoat,K.clearcoatRoughness.value=$.clearcoatRoughness,$.clearcoatMap&&(K.clearcoatMap.value=$.clearcoatMap,r($.clearcoatMap,K.clearcoatMapTransform)),$.clearcoatRoughnessMap&&(K.clearcoatRoughnessMap.value=$.clearcoatRoughnessMap,r($.clearcoatRoughnessMap,K.clearcoatRoughnessMapTransform)),$.clearcoatNormalMap&&(K.clearcoatNormalMap.value=$.clearcoatNormalMap,r($.clearcoatNormalMap,K.clearcoatNormalMapTransform),K.clearcoatNormalScale.value.copy($.clearcoatNormalScale),$.side===w&&K.clearcoatNormalScale.value.negate())),$.iridescence>0&&(K.iridescence.value=$.iridescence,K.iridescenceIOR.value=$.iridescenceIOR,K.iridescenceThicknessMinimum.value=$.iridescenceThicknessRange[0],K.iridescenceThicknessMaximum.value=$.iridescenceThicknessRange[1],$.iridescenceMap&&(K.iridescenceMap.value=$.iridescenceMap,r($.iridescenceMap,K.iridescenceMapTransform)),$.iridescenceThicknessMap&&(K.iridescenceThicknessMap.value=$.iridescenceThicknessMap,r($.iridescenceThicknessMap,K.iridescenceThicknessMapTransform))),$.transmission>0&&(K.transmission.value=$.transmission,K.transmissionSamplerMap.value=oe.texture,K.transmissionSamplerSize.value.set(oe.width,oe.height),$.transmissionMap&&(K.transmissionMap.value=$.transmissionMap,r($.transmissionMap,K.transmissionMapTransform)),K.thickness.value=$.thickness,$.thicknessMap&&(K.thicknessMap.value=$.thicknessMap,r($.thicknessMap,K.thicknessMapTransform)),K.attenuationDistance.value=$.attenuationDistance,K.attenuationColor.value.copy($.attenuationColor)),K.specularIntensity.value=$.specularIntensity,K.specularColor.value.copy($.specularColor),$.specularColorMap&&(K.specularColorMap.value=$.specularColorMap,r($.specularColorMap,K.specularColorMapTransform)),$.specularIntensityMap&&(K.specularIntensityMap.value=$.specularIntensityMap,r($.specularIntensityMap,K.specularIntensityMapTransform))}function V(K,$){$.matcap&&(K.matcap.value=$.matcap)}function Y(K,$){const oe=n.get($).light;K.referencePosition.value.setFromMatrixPosition(oe.matrixWorld),K.nearDistance.value=oe.shadow.camera.near,K.farDistance.value=oe.shadow.camera.far}return{refreshFogUniforms:c,refreshMaterialUniforms:d}}function u$(y,n,r,c){let d={},m={},_=[];const S=r.isWebGL2?y.getParameter(y.MAX_UNIFORM_BUFFER_BINDINGS):0;function T(oe,se){const le=se.program;c.uniformBlockBinding(oe,le)}function A(oe,se){let le=d[oe.id];le===void 0&&(V(oe),le=I(oe),d[oe.id]=le,oe.addEventListener("dispose",K));const ye=se.program;c.updateUBOMapping(oe,ye);const Me=n.render.frame;m[oe.id]!==Me&&(N(oe),m[oe.id]=Me)}function I(oe){const se=L();oe.__bindingPointIndex=se;const le=y.createBuffer(),ye=oe.__size,Me=oe.usage;return y.bindBuffer(y.UNIFORM_BUFFER,le),y.bufferData(y.UNIFORM_BUFFER,ye,Me),y.bindBuffer(y.UNIFORM_BUFFER,null),y.bindBufferBase(y.UNIFORM_BUFFER,se,le),le}function L(){for(let oe=0;oe<S;oe++)if(_.indexOf(oe)===-1)return _.push(oe),oe;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function N(oe){const se=d[oe.id],le=oe.uniforms,ye=oe.__cache;y.bindBuffer(y.UNIFORM_BUFFER,se);for(let Me=0,ze=le.length;Me<ze;Me++){const Ke=le[Me];if(z(Ke,Me,ye)===!0){const de=Ke.__offset,ke=Array.isArray(Ke.value)?Ke.value:[Ke.value];let bt=0;for(let St=0;St<ke.length;St++){const ot=ke[St],mt=Y(ot);typeof ot=="number"?(Ke.__data[0]=ot,y.bufferSubData(y.UNIFORM_BUFFER,de+bt,Ke.__data)):ot.isMatrix3?(Ke.__data[0]=ot.elements[0],Ke.__data[1]=ot.elements[1],Ke.__data[2]=ot.elements[2],Ke.__data[3]=ot.elements[0],Ke.__data[4]=ot.elements[3],Ke.__data[5]=ot.elements[4],Ke.__data[6]=ot.elements[5],Ke.__data[7]=ot.elements[0],Ke.__data[8]=ot.elements[6],Ke.__data[9]=ot.elements[7],Ke.__data[10]=ot.elements[8],Ke.__data[11]=ot.elements[0]):(ot.toArray(Ke.__data,bt),bt+=mt.storage/Float32Array.BYTES_PER_ELEMENT)}y.bufferSubData(y.UNIFORM_BUFFER,de,Ke.__data)}}y.bindBuffer(y.UNIFORM_BUFFER,null)}function z(oe,se,le){const ye=oe.value;if(le[se]===void 0){if(typeof ye=="number")le[se]=ye;else{const Me=Array.isArray(ye)?ye:[ye],ze=[];for(let Ke=0;Ke<Me.length;Ke++)ze.push(Me[Ke].clone());le[se]=ze}return!0}else if(typeof ye=="number"){if(le[se]!==ye)return le[se]=ye,!0}else{const Me=Array.isArray(le[se])?le[se]:[le[se]],ze=Array.isArray(ye)?ye:[ye];for(let Ke=0;Ke<Me.length;Ke++){const de=Me[Ke];if(de.equals(ze[Ke])===!1)return de.copy(ze[Ke]),!0}}return!1}function V(oe){const se=oe.uniforms;let le=0;const ye=16;let Me=0;for(let ze=0,Ke=se.length;ze<Ke;ze++){const de=se[ze],ke={boundary:0,storage:0},bt=Array.isArray(de.value)?de.value:[de.value];for(let St=0,ot=bt.length;St<ot;St++){const mt=bt[St],wt=Y(mt);ke.boundary+=wt.boundary,ke.storage+=wt.storage}if(de.__data=new Float32Array(ke.storage/Float32Array.BYTES_PER_ELEMENT),de.__offset=le,ze>0){Me=le%ye;const St=ye-Me;Me!==0&&St-ke.boundary<0&&(le+=ye-Me,de.__offset=le)}le+=ke.storage}return Me=le%ye,Me>0&&(le+=ye-Me),oe.__size=le,oe.__cache={},this}function Y(oe){const se={boundary:0,storage:0};return typeof oe=="number"?(se.boundary=4,se.storage=4):oe.isVector2?(se.boundary=8,se.storage=8):oe.isVector3||oe.isColor?(se.boundary=16,se.storage=12):oe.isVector4?(se.boundary=16,se.storage=16):oe.isMatrix3?(se.boundary=48,se.storage=48):oe.isMatrix4?(se.boundary=64,se.storage=64):oe.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",oe),se}function K(oe){const se=oe.target;se.removeEventListener("dispose",K);const le=_.indexOf(se.__bindingPointIndex);_.splice(le,1),y.deleteBuffer(d[se.id]),delete d[se.id],delete m[se.id]}function $(){for(const oe in d)y.deleteBuffer(d[oe]);_=[],d={},m={}}return{bind:T,update:A,dispose:$}}function d$(){const y=yf("canvas");return y.style.display="block",y}class GM{constructor(n={}){const{canvas:r=d$(),context:c=null,depth:d=!0,stencil:m=!0,alpha:_=!1,antialias:S=!1,premultipliedAlpha:T=!0,preserveDrawingBuffer:A=!1,powerPreference:I="default",failIfMajorPerformanceCaveat:L=!1}=n;this.isWebGLRenderer=!0;let N;c!==null?N=c.getContextAttributes().alpha:N=_;let z=null,V=null;const Y=[],K=[];this.domElement=r,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=ci,this.useLegacyLights=!0,this.toneMapping=we,this.toneMappingExposure=1;const $=this;let oe=!1,se=0,le=0,ye=null,Me=-1,ze=null;const Ke=new Li,de=new Li;let ke=null,bt=r.width,St=r.height,ot=1,mt=null,wt=null;const $t=new Li(0,0,bt,St),Ot=new Li(0,0,bt,St);let Dt=!1;const Qt=new vm;let Gt=!1,In=!1,sn=null;const Et=new li,Ht=new Re,dn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function mn(){return ye===null?ot:1}let je=c;function Qn(Ae,dt){for(let At=0;At<Ae.length;At++){const at=Ae[At],It=r.getContext(at,dt);if(It!==null)return It}return null}try{const Ae={alpha:!0,depth:d,stencil:m,antialias:S,premultipliedAlpha:T,preserveDrawingBuffer:A,powerPreference:I,failIfMajorPerformanceCaveat:L};if("setAttribute"in r&&r.setAttribute("data-engine",`three.js r${t}`),r.addEventListener("webglcontextlost",$n,!1),r.addEventListener("webglcontextrestored",xi,!1),r.addEventListener("webglcontextcreationerror",Bi,!1),je===null){const dt=["webgl2","webgl","experimental-webgl"];if($.isWebGL1Renderer===!0&&dt.shift(),je=Qn(dt,Ae),je===null)throw Qn(dt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}je.getShaderPrecisionFormat===void 0&&(je.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ae){throw console.error("THREE.WebGLRenderer: "+Ae.message),Ae}let ni,nn,Fn,qt,kt,jt,Mn,hn,Kn,qn,Vn,gi,Ri,Ne,be,gt,Zt,en,pn,Zn,Sn,Rt,Ln,Hn;function jn(){ni=new TB(je),nn=new wB(je,ni,n),ni.init(nn),Rt=new VM(je,ni,nn),Fn=new r$(je,ni,nn),qt=new kB(je),kt=new qz,jt=new o$(je,ni,Fn,kt,nn,Rt,qt),Mn=new xB($),hn=new CB($),Kn=new SF(je,nn),Ln=new bB(je,ni,Kn,nn),qn=new AB(je,Kn,qt,Ln),Vn=new NB(je,qn,Kn,qt),pn=new LB(je,nn,jt),gt=new SB(kt),gi=new Kz($,Mn,hn,ni,nn,Ln,gt),Ri=new c$($,kt),Ne=new Xz,be=new t$(ni,nn),en=new yB($,Mn,hn,Fn,Vn,N,T),Zt=new s$($,Vn,nn),Hn=new u$(je,qt,nn,Fn),Zn=new _B(je,ni,qt,nn),Sn=new RB(je,ni,qt,nn),qt.programs=gi.programs,$.capabilities=nn,$.extensions=ni,$.properties=kt,$.renderLists=Ne,$.shadowMap=Zt,$.state=Fn,$.info=qt}jn();const En=new l$($,je);this.xr=En,this.getContext=function(){return je},this.getContextAttributes=function(){return je.getContextAttributes()},this.forceContextLoss=function(){const Ae=ni.get("WEBGL_lose_context");Ae&&Ae.loseContext()},this.forceContextRestore=function(){const Ae=ni.get("WEBGL_lose_context");Ae&&Ae.restoreContext()},this.getPixelRatio=function(){return ot},this.setPixelRatio=function(Ae){Ae!==void 0&&(ot=Ae,this.setSize(bt,St,!1))},this.getSize=function(Ae){return Ae.set(bt,St)},this.setSize=function(Ae,dt,At=!0){if(En.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}bt=Ae,St=dt,r.width=Math.floor(Ae*ot),r.height=Math.floor(dt*ot),At===!0&&(r.style.width=Ae+"px",r.style.height=dt+"px"),this.setViewport(0,0,Ae,dt)},this.getDrawingBufferSize=function(Ae){return Ae.set(bt*ot,St*ot).floor()},this.setDrawingBufferSize=function(Ae,dt,At){bt=Ae,St=dt,ot=At,r.width=Math.floor(Ae*At),r.height=Math.floor(dt*At),this.setViewport(0,0,Ae,dt)},this.getCurrentViewport=function(Ae){return Ae.copy(Ke)},this.getViewport=function(Ae){return Ae.copy($t)},this.setViewport=function(Ae,dt,At,at){Ae.isVector4?$t.set(Ae.x,Ae.y,Ae.z,Ae.w):$t.set(Ae,dt,At,at),Fn.viewport(Ke.copy($t).multiplyScalar(ot).floor())},this.getScissor=function(Ae){return Ae.copy(Ot)},this.setScissor=function(Ae,dt,At,at){Ae.isVector4?Ot.set(Ae.x,Ae.y,Ae.z,Ae.w):Ot.set(Ae,dt,At,at),Fn.scissor(de.copy(Ot).multiplyScalar(ot).floor())},this.getScissorTest=function(){return Dt},this.setScissorTest=function(Ae){Fn.setScissorTest(Dt=Ae)},this.setOpaqueSort=function(Ae){mt=Ae},this.setTransparentSort=function(Ae){wt=Ae},this.getClearColor=function(Ae){return Ae.copy(en.getClearColor())},this.setClearColor=function(){en.setClearColor.apply(en,arguments)},this.getClearAlpha=function(){return en.getClearAlpha()},this.setClearAlpha=function(){en.setClearAlpha.apply(en,arguments)},this.clear=function(Ae=!0,dt=!0,At=!0){let at=0;Ae&&(at|=je.COLOR_BUFFER_BIT),dt&&(at|=je.DEPTH_BUFFER_BIT),At&&(at|=je.STENCIL_BUFFER_BIT),je.clear(at)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){r.removeEventListener("webglcontextlost",$n,!1),r.removeEventListener("webglcontextrestored",xi,!1),r.removeEventListener("webglcontextcreationerror",Bi,!1),Ne.dispose(),be.dispose(),kt.dispose(),Mn.dispose(),hn.dispose(),Vn.dispose(),Ln.dispose(),Hn.dispose(),gi.dispose(),En.dispose(),En.removeEventListener("sessionstart",zn),En.removeEventListener("sessionend",Gi),sn&&(sn.dispose(),sn=null),Ki.stop()};function $n(Ae){Ae.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),oe=!0}function xi(){console.log("THREE.WebGLRenderer: Context Restored."),oe=!1;const Ae=qt.autoReset,dt=Zt.enabled,At=Zt.autoUpdate,at=Zt.needsUpdate,It=Zt.type;jn(),qt.autoReset=Ae,Zt.enabled=dt,Zt.autoUpdate=At,Zt.needsUpdate=at,Zt.type=It}function Bi(Ae){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Ae.statusMessage)}function as(Ae){const dt=Ae.target;dt.removeEventListener("dispose",as),Ze(dt)}function Ze(Ae){Tt(Ae),kt.remove(Ae)}function Tt(Ae){const dt=kt.get(Ae).programs;dt!==void 0&&(dt.forEach(function(At){gi.releaseProgram(At)}),Ae.isShaderMaterial&&gi.releaseShaderCache(Ae))}this.renderBufferDirect=function(Ae,dt,At,at,It,Wn){dt===null&&(dt=dn);const Xn=It.isMesh&&It.matrixWorld.determinant()<0,ri=b8(Ae,dt,At,at,It);Fn.setMaterial(at,Xn);let mi=At.index,yi=1;at.wireframe===!0&&(mi=qn.getWireframeAttribute(At),yi=2);const bi=At.drawRange,wi=At.attributes.position;let zi=bi.start*yi,Xs=(bi.start+bi.count)*yi;Wn!==null&&(zi=Math.max(zi,Wn.start*yi),Xs=Math.min(Xs,(Wn.start+Wn.count)*yi)),mi!==null?(zi=Math.max(zi,0),Xs=Math.min(Xs,mi.count)):wi!=null&&(zi=Math.max(zi,0),Xs=Math.min(Xs,wi.count));const mo=Xs-zi;if(mo<0||mo===1/0)return;Ln.setup(It,at,ri,At,mi);let gc,ps=Zn;if(mi!==null&&(gc=Kn.get(mi),ps=Sn,ps.setIndex(gc)),It.isMesh)at.wireframe===!0?(Fn.setLineWidth(at.wireframeLinewidth*mn()),ps.setMode(je.LINES)):ps.setMode(je.TRIANGLES);else if(It.isLine){let Mi=at.linewidth;Mi===void 0&&(Mi=1),Fn.setLineWidth(Mi*mn()),It.isLineSegments?ps.setMode(je.LINES):It.isLineLoop?ps.setMode(je.LINE_LOOP):ps.setMode(je.LINE_STRIP)}else It.isPoints?ps.setMode(je.POINTS):It.isSprite&&ps.setMode(je.TRIANGLES);if(It.isInstancedMesh)ps.renderInstances(zi,mo,It.count);else if(At.isInstancedBufferGeometry){const Mi=At._maxInstanceCount!==void 0?At._maxInstanceCount:1/0,zb=Math.min(At.instanceCount,Mi);ps.renderInstances(zi,mo,zb)}else ps.render(zi,mo)},this.compile=function(Ae,dt){function At(at,It,Wn){at.transparent===!0&&at.side===M&&at.forceSinglePass===!1?(at.side=w,at.needsUpdate=!0,Qm(at,It,Wn),at.side=b,at.needsUpdate=!0,Qm(at,It,Wn),at.side=M):Qm(at,It,Wn)}V=be.get(Ae),V.init(),K.push(V),Ae.traverseVisible(function(at){at.isLight&&at.layers.test(dt.layers)&&(V.pushLight(at),at.castShadow&&V.pushShadow(at))}),V.setupLights($.useLegacyLights),Ae.traverse(function(at){const It=at.material;if(It)if(Array.isArray(It))for(let Wn=0;Wn<It.length;Wn++){const Xn=It[Wn];At(Xn,Ae,at)}else At(It,Ae,at)}),K.pop(),V=null};let Jt=null;function yn(Ae){Jt&&Jt(Ae)}function zn(){Ki.stop()}function Gi(){Ki.start()}const Ki=new gM;Ki.setAnimationLoop(yn),typeof self<"u"&&Ki.setContext(self),this.setAnimationLoop=function(Ae){Jt=Ae,En.setAnimationLoop(Ae),Ae===null?Ki.stop():Ki.start()},En.addEventListener("sessionstart",zn),En.addEventListener("sessionend",Gi),this.render=function(Ae,dt){if(dt!==void 0&&dt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(oe===!0)return;Ae.matrixWorldAutoUpdate===!0&&Ae.updateMatrixWorld(),dt.parent===null&&dt.matrixWorldAutoUpdate===!0&&dt.updateMatrixWorld(),En.enabled===!0&&En.isPresenting===!0&&(En.cameraAutoUpdate===!0&&En.updateCamera(dt),dt=En.getCamera()),Ae.isScene===!0&&Ae.onBeforeRender($,Ae,dt,ye),V=be.get(Ae,K.length),V.init(),K.push(V),Et.multiplyMatrices(dt.projectionMatrix,dt.matrixWorldInverse),Qt.setFromProjectionMatrix(Et),In=this.localClippingEnabled,Gt=gt.init(this.clippingPlanes,In),z=Ne.get(Ae,Y.length),z.init(),Y.push(z),$s(Ae,dt,0,$.sortObjects),z.finish(),$.sortObjects===!0&&z.sort(mt,wt),Gt===!0&&gt.beginShadows();const At=V.state.shadowsArray;if(Zt.render(At,Ae,dt),Gt===!0&&gt.endShadows(),this.info.autoReset===!0&&this.info.reset(),en.render(z,Ae),V.setupLights($.useLegacyLights),dt.isArrayCamera){const at=dt.cameras;for(let It=0,Wn=at.length;It<Wn;It++){const Xn=at[It];ul(z,Ae,Xn,Xn.viewport)}}else ul(z,Ae,dt);ye!==null&&(jt.updateMultisampleRenderTarget(ye),jt.updateRenderTargetMipmap(ye)),Ae.isScene===!0&&Ae.onAfterRender($,Ae,dt),Ln.resetDefaultState(),Me=-1,ze=null,K.pop(),K.length>0?V=K[K.length-1]:V=null,Y.pop(),Y.length>0?z=Y[Y.length-1]:z=null};function $s(Ae,dt,At,at){if(Ae.visible===!1)return;if(Ae.layers.test(dt.layers)){if(Ae.isGroup)At=Ae.renderOrder;else if(Ae.isLOD)Ae.autoUpdate===!0&&Ae.update(dt);else if(Ae.isLight)V.pushLight(Ae),Ae.castShadow&&V.pushShadow(Ae);else if(Ae.isSprite){if(!Ae.frustumCulled||Qt.intersectsSprite(Ae)){at&&Ht.setFromMatrixPosition(Ae.matrixWorld).applyMatrix4(Et);const Xn=Vn.update(Ae),ri=Ae.material;ri.visible&&z.push(Ae,Xn,ri,At,Ht.z,null)}}else if((Ae.isMesh||Ae.isLine||Ae.isPoints)&&(!Ae.frustumCulled||Qt.intersectsObject(Ae))){Ae.isSkinnedMesh&&Ae.skeleton.frame!==qt.render.frame&&(Ae.skeleton.update(),Ae.skeleton.frame=qt.render.frame);const Xn=Vn.update(Ae),ri=Ae.material;if(at&&(Xn.boundingSphere===null&&Xn.computeBoundingSphere(),Ht.copy(Xn.boundingSphere.center).applyMatrix4(Ae.matrixWorld).applyMatrix4(Et)),Array.isArray(ri)){const mi=Xn.groups;for(let yi=0,bi=mi.length;yi<bi;yi++){const wi=mi[yi],zi=ri[wi.materialIndex];zi&&zi.visible&&z.push(Ae,Xn,zi,At,Ht.z,wi)}}else ri.visible&&z.push(Ae,Xn,ri,At,Ht.z,null)}}const Wn=Ae.children;for(let Xn=0,ri=Wn.length;Xn<ri;Xn++)$s(Wn[Xn],dt,At,at)}function ul(Ae,dt,At,at){const It=Ae.opaque,Wn=Ae.transmissive,Xn=Ae.transparent;V.setupLightsView(At),Gt===!0&&gt.setGlobalState($.clippingPlanes,At),Wn.length>0&&ls(It,Wn,dt,At),at&&Fn.viewport(Ke.copy(at)),It.length>0&&Vr(It,dt,At),Wn.length>0&&Vr(Wn,dt,At),Xn.length>0&&Vr(Xn,dt,At),Fn.buffers.depth.setTest(!0),Fn.buffers.depth.setMask(!0),Fn.buffers.color.setMask(!0),Fn.setPolygonOffset(!1)}function ls(Ae,dt,At,at){if(sn===null){const ri=nn.isWebGL2;sn=new ao(1024,1024,{generateMipmaps:!0,type:ni.has("EXT_color_buffer_half_float")?Kt:Ct,minFilter:tn,samples:ri&&S===!0?4:0})}const It=$.getRenderTarget();$.setRenderTarget(sn),$.clear();const Wn=$.toneMapping;$.toneMapping=we,Vr(Ae,At,at),jt.updateMultisampleRenderTarget(sn),jt.updateRenderTargetMipmap(sn);let Xn=!1;for(let ri=0,mi=dt.length;ri<mi;ri++){const yi=dt[ri],bi=yi.object,wi=yi.geometry,zi=yi.material,Xs=yi.group;if(zi.side===M&&bi.layers.test(at.layers)){const mo=zi.side;zi.side=w,zi.needsUpdate=!0,Wo(bi,At,at,wi,zi,Xs),zi.side=mo,zi.needsUpdate=!0,Xn=!0}}Xn===!0&&(jt.updateMultisampleRenderTarget(sn),jt.updateRenderTargetMipmap(sn)),$.setRenderTarget(It),$.toneMapping=Wn}function Vr(Ae,dt,At){const at=dt.isScene===!0?dt.overrideMaterial:null;for(let It=0,Wn=Ae.length;It<Wn;It++){const Xn=Ae[It],ri=Xn.object,mi=Xn.geometry,yi=at===null?Xn.material:at,bi=Xn.group;ri.layers.test(At.layers)&&Wo(ri,dt,At,mi,yi,bi)}}function Wo(Ae,dt,At,at,It,Wn){Ae.onBeforeRender($,dt,At,at,It,Wn),Ae.modelViewMatrix.multiplyMatrices(At.matrixWorldInverse,Ae.matrixWorld),Ae.normalMatrix.getNormalMatrix(Ae.modelViewMatrix),It.onBeforeRender($,dt,At,at,Ae,Wn),It.transparent===!0&&It.side===M&&It.forceSinglePass===!1?(It.side=w,It.needsUpdate=!0,$.renderBufferDirect(At,dt,at,It,Ae,Wn),It.side=b,It.needsUpdate=!0,$.renderBufferDirect(At,dt,at,It,Ae,Wn),It.side=M):$.renderBufferDirect(At,dt,at,It,Ae,Wn),Ae.onAfterRender($,dt,At,at,It,Wn)}function Qm(Ae,dt,At){dt.isScene!==!0&&(dt=dn);const at=kt.get(Ae),It=V.state.lights,Wn=V.state.shadowsArray,Xn=It.state.version,ri=gi.getParameters(Ae,It.state,Wn,dt,At),mi=gi.getProgramCacheKey(ri);let yi=at.programs;at.environment=Ae.isMeshStandardMaterial?dt.environment:null,at.fog=dt.fog,at.envMap=(Ae.isMeshStandardMaterial?hn:Mn).get(Ae.envMap||at.environment),yi===void 0&&(Ae.addEventListener("dispose",as),yi=new Map,at.programs=yi);let bi=yi.get(mi);if(bi!==void 0){if(at.currentProgram===bi&&at.lightsStateVersion===Xn)return TC(Ae,ri),bi}else ri.uniforms=gi.getUniforms(Ae),Ae.onBuild(At,ri,$),Ae.onBeforeCompile(ri,$),bi=gi.acquireProgram(ri,mi),yi.set(mi,bi),at.uniforms=ri.uniforms;const wi=at.uniforms;(!Ae.isShaderMaterial&&!Ae.isRawShaderMaterial||Ae.clipping===!0)&&(wi.clippingPlanes=gt.uniform),TC(Ae,ri),at.needsLights=w8(Ae),at.lightsStateVersion=Xn,at.needsLights&&(wi.ambientLightColor.value=It.state.ambient,wi.lightProbe.value=It.state.probe,wi.directionalLights.value=It.state.directional,wi.directionalLightShadows.value=It.state.directionalShadow,wi.spotLights.value=It.state.spot,wi.spotLightShadows.value=It.state.spotShadow,wi.rectAreaLights.value=It.state.rectArea,wi.ltc_1.value=It.state.rectAreaLTC1,wi.ltc_2.value=It.state.rectAreaLTC2,wi.pointLights.value=It.state.point,wi.pointLightShadows.value=It.state.pointShadow,wi.hemisphereLights.value=It.state.hemi,wi.directionalShadowMap.value=It.state.directionalShadowMap,wi.directionalShadowMatrix.value=It.state.directionalShadowMatrix,wi.spotShadowMap.value=It.state.spotShadowMap,wi.spotLightMatrix.value=It.state.spotLightMatrix,wi.spotLightMap.value=It.state.spotLightMap,wi.pointShadowMap.value=It.state.pointShadowMap,wi.pointShadowMatrix.value=It.state.pointShadowMatrix);const zi=bi.getUniforms(),Xs=Sm.seqWithValue(zi.seq,wi);return at.currentProgram=bi,at.uniformsList=Xs,bi}function TC(Ae,dt){const At=kt.get(Ae);At.outputColorSpace=dt.outputColorSpace,At.instancing=dt.instancing,At.skinning=dt.skinning,At.morphTargets=dt.morphTargets,At.morphNormals=dt.morphNormals,At.morphColors=dt.morphColors,At.morphTargetsCount=dt.morphTargetsCount,At.numClippingPlanes=dt.numClippingPlanes,At.numIntersection=dt.numClipIntersection,At.vertexAlphas=dt.vertexAlphas,At.vertexTangents=dt.vertexTangents,At.toneMapping=dt.toneMapping}function b8(Ae,dt,At,at,It){dt.isScene!==!0&&(dt=dn),jt.resetTextureUnits();const Wn=dt.fog,Xn=at.isMeshStandardMaterial?dt.environment:null,ri=ye===null?$.outputColorSpace:ye.isXRRenderTarget===!0?ye.texture.colorSpace:oo,mi=(at.isMeshStandardMaterial?hn:Mn).get(at.envMap||Xn),yi=at.vertexColors===!0&&!!At.attributes.color&&At.attributes.color.itemSize===4,bi=!!at.normalMap&&!!At.attributes.tangent,wi=!!At.morphAttributes.position,zi=!!At.morphAttributes.normal,Xs=!!At.morphAttributes.color,mo=at.toneMapped?$.toneMapping:we,gc=At.morphAttributes.position||At.morphAttributes.normal||At.morphAttributes.color,ps=gc!==void 0?gc.length:0,Mi=kt.get(at),zb=V.state.lights;if(Gt===!0&&(In===!0||Ae!==ze)){const Tr=Ae===ze&&at.id===Me;gt.setState(at,Ae,Tr)}let Ms=!1;at.version===Mi.__version?(Mi.needsLights&&Mi.lightsStateVersion!==zb.state.version||Mi.outputColorSpace!==ri||It.isInstancedMesh&&Mi.instancing===!1||!It.isInstancedMesh&&Mi.instancing===!0||It.isSkinnedMesh&&Mi.skinning===!1||!It.isSkinnedMesh&&Mi.skinning===!0||Mi.envMap!==mi||at.fog===!0&&Mi.fog!==Wn||Mi.numClippingPlanes!==void 0&&(Mi.numClippingPlanes!==gt.numPlanes||Mi.numIntersection!==gt.numIntersection)||Mi.vertexAlphas!==yi||Mi.vertexTangents!==bi||Mi.morphTargets!==wi||Mi.morphNormals!==zi||Mi.morphColors!==Xs||Mi.toneMapping!==mo||nn.isWebGL2===!0&&Mi.morphTargetsCount!==ps)&&(Ms=!0):(Ms=!0,Mi.__version=at.version);let vc=Mi.currentProgram;Ms===!0&&(vc=Qm(at,dt,It));let AC=!1,sh=!1,$b=!1;const Ys=vc.getUniforms(),yc=Mi.uniforms;if(Fn.useProgram(vc.program)&&(AC=!0,sh=!0,$b=!0),at.id!==Me&&(Me=at.id,sh=!0),AC||ze!==Ae){if(Ys.setValue(je,"projectionMatrix",Ae.projectionMatrix),nn.logarithmicDepthBuffer&&Ys.setValue(je,"logDepthBufFC",2/(Math.log(Ae.far+1)/Math.LN2)),ze!==Ae&&(ze=Ae,sh=!0,$b=!0),at.isShaderMaterial||at.isMeshPhongMaterial||at.isMeshToonMaterial||at.isMeshStandardMaterial||at.envMap){const Tr=Ys.map.cameraPosition;Tr!==void 0&&Tr.setValue(je,Ht.setFromMatrixPosition(Ae.matrixWorld))}(at.isMeshPhongMaterial||at.isMeshToonMaterial||at.isMeshLambertMaterial||at.isMeshBasicMaterial||at.isMeshStandardMaterial||at.isShaderMaterial)&&Ys.setValue(je,"isOrthographic",Ae.isOrthographicCamera===!0),(at.isMeshPhongMaterial||at.isMeshToonMaterial||at.isMeshLambertMaterial||at.isMeshBasicMaterial||at.isMeshStandardMaterial||at.isShaderMaterial||at.isShadowMaterial||It.isSkinnedMesh)&&Ys.setValue(je,"viewMatrix",Ae.matrixWorldInverse)}if(It.isSkinnedMesh){Ys.setOptional(je,It,"bindMatrix"),Ys.setOptional(je,It,"bindMatrixInverse");const Tr=It.skeleton;Tr&&(nn.floatVertexTextures?(Tr.boneTexture===null&&Tr.computeBoneTexture(),Ys.setValue(je,"boneTexture",Tr.boneTexture,jt),Ys.setValue(je,"boneTextureSize",Tr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Ub=At.morphAttributes;if((Ub.position!==void 0||Ub.normal!==void 0||Ub.color!==void 0&&nn.isWebGL2===!0)&&pn.update(It,At,vc),(sh||Mi.receiveShadow!==It.receiveShadow)&&(Mi.receiveShadow=It.receiveShadow,Ys.setValue(je,"receiveShadow",It.receiveShadow)),at.isMeshGouraudMaterial&&at.envMap!==null&&(yc.envMap.value=mi,yc.flipEnvMap.value=mi.isCubeTexture&&mi.isRenderTargetTexture===!1?-1:1),sh&&(Ys.setValue(je,"toneMappingExposure",$.toneMappingExposure),Mi.needsLights&&_8(yc,$b),Wn&&at.fog===!0&&Ri.refreshFogUniforms(yc,Wn),Ri.refreshMaterialUniforms(yc,at,ot,St,sn),Sm.upload(je,Mi.uniformsList,yc,jt)),at.isShaderMaterial&&at.uniformsNeedUpdate===!0&&(Sm.upload(je,Mi.uniformsList,yc,jt),at.uniformsNeedUpdate=!1),at.isSpriteMaterial&&Ys.setValue(je,"center",It.center),Ys.setValue(je,"modelViewMatrix",It.modelViewMatrix),Ys.setValue(je,"normalMatrix",It.normalMatrix),Ys.setValue(je,"modelMatrix",It.matrixWorld),at.isShaderMaterial||at.isRawShaderMaterial){const Tr=at.uniformsGroups;for(let Vb=0,S8=Tr.length;Vb<S8;Vb++)if(nn.isWebGL2){const RC=Tr[Vb];Hn.update(RC,vc),Hn.bind(RC,vc)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return vc}function _8(Ae,dt){Ae.ambientLightColor.needsUpdate=dt,Ae.lightProbe.needsUpdate=dt,Ae.directionalLights.needsUpdate=dt,Ae.directionalLightShadows.needsUpdate=dt,Ae.pointLights.needsUpdate=dt,Ae.pointLightShadows.needsUpdate=dt,Ae.spotLights.needsUpdate=dt,Ae.spotLightShadows.needsUpdate=dt,Ae.rectAreaLights.needsUpdate=dt,Ae.hemisphereLights.needsUpdate=dt}function w8(Ae){return Ae.isMeshLambertMaterial||Ae.isMeshToonMaterial||Ae.isMeshPhongMaterial||Ae.isMeshStandardMaterial||Ae.isShadowMaterial||Ae.isShaderMaterial&&Ae.lights===!0}this.getActiveCubeFace=function(){return se},this.getActiveMipmapLevel=function(){return le},this.getRenderTarget=function(){return ye},this.setRenderTargetTextures=function(Ae,dt,At){kt.get(Ae.texture).__webglTexture=dt,kt.get(Ae.depthTexture).__webglTexture=At;const at=kt.get(Ae);at.__hasExternalTextures=!0,at.__hasExternalTextures&&(at.__autoAllocateDepthBuffer=At===void 0,at.__autoAllocateDepthBuffer||ni.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),at.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Ae,dt){const At=kt.get(Ae);At.__webglFramebuffer=dt,At.__useDefaultFramebuffer=dt===void 0},this.setRenderTarget=function(Ae,dt=0,At=0){ye=Ae,se=dt,le=At;let at=!0,It=null,Wn=!1,Xn=!1;if(Ae){const mi=kt.get(Ae);mi.__useDefaultFramebuffer!==void 0?(Fn.bindFramebuffer(je.FRAMEBUFFER,null),at=!1):mi.__webglFramebuffer===void 0?jt.setupRenderTarget(Ae):mi.__hasExternalTextures&&jt.rebindTextures(Ae,kt.get(Ae.texture).__webglTexture,kt.get(Ae.depthTexture).__webglTexture);const yi=Ae.texture;(yi.isData3DTexture||yi.isDataArrayTexture||yi.isCompressedArrayTexture)&&(Xn=!0);const bi=kt.get(Ae).__webglFramebuffer;Ae.isWebGLCubeRenderTarget?(It=bi[dt],Wn=!0):nn.isWebGL2&&Ae.samples>0&&jt.useMultisampledRTT(Ae)===!1?It=kt.get(Ae).__webglMultisampledFramebuffer:It=bi,Ke.copy(Ae.viewport),de.copy(Ae.scissor),ke=Ae.scissorTest}else Ke.copy($t).multiplyScalar(ot).floor(),de.copy(Ot).multiplyScalar(ot).floor(),ke=Dt;if(Fn.bindFramebuffer(je.FRAMEBUFFER,It)&&nn.drawBuffers&&at&&Fn.drawBuffers(Ae,It),Fn.viewport(Ke),Fn.scissor(de),Fn.setScissorTest(ke),Wn){const mi=kt.get(Ae.texture);je.framebufferTexture2D(je.FRAMEBUFFER,je.COLOR_ATTACHMENT0,je.TEXTURE_CUBE_MAP_POSITIVE_X+dt,mi.__webglTexture,At)}else if(Xn){const mi=kt.get(Ae.texture),yi=dt||0;je.framebufferTextureLayer(je.FRAMEBUFFER,je.COLOR_ATTACHMENT0,mi.__webglTexture,At||0,yi)}Me=-1},this.readRenderTargetPixels=function(Ae,dt,At,at,It,Wn,Xn){if(!(Ae&&Ae.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ri=kt.get(Ae).__webglFramebuffer;if(Ae.isWebGLCubeRenderTarget&&Xn!==void 0&&(ri=ri[Xn]),ri){Fn.bindFramebuffer(je.FRAMEBUFFER,ri);try{const mi=Ae.texture,yi=mi.format,bi=mi.type;if(yi!==Ss&&Rt.convert(yi)!==je.getParameter(je.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const wi=bi===Kt&&(ni.has("EXT_color_buffer_half_float")||nn.isWebGL2&&ni.has("EXT_color_buffer_float"));if(bi!==Ct&&Rt.convert(bi)!==je.getParameter(je.IMPLEMENTATION_COLOR_READ_TYPE)&&!(bi===st&&(nn.isWebGL2||ni.has("OES_texture_float")||ni.has("WEBGL_color_buffer_float")))&&!wi){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}dt>=0&&dt<=Ae.width-at&&At>=0&&At<=Ae.height-It&&je.readPixels(dt,At,at,It,Rt.convert(yi),Rt.convert(bi),Wn)}finally{const mi=ye!==null?kt.get(ye).__webglFramebuffer:null;Fn.bindFramebuffer(je.FRAMEBUFFER,mi)}}},this.copyFramebufferToTexture=function(Ae,dt,At=0){const at=Math.pow(2,-At),It=Math.floor(dt.image.width*at),Wn=Math.floor(dt.image.height*at);jt.setTexture2D(dt,0),je.copyTexSubImage2D(je.TEXTURE_2D,At,0,0,Ae.x,Ae.y,It,Wn),Fn.unbindTexture()},this.copyTextureToTexture=function(Ae,dt,At,at=0){const It=dt.image.width,Wn=dt.image.height,Xn=Rt.convert(At.format),ri=Rt.convert(At.type);jt.setTexture2D(At,0),je.pixelStorei(je.UNPACK_FLIP_Y_WEBGL,At.flipY),je.pixelStorei(je.UNPACK_PREMULTIPLY_ALPHA_WEBGL,At.premultiplyAlpha),je.pixelStorei(je.UNPACK_ALIGNMENT,At.unpackAlignment),dt.isDataTexture?je.texSubImage2D(je.TEXTURE_2D,at,Ae.x,Ae.y,It,Wn,Xn,ri,dt.image.data):dt.isCompressedTexture?je.compressedTexSubImage2D(je.TEXTURE_2D,at,Ae.x,Ae.y,dt.mipmaps[0].width,dt.mipmaps[0].height,Xn,dt.mipmaps[0].data):je.texSubImage2D(je.TEXTURE_2D,at,Ae.x,Ae.y,Xn,ri,dt.image),at===0&&At.generateMipmaps&&je.generateMipmap(je.TEXTURE_2D),Fn.unbindTexture()},this.copyTextureToTexture3D=function(Ae,dt,At,at,It=0){if($.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Wn=Ae.max.x-Ae.min.x+1,Xn=Ae.max.y-Ae.min.y+1,ri=Ae.max.z-Ae.min.z+1,mi=Rt.convert(at.format),yi=Rt.convert(at.type);let bi;if(at.isData3DTexture)jt.setTexture3D(at,0),bi=je.TEXTURE_3D;else if(at.isDataArrayTexture)jt.setTexture2DArray(at,0),bi=je.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}je.pixelStorei(je.UNPACK_FLIP_Y_WEBGL,at.flipY),je.pixelStorei(je.UNPACK_PREMULTIPLY_ALPHA_WEBGL,at.premultiplyAlpha),je.pixelStorei(je.UNPACK_ALIGNMENT,at.unpackAlignment);const wi=je.getParameter(je.UNPACK_ROW_LENGTH),zi=je.getParameter(je.UNPACK_IMAGE_HEIGHT),Xs=je.getParameter(je.UNPACK_SKIP_PIXELS),mo=je.getParameter(je.UNPACK_SKIP_ROWS),gc=je.getParameter(je.UNPACK_SKIP_IMAGES),ps=At.isCompressedTexture?At.mipmaps[0]:At.image;je.pixelStorei(je.UNPACK_ROW_LENGTH,ps.width),je.pixelStorei(je.UNPACK_IMAGE_HEIGHT,ps.height),je.pixelStorei(je.UNPACK_SKIP_PIXELS,Ae.min.x),je.pixelStorei(je.UNPACK_SKIP_ROWS,Ae.min.y),je.pixelStorei(je.UNPACK_SKIP_IMAGES,Ae.min.z),At.isDataTexture||At.isData3DTexture?je.texSubImage3D(bi,It,dt.x,dt.y,dt.z,Wn,Xn,ri,mi,yi,ps.data):At.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),je.compressedTexSubImage3D(bi,It,dt.x,dt.y,dt.z,Wn,Xn,ri,mi,ps.data)):je.texSubImage3D(bi,It,dt.x,dt.y,dt.z,Wn,Xn,ri,mi,yi,ps),je.pixelStorei(je.UNPACK_ROW_LENGTH,wi),je.pixelStorei(je.UNPACK_IMAGE_HEIGHT,zi),je.pixelStorei(je.UNPACK_SKIP_PIXELS,Xs),je.pixelStorei(je.UNPACK_SKIP_ROWS,mo),je.pixelStorei(je.UNPACK_SKIP_IMAGES,gc),It===0&&at.generateMipmaps&&je.generateMipmap(bi),Fn.unbindTexture()},this.initTexture=function(Ae){Ae.isCubeTexture?jt.setTextureCube(Ae,0):Ae.isData3DTexture?jt.setTexture3D(Ae,0):Ae.isDataArrayTexture||Ae.isCompressedArrayTexture?jt.setTexture2DArray(Ae,0):jt.setTexture2D(Ae,0),Fn.unbindTexture()},this.resetState=function(){se=0,le=0,ye=null,Fn.reset(),Ln.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(n){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!n}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===ci?Za:wy}set outputEncoding(n){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=n===Za?ci:oo}}class KM extends GM{}KM.prototype.isWebGL1Renderer=!0;class xm{constructor(n,r=25e-5){this.isFogExp2=!0,this.name="",this.color=new vn(n),this.density=r}clone(){return new xm(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Mm{constructor(n,r=1,c=1e3){this.isFog=!0,this.name="",this.color=new vn(n),this.near=r,this.far=c}clone(){return new Mm(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class qM extends Ai{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(n,r){return super.copy(n,r),n.background!==null&&(this.background=n.background.clone()),n.environment!==null&&(this.environment=n.environment.clone()),n.fog!==null&&(this.fog=n.fog.clone()),this.backgroundBlurriness=n.backgroundBlurriness,this.backgroundIntensity=n.backgroundIntensity,n.overrideMaterial!==null&&(this.overrideMaterial=n.overrideMaterial.clone()),this.matrixAutoUpdate=n.matrixAutoUpdate,this}toJSON(n){const r=super.toJSON(n);return this.fog!==null&&(r.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(r.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(r.object.backgroundIntensity=this.backgroundIntensity),r}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(n){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=n}}class Em{constructor(n,r){this.isInterleavedBuffer=!0,this.array=n,this.stride=r,this.count=n!==void 0?n.length/r:0,this.usage=gf,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Sr()}onUploadCallback(){}set needsUpdate(n){n===!0&&this.version++}setUsage(n){return this.usage=n,this}copy(n){return this.array=new n.array.constructor(n.array),this.count=n.count,this.stride=n.stride,this.usage=n.usage,this}copyAt(n,r,c){n*=this.stride,c*=r.stride;for(let d=0,m=this.stride;d<m;d++)this.array[n+d]=r.array[c+d];return this}set(n,r=0){return this.array.set(n,r),this}clone(n){n.arrayBuffers===void 0&&(n.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Sr()),n.arrayBuffers[this.array.buffer._uuid]===void 0&&(n.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const r=new this.array.constructor(n.arrayBuffers[this.array.buffer._uuid]),c=new this.constructor(r,this.stride);return c.setUsage(this.usage),c}onUpload(n){return this.onUploadCallback=n,this}toJSON(n){return n.arrayBuffers===void 0&&(n.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Sr()),n.arrayBuffers[this.array.buffer._uuid]===void 0&&(n.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const qs=new Re;class ic{constructor(n,r,c,d=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=n,this.itemSize=r,this.offset=c,this.normalized=d}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(n){this.data.needsUpdate=n}applyMatrix4(n){for(let r=0,c=this.data.count;r<c;r++)qs.fromBufferAttribute(this,r),qs.applyMatrix4(n),this.setXYZ(r,qs.x,qs.y,qs.z);return this}applyNormalMatrix(n){for(let r=0,c=this.count;r<c;r++)qs.fromBufferAttribute(this,r),qs.applyNormalMatrix(n),this.setXYZ(r,qs.x,qs.y,qs.z);return this}transformDirection(n){for(let r=0,c=this.count;r<c;r++)qs.fromBufferAttribute(this,r),qs.transformDirection(n),this.setXYZ(r,qs.x,qs.y,qs.z);return this}setX(n,r){return this.normalized&&(r=di(r,this.array)),this.data.array[n*this.data.stride+this.offset]=r,this}setY(n,r){return this.normalized&&(r=di(r,this.array)),this.data.array[n*this.data.stride+this.offset+1]=r,this}setZ(n,r){return this.normalized&&(r=di(r,this.array)),this.data.array[n*this.data.stride+this.offset+2]=r,this}setW(n,r){return this.normalized&&(r=di(r,this.array)),this.data.array[n*this.data.stride+this.offset+3]=r,this}getX(n){let r=this.data.array[n*this.data.stride+this.offset];return this.normalized&&(r=xr(r,this.array)),r}getY(n){let r=this.data.array[n*this.data.stride+this.offset+1];return this.normalized&&(r=xr(r,this.array)),r}getZ(n){let r=this.data.array[n*this.data.stride+this.offset+2];return this.normalized&&(r=xr(r,this.array)),r}getW(n){let r=this.data.array[n*this.data.stride+this.offset+3];return this.normalized&&(r=xr(r,this.array)),r}setXY(n,r,c){return n=n*this.data.stride+this.offset,this.normalized&&(r=di(r,this.array),c=di(c,this.array)),this.data.array[n+0]=r,this.data.array[n+1]=c,this}setXYZ(n,r,c,d){return n=n*this.data.stride+this.offset,this.normalized&&(r=di(r,this.array),c=di(c,this.array),d=di(d,this.array)),this.data.array[n+0]=r,this.data.array[n+1]=c,this.data.array[n+2]=d,this}setXYZW(n,r,c,d,m){return n=n*this.data.stride+this.offset,this.normalized&&(r=di(r,this.array),c=di(c,this.array),d=di(d,this.array),m=di(m,this.array)),this.data.array[n+0]=r,this.data.array[n+1]=c,this.data.array[n+2]=d,this.data.array[n+3]=m,this}clone(n){if(n===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const r=[];for(let c=0;c<this.count;c++){const d=c*this.data.stride+this.offset;for(let m=0;m<this.itemSize;m++)r.push(this.data.array[d+m])}return new Wi(new this.array.constructor(r),this.itemSize,this.normalized)}else return n.interleavedBuffers===void 0&&(n.interleavedBuffers={}),n.interleavedBuffers[this.data.uuid]===void 0&&(n.interleavedBuffers[this.data.uuid]=this.data.clone(n)),new ic(n.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(n){if(n===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const r=[];for(let c=0;c<this.count;c++){const d=c*this.data.stride+this.offset;for(let m=0;m<this.itemSize;m++)r.push(this.data.array[d+m])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:r,normalized:this.normalized}}else return n.interleavedBuffers===void 0&&(n.interleavedBuffers={}),n.interleavedBuffers[this.data.uuid]===void 0&&(n.interleavedBuffers[this.data.uuid]=this.data.toJSON(n)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class nb extends Bs{constructor(n){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new vn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.map=n.map,this.alphaMap=n.alphaMap,this.rotation=n.rotation,this.sizeAttenuation=n.sizeAttenuation,this.fog=n.fog,this}}let ku;const Rf=new Re,Pu=new Re,Iu=new Re,Lu=new Vt,kf=new Vt,jM=new li,Cm=new Re,Pf=new Re,Tm=new Re,XM=new Vt,ib=new Vt,YM=new Vt;class ZM extends Ai{constructor(n){if(super(),this.isSprite=!0,this.type="Sprite",ku===void 0){ku=new pi;const r=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),c=new Em(r,5);ku.setIndex([0,1,2,0,2,3]),ku.setAttribute("position",new ic(c,3,0,!1)),ku.setAttribute("uv",new ic(c,2,3,!1))}this.geometry=ku,this.material=n!==void 0?n:new nb,this.center=new Vt(.5,.5)}raycast(n,r){n.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Pu.setFromMatrixScale(this.matrixWorld),jM.copy(n.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(n.camera.matrixWorldInverse,this.matrixWorld),Iu.setFromMatrixPosition(this.modelViewMatrix),n.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Pu.multiplyScalar(-Iu.z);const c=this.material.rotation;let d,m;c!==0&&(m=Math.cos(c),d=Math.sin(c));const _=this.center;Am(Cm.set(-.5,-.5,0),Iu,_,Pu,d,m),Am(Pf.set(.5,-.5,0),Iu,_,Pu,d,m),Am(Tm.set(.5,.5,0),Iu,_,Pu,d,m),XM.set(0,0),ib.set(1,0),YM.set(1,1);let S=n.ray.intersectTriangle(Cm,Pf,Tm,!1,Rf);if(S===null&&(Am(Pf.set(-.5,.5,0),Iu,_,Pu,d,m),ib.set(0,1),S=n.ray.intersectTriangle(Cm,Tm,Pf,!1,Rf),S===null))return;const T=n.ray.origin.distanceTo(Rf);T<n.near||T>n.far||r.push({distance:T,point:Rf.clone(),uv:ur.getInterpolation(Rf,Cm,Pf,Tm,XM,ib,YM,new Vt),face:null,object:this})}copy(n,r){return super.copy(n,r),n.center!==void 0&&this.center.copy(n.center),this.material=n.material,this}}function Am(y,n,r,c,d,m){Lu.subVectors(y,r).addScalar(.5).multiply(c),d!==void 0?(kf.x=m*Lu.x-d*Lu.y,kf.y=d*Lu.x+m*Lu.y):kf.copy(Lu),y.copy(n),y.x+=kf.x,y.y+=kf.y,y.applyMatrix4(jM)}const Rm=new Re,JM=new Re;class QM extends Ai{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(n){super.copy(n,!1);const r=n.levels;for(let c=0,d=r.length;c<d;c++){const m=r[c];this.addLevel(m.object.clone(),m.distance,m.hysteresis)}return this.autoUpdate=n.autoUpdate,this}addLevel(n,r=0,c=0){r=Math.abs(r);const d=this.levels;let m;for(m=0;m<d.length&&!(r<d[m].distance);m++);return d.splice(m,0,{distance:r,hysteresis:c,object:n}),this.add(n),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(n){const r=this.levels;if(r.length>0){let c,d;for(c=1,d=r.length;c<d;c++){let m=r[c].distance;if(r[c].object.visible&&(m-=m*r[c].hysteresis),n<m)break}return r[c-1].object}return null}raycast(n,r){if(this.levels.length>0){Rm.setFromMatrixPosition(this.matrixWorld);const d=n.ray.origin.distanceTo(Rm);this.getObjectForDistance(d).raycast(n,r)}}update(n){const r=this.levels;if(r.length>1){Rm.setFromMatrixPosition(n.matrixWorld),JM.setFromMatrixPosition(this.matrixWorld);const c=Rm.distanceTo(JM)/n.zoom;r[0].object.visible=!0;let d,m;for(d=1,m=r.length;d<m;d++){let _=r[d].distance;if(r[d].object.visible&&(_-=_*r[d].hysteresis),c>=_)r[d-1].object.visible=!1,r[d].object.visible=!0;else break}for(this._currentLevel=d-1;d<m;d++)r[d].object.visible=!1}}toJSON(n){const r=super.toJSON(n);this.autoUpdate===!1&&(r.object.autoUpdate=!1),r.object.levels=[];const c=this.levels;for(let d=0,m=c.length;d<m;d++){const _=c[d];r.object.levels.push({object:_.object.uuid,distance:_.distance,hysteresis:_.hysteresis})}return r}}const eE=new Re,tE=new Li,nE=new Li,f$=new Re,iE=new li,Nu=new Re;class sE extends ks{constructor(n,r){super(n,r),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new li,this.bindMatrixInverse=new li,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const n=this.geometry;this.boundingBox===null&&(this.boundingBox=new Bo),this.boundingBox.makeEmpty();const r=n.getAttribute("position");for(let c=0;c<r.count;c++)Nu.fromBufferAttribute(r,c),this.applyBoneTransform(c,Nu),this.boundingBox.expandByPoint(Nu)}computeBoundingSphere(){const n=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new zo),this.boundingSphere.makeEmpty();const r=n.getAttribute("position");for(let c=0;c<r.count;c++)Nu.fromBufferAttribute(r,c),this.applyBoneTransform(c,Nu),this.boundingSphere.expandByPoint(Nu)}copy(n,r){return super.copy(n,r),this.bindMode=n.bindMode,this.bindMatrix.copy(n.bindMatrix),this.bindMatrixInverse.copy(n.bindMatrixInverse),this.skeleton=n.skeleton,this}getVertexPosition(n,r){return super.getVertexPosition(n,r),this.applyBoneTransform(n,r),r}bind(n,r){this.skeleton=n,r===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),r=this.matrixWorld),this.bindMatrix.copy(r),this.bindMatrixInverse.copy(r).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const n=new Li,r=this.geometry.attributes.skinWeight;for(let c=0,d=r.count;c<d;c++){n.fromBufferAttribute(r,c);const m=1/n.manhattanLength();m!==1/0?n.multiplyScalar(m):n.set(1,0,0,0),r.setXYZW(c,n.x,n.y,n.z,n.w)}}updateMatrixWorld(n){super.updateMatrixWorld(n),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(n,r){const c=this.skeleton,d=this.geometry;tE.fromBufferAttribute(d.attributes.skinIndex,n),nE.fromBufferAttribute(d.attributes.skinWeight,n),eE.copy(r).applyMatrix4(this.bindMatrix),r.set(0,0,0);for(let m=0;m<4;m++){const _=nE.getComponent(m);if(_!==0){const S=tE.getComponent(m);iE.multiplyMatrices(c.bones[S].matrixWorld,c.boneInverses[S]),r.addScaledVector(f$.copy(eE).applyMatrix4(iE),_)}}return r.applyMatrix4(this.bindMatrixInverse)}boneTransform(n,r){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(n,r)}}class sb extends Ai{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ou extends rs{constructor(n=null,r=1,c=1,d,m,_,S,T,A=Pe,I=Pe,L,N){super(null,_,S,T,A,I,d,m,L,N),this.isDataTexture=!0,this.image={data:n,width:r,height:c},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const rE=new li,h$=new li;class km{constructor(n=[],r=[]){this.uuid=Sr(),this.bones=n.slice(0),this.boneInverses=r,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const n=this.bones,r=this.boneInverses;if(this.boneMatrices=new Float32Array(n.length*16),r.length===0)this.calculateInverses();else if(n.length!==r.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let c=0,d=this.bones.length;c<d;c++)this.boneInverses.push(new li)}}calculateInverses(){this.boneInverses.length=0;for(let n=0,r=this.bones.length;n<r;n++){const c=new li;this.bones[n]&&c.copy(this.bones[n].matrixWorld).invert(),this.boneInverses.push(c)}}pose(){for(let n=0,r=this.bones.length;n<r;n++){const c=this.bones[n];c&&c.matrixWorld.copy(this.boneInverses[n]).invert()}for(let n=0,r=this.bones.length;n<r;n++){const c=this.bones[n];c&&(c.parent&&c.parent.isBone?(c.matrix.copy(c.parent.matrixWorld).invert(),c.matrix.multiply(c.matrixWorld)):c.matrix.copy(c.matrixWorld),c.matrix.decompose(c.position,c.quaternion,c.scale))}}update(){const n=this.bones,r=this.boneInverses,c=this.boneMatrices,d=this.boneTexture;for(let m=0,_=n.length;m<_;m++){const S=n[m]?n[m].matrixWorld:h$;rE.multiplyMatrices(S,r[m]),rE.toArray(c,m*16)}d!==null&&(d.needsUpdate=!0)}clone(){return new km(this.bones,this.boneInverses)}computeBoneTexture(){let n=Math.sqrt(this.bones.length*4);n=qx(n),n=Math.max(n,4);const r=new Float32Array(n*n*4);r.set(this.boneMatrices);const c=new Ou(r,n,n,Ss,st);return c.needsUpdate=!0,this.boneMatrices=r,this.boneTexture=c,this.boneTextureSize=n,this}getBoneByName(n){for(let r=0,c=this.bones.length;r<c;r++){const d=this.bones[r];if(d.name===n)return d}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(n,r){this.uuid=n.uuid;for(let c=0,d=n.bones.length;c<d;c++){const m=n.bones[c];let _=r[m];_===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",m),_=new sb),this.bones.push(_),this.boneInverses.push(new li().fromArray(n.boneInverses[c]))}return this.init(),this}toJSON(){const n={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};n.uuid=this.uuid;const r=this.bones,c=this.boneInverses;for(let d=0,m=r.length;d<m;d++){const _=r[d];n.bones.push(_.uuid);const S=c[d];n.boneInverses.push(S.toArray())}return n}}class Du extends Wi{constructor(n,r,c,d=1){super(n,r,c),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=d}copy(n){return super.copy(n),this.meshPerAttribute=n.meshPerAttribute,this}toJSON(){const n=super.toJSON();return n.meshPerAttribute=this.meshPerAttribute,n.isInstancedBufferAttribute=!0,n}}const Fu=new li,oE=new li,Pm=[],aE=new Bo,p$=new li,If=new ks,Lf=new zo;class lE extends ks{constructor(n,r,c){super(n,r),this.isInstancedMesh=!0,this.instanceMatrix=new Du(new Float32Array(c*16),16),this.instanceColor=null,this.count=c,this.boundingBox=null,this.boundingSphere=null;for(let d=0;d<c;d++)this.setMatrixAt(d,p$)}computeBoundingBox(){const n=this.geometry,r=this.count;this.boundingBox===null&&(this.boundingBox=new Bo),n.boundingBox===null&&n.computeBoundingBox(),this.boundingBox.makeEmpty();for(let c=0;c<r;c++)this.getMatrixAt(c,Fu),aE.copy(n.boundingBox).applyMatrix4(Fu),this.boundingBox.union(aE)}computeBoundingSphere(){const n=this.geometry,r=this.count;this.boundingSphere===null&&(this.boundingSphere=new zo),n.boundingSphere===null&&n.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let c=0;c<r;c++)this.getMatrixAt(c,Fu),Lf.copy(n.boundingSphere).applyMatrix4(Fu),this.boundingSphere.union(Lf)}copy(n,r){return super.copy(n,r),this.instanceMatrix.copy(n.instanceMatrix),n.instanceColor!==null&&(this.instanceColor=n.instanceColor.clone()),this.count=n.count,this}getColorAt(n,r){r.fromArray(this.instanceColor.array,n*3)}getMatrixAt(n,r){r.fromArray(this.instanceMatrix.array,n*16)}raycast(n,r){const c=this.matrixWorld,d=this.count;if(If.geometry=this.geometry,If.material=this.material,If.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Lf.copy(this.boundingSphere),Lf.applyMatrix4(c),n.ray.intersectsSphere(Lf)!==!1))for(let m=0;m<d;m++){this.getMatrixAt(m,Fu),oE.multiplyMatrices(c,Fu),If.matrixWorld=oE,If.raycast(n,Pm);for(let _=0,S=Pm.length;_<S;_++){const T=Pm[_];T.instanceId=m,T.object=this,r.push(T)}Pm.length=0}}setColorAt(n,r){this.instanceColor===null&&(this.instanceColor=new Du(new Float32Array(this.instanceMatrix.count*3),3)),r.toArray(this.instanceColor.array,n*3)}setMatrixAt(n,r){r.toArray(this.instanceMatrix.array,n*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class js extends Bs{constructor(n){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new vn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.map=n.map,this.linewidth=n.linewidth,this.linecap=n.linecap,this.linejoin=n.linejoin,this.fog=n.fog,this}}const cE=new Re,uE=new Re,dE=new li,rb=new Sf,Im=new zo;class al extends Ai{constructor(n=new pi,r=new js){super(),this.isLine=!0,this.type="Line",this.geometry=n,this.material=r,this.updateMorphTargets()}copy(n,r){return super.copy(n,r),this.material=n.material,this.geometry=n.geometry,this}computeLineDistances(){const n=this.geometry;if(n.index===null){const r=n.attributes.position,c=[0];for(let d=1,m=r.count;d<m;d++)cE.fromBufferAttribute(r,d-1),uE.fromBufferAttribute(r,d),c[d]=c[d-1],c[d]+=cE.distanceTo(uE);n.setAttribute("lineDistance",new An(c,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(n,r){const c=this.geometry,d=this.matrixWorld,m=n.params.Line.threshold,_=c.drawRange;if(c.boundingSphere===null&&c.computeBoundingSphere(),Im.copy(c.boundingSphere),Im.applyMatrix4(d),Im.radius+=m,n.ray.intersectsSphere(Im)===!1)return;dE.copy(d).invert(),rb.copy(n.ray).applyMatrix4(dE);const S=m/((this.scale.x+this.scale.y+this.scale.z)/3),T=S*S,A=new Re,I=new Re,L=new Re,N=new Re,z=this.isLineSegments?2:1,V=c.index,K=c.attributes.position;if(V!==null){const $=Math.max(0,_.start),oe=Math.min(V.count,_.start+_.count);for(let se=$,le=oe-1;se<le;se+=z){const ye=V.getX(se),Me=V.getX(se+1);if(A.fromBufferAttribute(K,ye),I.fromBufferAttribute(K,Me),rb.distanceSqToSegment(A,I,N,L)>T)continue;N.applyMatrix4(this.matrixWorld);const Ke=n.ray.origin.distanceTo(N);Ke<n.near||Ke>n.far||r.push({distance:Ke,point:L.clone().applyMatrix4(this.matrixWorld),index:se,face:null,faceIndex:null,object:this})}}else{const $=Math.max(0,_.start),oe=Math.min(K.count,_.start+_.count);for(let se=$,le=oe-1;se<le;se+=z){if(A.fromBufferAttribute(K,se),I.fromBufferAttribute(K,se+1),rb.distanceSqToSegment(A,I,N,L)>T)continue;N.applyMatrix4(this.matrixWorld);const Me=n.ray.origin.distanceTo(N);Me<n.near||Me>n.far||r.push({distance:Me,point:L.clone().applyMatrix4(this.matrixWorld),index:se,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const r=this.geometry.morphAttributes,c=Object.keys(r);if(c.length>0){const d=r[c[0]];if(d!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let m=0,_=d.length;m<_;m++){const S=d[m].name||String(m);this.morphTargetInfluences.push(0),this.morphTargetDictionary[S]=m}}}}}const fE=new Re,hE=new Re;class Vo extends al{constructor(n,r){super(n,r),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const n=this.geometry;if(n.index===null){const r=n.attributes.position,c=[];for(let d=0,m=r.count;d<m;d+=2)fE.fromBufferAttribute(r,d),hE.fromBufferAttribute(r,d+1),c[d]=d===0?0:c[d-1],c[d+1]=c[d]+fE.distanceTo(hE);n.setAttribute("lineDistance",new An(c,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class pE extends al{constructor(n,r){super(n,r),this.isLineLoop=!0,this.type="LineLoop"}}class ob extends Bs{constructor(n){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new vn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.map=n.map,this.alphaMap=n.alphaMap,this.size=n.size,this.sizeAttenuation=n.sizeAttenuation,this.fog=n.fog,this}}const mE=new li,ab=new Sf,Lm=new zo,Nm=new Re;class gE extends Ai{constructor(n=new pi,r=new ob){super(),this.isPoints=!0,this.type="Points",this.geometry=n,this.material=r,this.updateMorphTargets()}copy(n,r){return super.copy(n,r),this.material=n.material,this.geometry=n.geometry,this}raycast(n,r){const c=this.geometry,d=this.matrixWorld,m=n.params.Points.threshold,_=c.drawRange;if(c.boundingSphere===null&&c.computeBoundingSphere(),Lm.copy(c.boundingSphere),Lm.applyMatrix4(d),Lm.radius+=m,n.ray.intersectsSphere(Lm)===!1)return;mE.copy(d).invert(),ab.copy(n.ray).applyMatrix4(mE);const S=m/((this.scale.x+this.scale.y+this.scale.z)/3),T=S*S,A=c.index,L=c.attributes.position;if(A!==null){const N=Math.max(0,_.start),z=Math.min(A.count,_.start+_.count);for(let V=N,Y=z;V<Y;V++){const K=A.getX(V);Nm.fromBufferAttribute(L,K),vE(Nm,K,T,d,n,r,this)}}else{const N=Math.max(0,_.start),z=Math.min(L.count,_.start+_.count);for(let V=N,Y=z;V<Y;V++)Nm.fromBufferAttribute(L,V),vE(Nm,V,T,d,n,r,this)}}updateMorphTargets(){const r=this.geometry.morphAttributes,c=Object.keys(r);if(c.length>0){const d=r[c[0]];if(d!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let m=0,_=d.length;m<_;m++){const S=d[m].name||String(m);this.morphTargetInfluences.push(0),this.morphTargetDictionary[S]=m}}}}}function vE(y,n,r,c,d,m,_){const S=ab.distanceSqToPoint(y);if(S<r){const T=new Re;ab.closestPointToPoint(y,T),T.applyMatrix4(c);const A=d.ray.origin.distanceTo(T);if(A<d.near||A>d.far)return;m.push({distance:A,distanceToRay:Math.sqrt(S),point:T,index:n,face:null,object:_})}}class m$ extends rs{constructor(n,r,c,d,m,_,S,T,A){super(n,r,c,d,m,_,S,T,A),this.isVideoTexture=!0,this.minFilter=_!==void 0?_:Se,this.magFilter=m!==void 0?m:Se,this.generateMipmaps=!1;const I=this;function L(){I.needsUpdate=!0,n.requestVideoFrameCallback(L)}"requestVideoFrameCallback"in n&&n.requestVideoFrameCallback(L)}clone(){return new this.constructor(this.image).copy(this)}update(){const n=this.image;"requestVideoFrameCallback"in n===!1&&n.readyState>=n.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class g$ extends rs{constructor(n,r,c){super({width:n,height:r}),this.isFramebufferTexture=!0,this.format=c,this.magFilter=Pe,this.minFilter=Pe,this.generateMipmaps=!1,this.needsUpdate=!0}}class lb extends rs{constructor(n,r,c,d,m,_,S,T,A,I,L,N){super(null,_,S,T,A,I,d,m,L,N),this.isCompressedTexture=!0,this.image={width:r,height:c},this.mipmaps=n,this.flipY=!1,this.generateMipmaps=!1}}class v$ extends lb{constructor(n,r,c,d,m,_){super(n,r,c,m,_),this.isCompressedArrayTexture=!0,this.image.depth=d,this.wrapR=Ut}}class y$ extends rs{constructor(n,r,c,d,m,_,S,T,A){super(n,r,c,d,m,_,S,T,A),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ho{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(n,r){const c=this.getUtoTmapping(n);return this.getPoint(c,r)}getPoints(n=5){const r=[];for(let c=0;c<=n;c++)r.push(this.getPoint(c/n));return r}getSpacedPoints(n=5){const r=[];for(let c=0;c<=n;c++)r.push(this.getPointAt(c/n));return r}getLength(){const n=this.getLengths();return n[n.length-1]}getLengths(n=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===n+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const r=[];let c,d=this.getPoint(0),m=0;r.push(0);for(let _=1;_<=n;_++)c=this.getPoint(_/n),m+=c.distanceTo(d),r.push(m),d=c;return this.cacheArcLengths=r,r}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(n,r){const c=this.getLengths();let d=0;const m=c.length;let _;r?_=r:_=n*c[m-1];let S=0,T=m-1,A;for(;S<=T;)if(d=Math.floor(S+(T-S)/2),A=c[d]-_,A<0)S=d+1;else if(A>0)T=d-1;else{T=d;break}if(d=T,c[d]===_)return d/(m-1);const I=c[d],N=c[d+1]-I,z=(_-I)/N;return(d+z)/(m-1)}getTangent(n,r){let d=n-1e-4,m=n+1e-4;d<0&&(d=0),m>1&&(m=1);const _=this.getPoint(d),S=this.getPoint(m),T=r||(_.isVector2?new Vt:new Re);return T.copy(S).sub(_).normalize(),T}getTangentAt(n,r){const c=this.getUtoTmapping(n);return this.getTangent(c,r)}computeFrenetFrames(n,r){const c=new Re,d=[],m=[],_=[],S=new Re,T=new li;for(let z=0;z<=n;z++){const V=z/n;d[z]=this.getTangentAt(V,new Re)}m[0]=new Re,_[0]=new Re;let A=Number.MAX_VALUE;const I=Math.abs(d[0].x),L=Math.abs(d[0].y),N=Math.abs(d[0].z);I<=A&&(A=I,c.set(1,0,0)),L<=A&&(A=L,c.set(0,1,0)),N<=A&&c.set(0,0,1),S.crossVectors(d[0],c).normalize(),m[0].crossVectors(d[0],S),_[0].crossVectors(d[0],m[0]);for(let z=1;z<=n;z++){if(m[z]=m[z-1].clone(),_[z]=_[z-1].clone(),S.crossVectors(d[z-1],d[z]),S.length()>Number.EPSILON){S.normalize();const V=Math.acos(is(d[z-1].dot(d[z]),-1,1));m[z].applyMatrix4(T.makeRotationAxis(S,V))}_[z].crossVectors(d[z],m[z])}if(r===!0){let z=Math.acos(is(m[0].dot(m[n]),-1,1));z/=n,d[0].dot(S.crossVectors(m[0],m[n]))>0&&(z=-z);for(let V=1;V<=n;V++)m[V].applyMatrix4(T.makeRotationAxis(d[V],z*V)),_[V].crossVectors(d[V],m[V])}return{tangents:d,normals:m,binormals:_}}clone(){return new this.constructor().copy(this)}copy(n){return this.arcLengthDivisions=n.arcLengthDivisions,this}toJSON(){const n={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return n.arcLengthDivisions=this.arcLengthDivisions,n.type=this.type,n}fromJSON(n){return this.arcLengthDivisions=n.arcLengthDivisions,this}}class Om extends ho{constructor(n=0,r=0,c=1,d=1,m=0,_=Math.PI*2,S=!1,T=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=n,this.aY=r,this.xRadius=c,this.yRadius=d,this.aStartAngle=m,this.aEndAngle=_,this.aClockwise=S,this.aRotation=T}getPoint(n,r){const c=r||new Vt,d=Math.PI*2;let m=this.aEndAngle-this.aStartAngle;const _=Math.abs(m)<Number.EPSILON;for(;m<0;)m+=d;for(;m>d;)m-=d;m<Number.EPSILON&&(_?m=0:m=d),this.aClockwise===!0&&!_&&(m===d?m=-d:m=m-d);const S=this.aStartAngle+n*m;let T=this.aX+this.xRadius*Math.cos(S),A=this.aY+this.yRadius*Math.sin(S);if(this.aRotation!==0){const I=Math.cos(this.aRotation),L=Math.sin(this.aRotation),N=T-this.aX,z=A-this.aY;T=N*I-z*L+this.aX,A=N*L+z*I+this.aY}return c.set(T,A)}copy(n){return super.copy(n),this.aX=n.aX,this.aY=n.aY,this.xRadius=n.xRadius,this.yRadius=n.yRadius,this.aStartAngle=n.aStartAngle,this.aEndAngle=n.aEndAngle,this.aClockwise=n.aClockwise,this.aRotation=n.aRotation,this}toJSON(){const n=super.toJSON();return n.aX=this.aX,n.aY=this.aY,n.xRadius=this.xRadius,n.yRadius=this.yRadius,n.aStartAngle=this.aStartAngle,n.aEndAngle=this.aEndAngle,n.aClockwise=this.aClockwise,n.aRotation=this.aRotation,n}fromJSON(n){return super.fromJSON(n),this.aX=n.aX,this.aY=n.aY,this.xRadius=n.xRadius,this.yRadius=n.yRadius,this.aStartAngle=n.aStartAngle,this.aEndAngle=n.aEndAngle,this.aClockwise=n.aClockwise,this.aRotation=n.aRotation,this}}class yE extends Om{constructor(n,r,c,d,m,_){super(n,r,c,c,d,m,_),this.isArcCurve=!0,this.type="ArcCurve"}}function cb(){let y=0,n=0,r=0,c=0;function d(m,_,S,T){y=m,n=S,r=-3*m+3*_-2*S-T,c=2*m-2*_+S+T}return{initCatmullRom:function(m,_,S,T,A){d(_,S,A*(S-m),A*(T-_))},initNonuniformCatmullRom:function(m,_,S,T,A,I,L){let N=(_-m)/A-(S-m)/(A+I)+(S-_)/I,z=(S-_)/I-(T-_)/(I+L)+(T-S)/L;N*=I,z*=I,d(_,S,N,z)},calc:function(m){const _=m*m,S=_*m;return y+n*m+r*_+c*S}}}const Dm=new Re,ub=new cb,db=new cb,fb=new cb;class bE extends ho{constructor(n=[],r=!1,c="centripetal",d=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=n,this.closed=r,this.curveType=c,this.tension=d}getPoint(n,r=new Re){const c=r,d=this.points,m=d.length,_=(m-(this.closed?0:1))*n;let S=Math.floor(_),T=_-S;this.closed?S+=S>0?0:(Math.floor(Math.abs(S)/m)+1)*m:T===0&&S===m-1&&(S=m-2,T=1);let A,I;this.closed||S>0?A=d[(S-1)%m]:(Dm.subVectors(d[0],d[1]).add(d[0]),A=Dm);const L=d[S%m],N=d[(S+1)%m];if(this.closed||S+2<m?I=d[(S+2)%m]:(Dm.subVectors(d[m-1],d[m-2]).add(d[m-1]),I=Dm),this.curveType==="centripetal"||this.curveType==="chordal"){const z=this.curveType==="chordal"?.5:.25;let V=Math.pow(A.distanceToSquared(L),z),Y=Math.pow(L.distanceToSquared(N),z),K=Math.pow(N.distanceToSquared(I),z);Y<1e-4&&(Y=1),V<1e-4&&(V=Y),K<1e-4&&(K=Y),ub.initNonuniformCatmullRom(A.x,L.x,N.x,I.x,V,Y,K),db.initNonuniformCatmullRom(A.y,L.y,N.y,I.y,V,Y,K),fb.initNonuniformCatmullRom(A.z,L.z,N.z,I.z,V,Y,K)}else this.curveType==="catmullrom"&&(ub.initCatmullRom(A.x,L.x,N.x,I.x,this.tension),db.initCatmullRom(A.y,L.y,N.y,I.y,this.tension),fb.initCatmullRom(A.z,L.z,N.z,I.z,this.tension));return c.set(ub.calc(T),db.calc(T),fb.calc(T)),c}copy(n){super.copy(n),this.points=[];for(let r=0,c=n.points.length;r<c;r++){const d=n.points[r];this.points.push(d.clone())}return this.closed=n.closed,this.curveType=n.curveType,this.tension=n.tension,this}toJSON(){const n=super.toJSON();n.points=[];for(let r=0,c=this.points.length;r<c;r++){const d=this.points[r];n.points.push(d.toArray())}return n.closed=this.closed,n.curveType=this.curveType,n.tension=this.tension,n}fromJSON(n){super.fromJSON(n),this.points=[];for(let r=0,c=n.points.length;r<c;r++){const d=n.points[r];this.points.push(new Re().fromArray(d))}return this.closed=n.closed,this.curveType=n.curveType,this.tension=n.tension,this}}function _E(y,n,r,c,d){const m=(c-n)*.5,_=(d-r)*.5,S=y*y,T=y*S;return(2*r-2*c+m+_)*T+(-3*r+3*c-2*m-_)*S+m*y+r}function b$(y,n){const r=1-y;return r*r*n}function _$(y,n){return 2*(1-y)*y*n}function w$(y,n){return y*y*n}function Nf(y,n,r,c){return b$(y,n)+_$(y,r)+w$(y,c)}function S$(y,n){const r=1-y;return r*r*r*n}function x$(y,n){const r=1-y;return 3*r*r*y*n}function M$(y,n){return 3*(1-y)*y*y*n}function E$(y,n){return y*y*y*n}function Of(y,n,r,c,d){return S$(y,n)+x$(y,r)+M$(y,c)+E$(y,d)}class hb extends ho{constructor(n=new Vt,r=new Vt,c=new Vt,d=new Vt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=n,this.v1=r,this.v2=c,this.v3=d}getPoint(n,r=new Vt){const c=r,d=this.v0,m=this.v1,_=this.v2,S=this.v3;return c.set(Of(n,d.x,m.x,_.x,S.x),Of(n,d.y,m.y,_.y,S.y)),c}copy(n){return super.copy(n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this.v3.copy(n.v3),this}toJSON(){const n=super.toJSON();return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n.v3=this.v3.toArray(),n}fromJSON(n){return super.fromJSON(n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this.v3.fromArray(n.v3),this}}class wE extends ho{constructor(n=new Re,r=new Re,c=new Re,d=new Re){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=n,this.v1=r,this.v2=c,this.v3=d}getPoint(n,r=new Re){const c=r,d=this.v0,m=this.v1,_=this.v2,S=this.v3;return c.set(Of(n,d.x,m.x,_.x,S.x),Of(n,d.y,m.y,_.y,S.y),Of(n,d.z,m.z,_.z,S.z)),c}copy(n){return super.copy(n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this.v3.copy(n.v3),this}toJSON(){const n=super.toJSON();return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n.v3=this.v3.toArray(),n}fromJSON(n){return super.fromJSON(n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this.v3.fromArray(n.v3),this}}class Fm extends ho{constructor(n=new Vt,r=new Vt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=n,this.v2=r}getPoint(n,r=new Vt){const c=r;return n===1?c.copy(this.v2):(c.copy(this.v2).sub(this.v1),c.multiplyScalar(n).add(this.v1)),c}getPointAt(n,r){return this.getPoint(n,r)}getTangent(n,r=new Vt){return r.subVectors(this.v2,this.v1).normalize()}getTangentAt(n,r){return this.getTangent(n,r)}copy(n){return super.copy(n),this.v1.copy(n.v1),this.v2.copy(n.v2),this}toJSON(){const n=super.toJSON();return n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n}fromJSON(n){return super.fromJSON(n),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this}}class SE extends ho{constructor(n=new Re,r=new Re){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=n,this.v2=r}getPoint(n,r=new Re){const c=r;return n===1?c.copy(this.v2):(c.copy(this.v2).sub(this.v1),c.multiplyScalar(n).add(this.v1)),c}getPointAt(n,r){return this.getPoint(n,r)}getTangent(n,r=new Re){return r.subVectors(this.v2,this.v1).normalize()}getTangentAt(n,r){return this.getTangent(n,r)}copy(n){return super.copy(n),this.v1.copy(n.v1),this.v2.copy(n.v2),this}toJSON(){const n=super.toJSON();return n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n}fromJSON(n){return super.fromJSON(n),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this}}class pb extends ho{constructor(n=new Vt,r=new Vt,c=new Vt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=n,this.v1=r,this.v2=c}getPoint(n,r=new Vt){const c=r,d=this.v0,m=this.v1,_=this.v2;return c.set(Nf(n,d.x,m.x,_.x),Nf(n,d.y,m.y,_.y)),c}copy(n){return super.copy(n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this}toJSON(){const n=super.toJSON();return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n}fromJSON(n){return super.fromJSON(n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this}}class mb extends ho{constructor(n=new Re,r=new Re,c=new Re){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=n,this.v1=r,this.v2=c}getPoint(n,r=new Re){const c=r,d=this.v0,m=this.v1,_=this.v2;return c.set(Nf(n,d.x,m.x,_.x),Nf(n,d.y,m.y,_.y),Nf(n,d.z,m.z,_.z)),c}copy(n){return super.copy(n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this}toJSON(){const n=super.toJSON();return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n}fromJSON(n){return super.fromJSON(n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this}}class gb extends ho{constructor(n=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=n}getPoint(n,r=new Vt){const c=r,d=this.points,m=(d.length-1)*n,_=Math.floor(m),S=m-_,T=d[_===0?_:_-1],A=d[_],I=d[_>d.length-2?d.length-1:_+1],L=d[_>d.length-3?d.length-1:_+2];return c.set(_E(S,T.x,A.x,I.x,L.x),_E(S,T.y,A.y,I.y,L.y)),c}copy(n){super.copy(n),this.points=[];for(let r=0,c=n.points.length;r<c;r++){const d=n.points[r];this.points.push(d.clone())}return this}toJSON(){const n=super.toJSON();n.points=[];for(let r=0,c=this.points.length;r<c;r++){const d=this.points[r];n.points.push(d.toArray())}return n}fromJSON(n){super.fromJSON(n),this.points=[];for(let r=0,c=n.points.length;r<c;r++){const d=n.points[r];this.points.push(new Vt().fromArray(d))}return this}}var vb=Object.freeze({__proto__:null,ArcCurve:yE,CatmullRomCurve3:bE,CubicBezierCurve:hb,CubicBezierCurve3:wE,EllipseCurve:Om,LineCurve:Fm,LineCurve3:SE,QuadraticBezierCurve:pb,QuadraticBezierCurve3:mb,SplineCurve:gb});class xE extends ho{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(n){this.curves.push(n)}closePath(){const n=this.curves[0].getPoint(0),r=this.curves[this.curves.length-1].getPoint(1);n.equals(r)||this.curves.push(new Fm(r,n))}getPoint(n,r){const c=n*this.getLength(),d=this.getCurveLengths();let m=0;for(;m<d.length;){if(d[m]>=c){const _=d[m]-c,S=this.curves[m],T=S.getLength(),A=T===0?0:1-_/T;return S.getPointAt(A,r)}m++}return null}getLength(){const n=this.getCurveLengths();return n[n.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const n=[];let r=0;for(let c=0,d=this.curves.length;c<d;c++)r+=this.curves[c].getLength(),n.push(r);return this.cacheLengths=n,n}getSpacedPoints(n=40){const r=[];for(let c=0;c<=n;c++)r.push(this.getPoint(c/n));return this.autoClose&&r.push(r[0]),r}getPoints(n=12){const r=[];let c;for(let d=0,m=this.curves;d<m.length;d++){const _=m[d],S=_.isEllipseCurve?n*2:_.isLineCurve||_.isLineCurve3?1:_.isSplineCurve?n*_.points.length:n,T=_.getPoints(S);for(let A=0;A<T.length;A++){const I=T[A];c&&c.equals(I)||(r.push(I),c=I)}}return this.autoClose&&r.length>1&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r}copy(n){super.copy(n),this.curves=[];for(let r=0,c=n.curves.length;r<c;r++){const d=n.curves[r];this.curves.push(d.clone())}return this.autoClose=n.autoClose,this}toJSON(){const n=super.toJSON();n.autoClose=this.autoClose,n.curves=[];for(let r=0,c=this.curves.length;r<c;r++){const d=this.curves[r];n.curves.push(d.toJSON())}return n}fromJSON(n){super.fromJSON(n),this.autoClose=n.autoClose,this.curves=[];for(let r=0,c=n.curves.length;r<c;r++){const d=n.curves[r];this.curves.push(new vb[d.type]().fromJSON(d))}return this}}class Df extends xE{constructor(n){super(),this.type="Path",this.currentPoint=new Vt,n&&this.setFromPoints(n)}setFromPoints(n){this.moveTo(n[0].x,n[0].y);for(let r=1,c=n.length;r<c;r++)this.lineTo(n[r].x,n[r].y);return this}moveTo(n,r){return this.currentPoint.set(n,r),this}lineTo(n,r){const c=new Fm(this.currentPoint.clone(),new Vt(n,r));return this.curves.push(c),this.currentPoint.set(n,r),this}quadraticCurveTo(n,r,c,d){const m=new pb(this.currentPoint.clone(),new Vt(n,r),new Vt(c,d));return this.curves.push(m),this.currentPoint.set(c,d),this}bezierCurveTo(n,r,c,d,m,_){const S=new hb(this.currentPoint.clone(),new Vt(n,r),new Vt(c,d),new Vt(m,_));return this.curves.push(S),this.currentPoint.set(m,_),this}splineThru(n){const r=[this.currentPoint.clone()].concat(n),c=new gb(r);return this.curves.push(c),this.currentPoint.copy(n[n.length-1]),this}arc(n,r,c,d,m,_){const S=this.currentPoint.x,T=this.currentPoint.y;return this.absarc(n+S,r+T,c,d,m,_),this}absarc(n,r,c,d,m,_){return this.absellipse(n,r,c,c,d,m,_),this}ellipse(n,r,c,d,m,_,S,T){const A=this.currentPoint.x,I=this.currentPoint.y;return this.absellipse(n+A,r+I,c,d,m,_,S,T),this}absellipse(n,r,c,d,m,_,S,T){const A=new Om(n,r,c,d,m,_,S,T);if(this.curves.length>0){const L=A.getPoint(0);L.equals(this.currentPoint)||this.lineTo(L.x,L.y)}this.curves.push(A);const I=A.getPoint(1);return this.currentPoint.copy(I),this}copy(n){return super.copy(n),this.currentPoint.copy(n.currentPoint),this}toJSON(){const n=super.toJSON();return n.currentPoint=this.currentPoint.toArray(),n}fromJSON(n){return super.fromJSON(n),this.currentPoint.fromArray(n.currentPoint),this}}class Bu extends pi{constructor(n=[new Vt(0,-.5),new Vt(.5,0),new Vt(0,.5)],r=12,c=0,d=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:n,segments:r,phiStart:c,phiLength:d},r=Math.floor(r),d=is(d,0,Math.PI*2);const m=[],_=[],S=[],T=[],A=[],I=1/r,L=new Re,N=new Vt,z=new Re,V=new Re,Y=new Re;let K=0,$=0;for(let oe=0;oe<=n.length-1;oe++)switch(oe){case 0:K=n[oe+1].x-n[oe].x,$=n[oe+1].y-n[oe].y,z.x=$*1,z.y=-K,z.z=$*0,Y.copy(z),z.normalize(),T.push(z.x,z.y,z.z);break;case n.length-1:T.push(Y.x,Y.y,Y.z);break;default:K=n[oe+1].x-n[oe].x,$=n[oe+1].y-n[oe].y,z.x=$*1,z.y=-K,z.z=$*0,V.copy(z),z.x+=Y.x,z.y+=Y.y,z.z+=Y.z,z.normalize(),T.push(z.x,z.y,z.z),Y.copy(V)}for(let oe=0;oe<=r;oe++){const se=c+oe*I*d,le=Math.sin(se),ye=Math.cos(se);for(let Me=0;Me<=n.length-1;Me++){L.x=n[Me].x*le,L.y=n[Me].y,L.z=n[Me].x*ye,_.push(L.x,L.y,L.z),N.x=oe/r,N.y=Me/(n.length-1),S.push(N.x,N.y);const ze=T[3*Me+0]*le,Ke=T[3*Me+1],de=T[3*Me+0]*ye;A.push(ze,Ke,de)}}for(let oe=0;oe<r;oe++)for(let se=0;se<n.length-1;se++){const le=se+oe*n.length,ye=le,Me=le+n.length,ze=le+n.length+1,Ke=le+1;m.push(ye,Me,Ke),m.push(ze,Ke,Me)}this.setIndex(m),this.setAttribute("position",new An(_,3)),this.setAttribute("uv",new An(S,2)),this.setAttribute("normal",new An(A,3))}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new Bu(n.points,n.segments,n.phiStart,n.phiLength)}}class Ff extends Bu{constructor(n=1,r=1,c=4,d=8){const m=new Df;m.absarc(0,-r/2,n,Math.PI*1.5,0),m.absarc(0,r/2,n,0,Math.PI*.5),super(m.getPoints(c),d),this.type="CapsuleGeometry",this.parameters={radius:n,height:r,capSegments:c,radialSegments:d}}static fromJSON(n){return new Ff(n.radius,n.length,n.capSegments,n.radialSegments)}}class Bf extends pi{constructor(n=1,r=32,c=0,d=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:n,segments:r,thetaStart:c,thetaLength:d},r=Math.max(3,r);const m=[],_=[],S=[],T=[],A=new Re,I=new Vt;_.push(0,0,0),S.push(0,0,1),T.push(.5,.5);for(let L=0,N=3;L<=r;L++,N+=3){const z=c+L/r*d;A.x=n*Math.cos(z),A.y=n*Math.sin(z),_.push(A.x,A.y,A.z),S.push(0,0,1),I.x=(_[N]/n+1)/2,I.y=(_[N+1]/n+1)/2,T.push(I.x,I.y)}for(let L=1;L<=r;L++)m.push(L,L+1,0);this.setIndex(m),this.setAttribute("position",new An(_,3)),this.setAttribute("normal",new An(S,3)),this.setAttribute("uv",new An(T,2))}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new Bf(n.radius,n.segments,n.thetaStart,n.thetaLength)}}class sc extends pi{constructor(n=1,r=1,c=1,d=32,m=1,_=!1,S=0,T=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:n,radiusBottom:r,height:c,radialSegments:d,heightSegments:m,openEnded:_,thetaStart:S,thetaLength:T};const A=this;d=Math.floor(d),m=Math.floor(m);const I=[],L=[],N=[],z=[];let V=0;const Y=[],K=c/2;let $=0;oe(),_===!1&&(n>0&&se(!0),r>0&&se(!1)),this.setIndex(I),this.setAttribute("position",new An(L,3)),this.setAttribute("normal",new An(N,3)),this.setAttribute("uv",new An(z,2));function oe(){const le=new Re,ye=new Re;let Me=0;const ze=(r-n)/c;for(let Ke=0;Ke<=m;Ke++){const de=[],ke=Ke/m,bt=ke*(r-n)+n;for(let St=0;St<=d;St++){const ot=St/d,mt=ot*T+S,wt=Math.sin(mt),$t=Math.cos(mt);ye.x=bt*wt,ye.y=-ke*c+K,ye.z=bt*$t,L.push(ye.x,ye.y,ye.z),le.set(wt,ze,$t).normalize(),N.push(le.x,le.y,le.z),z.push(ot,1-ke),de.push(V++)}Y.push(de)}for(let Ke=0;Ke<d;Ke++)for(let de=0;de<m;de++){const ke=Y[de][Ke],bt=Y[de+1][Ke],St=Y[de+1][Ke+1],ot=Y[de][Ke+1];I.push(ke,bt,ot),I.push(bt,St,ot),Me+=6}A.addGroup($,Me,0),$+=Me}function se(le){const ye=V,Me=new Vt,ze=new Re;let Ke=0;const de=le===!0?n:r,ke=le===!0?1:-1;for(let St=1;St<=d;St++)L.push(0,K*ke,0),N.push(0,ke,0),z.push(.5,.5),V++;const bt=V;for(let St=0;St<=d;St++){const mt=St/d*T+S,wt=Math.cos(mt),$t=Math.sin(mt);ze.x=de*$t,ze.y=K*ke,ze.z=de*wt,L.push(ze.x,ze.y,ze.z),N.push(0,ke,0),Me.x=wt*.5+.5,Me.y=$t*.5*ke+.5,z.push(Me.x,Me.y),V++}for(let St=0;St<d;St++){const ot=ye+St,mt=bt+St;le===!0?I.push(mt,mt+1,ot):I.push(mt+1,mt,ot),Ke+=3}A.addGroup($,Ke,le===!0?1:2),$+=Ke}}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new sc(n.radiusTop,n.radiusBottom,n.height,n.radialSegments,n.heightSegments,n.openEnded,n.thetaStart,n.thetaLength)}}class zf extends sc{constructor(n=1,r=1,c=32,d=1,m=!1,_=0,S=Math.PI*2){super(0,n,r,c,d,m,_,S),this.type="ConeGeometry",this.parameters={radius:n,height:r,radialSegments:c,heightSegments:d,openEnded:m,thetaStart:_,thetaLength:S}}static fromJSON(n){return new zf(n.radius,n.height,n.radialSegments,n.heightSegments,n.openEnded,n.thetaStart,n.thetaLength)}}class ga extends pi{constructor(n=[],r=[],c=1,d=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:n,indices:r,radius:c,detail:d};const m=[],_=[];S(d),A(c),I(),this.setAttribute("position",new An(m,3)),this.setAttribute("normal",new An(m.slice(),3)),this.setAttribute("uv",new An(_,2)),d===0?this.computeVertexNormals():this.normalizeNormals();function S(oe){const se=new Re,le=new Re,ye=new Re;for(let Me=0;Me<r.length;Me+=3)z(r[Me+0],se),z(r[Me+1],le),z(r[Me+2],ye),T(se,le,ye,oe)}function T(oe,se,le,ye){const Me=ye+1,ze=[];for(let Ke=0;Ke<=Me;Ke++){ze[Ke]=[];const de=oe.clone().lerp(le,Ke/Me),ke=se.clone().lerp(le,Ke/Me),bt=Me-Ke;for(let St=0;St<=bt;St++)St===0&&Ke===Me?ze[Ke][St]=de:ze[Ke][St]=de.clone().lerp(ke,St/bt)}for(let Ke=0;Ke<Me;Ke++)for(let de=0;de<2*(Me-Ke)-1;de++){const ke=Math.floor(de/2);de%2===0?(N(ze[Ke][ke+1]),N(ze[Ke+1][ke]),N(ze[Ke][ke])):(N(ze[Ke][ke+1]),N(ze[Ke+1][ke+1]),N(ze[Ke+1][ke]))}}function A(oe){const se=new Re;for(let le=0;le<m.length;le+=3)se.x=m[le+0],se.y=m[le+1],se.z=m[le+2],se.normalize().multiplyScalar(oe),m[le+0]=se.x,m[le+1]=se.y,m[le+2]=se.z}function I(){const oe=new Re;for(let se=0;se<m.length;se+=3){oe.x=m[se+0],oe.y=m[se+1],oe.z=m[se+2];const le=K(oe)/2/Math.PI+.5,ye=$(oe)/Math.PI+.5;_.push(le,1-ye)}V(),L()}function L(){for(let oe=0;oe<_.length;oe+=6){const se=_[oe+0],le=_[oe+2],ye=_[oe+4],Me=Math.max(se,le,ye),ze=Math.min(se,le,ye);Me>.9&&ze<.1&&(se<.2&&(_[oe+0]+=1),le<.2&&(_[oe+2]+=1),ye<.2&&(_[oe+4]+=1))}}function N(oe){m.push(oe.x,oe.y,oe.z)}function z(oe,se){const le=oe*3;se.x=n[le+0],se.y=n[le+1],se.z=n[le+2]}function V(){const oe=new Re,se=new Re,le=new Re,ye=new Re,Me=new Vt,ze=new Vt,Ke=new Vt;for(let de=0,ke=0;de<m.length;de+=9,ke+=6){oe.set(m[de+0],m[de+1],m[de+2]),se.set(m[de+3],m[de+4],m[de+5]),le.set(m[de+6],m[de+7],m[de+8]),Me.set(_[ke+0],_[ke+1]),ze.set(_[ke+2],_[ke+3]),Ke.set(_[ke+4],_[ke+5]),ye.copy(oe).add(se).add(le).divideScalar(3);const bt=K(ye);Y(Me,ke+0,oe,bt),Y(ze,ke+2,se,bt),Y(Ke,ke+4,le,bt)}}function Y(oe,se,le,ye){ye<0&&oe.x===1&&(_[se]=oe.x-1),le.x===0&&le.z===0&&(_[se]=ye/2/Math.PI+.5)}function K(oe){return Math.atan2(oe.z,-oe.x)}function $(oe){return Math.atan2(-oe.y,Math.sqrt(oe.x*oe.x+oe.z*oe.z))}}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new ga(n.vertices,n.indices,n.radius,n.details)}}class $f extends ga{constructor(n=1,r=0){const c=(1+Math.sqrt(5))/2,d=1/c,m=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-d,-c,0,-d,c,0,d,-c,0,d,c,-d,-c,0,-d,c,0,d,-c,0,d,c,0,-c,0,-d,c,0,-d,-c,0,d,c,0,d],_=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(m,_,n,r),this.type="DodecahedronGeometry",this.parameters={radius:n,detail:r}}static fromJSON(n){return new $f(n.radius,n.detail)}}const Bm=new Re,zm=new Re,yb=new Re,$m=new ur;class ME extends pi{constructor(n=null,r=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:n,thresholdAngle:r},n!==null){const d=Math.pow(10,4),m=Math.cos(Yl*r),_=n.getIndex(),S=n.getAttribute("position"),T=_?_.count:S.count,A=[0,0,0],I=["a","b","c"],L=new Array(3),N={},z=[];for(let V=0;V<T;V+=3){_?(A[0]=_.getX(V),A[1]=_.getX(V+1),A[2]=_.getX(V+2)):(A[0]=V,A[1]=V+1,A[2]=V+2);const{a:Y,b:K,c:$}=$m;if(Y.fromBufferAttribute(S,A[0]),K.fromBufferAttribute(S,A[1]),$.fromBufferAttribute(S,A[2]),$m.getNormal(yb),L[0]=`${Math.round(Y.x*d)},${Math.round(Y.y*d)},${Math.round(Y.z*d)}`,L[1]=`${Math.round(K.x*d)},${Math.round(K.y*d)},${Math.round(K.z*d)}`,L[2]=`${Math.round($.x*d)},${Math.round($.y*d)},${Math.round($.z*d)}`,!(L[0]===L[1]||L[1]===L[2]||L[2]===L[0]))for(let oe=0;oe<3;oe++){const se=(oe+1)%3,le=L[oe],ye=L[se],Me=$m[I[oe]],ze=$m[I[se]],Ke=`${le}_${ye}`,de=`${ye}_${le}`;de in N&&N[de]?(yb.dot(N[de].normal)<=m&&(z.push(Me.x,Me.y,Me.z),z.push(ze.x,ze.y,ze.z)),N[de]=null):Ke in N||(N[Ke]={index0:A[oe],index1:A[se],normal:yb.clone()})}}for(const V in N)if(N[V]){const{index0:Y,index1:K}=N[V];Bm.fromBufferAttribute(S,Y),zm.fromBufferAttribute(S,K),z.push(Bm.x,Bm.y,Bm.z),z.push(zm.x,zm.y,zm.z)}this.setAttribute("position",new An(z,3))}}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}}class rc extends Df{constructor(n){super(n),this.uuid=Sr(),this.type="Shape",this.holes=[]}getPointsHoles(n){const r=[];for(let c=0,d=this.holes.length;c<d;c++)r[c]=this.holes[c].getPoints(n);return r}extractPoints(n){return{shape:this.getPoints(n),holes:this.getPointsHoles(n)}}copy(n){super.copy(n),this.holes=[];for(let r=0,c=n.holes.length;r<c;r++){const d=n.holes[r];this.holes.push(d.clone())}return this}toJSON(){const n=super.toJSON();n.uuid=this.uuid,n.holes=[];for(let r=0,c=this.holes.length;r<c;r++){const d=this.holes[r];n.holes.push(d.toJSON())}return n}fromJSON(n){super.fromJSON(n),this.uuid=n.uuid,this.holes=[];for(let r=0,c=n.holes.length;r<c;r++){const d=n.holes[r];this.holes.push(new Df().fromJSON(d))}return this}}const C$={triangulate:function(y,n,r=2){const c=n&&n.length,d=c?n[0]*r:y.length;let m=EE(y,0,d,r,!0);const _=[];if(!m||m.next===m.prev)return _;let S,T,A,I,L,N,z;if(c&&(m=P$(y,n,m,r)),y.length>80*r){S=A=y[0],T=I=y[1];for(let V=r;V<d;V+=r)L=y[V],N=y[V+1],L<S&&(S=L),N<T&&(T=N),L>A&&(A=L),N>I&&(I=N);z=Math.max(A-S,I-T),z=z!==0?32767/z:0}return Uf(m,_,r,S,T,z,0),_}};function EE(y,n,r,c,d){let m,_;if(d===V$(y,n,r,c)>0)for(m=n;m<r;m+=c)_=AE(m,y[m],y[m+1],_);else for(m=r-c;m>=n;m-=c)_=AE(m,y[m],y[m+1],_);return _&&Um(_,_.next)&&(Hf(_),_=_.next),_}function oc(y,n){if(!y)return y;n||(n=y);let r=y,c;do if(c=!1,!r.steiner&&(Um(r,r.next)||ts(r.prev,r,r.next)===0)){if(Hf(r),r=n=r.prev,r===r.next)break;c=!0}else r=r.next;while(c||r!==n);return n}function Uf(y,n,r,c,d,m,_){if(!y)return;!_&&m&&D$(y,c,d,m);let S=y,T,A;for(;y.prev!==y.next;){if(T=y.prev,A=y.next,m?A$(y,c,d,m):T$(y)){n.push(T.i/r|0),n.push(y.i/r|0),n.push(A.i/r|0),Hf(y),y=A.next,S=A.next;continue}if(y=A,y===S){_?_===1?(y=R$(oc(y),n,r),Uf(y,n,r,c,d,m,2)):_===2&&k$(y,n,r,c,d,m):Uf(oc(y),n,r,c,d,m,1);break}}}function T$(y){const n=y.prev,r=y,c=y.next;if(ts(n,r,c)>=0)return!1;const d=n.x,m=r.x,_=c.x,S=n.y,T=r.y,A=c.y,I=d<m?d<_?d:_:m<_?m:_,L=S<T?S<A?S:A:T<A?T:A,N=d>m?d>_?d:_:m>_?m:_,z=S>T?S>A?S:A:T>A?T:A;let V=c.next;for(;V!==n;){if(V.x>=I&&V.x<=N&&V.y>=L&&V.y<=z&&zu(d,S,m,T,_,A,V.x,V.y)&&ts(V.prev,V,V.next)>=0)return!1;V=V.next}return!0}function A$(y,n,r,c){const d=y.prev,m=y,_=y.next;if(ts(d,m,_)>=0)return!1;const S=d.x,T=m.x,A=_.x,I=d.y,L=m.y,N=_.y,z=S<T?S<A?S:A:T<A?T:A,V=I<L?I<N?I:N:L<N?L:N,Y=S>T?S>A?S:A:T>A?T:A,K=I>L?I>N?I:N:L>N?L:N,$=bb(z,V,n,r,c),oe=bb(Y,K,n,r,c);let se=y.prevZ,le=y.nextZ;for(;se&&se.z>=$&&le&&le.z<=oe;){if(se.x>=z&&se.x<=Y&&se.y>=V&&se.y<=K&&se!==d&&se!==_&&zu(S,I,T,L,A,N,se.x,se.y)&&ts(se.prev,se,se.next)>=0||(se=se.prevZ,le.x>=z&&le.x<=Y&&le.y>=V&&le.y<=K&&le!==d&&le!==_&&zu(S,I,T,L,A,N,le.x,le.y)&&ts(le.prev,le,le.next)>=0))return!1;le=le.nextZ}for(;se&&se.z>=$;){if(se.x>=z&&se.x<=Y&&se.y>=V&&se.y<=K&&se!==d&&se!==_&&zu(S,I,T,L,A,N,se.x,se.y)&&ts(se.prev,se,se.next)>=0)return!1;se=se.prevZ}for(;le&&le.z<=oe;){if(le.x>=z&&le.x<=Y&&le.y>=V&&le.y<=K&&le!==d&&le!==_&&zu(S,I,T,L,A,N,le.x,le.y)&&ts(le.prev,le,le.next)>=0)return!1;le=le.nextZ}return!0}function R$(y,n,r){let c=y;do{const d=c.prev,m=c.next.next;!Um(d,m)&&CE(d,c,c.next,m)&&Vf(d,m)&&Vf(m,d)&&(n.push(d.i/r|0),n.push(c.i/r|0),n.push(m.i/r|0),Hf(c),Hf(c.next),c=y=m),c=c.next}while(c!==y);return oc(c)}function k$(y,n,r,c,d,m){let _=y;do{let S=_.next.next;for(;S!==_.prev;){if(_.i!==S.i&&z$(_,S)){let T=TE(_,S);_=oc(_,_.next),T=oc(T,T.next),Uf(_,n,r,c,d,m,0),Uf(T,n,r,c,d,m,0);return}S=S.next}_=_.next}while(_!==y)}function P$(y,n,r,c){const d=[];let m,_,S,T,A;for(m=0,_=n.length;m<_;m++)S=n[m]*c,T=m<_-1?n[m+1]*c:y.length,A=EE(y,S,T,c,!1),A===A.next&&(A.steiner=!0),d.push(B$(A));for(d.sort(I$),m=0;m<d.length;m++)r=L$(d[m],r);return r}function I$(y,n){return y.x-n.x}function L$(y,n){const r=N$(y,n);if(!r)return n;const c=TE(r,y);return oc(c,c.next),oc(r,r.next)}function N$(y,n){let r=n,c=-1/0,d;const m=y.x,_=y.y;do{if(_<=r.y&&_>=r.next.y&&r.next.y!==r.y){const N=r.x+(_-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(N<=m&&N>c&&(c=N,d=r.x<r.next.x?r:r.next,N===m))return d}r=r.next}while(r!==n);if(!d)return null;const S=d,T=d.x,A=d.y;let I=1/0,L;r=d;do m>=r.x&&r.x>=T&&m!==r.x&&zu(_<A?m:c,_,T,A,_<A?c:m,_,r.x,r.y)&&(L=Math.abs(_-r.y)/(m-r.x),Vf(r,y)&&(L<I||L===I&&(r.x>d.x||r.x===d.x&&O$(d,r)))&&(d=r,I=L)),r=r.next;while(r!==S);return d}function O$(y,n){return ts(y.prev,y,n.prev)<0&&ts(n.next,y,y.next)<0}function D$(y,n,r,c){let d=y;do d.z===0&&(d.z=bb(d.x,d.y,n,r,c)),d.prevZ=d.prev,d.nextZ=d.next,d=d.next;while(d!==y);d.prevZ.nextZ=null,d.prevZ=null,F$(d)}function F$(y){let n,r,c,d,m,_,S,T,A=1;do{for(r=y,y=null,m=null,_=0;r;){for(_++,c=r,S=0,n=0;n<A&&(S++,c=c.nextZ,!!c);n++);for(T=A;S>0||T>0&&c;)S!==0&&(T===0||!c||r.z<=c.z)?(d=r,r=r.nextZ,S--):(d=c,c=c.nextZ,T--),m?m.nextZ=d:y=d,d.prevZ=m,m=d;r=c}m.nextZ=null,A*=2}while(_>1);return y}function bb(y,n,r,c,d){return y=(y-r)*d|0,n=(n-c)*d|0,y=(y|y<<8)&16711935,y=(y|y<<4)&252645135,y=(y|y<<2)&858993459,y=(y|y<<1)&1431655765,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,y|n<<1}function B$(y){let n=y,r=y;do(n.x<r.x||n.x===r.x&&n.y<r.y)&&(r=n),n=n.next;while(n!==y);return r}function zu(y,n,r,c,d,m,_,S){return(d-_)*(n-S)>=(y-_)*(m-S)&&(y-_)*(c-S)>=(r-_)*(n-S)&&(r-_)*(m-S)>=(d-_)*(c-S)}function z$(y,n){return y.next.i!==n.i&&y.prev.i!==n.i&&!$$(y,n)&&(Vf(y,n)&&Vf(n,y)&&U$(y,n)&&(ts(y.prev,y,n.prev)||ts(y,n.prev,n))||Um(y,n)&&ts(y.prev,y,y.next)>0&&ts(n.prev,n,n.next)>0)}function ts(y,n,r){return(n.y-y.y)*(r.x-n.x)-(n.x-y.x)*(r.y-n.y)}function Um(y,n){return y.x===n.x&&y.y===n.y}function CE(y,n,r,c){const d=Hm(ts(y,n,r)),m=Hm(ts(y,n,c)),_=Hm(ts(r,c,y)),S=Hm(ts(r,c,n));return!!(d!==m&&_!==S||d===0&&Vm(y,r,n)||m===0&&Vm(y,c,n)||_===0&&Vm(r,y,c)||S===0&&Vm(r,n,c))}function Vm(y,n,r){return n.x<=Math.max(y.x,r.x)&&n.x>=Math.min(y.x,r.x)&&n.y<=Math.max(y.y,r.y)&&n.y>=Math.min(y.y,r.y)}function Hm(y){return y>0?1:y<0?-1:0}function $$(y,n){let r=y;do{if(r.i!==y.i&&r.next.i!==y.i&&r.i!==n.i&&r.next.i!==n.i&&CE(r,r.next,y,n))return!0;r=r.next}while(r!==y);return!1}function Vf(y,n){return ts(y.prev,y,y.next)<0?ts(y,n,y.next)>=0&&ts(y,y.prev,n)>=0:ts(y,n,y.prev)<0||ts(y,y.next,n)<0}function U$(y,n){let r=y,c=!1;const d=(y.x+n.x)/2,m=(y.y+n.y)/2;do r.y>m!=r.next.y>m&&r.next.y!==r.y&&d<(r.next.x-r.x)*(m-r.y)/(r.next.y-r.y)+r.x&&(c=!c),r=r.next;while(r!==y);return c}function TE(y,n){const r=new _b(y.i,y.x,y.y),c=new _b(n.i,n.x,n.y),d=y.next,m=n.prev;return y.next=n,n.prev=y,r.next=d,d.prev=r,c.next=r,r.prev=c,m.next=c,c.prev=m,c}function AE(y,n,r,c){const d=new _b(y,n,r);return c?(d.next=c.next,d.prev=c,c.next.prev=d,c.next=d):(d.prev=d,d.next=d),d}function Hf(y){y.next.prev=y.prev,y.prev.next=y.next,y.prevZ&&(y.prevZ.nextZ=y.nextZ),y.nextZ&&(y.nextZ.prevZ=y.prevZ)}function _b(y,n,r){this.i=y,this.x=n,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function V$(y,n,r,c){let d=0;for(let m=n,_=r-c;m<r;m+=c)d+=(y[_]-y[m])*(y[m+1]+y[_+1]),_=m;return d}class Ho{static area(n){const r=n.length;let c=0;for(let d=r-1,m=0;m<r;d=m++)c+=n[d].x*n[m].y-n[m].x*n[d].y;return c*.5}static isClockWise(n){return Ho.area(n)<0}static triangulateShape(n,r){const c=[],d=[],m=[];RE(n),kE(c,n);let _=n.length;r.forEach(RE);for(let T=0;T<r.length;T++)d.push(_),_+=r[T].length,kE(c,r[T]);const S=C$.triangulate(c,d);for(let T=0;T<S.length;T+=3)m.push(S.slice(T,T+3));return m}}function RE(y){const n=y.length;n>2&&y[n-1].equals(y[0])&&y.pop()}function kE(y,n){for(let r=0;r<n.length;r++)y.push(n[r].x),y.push(n[r].y)}class Wf extends pi{constructor(n=new rc([new Vt(.5,.5),new Vt(-.5,.5),new Vt(-.5,-.5),new Vt(.5,-.5)]),r={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:n,options:r},n=Array.isArray(n)?n:[n];const c=this,d=[],m=[];for(let S=0,T=n.length;S<T;S++){const A=n[S];_(A)}this.setAttribute("position",new An(d,3)),this.setAttribute("uv",new An(m,2)),this.computeVertexNormals();function _(S){const T=[],A=r.curveSegments!==void 0?r.curveSegments:12,I=r.steps!==void 0?r.steps:1,L=r.depth!==void 0?r.depth:1;let N=r.bevelEnabled!==void 0?r.bevelEnabled:!0,z=r.bevelThickness!==void 0?r.bevelThickness:.2,V=r.bevelSize!==void 0?r.bevelSize:z-.1,Y=r.bevelOffset!==void 0?r.bevelOffset:0,K=r.bevelSegments!==void 0?r.bevelSegments:3;const $=r.extrudePath,oe=r.UVGenerator!==void 0?r.UVGenerator:H$;let se,le=!1,ye,Me,ze,Ke;$&&(se=$.getSpacedPoints(I),le=!0,N=!1,ye=$.computeFrenetFrames(I,!1),Me=new Re,ze=new Re,Ke=new Re),N||(K=0,z=0,V=0,Y=0);const de=S.extractPoints(A);let ke=de.shape;const bt=de.holes;if(!Ho.isClockWise(ke)){ke=ke.reverse();for(let qt=0,kt=bt.length;qt<kt;qt++){const jt=bt[qt];Ho.isClockWise(jt)&&(bt[qt]=jt.reverse())}}const ot=Ho.triangulateShape(ke,bt),mt=ke;for(let qt=0,kt=bt.length;qt<kt;qt++){const jt=bt[qt];ke=ke.concat(jt)}function wt(qt,kt,jt){return kt||console.error("THREE.ExtrudeGeometry: vec does not exist"),qt.clone().addScaledVector(kt,jt)}const $t=ke.length,Ot=ot.length;function Dt(qt,kt,jt){let Mn,hn,Kn;const qn=qt.x-kt.x,Vn=qt.y-kt.y,gi=jt.x-qt.x,Ri=jt.y-qt.y,Ne=qn*qn+Vn*Vn,be=qn*Ri-Vn*gi;if(Math.abs(be)>Number.EPSILON){const gt=Math.sqrt(Ne),Zt=Math.sqrt(gi*gi+Ri*Ri),en=kt.x-Vn/gt,pn=kt.y+qn/gt,Zn=jt.x-Ri/Zt,Sn=jt.y+gi/Zt,Rt=((Zn-en)*Ri-(Sn-pn)*gi)/(qn*Ri-Vn*gi);Mn=en+qn*Rt-qt.x,hn=pn+Vn*Rt-qt.y;const Ln=Mn*Mn+hn*hn;if(Ln<=2)return new Vt(Mn,hn);Kn=Math.sqrt(Ln/2)}else{let gt=!1;qn>Number.EPSILON?gi>Number.EPSILON&&(gt=!0):qn<-Number.EPSILON?gi<-Number.EPSILON&&(gt=!0):Math.sign(Vn)===Math.sign(Ri)&&(gt=!0),gt?(Mn=-Vn,hn=qn,Kn=Math.sqrt(Ne)):(Mn=qn,hn=Vn,Kn=Math.sqrt(Ne/2))}return new Vt(Mn/Kn,hn/Kn)}const Qt=[];for(let qt=0,kt=mt.length,jt=kt-1,Mn=qt+1;qt<kt;qt++,jt++,Mn++)jt===kt&&(jt=0),Mn===kt&&(Mn=0),Qt[qt]=Dt(mt[qt],mt[jt],mt[Mn]);const Gt=[];let In,sn=Qt.concat();for(let qt=0,kt=bt.length;qt<kt;qt++){const jt=bt[qt];In=[];for(let Mn=0,hn=jt.length,Kn=hn-1,qn=Mn+1;Mn<hn;Mn++,Kn++,qn++)Kn===hn&&(Kn=0),qn===hn&&(qn=0),In[Mn]=Dt(jt[Mn],jt[Kn],jt[qn]);Gt.push(In),sn=sn.concat(In)}for(let qt=0;qt<K;qt++){const kt=qt/K,jt=z*Math.cos(kt*Math.PI/2),Mn=V*Math.sin(kt*Math.PI/2)+Y;for(let hn=0,Kn=mt.length;hn<Kn;hn++){const qn=wt(mt[hn],Qt[hn],Mn);je(qn.x,qn.y,-jt)}for(let hn=0,Kn=bt.length;hn<Kn;hn++){const qn=bt[hn];In=Gt[hn];for(let Vn=0,gi=qn.length;Vn<gi;Vn++){const Ri=wt(qn[Vn],In[Vn],Mn);je(Ri.x,Ri.y,-jt)}}}const Et=V+Y;for(let qt=0;qt<$t;qt++){const kt=N?wt(ke[qt],sn[qt],Et):ke[qt];le?(ze.copy(ye.normals[0]).multiplyScalar(kt.x),Me.copy(ye.binormals[0]).multiplyScalar(kt.y),Ke.copy(se[0]).add(ze).add(Me),je(Ke.x,Ke.y,Ke.z)):je(kt.x,kt.y,0)}for(let qt=1;qt<=I;qt++)for(let kt=0;kt<$t;kt++){const jt=N?wt(ke[kt],sn[kt],Et):ke[kt];le?(ze.copy(ye.normals[qt]).multiplyScalar(jt.x),Me.copy(ye.binormals[qt]).multiplyScalar(jt.y),Ke.copy(se[qt]).add(ze).add(Me),je(Ke.x,Ke.y,Ke.z)):je(jt.x,jt.y,L/I*qt)}for(let qt=K-1;qt>=0;qt--){const kt=qt/K,jt=z*Math.cos(kt*Math.PI/2),Mn=V*Math.sin(kt*Math.PI/2)+Y;for(let hn=0,Kn=mt.length;hn<Kn;hn++){const qn=wt(mt[hn],Qt[hn],Mn);je(qn.x,qn.y,L+jt)}for(let hn=0,Kn=bt.length;hn<Kn;hn++){const qn=bt[hn];In=Gt[hn];for(let Vn=0,gi=qn.length;Vn<gi;Vn++){const Ri=wt(qn[Vn],In[Vn],Mn);le?je(Ri.x,Ri.y+se[I-1].y,se[I-1].x+jt):je(Ri.x,Ri.y,L+jt)}}}Ht(),dn();function Ht(){const qt=d.length/3;if(N){let kt=0,jt=$t*kt;for(let Mn=0;Mn<Ot;Mn++){const hn=ot[Mn];Qn(hn[2]+jt,hn[1]+jt,hn[0]+jt)}kt=I+K*2,jt=$t*kt;for(let Mn=0;Mn<Ot;Mn++){const hn=ot[Mn];Qn(hn[0]+jt,hn[1]+jt,hn[2]+jt)}}else{for(let kt=0;kt<Ot;kt++){const jt=ot[kt];Qn(jt[2],jt[1],jt[0])}for(let kt=0;kt<Ot;kt++){const jt=ot[kt];Qn(jt[0]+$t*I,jt[1]+$t*I,jt[2]+$t*I)}}c.addGroup(qt,d.length/3-qt,0)}function dn(){const qt=d.length/3;let kt=0;mn(mt,kt),kt+=mt.length;for(let jt=0,Mn=bt.length;jt<Mn;jt++){const hn=bt[jt];mn(hn,kt),kt+=hn.length}c.addGroup(qt,d.length/3-qt,1)}function mn(qt,kt){let jt=qt.length;for(;--jt>=0;){const Mn=jt;let hn=jt-1;hn<0&&(hn=qt.length-1);for(let Kn=0,qn=I+K*2;Kn<qn;Kn++){const Vn=$t*Kn,gi=$t*(Kn+1),Ri=kt+Mn+Vn,Ne=kt+hn+Vn,be=kt+hn+gi,gt=kt+Mn+gi;ni(Ri,Ne,be,gt)}}}function je(qt,kt,jt){T.push(qt),T.push(kt),T.push(jt)}function Qn(qt,kt,jt){nn(qt),nn(kt),nn(jt);const Mn=d.length/3,hn=oe.generateTopUV(c,d,Mn-3,Mn-2,Mn-1);Fn(hn[0]),Fn(hn[1]),Fn(hn[2])}function ni(qt,kt,jt,Mn){nn(qt),nn(kt),nn(Mn),nn(kt),nn(jt),nn(Mn);const hn=d.length/3,Kn=oe.generateSideWallUV(c,d,hn-6,hn-3,hn-2,hn-1);Fn(Kn[0]),Fn(Kn[1]),Fn(Kn[3]),Fn(Kn[1]),Fn(Kn[2]),Fn(Kn[3])}function nn(qt){d.push(T[qt*3+0]),d.push(T[qt*3+1]),d.push(T[qt*3+2])}function Fn(qt){m.push(qt.x),m.push(qt.y)}}}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}toJSON(){const n=super.toJSON(),r=this.parameters.shapes,c=this.parameters.options;return W$(r,c,n)}static fromJSON(n,r){const c=[];for(let m=0,_=n.shapes.length;m<_;m++){const S=r[n.shapes[m]];c.push(S)}const d=n.options.extrudePath;return d!==void 0&&(n.options.extrudePath=new vb[d.type]().fromJSON(d)),new Wf(c,n.options)}}const H$={generateTopUV:function(y,n,r,c,d){const m=n[r*3],_=n[r*3+1],S=n[c*3],T=n[c*3+1],A=n[d*3],I=n[d*3+1];return[new Vt(m,_),new Vt(S,T),new Vt(A,I)]},generateSideWallUV:function(y,n,r,c,d,m){const _=n[r*3],S=n[r*3+1],T=n[r*3+2],A=n[c*3],I=n[c*3+1],L=n[c*3+2],N=n[d*3],z=n[d*3+1],V=n[d*3+2],Y=n[m*3],K=n[m*3+1],$=n[m*3+2];return Math.abs(S-I)<Math.abs(_-A)?[new Vt(_,1-T),new Vt(A,1-L),new Vt(N,1-V),new Vt(Y,1-$)]:[new Vt(S,1-T),new Vt(I,1-L),new Vt(z,1-V),new Vt(K,1-$)]}};function W$(y,n,r){if(r.shapes=[],Array.isArray(y))for(let c=0,d=y.length;c<d;c++){const m=y[c];r.shapes.push(m.uuid)}else r.shapes.push(y.uuid);return r.options=Object.assign({},n),n.extrudePath!==void 0&&(r.options.extrudePath=n.extrudePath.toJSON()),r}class Gf extends ga{constructor(n=1,r=0){const c=(1+Math.sqrt(5))/2,d=[-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],m=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(d,m,n,r),this.type="IcosahedronGeometry",this.parameters={radius:n,detail:r}}static fromJSON(n){return new Gf(n.radius,n.detail)}}class $u extends ga{constructor(n=1,r=0){const c=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],d=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(c,d,n,r),this.type="OctahedronGeometry",this.parameters={radius:n,detail:r}}static fromJSON(n){return new $u(n.radius,n.detail)}}class Kf extends pi{constructor(n=.5,r=1,c=32,d=1,m=0,_=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:n,outerRadius:r,thetaSegments:c,phiSegments:d,thetaStart:m,thetaLength:_},c=Math.max(3,c),d=Math.max(1,d);const S=[],T=[],A=[],I=[];let L=n;const N=(r-n)/d,z=new Re,V=new Vt;for(let Y=0;Y<=d;Y++){for(let K=0;K<=c;K++){const $=m+K/c*_;z.x=L*Math.cos($),z.y=L*Math.sin($),T.push(z.x,z.y,z.z),A.push(0,0,1),V.x=(z.x/r+1)/2,V.y=(z.y/r+1)/2,I.push(V.x,V.y)}L+=N}for(let Y=0;Y<d;Y++){const K=Y*(c+1);for(let $=0;$<c;$++){const oe=$+K,se=oe,le=oe+c+1,ye=oe+c+2,Me=oe+1;S.push(se,le,Me),S.push(le,ye,Me)}}this.setIndex(S),this.setAttribute("position",new An(T,3)),this.setAttribute("normal",new An(A,3)),this.setAttribute("uv",new An(I,2))}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new Kf(n.innerRadius,n.outerRadius,n.thetaSegments,n.phiSegments,n.thetaStart,n.thetaLength)}}class qf extends pi{constructor(n=new rc([new Vt(0,.5),new Vt(-.5,-.5),new Vt(.5,-.5)]),r=12){super(),this.type="ShapeGeometry",this.parameters={shapes:n,curveSegments:r};const c=[],d=[],m=[],_=[];let S=0,T=0;if(Array.isArray(n)===!1)A(n);else for(let I=0;I<n.length;I++)A(n[I]),this.addGroup(S,T,I),S+=T,T=0;this.setIndex(c),this.setAttribute("position",new An(d,3)),this.setAttribute("normal",new An(m,3)),this.setAttribute("uv",new An(_,2));function A(I){const L=d.length/3,N=I.extractPoints(r);let z=N.shape;const V=N.holes;Ho.isClockWise(z)===!1&&(z=z.reverse());for(let K=0,$=V.length;K<$;K++){const oe=V[K];Ho.isClockWise(oe)===!0&&(V[K]=oe.reverse())}const Y=Ho.triangulateShape(z,V);for(let K=0,$=V.length;K<$;K++){const oe=V[K];z=z.concat(oe)}for(let K=0,$=z.length;K<$;K++){const oe=z[K];d.push(oe.x,oe.y,0),m.push(0,0,1),_.push(oe.x,oe.y)}for(let K=0,$=Y.length;K<$;K++){const oe=Y[K],se=oe[0]+L,le=oe[1]+L,ye=oe[2]+L;c.push(se,le,ye),T+=3}}}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}toJSON(){const n=super.toJSON(),r=this.parameters.shapes;return G$(r,n)}static fromJSON(n,r){const c=[];for(let d=0,m=n.shapes.length;d<m;d++){const _=r[n.shapes[d]];c.push(_)}return new qf(c,n.curveSegments)}}function G$(y,n){if(n.shapes=[],Array.isArray(y))for(let r=0,c=y.length;r<c;r++){const d=y[r];n.shapes.push(d.uuid)}else n.shapes.push(y.uuid);return n}class Uu extends pi{constructor(n=1,r=32,c=16,d=0,m=Math.PI*2,_=0,S=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:n,widthSegments:r,heightSegments:c,phiStart:d,phiLength:m,thetaStart:_,thetaLength:S},r=Math.max(3,Math.floor(r)),c=Math.max(2,Math.floor(c));const T=Math.min(_+S,Math.PI);let A=0;const I=[],L=new Re,N=new Re,z=[],V=[],Y=[],K=[];for(let $=0;$<=c;$++){const oe=[],se=$/c;let le=0;$===0&&_===0?le=.5/r:$===c&&T===Math.PI&&(le=-.5/r);for(let ye=0;ye<=r;ye++){const Me=ye/r;L.x=-n*Math.cos(d+Me*m)*Math.sin(_+se*S),L.y=n*Math.cos(_+se*S),L.z=n*Math.sin(d+Me*m)*Math.sin(_+se*S),V.push(L.x,L.y,L.z),N.copy(L).normalize(),Y.push(N.x,N.y,N.z),K.push(Me+le,1-se),oe.push(A++)}I.push(oe)}for(let $=0;$<c;$++)for(let oe=0;oe<r;oe++){const se=I[$][oe+1],le=I[$][oe],ye=I[$+1][oe],Me=I[$+1][oe+1];($!==0||_>0)&&z.push(se,le,Me),($!==c-1||T<Math.PI)&&z.push(le,ye,Me)}this.setIndex(z),this.setAttribute("position",new An(V,3)),this.setAttribute("normal",new An(Y,3)),this.setAttribute("uv",new An(K,2))}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new Uu(n.radius,n.widthSegments,n.heightSegments,n.phiStart,n.phiLength,n.thetaStart,n.thetaLength)}}class jf extends ga{constructor(n=1,r=0){const c=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],d=[2,1,0,0,3,2,1,3,0,2,3,1];super(c,d,n,r),this.type="TetrahedronGeometry",this.parameters={radius:n,detail:r}}static fromJSON(n){return new jf(n.radius,n.detail)}}class Xf extends pi{constructor(n=1,r=.4,c=12,d=48,m=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:n,tube:r,radialSegments:c,tubularSegments:d,arc:m},c=Math.floor(c),d=Math.floor(d);const _=[],S=[],T=[],A=[],I=new Re,L=new Re,N=new Re;for(let z=0;z<=c;z++)for(let V=0;V<=d;V++){const Y=V/d*m,K=z/c*Math.PI*2;L.x=(n+r*Math.cos(K))*Math.cos(Y),L.y=(n+r*Math.cos(K))*Math.sin(Y),L.z=r*Math.sin(K),S.push(L.x,L.y,L.z),I.x=n*Math.cos(Y),I.y=n*Math.sin(Y),N.subVectors(L,I).normalize(),T.push(N.x,N.y,N.z),A.push(V/d),A.push(z/c)}for(let z=1;z<=c;z++)for(let V=1;V<=d;V++){const Y=(d+1)*z+V-1,K=(d+1)*(z-1)+V-1,$=(d+1)*(z-1)+V,oe=(d+1)*z+V;_.push(Y,K,oe),_.push(K,$,oe)}this.setIndex(_),this.setAttribute("position",new An(S,3)),this.setAttribute("normal",new An(T,3)),this.setAttribute("uv",new An(A,2))}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new Xf(n.radius,n.tube,n.radialSegments,n.tubularSegments,n.arc)}}class Yf extends pi{constructor(n=1,r=.4,c=64,d=8,m=2,_=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:n,tube:r,tubularSegments:c,radialSegments:d,p:m,q:_},c=Math.floor(c),d=Math.floor(d);const S=[],T=[],A=[],I=[],L=new Re,N=new Re,z=new Re,V=new Re,Y=new Re,K=new Re,$=new Re;for(let se=0;se<=c;++se){const le=se/c*m*Math.PI*2;oe(le,m,_,n,z),oe(le+.01,m,_,n,V),K.subVectors(V,z),$.addVectors(V,z),Y.crossVectors(K,$),$.crossVectors(Y,K),Y.normalize(),$.normalize();for(let ye=0;ye<=d;++ye){const Me=ye/d*Math.PI*2,ze=-r*Math.cos(Me),Ke=r*Math.sin(Me);L.x=z.x+(ze*$.x+Ke*Y.x),L.y=z.y+(ze*$.y+Ke*Y.y),L.z=z.z+(ze*$.z+Ke*Y.z),T.push(L.x,L.y,L.z),N.subVectors(L,z).normalize(),A.push(N.x,N.y,N.z),I.push(se/c),I.push(ye/d)}}for(let se=1;se<=c;se++)for(let le=1;le<=d;le++){const ye=(d+1)*(se-1)+(le-1),Me=(d+1)*se+(le-1),ze=(d+1)*se+le,Ke=(d+1)*(se-1)+le;S.push(ye,Me,Ke),S.push(Me,ze,Ke)}this.setIndex(S),this.setAttribute("position",new An(T,3)),this.setAttribute("normal",new An(A,3)),this.setAttribute("uv",new An(I,2));function oe(se,le,ye,Me,ze){const Ke=Math.cos(se),de=Math.sin(se),ke=ye/le*se,bt=Math.cos(ke);ze.x=Me*(2+bt)*.5*Ke,ze.y=Me*(2+bt)*de*.5,ze.z=Me*Math.sin(ke)*.5}}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new Yf(n.radius,n.tube,n.tubularSegments,n.radialSegments,n.p,n.q)}}class Zf extends pi{constructor(n=new mb(new Re(-1,-1,0),new Re(-1,1,0),new Re(1,1,0)),r=64,c=1,d=8,m=!1){super(),this.type="TubeGeometry",this.parameters={path:n,tubularSegments:r,radius:c,radialSegments:d,closed:m};const _=n.computeFrenetFrames(r,m);this.tangents=_.tangents,this.normals=_.normals,this.binormals=_.binormals;const S=new Re,T=new Re,A=new Vt;let I=new Re;const L=[],N=[],z=[],V=[];Y(),this.setIndex(V),this.setAttribute("position",new An(L,3)),this.setAttribute("normal",new An(N,3)),this.setAttribute("uv",new An(z,2));function Y(){for(let se=0;se<r;se++)K(se);K(m===!1?r:0),oe(),$()}function K(se){I=n.getPointAt(se/r,I);const le=_.normals[se],ye=_.binormals[se];for(let Me=0;Me<=d;Me++){const ze=Me/d*Math.PI*2,Ke=Math.sin(ze),de=-Math.cos(ze);T.x=de*le.x+Ke*ye.x,T.y=de*le.y+Ke*ye.y,T.z=de*le.z+Ke*ye.z,T.normalize(),N.push(T.x,T.y,T.z),S.x=I.x+c*T.x,S.y=I.y+c*T.y,S.z=I.z+c*T.z,L.push(S.x,S.y,S.z)}}function $(){for(let se=1;se<=r;se++)for(let le=1;le<=d;le++){const ye=(d+1)*(se-1)+(le-1),Me=(d+1)*se+(le-1),ze=(d+1)*se+le,Ke=(d+1)*(se-1)+le;V.push(ye,Me,Ke),V.push(Me,ze,Ke)}}function oe(){for(let se=0;se<=r;se++)for(let le=0;le<=d;le++)A.x=se/r,A.y=le/d,z.push(A.x,A.y)}}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}toJSON(){const n=super.toJSON();return n.path=this.parameters.path.toJSON(),n}static fromJSON(n){return new Zf(new vb[n.path.type]().fromJSON(n.path),n.tubularSegments,n.radius,n.radialSegments,n.closed)}}class PE extends pi{constructor(n=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:n},n!==null){const r=[],c=new Set,d=new Re,m=new Re;if(n.index!==null){const _=n.attributes.position,S=n.index;let T=n.groups;T.length===0&&(T=[{start:0,count:S.count,materialIndex:0}]);for(let A=0,I=T.length;A<I;++A){const L=T[A],N=L.start,z=L.count;for(let V=N,Y=N+z;V<Y;V+=3)for(let K=0;K<3;K++){const $=S.getX(V+K),oe=S.getX(V+(K+1)%3);d.fromBufferAttribute(_,$),m.fromBufferAttribute(_,oe),IE(d,m,c)===!0&&(r.push(d.x,d.y,d.z),r.push(m.x,m.y,m.z))}}}else{const _=n.attributes.position;for(let S=0,T=_.count/3;S<T;S++)for(let A=0;A<3;A++){const I=3*S+A,L=3*S+(A+1)%3;d.fromBufferAttribute(_,I),m.fromBufferAttribute(_,L),IE(d,m,c)===!0&&(r.push(d.x,d.y,d.z),r.push(m.x,m.y,m.z))}}this.setAttribute("position",new An(r,3))}}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}}function IE(y,n,r){const c=`${y.x},${y.y},${y.z}-${n.x},${n.y},${n.z}`,d=`${n.x},${n.y},${n.z}-${y.x},${y.y},${y.z}`;return r.has(c)===!0||r.has(d)===!0?!1:(r.add(c),r.add(d),!0)}var LE=Object.freeze({__proto__:null,BoxGeometry:rl,CapsuleGeometry:Ff,CircleGeometry:Bf,ConeGeometry:zf,CylinderGeometry:sc,DodecahedronGeometry:$f,EdgesGeometry:ME,ExtrudeGeometry:Wf,IcosahedronGeometry:Gf,LatheGeometry:Bu,OctahedronGeometry:$u,PlaneGeometry:Eu,PolyhedronGeometry:ga,RingGeometry:Kf,ShapeGeometry:qf,SphereGeometry:Uu,TetrahedronGeometry:jf,TorusGeometry:Xf,TorusKnotGeometry:Yf,TubeGeometry:Zf,WireframeGeometry:PE});class NE extends Bs{constructor(n){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new vn(0),this.transparent=!0,this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.fog=n.fog,this}}class OE extends Uo{constructor(n){super(n),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class wb extends Bs{constructor(n){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new vn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ja,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.defines={STANDARD:""},this.color.copy(n.color),this.roughness=n.roughness,this.metalness=n.metalness,this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.roughnessMap=n.roughnessMap,this.metalnessMap=n.metalnessMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.envMapIntensity=n.envMapIntensity,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.flatShading=n.flatShading,this.fog=n.fog,this}}class DE extends wb{constructor(n){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return is(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(r){this.ior=(1+.4*r)/(1-.4*r)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new vn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new vn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new vn(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(n)}get sheen(){return this._sheen}set sheen(n){this._sheen>0!=n>0&&this.version++,this._sheen=n}get clearcoat(){return this._clearcoat}set clearcoat(n){this._clearcoat>0!=n>0&&this.version++,this._clearcoat=n}get iridescence(){return this._iridescence}set iridescence(n){this._iridescence>0!=n>0&&this.version++,this._iridescence=n}get transmission(){return this._transmission}set transmission(n){this._transmission>0!=n>0&&this.version++,this._transmission=n}copy(n){return super.copy(n),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=n.clearcoat,this.clearcoatMap=n.clearcoatMap,this.clearcoatRoughness=n.clearcoatRoughness,this.clearcoatRoughnessMap=n.clearcoatRoughnessMap,this.clearcoatNormalMap=n.clearcoatNormalMap,this.clearcoatNormalScale.copy(n.clearcoatNormalScale),this.ior=n.ior,this.iridescence=n.iridescence,this.iridescenceMap=n.iridescenceMap,this.iridescenceIOR=n.iridescenceIOR,this.iridescenceThicknessRange=[...n.iridescenceThicknessRange],this.iridescenceThicknessMap=n.iridescenceThicknessMap,this.sheen=n.sheen,this.sheenColor.copy(n.sheenColor),this.sheenColorMap=n.sheenColorMap,this.sheenRoughness=n.sheenRoughness,this.sheenRoughnessMap=n.sheenRoughnessMap,this.transmission=n.transmission,this.transmissionMap=n.transmissionMap,this.thickness=n.thickness,this.thicknessMap=n.thicknessMap,this.attenuationDistance=n.attenuationDistance,this.attenuationColor.copy(n.attenuationColor),this.specularIntensity=n.specularIntensity,this.specularIntensityMap=n.specularIntensityMap,this.specularColor.copy(n.specularColor),this.specularColorMap=n.specularColorMap,this}}class FE extends Bs{constructor(n){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new vn(16777215),this.specular=new vn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ja,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ue,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.specular.copy(n.specular),this.shininess=n.shininess,this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.flatShading=n.flatShading,this.fog=n.fog,this}}class BE extends Bs{constructor(n){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new vn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ja,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.map=n.map,this.gradientMap=n.gradientMap,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.alphaMap=n.alphaMap,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.fog=n.fog,this}}class zE extends Bs{constructor(n){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ja,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(n)}copy(n){return super.copy(n),this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.flatShading=n.flatShading,this}}class $E extends Bs{constructor(n){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new vn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ja,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ue,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.flatShading=n.flatShading,this.fog=n.fog,this}}class UE extends Bs{constructor(n){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new vn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ja,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.defines={MATCAP:""},this.color.copy(n.color),this.matcap=n.matcap,this.map=n.map,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.alphaMap=n.alphaMap,this.flatShading=n.flatShading,this.fog=n.fog,this}}class VE extends js{constructor(n){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(n)}copy(n){return super.copy(n),this.scale=n.scale,this.dashSize=n.dashSize,this.gapSize=n.gapSize,this}}function Ur(y,n,r){return Sb(y)?new y.constructor(y.subarray(n,r!==void 0?r:y.length)):y.slice(n,r)}function ac(y,n,r){return!y||!r&&y.constructor===n?y:typeof n.BYTES_PER_ELEMENT=="number"?new n(y):Array.prototype.slice.call(y)}function Sb(y){return ArrayBuffer.isView(y)&&!(y instanceof DataView)}function HE(y){function n(d,m){return y[d]-y[m]}const r=y.length,c=new Array(r);for(let d=0;d!==r;++d)c[d]=d;return c.sort(n),c}function xb(y,n,r){const c=y.length,d=new y.constructor(c);for(let m=0,_=0;_!==c;++m){const S=r[m]*n;for(let T=0;T!==n;++T)d[_++]=y[S+T]}return d}function Mb(y,n,r,c){let d=1,m=y[0];for(;m!==void 0&&m[c]===void 0;)m=y[d++];if(m===void 0)return;let _=m[c];if(_!==void 0)if(Array.isArray(_))do _=m[c],_!==void 0&&(n.push(m.time),r.push.apply(r,_)),m=y[d++];while(m!==void 0);else if(_.toArray!==void 0)do _=m[c],_!==void 0&&(n.push(m.time),_.toArray(r,r.length)),m=y[d++];while(m!==void 0);else do _=m[c],_!==void 0&&(n.push(m.time),r.push(_)),m=y[d++];while(m!==void 0)}function K$(y,n,r,c,d=30){const m=y.clone();m.name=n;const _=[];for(let T=0;T<m.tracks.length;++T){const A=m.tracks[T],I=A.getValueSize(),L=[],N=[];for(let z=0;z<A.times.length;++z){const V=A.times[z]*d;if(!(V<r||V>=c)){L.push(A.times[z]);for(let Y=0;Y<I;++Y)N.push(A.values[z*I+Y])}}L.length!==0&&(A.times=ac(L,A.times.constructor),A.values=ac(N,A.values.constructor),_.push(A))}m.tracks=_;let S=1/0;for(let T=0;T<m.tracks.length;++T)S>m.tracks[T].times[0]&&(S=m.tracks[T].times[0]);for(let T=0;T<m.tracks.length;++T)m.tracks[T].shift(-1*S);return m.resetDuration(),m}function q$(y,n=0,r=y,c=30){c<=0&&(c=30);const d=r.tracks.length,m=n/c;for(let _=0;_<d;++_){const S=r.tracks[_],T=S.ValueTypeName;if(T==="bool"||T==="string")continue;const A=y.tracks.find(function($){return $.name===S.name&&$.ValueTypeName===T});if(A===void 0)continue;let I=0;const L=S.getValueSize();S.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(I=L/3);let N=0;const z=A.getValueSize();A.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(N=z/3);const V=S.times.length-1;let Y;if(m<=S.times[0]){const $=I,oe=L-I;Y=Ur(S.values,$,oe)}else if(m>=S.times[V]){const $=V*L+I,oe=$+L-I;Y=Ur(S.values,$,oe)}else{const $=S.createInterpolant(),oe=I,se=L-I;$.evaluate(m),Y=Ur($.resultBuffer,oe,se)}T==="quaternion"&&new cr().fromArray(Y).normalize().conjugate().toArray(Y);const K=A.times.length;for(let $=0;$<K;++$){const oe=$*z+N;if(T==="quaternion")cr.multiplyQuaternionsFlat(A.values,oe,Y,0,A.values,oe);else{const se=z-N*2;for(let le=0;le<se;++le)A.values[oe+le]-=Y[le]}}}return y.blendMode=_y,y}const j$={arraySlice:Ur,convertArray:ac,isTypedArray:Sb,getKeyframeOrder:HE,sortedArray:xb,flattenJSON:Mb,subclip:K$,makeClipAdditive:q$};class Jf{constructor(n,r,c,d){this.parameterPositions=n,this._cachedIndex=0,this.resultBuffer=d!==void 0?d:new r.constructor(c),this.sampleValues=r,this.valueSize=c,this.settings=null,this.DefaultSettings_={}}evaluate(n){const r=this.parameterPositions;let c=this._cachedIndex,d=r[c],m=r[c-1];e:{t:{let _;n:{i:if(!(n<d)){for(let S=c+2;;){if(d===void 0){if(n<m)break i;return c=r.length,this._cachedIndex=c,this.copySampleValue_(c-1)}if(c===S)break;if(m=d,d=r[++c],n<d)break t}_=r.length;break n}if(!(n>=m)){const S=r[1];n<S&&(c=2,m=S);for(let T=c-2;;){if(m===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(c===T)break;if(d=m,m=r[--c-1],n>=m)break t}_=c,c=0;break n}break e}for(;c<_;){const S=c+_>>>1;n<r[S]?_=S:c=S+1}if(d=r[c],m=r[c-1],m===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(d===void 0)return c=r.length,this._cachedIndex=c,this.copySampleValue_(c-1)}this._cachedIndex=c,this.intervalChanged_(c,m,d)}return this.interpolate_(c,m,n,d)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(n){const r=this.resultBuffer,c=this.sampleValues,d=this.valueSize,m=n*d;for(let _=0;_!==d;++_)r[_]=c[m+_];return r}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class WE extends Jf{constructor(n,r,c,d){super(n,r,c,d),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:jl,endingEnd:jl}}intervalChanged_(n,r,c){const d=this.parameterPositions;let m=n-2,_=n+1,S=d[m],T=d[_];if(S===void 0)switch(this.getSettings_().endingStart){case Xl:m=n,S=2*r-c;break;case mf:m=d.length-2,S=r+d[m]-d[m+1];break;default:m=n,S=c}if(T===void 0)switch(this.getSettings_().endingEnd){case Xl:_=n,T=2*c-r;break;case mf:_=1,T=c+d[1]-d[0];break;default:_=n-1,T=r}const A=(c-r)*.5,I=this.valueSize;this._weightPrev=A/(r-S),this._weightNext=A/(T-c),this._offsetPrev=m*I,this._offsetNext=_*I}interpolate_(n,r,c,d){const m=this.resultBuffer,_=this.sampleValues,S=this.valueSize,T=n*S,A=T-S,I=this._offsetPrev,L=this._offsetNext,N=this._weightPrev,z=this._weightNext,V=(c-r)/(d-r),Y=V*V,K=Y*V,$=-N*K+2*N*Y-N*V,oe=(1+N)*K+(-1.5-2*N)*Y+(-.5+N)*V+1,se=(-1-z)*K+(1.5+z)*Y+.5*V,le=z*K-z*Y;for(let ye=0;ye!==S;++ye)m[ye]=$*_[I+ye]+oe*_[A+ye]+se*_[T+ye]+le*_[L+ye];return m}}class Eb extends Jf{constructor(n,r,c,d){super(n,r,c,d)}interpolate_(n,r,c,d){const m=this.resultBuffer,_=this.sampleValues,S=this.valueSize,T=n*S,A=T-S,I=(c-r)/(d-r),L=1-I;for(let N=0;N!==S;++N)m[N]=_[A+N]*L+_[T+N]*I;return m}}class GE extends Jf{constructor(n,r,c,d){super(n,r,c,d)}interpolate_(n){return this.copySampleValue_(n-1)}}class po{constructor(n,r,c,d){if(n===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(r===void 0||r.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+n);this.name=n,this.times=ac(r,this.TimeBufferType),this.values=ac(c,this.ValueBufferType),this.setInterpolation(d||this.DefaultInterpolation)}static toJSON(n){const r=n.constructor;let c;if(r.toJSON!==this.toJSON)c=r.toJSON(n);else{c={name:n.name,times:ac(n.times,Array),values:ac(n.values,Array)};const d=n.getInterpolation();d!==n.DefaultInterpolation&&(c.interpolation=d)}return c.type=n.ValueTypeName,c}InterpolantFactoryMethodDiscrete(n){return new GE(this.times,this.values,this.getValueSize(),n)}InterpolantFactoryMethodLinear(n){return new Eb(this.times,this.values,this.getValueSize(),n)}InterpolantFactoryMethodSmooth(n){return new WE(this.times,this.values,this.getValueSize(),n)}setInterpolation(n){let r;switch(n){case hf:r=this.InterpolantFactoryMethodDiscrete;break;case pf:r=this.InterpolantFactoryMethodLinear;break;case Kp:r=this.InterpolantFactoryMethodSmooth;break}if(r===void 0){const c="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(n!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(c);return console.warn("THREE.KeyframeTrack:",c),this}return this.createInterpolant=r,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return hf;case this.InterpolantFactoryMethodLinear:return pf;case this.InterpolantFactoryMethodSmooth:return Kp}}getValueSize(){return this.values.length/this.times.length}shift(n){if(n!==0){const r=this.times;for(let c=0,d=r.length;c!==d;++c)r[c]+=n}return this}scale(n){if(n!==1){const r=this.times;for(let c=0,d=r.length;c!==d;++c)r[c]*=n}return this}trim(n,r){const c=this.times,d=c.length;let m=0,_=d-1;for(;m!==d&&c[m]<n;)++m;for(;_!==-1&&c[_]>r;)--_;if(++_,m!==0||_!==d){m>=_&&(_=Math.max(_,1),m=_-1);const S=this.getValueSize();this.times=Ur(c,m,_),this.values=Ur(this.values,m*S,_*S)}return this}validate(){let n=!0;const r=this.getValueSize();r-Math.floor(r)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),n=!1);const c=this.times,d=this.values,m=c.length;m===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),n=!1);let _=null;for(let S=0;S!==m;S++){const T=c[S];if(typeof T=="number"&&isNaN(T)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,S,T),n=!1;break}if(_!==null&&_>T){console.error("THREE.KeyframeTrack: Out of order keys.",this,S,T,_),n=!1;break}_=T}if(d!==void 0&&Sb(d))for(let S=0,T=d.length;S!==T;++S){const A=d[S];if(isNaN(A)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,S,A),n=!1;break}}return n}optimize(){const n=Ur(this.times),r=Ur(this.values),c=this.getValueSize(),d=this.getInterpolation()===Kp,m=n.length-1;let _=1;for(let S=1;S<m;++S){let T=!1;const A=n[S],I=n[S+1];if(A!==I&&(S!==1||A!==n[0]))if(d)T=!0;else{const L=S*c,N=L-c,z=L+c;for(let V=0;V!==c;++V){const Y=r[L+V];if(Y!==r[N+V]||Y!==r[z+V]){T=!0;break}}}if(T){if(S!==_){n[_]=n[S];const L=S*c,N=_*c;for(let z=0;z!==c;++z)r[N+z]=r[L+z]}++_}}if(m>0){n[_]=n[m];for(let S=m*c,T=_*c,A=0;A!==c;++A)r[T+A]=r[S+A];++_}return _!==n.length?(this.times=Ur(n,0,_),this.values=Ur(r,0,_*c)):(this.times=n,this.values=r),this}clone(){const n=Ur(this.times,0),r=Ur(this.values,0),c=this.constructor,d=new c(this.name,n,r);return d.createInterpolant=this.createInterpolant,d}}po.prototype.TimeBufferType=Float32Array,po.prototype.ValueBufferType=Float32Array,po.prototype.DefaultInterpolation=pf;class lc extends po{}lc.prototype.ValueTypeName="bool",lc.prototype.ValueBufferType=Array,lc.prototype.DefaultInterpolation=hf,lc.prototype.InterpolantFactoryMethodLinear=void 0,lc.prototype.InterpolantFactoryMethodSmooth=void 0;class Cb extends po{}Cb.prototype.ValueTypeName="color";class Qf extends po{}Qf.prototype.ValueTypeName="number";class KE extends Jf{constructor(n,r,c,d){super(n,r,c,d)}interpolate_(n,r,c,d){const m=this.resultBuffer,_=this.sampleValues,S=this.valueSize,T=(c-r)/(d-r);let A=n*S;for(let I=A+S;A!==I;A+=4)cr.slerpFlat(m,0,_,A-S,_,A,T);return m}}class Vu extends po{InterpolantFactoryMethodLinear(n){return new KE(this.times,this.values,this.getValueSize(),n)}}Vu.prototype.ValueTypeName="quaternion",Vu.prototype.DefaultInterpolation=pf,Vu.prototype.InterpolantFactoryMethodSmooth=void 0;class cc extends po{}cc.prototype.ValueTypeName="string",cc.prototype.ValueBufferType=Array,cc.prototype.DefaultInterpolation=hf,cc.prototype.InterpolantFactoryMethodLinear=void 0,cc.prototype.InterpolantFactoryMethodSmooth=void 0;class eh extends po{}eh.prototype.ValueTypeName="vector";class th{constructor(n,r=-1,c,d=qp){this.name=n,this.tracks=c,this.duration=r,this.blendMode=d,this.uuid=Sr(),this.duration<0&&this.resetDuration()}static parse(n){const r=[],c=n.tracks,d=1/(n.fps||1);for(let _=0,S=c.length;_!==S;++_)r.push(Y$(c[_]).scale(d));const m=new this(n.name,n.duration,r,n.blendMode);return m.uuid=n.uuid,m}static toJSON(n){const r=[],c=n.tracks,d={name:n.name,duration:n.duration,tracks:r,uuid:n.uuid,blendMode:n.blendMode};for(let m=0,_=c.length;m!==_;++m)r.push(po.toJSON(c[m]));return d}static CreateFromMorphTargetSequence(n,r,c,d){const m=r.length,_=[];for(let S=0;S<m;S++){let T=[],A=[];T.push((S+m-1)%m,S,(S+1)%m),A.push(0,1,0);const I=HE(T);T=xb(T,1,I),A=xb(A,1,I),!d&&T[0]===0&&(T.push(m),A.push(A[0])),_.push(new Qf(".morphTargetInfluences["+r[S].name+"]",T,A).scale(1/c))}return new this(n,-1,_)}static findByName(n,r){let c=n;if(!Array.isArray(n)){const d=n;c=d.geometry&&d.geometry.animations||d.animations}for(let d=0;d<c.length;d++)if(c[d].name===r)return c[d];return null}static CreateClipsFromMorphTargetSequences(n,r,c){const d={},m=/^([\w-]*?)([\d]+)$/;for(let S=0,T=n.length;S<T;S++){const A=n[S],I=A.name.match(m);if(I&&I.length>1){const L=I[1];let N=d[L];N||(d[L]=N=[]),N.push(A)}}const _=[];for(const S in d)_.push(this.CreateFromMorphTargetSequence(S,d[S],r,c));return _}static parseAnimation(n,r){if(!n)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const c=function(L,N,z,V,Y){if(z.length!==0){const K=[],$=[];Mb(z,K,$,V),K.length!==0&&Y.push(new L(N,K,$))}},d=[],m=n.name||"default",_=n.fps||30,S=n.blendMode;let T=n.length||-1;const A=n.hierarchy||[];for(let L=0;L<A.length;L++){const N=A[L].keys;if(!(!N||N.length===0))if(N[0].morphTargets){const z={};let V;for(V=0;V<N.length;V++)if(N[V].morphTargets)for(let Y=0;Y<N[V].morphTargets.length;Y++)z[N[V].morphTargets[Y]]=-1;for(const Y in z){const K=[],$=[];for(let oe=0;oe!==N[V].morphTargets.length;++oe){const se=N[V];K.push(se.time),$.push(se.morphTarget===Y?1:0)}d.push(new Qf(".morphTargetInfluence["+Y+"]",K,$))}T=z.length*_}else{const z=".bones["+r[L].name+"]";c(eh,z+".position",N,"pos",d),c(Vu,z+".quaternion",N,"rot",d),c(eh,z+".scale",N,"scl",d)}}return d.length===0?null:new this(m,T,d,S)}resetDuration(){const n=this.tracks;let r=0;for(let c=0,d=n.length;c!==d;++c){const m=this.tracks[c];r=Math.max(r,m.times[m.times.length-1])}return this.duration=r,this}trim(){for(let n=0;n<this.tracks.length;n++)this.tracks[n].trim(0,this.duration);return this}validate(){let n=!0;for(let r=0;r<this.tracks.length;r++)n=n&&this.tracks[r].validate();return n}optimize(){for(let n=0;n<this.tracks.length;n++)this.tracks[n].optimize();return this}clone(){const n=[];for(let r=0;r<this.tracks.length;r++)n.push(this.tracks[r].clone());return new this.constructor(this.name,this.duration,n,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function X$(y){switch(y.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Qf;case"vector":case"vector2":case"vector3":case"vector4":return eh;case"color":return Cb;case"quaternion":return Vu;case"bool":case"boolean":return lc;case"string":return cc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+y)}function Y$(y){if(y.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const n=X$(y.type);if(y.times===void 0){const r=[],c=[];Mb(y.keys,r,c,"value"),y.times=r,y.values=c}return n.parse!==void 0?n.parse(y):new n(y.name,y.times,y.values,y.interpolation)}const uc={enabled:!1,files:{},add:function(y,n){this.enabled!==!1&&(this.files[y]=n)},get:function(y){if(this.enabled!==!1)return this.files[y]},remove:function(y){delete this.files[y]},clear:function(){this.files={}}};class Tb{constructor(n,r,c){const d=this;let m=!1,_=0,S=0,T;const A=[];this.onStart=void 0,this.onLoad=n,this.onProgress=r,this.onError=c,this.itemStart=function(I){S++,m===!1&&d.onStart!==void 0&&d.onStart(I,_,S),m=!0},this.itemEnd=function(I){_++,d.onProgress!==void 0&&d.onProgress(I,_,S),_===S&&(m=!1,d.onLoad!==void 0&&d.onLoad())},this.itemError=function(I){d.onError!==void 0&&d.onError(I)},this.resolveURL=function(I){return T?T(I):I},this.setURLModifier=function(I){return T=I,this},this.addHandler=function(I,L){return A.push(I,L),this},this.removeHandler=function(I){const L=A.indexOf(I);return L!==-1&&A.splice(L,2),this},this.getHandler=function(I){for(let L=0,N=A.length;L<N;L+=2){const z=A[L],V=A[L+1];if(z.global&&(z.lastIndex=0),z.test(I))return V}return null}}}const qE=new Tb;class Cr{constructor(n){this.manager=n!==void 0?n:qE,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(n,r){const c=this;return new Promise(function(d,m){c.load(n,d,r,m)})}parse(){}setCrossOrigin(n){return this.crossOrigin=n,this}setWithCredentials(n){return this.withCredentials=n,this}setPath(n){return this.path=n,this}setResourcePath(n){return this.resourcePath=n,this}setRequestHeader(n){return this.requestHeader=n,this}}const va={};class Z$ extends Error{constructor(n,r){super(n),this.response=r}}class ya extends Cr{constructor(n){super(n)}load(n,r,c,d){n===void 0&&(n=""),this.path!==void 0&&(n=this.path+n),n=this.manager.resolveURL(n);const m=uc.get(n);if(m!==void 0)return this.manager.itemStart(n),setTimeout(()=>{r&&r(m),this.manager.itemEnd(n)},0),m;if(va[n]!==void 0){va[n].push({onLoad:r,onProgress:c,onError:d});return}va[n]=[],va[n].push({onLoad:r,onProgress:c,onError:d});const _=new Request(n,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),S=this.mimeType,T=this.responseType;fetch(_).then(A=>{if(A.status===200||A.status===0){if(A.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||A.body===void 0||A.body.getReader===void 0)return A;const I=va[n],L=A.body.getReader(),N=A.headers.get("Content-Length")||A.headers.get("X-File-Size"),z=N?parseInt(N):0,V=z!==0;let Y=0;const K=new ReadableStream({start($){oe();function oe(){L.read().then(({done:se,value:le})=>{if(se)$.close();else{Y+=le.byteLength;const ye=new ProgressEvent("progress",{lengthComputable:V,loaded:Y,total:z});for(let Me=0,ze=I.length;Me<ze;Me++){const Ke=I[Me];Ke.onProgress&&Ke.onProgress(ye)}$.enqueue(le),oe()}})}}});return new Response(K)}else throw new Z$(`fetch for "${A.url}" responded with ${A.status}: ${A.statusText}`,A)}).then(A=>{switch(T){case"arraybuffer":return A.arrayBuffer();case"blob":return A.blob();case"document":return A.text().then(I=>new DOMParser().parseFromString(I,S));case"json":return A.json();default:if(S===void 0)return A.text();{const L=/charset="?([^;"\s]*)"?/i.exec(S),N=L&&L[1]?L[1].toLowerCase():void 0,z=new TextDecoder(N);return A.arrayBuffer().then(V=>z.decode(V))}}}).then(A=>{uc.add(n,A);const I=va[n];delete va[n];for(let L=0,N=I.length;L<N;L++){const z=I[L];z.onLoad&&z.onLoad(A)}}).catch(A=>{const I=va[n];if(I===void 0)throw this.manager.itemError(n),A;delete va[n];for(let L=0,N=I.length;L<N;L++){const z=I[L];z.onError&&z.onError(A)}this.manager.itemError(n)}).finally(()=>{this.manager.itemEnd(n)}),this.manager.itemStart(n)}setResponseType(n){return this.responseType=n,this}setMimeType(n){return this.mimeType=n,this}}class J$ extends Cr{constructor(n){super(n)}load(n,r,c,d){const m=this,_=new ya(this.manager);_.setPath(this.path),_.setRequestHeader(this.requestHeader),_.setWithCredentials(this.withCredentials),_.load(n,function(S){try{r(m.parse(JSON.parse(S)))}catch(T){d?d(T):console.error(T),m.manager.itemError(n)}},c,d)}parse(n){const r=[];for(let c=0;c<n.length;c++){const d=th.parse(n[c]);r.push(d)}return r}}class Q$ extends Cr{constructor(n){super(n)}load(n,r,c,d){const m=this,_=[],S=new lb,T=new ya(this.manager);T.setPath(this.path),T.setResponseType("arraybuffer"),T.setRequestHeader(this.requestHeader),T.setWithCredentials(m.withCredentials);let A=0;function I(L){T.load(n[L],function(N){const z=m.parse(N,!0);_[L]={width:z.width,height:z.height,format:z.format,mipmaps:z.mipmaps},A+=1,A===6&&(z.mipmapCount===1&&(S.minFilter=Se),S.image=_,S.format=z.format,S.needsUpdate=!0,r&&r(S))},c,d)}if(Array.isArray(n))for(let L=0,N=n.length;L<N;++L)I(L);else T.load(n,function(L){const N=m.parse(L,!0);if(N.isCubemap){const z=N.mipmaps.length/N.mipmapCount;for(let V=0;V<z;V++){_[V]={mipmaps:[]};for(let Y=0;Y<N.mipmapCount;Y++)_[V].mipmaps.push(N.mipmaps[V*N.mipmapCount+Y]),_[V].format=N.format,_[V].width=N.width,_[V].height=N.height}S.image=_}else S.image.width=N.width,S.image.height=N.height,S.mipmaps=N.mipmaps;N.mipmapCount===1&&(S.minFilter=Se),S.format=N.format,S.needsUpdate=!0,r&&r(S)},c,d);return S}}class nh extends Cr{constructor(n){super(n)}load(n,r,c,d){this.path!==void 0&&(n=this.path+n),n=this.manager.resolveURL(n);const m=this,_=uc.get(n);if(_!==void 0)return m.manager.itemStart(n),setTimeout(function(){r&&r(_),m.manager.itemEnd(n)},0),_;const S=yf("img");function T(){I(),uc.add(n,this),r&&r(this),m.manager.itemEnd(n)}function A(L){I(),d&&d(L),m.manager.itemError(n),m.manager.itemEnd(n)}function I(){S.removeEventListener("load",T,!1),S.removeEventListener("error",A,!1)}return S.addEventListener("load",T,!1),S.addEventListener("error",A,!1),n.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(S.crossOrigin=this.crossOrigin),m.manager.itemStart(n),S.src=n,S}}class eU extends Cr{constructor(n){super(n)}load(n,r,c,d){const m=new Tf,_=new nh(this.manager);_.setCrossOrigin(this.crossOrigin),_.setPath(this.path);let S=0;function T(A){_.load(n[A],function(I){m.images[A]=I,S++,S===6&&(m.needsUpdate=!0,r&&r(m))},void 0,d)}for(let A=0;A<n.length;++A)T(A);return m}}class tU extends Cr{constructor(n){super(n)}load(n,r,c,d){const m=this,_=new Ou,S=new ya(this.manager);return S.setResponseType("arraybuffer"),S.setRequestHeader(this.requestHeader),S.setPath(this.path),S.setWithCredentials(m.withCredentials),S.load(n,function(T){const A=m.parse(T);A&&(A.image!==void 0?_.image=A.image:A.data!==void 0&&(_.image.width=A.width,_.image.height=A.height,_.image.data=A.data),_.wrapS=A.wrapS!==void 0?A.wrapS:Ut,_.wrapT=A.wrapT!==void 0?A.wrapT:Ut,_.magFilter=A.magFilter!==void 0?A.magFilter:Se,_.minFilter=A.minFilter!==void 0?A.minFilter:Se,_.anisotropy=A.anisotropy!==void 0?A.anisotropy:1,A.colorSpace!==void 0?_.colorSpace=A.colorSpace:A.encoding!==void 0&&(_.encoding=A.encoding),A.flipY!==void 0&&(_.flipY=A.flipY),A.format!==void 0&&(_.format=A.format),A.type!==void 0&&(_.type=A.type),A.mipmaps!==void 0&&(_.mipmaps=A.mipmaps,_.minFilter=tn),A.mipmapCount===1&&(_.minFilter=Se),A.generateMipmaps!==void 0&&(_.generateMipmaps=A.generateMipmaps),_.needsUpdate=!0,r&&r(_,A))},c,d),_}}class nU extends Cr{constructor(n){super(n)}load(n,r,c,d){const m=new rs,_=new nh(this.manager);return _.setCrossOrigin(this.crossOrigin),_.setPath(this.path),_.load(n,function(S){m.image=S,m.needsUpdate=!0,r!==void 0&&r(m)},c,d),m}}class ll extends Ai{constructor(n,r=1){super(),this.isLight=!0,this.type="Light",this.color=new vn(n),this.intensity=r}dispose(){}copy(n,r){return super.copy(n,r),this.color.copy(n.color),this.intensity=n.intensity,this}toJSON(n){const r=super.toJSON(n);return r.object.color=this.color.getHex(),r.object.intensity=this.intensity,this.groundColor!==void 0&&(r.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(r.object.distance=this.distance),this.angle!==void 0&&(r.object.angle=this.angle),this.decay!==void 0&&(r.object.decay=this.decay),this.penumbra!==void 0&&(r.object.penumbra=this.penumbra),this.shadow!==void 0&&(r.object.shadow=this.shadow.toJSON()),r}}class jE extends ll{constructor(n,r,c){super(n,c),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ai.DEFAULT_UP),this.updateMatrix(),this.groundColor=new vn(r)}copy(n,r){return super.copy(n,r),this.groundColor.copy(n.groundColor),this}}const Ab=new li,XE=new Re,YE=new Re;class Rb{constructor(n){this.camera=n,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vt(512,512),this.map=null,this.mapPass=null,this.matrix=new li,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new vm,this._frameExtents=new Vt(1,1),this._viewportCount=1,this._viewports=[new Li(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(n){const r=this.camera,c=this.matrix;XE.setFromMatrixPosition(n.matrixWorld),r.position.copy(XE),YE.setFromMatrixPosition(n.target.matrixWorld),r.lookAt(YE),r.updateMatrixWorld(),Ab.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ab),c.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),c.multiply(Ab)}getViewport(n){return this._viewports[n]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(n){return this.camera=n.camera.clone(),this.bias=n.bias,this.radius=n.radius,this.mapSize.copy(n.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const n={};return this.bias!==0&&(n.bias=this.bias),this.normalBias!==0&&(n.normalBias=this.normalBias),this.radius!==1&&(n.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(n.mapSize=this.mapSize.toArray()),n.camera=this.camera.toJSON(!1).object,delete n.camera.matrix,n}}class iU extends Rb{constructor(){super(new Ps(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(n){const r=this.camera,c=ou*2*n.angle*this.focus,d=this.mapSize.width/this.mapSize.height,m=n.distance||r.far;(c!==r.fov||d!==r.aspect||m!==r.far)&&(r.fov=c,r.aspect=d,r.far=m,r.updateProjectionMatrix()),super.updateMatrices(n)}copy(n){return super.copy(n),this.focus=n.focus,this}}class ZE extends ll{constructor(n,r,c=0,d=Math.PI/3,m=0,_=2){super(n,r),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ai.DEFAULT_UP),this.updateMatrix(),this.target=new Ai,this.distance=c,this.angle=d,this.penumbra=m,this.decay=_,this.map=null,this.shadow=new iU}get power(){return this.intensity*Math.PI}set power(n){this.intensity=n/Math.PI}dispose(){this.shadow.dispose()}copy(n,r){return super.copy(n,r),this.distance=n.distance,this.angle=n.angle,this.penumbra=n.penumbra,this.decay=n.decay,this.target=n.target.clone(),this.shadow=n.shadow.clone(),this}}const JE=new li,ih=new Re,kb=new Re;class sU extends Rb{constructor(){super(new Ps(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vt(4,2),this._viewportCount=6,this._viewports=[new Li(2,1,1,1),new Li(0,1,1,1),new Li(3,1,1,1),new Li(1,1,1,1),new Li(3,0,1,1),new Li(1,0,1,1)],this._cubeDirections=[new Re(1,0,0),new Re(-1,0,0),new Re(0,0,1),new Re(0,0,-1),new Re(0,1,0),new Re(0,-1,0)],this._cubeUps=[new Re(0,1,0),new Re(0,1,0),new Re(0,1,0),new Re(0,1,0),new Re(0,0,1),new Re(0,0,-1)]}updateMatrices(n,r=0){const c=this.camera,d=this.matrix,m=n.distance||c.far;m!==c.far&&(c.far=m,c.updateProjectionMatrix()),ih.setFromMatrixPosition(n.matrixWorld),c.position.copy(ih),kb.copy(c.position),kb.add(this._cubeDirections[r]),c.up.copy(this._cubeUps[r]),c.lookAt(kb),c.updateMatrixWorld(),d.makeTranslation(-ih.x,-ih.y,-ih.z),JE.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse),this._frustum.setFromProjectionMatrix(JE)}}class QE extends ll{constructor(n,r,c=0,d=2){super(n,r),this.isPointLight=!0,this.type="PointLight",this.distance=c,this.decay=d,this.shadow=new sU}get power(){return this.intensity*4*Math.PI}set power(n){this.intensity=n/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(n,r){return super.copy(n,r),this.distance=n.distance,this.decay=n.decay,this.shadow=n.shadow.clone(),this}}class rU extends Rb{constructor(){super(new bm(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class eC extends ll{constructor(n,r){super(n,r),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ai.DEFAULT_UP),this.updateMatrix(),this.target=new Ai,this.shadow=new rU}dispose(){this.shadow.dispose()}copy(n){return super.copy(n),this.target=n.target.clone(),this.shadow=n.shadow.clone(),this}}class tC extends ll{constructor(n,r){super(n,r),this.isAmbientLight=!0,this.type="AmbientLight"}}class nC extends ll{constructor(n,r,c=10,d=10){super(n,r),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=c,this.height=d}get power(){return this.intensity*this.width*this.height*Math.PI}set power(n){this.intensity=n/(this.width*this.height*Math.PI)}copy(n){return super.copy(n),this.width=n.width,this.height=n.height,this}toJSON(n){const r=super.toJSON(n);return r.object.width=this.width,r.object.height=this.height,r}}class iC{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let n=0;n<9;n++)this.coefficients.push(new Re)}set(n){for(let r=0;r<9;r++)this.coefficients[r].copy(n[r]);return this}zero(){for(let n=0;n<9;n++)this.coefficients[n].set(0,0,0);return this}getAt(n,r){const c=n.x,d=n.y,m=n.z,_=this.coefficients;return r.copy(_[0]).multiplyScalar(.282095),r.addScaledVector(_[1],.488603*d),r.addScaledVector(_[2],.488603*m),r.addScaledVector(_[3],.488603*c),r.addScaledVector(_[4],1.092548*(c*d)),r.addScaledVector(_[5],1.092548*(d*m)),r.addScaledVector(_[6],.315392*(3*m*m-1)),r.addScaledVector(_[7],1.092548*(c*m)),r.addScaledVector(_[8],.546274*(c*c-d*d)),r}getIrradianceAt(n,r){const c=n.x,d=n.y,m=n.z,_=this.coefficients;return r.copy(_[0]).multiplyScalar(.886227),r.addScaledVector(_[1],2*.511664*d),r.addScaledVector(_[2],2*.511664*m),r.addScaledVector(_[3],2*.511664*c),r.addScaledVector(_[4],2*.429043*c*d),r.addScaledVector(_[5],2*.429043*d*m),r.addScaledVector(_[6],.743125*m*m-.247708),r.addScaledVector(_[7],2*.429043*c*m),r.addScaledVector(_[8],.429043*(c*c-d*d)),r}add(n){for(let r=0;r<9;r++)this.coefficients[r].add(n.coefficients[r]);return this}addScaledSH(n,r){for(let c=0;c<9;c++)this.coefficients[c].addScaledVector(n.coefficients[c],r);return this}scale(n){for(let r=0;r<9;r++)this.coefficients[r].multiplyScalar(n);return this}lerp(n,r){for(let c=0;c<9;c++)this.coefficients[c].lerp(n.coefficients[c],r);return this}equals(n){for(let r=0;r<9;r++)if(!this.coefficients[r].equals(n.coefficients[r]))return!1;return!0}copy(n){return this.set(n.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(n,r=0){const c=this.coefficients;for(let d=0;d<9;d++)c[d].fromArray(n,r+d*3);return this}toArray(n=[],r=0){const c=this.coefficients;for(let d=0;d<9;d++)c[d].toArray(n,r+d*3);return n}static getBasisAt(n,r){const c=n.x,d=n.y,m=n.z;r[0]=.282095,r[1]=.488603*d,r[2]=.488603*m,r[3]=.488603*c,r[4]=1.092548*c*d,r[5]=1.092548*d*m,r[6]=.315392*(3*m*m-1),r[7]=1.092548*c*m,r[8]=.546274*(c*c-d*d)}}class Wm extends ll{constructor(n=new iC,r=1){super(void 0,r),this.isLightProbe=!0,this.sh=n}copy(n){return super.copy(n),this.sh.copy(n.sh),this}fromJSON(n){return this.intensity=n.intensity,this.sh.fromArray(n.sh),this}toJSON(n){const r=super.toJSON(n);return r.object.sh=this.sh.toArray(),r}}class Gm extends Cr{constructor(n){super(n),this.textures={}}load(n,r,c,d){const m=this,_=new ya(m.manager);_.setPath(m.path),_.setRequestHeader(m.requestHeader),_.setWithCredentials(m.withCredentials),_.load(n,function(S){try{r(m.parse(JSON.parse(S)))}catch(T){d?d(T):console.error(T),m.manager.itemError(n)}},c,d)}parse(n){const r=this.textures;function c(m){return r[m]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",m),r[m]}const d=Gm.createMaterialFromType(n.type);if(n.uuid!==void 0&&(d.uuid=n.uuid),n.name!==void 0&&(d.name=n.name),n.color!==void 0&&d.color!==void 0&&d.color.setHex(n.color),n.roughness!==void 0&&(d.roughness=n.roughness),n.metalness!==void 0&&(d.metalness=n.metalness),n.sheen!==void 0&&(d.sheen=n.sheen),n.sheenColor!==void 0&&(d.sheenColor=new vn().setHex(n.sheenColor)),n.sheenRoughness!==void 0&&(d.sheenRoughness=n.sheenRoughness),n.emissive!==void 0&&d.emissive!==void 0&&d.emissive.setHex(n.emissive),n.specular!==void 0&&d.specular!==void 0&&d.specular.setHex(n.specular),n.specularIntensity!==void 0&&(d.specularIntensity=n.specularIntensity),n.specularColor!==void 0&&d.specularColor!==void 0&&d.specularColor.setHex(n.specularColor),n.shininess!==void 0&&(d.shininess=n.shininess),n.clearcoat!==void 0&&(d.clearcoat=n.clearcoat),n.clearcoatRoughness!==void 0&&(d.clearcoatRoughness=n.clearcoatRoughness),n.iridescence!==void 0&&(d.iridescence=n.iridescence),n.iridescenceIOR!==void 0&&(d.iridescenceIOR=n.iridescenceIOR),n.iridescenceThicknessRange!==void 0&&(d.iridescenceThicknessRange=n.iridescenceThicknessRange),n.transmission!==void 0&&(d.transmission=n.transmission),n.thickness!==void 0&&(d.thickness=n.thickness),n.attenuationDistance!==void 0&&(d.attenuationDistance=n.attenuationDistance),n.attenuationColor!==void 0&&d.attenuationColor!==void 0&&d.attenuationColor.setHex(n.attenuationColor),n.fog!==void 0&&(d.fog=n.fog),n.flatShading!==void 0&&(d.flatShading=n.flatShading),n.blending!==void 0&&(d.blending=n.blending),n.combine!==void 0&&(d.combine=n.combine),n.side!==void 0&&(d.side=n.side),n.shadowSide!==void 0&&(d.shadowSide=n.shadowSide),n.opacity!==void 0&&(d.opacity=n.opacity),n.transparent!==void 0&&(d.transparent=n.transparent),n.alphaTest!==void 0&&(d.alphaTest=n.alphaTest),n.depthTest!==void 0&&(d.depthTest=n.depthTest),n.depthWrite!==void 0&&(d.depthWrite=n.depthWrite),n.colorWrite!==void 0&&(d.colorWrite=n.colorWrite),n.stencilWrite!==void 0&&(d.stencilWrite=n.stencilWrite),n.stencilWriteMask!==void 0&&(d.stencilWriteMask=n.stencilWriteMask),n.stencilFunc!==void 0&&(d.stencilFunc=n.stencilFunc),n.stencilRef!==void 0&&(d.stencilRef=n.stencilRef),n.stencilFuncMask!==void 0&&(d.stencilFuncMask=n.stencilFuncMask),n.stencilFail!==void 0&&(d.stencilFail=n.stencilFail),n.stencilZFail!==void 0&&(d.stencilZFail=n.stencilZFail),n.stencilZPass!==void 0&&(d.stencilZPass=n.stencilZPass),n.wireframe!==void 0&&(d.wireframe=n.wireframe),n.wireframeLinewidth!==void 0&&(d.wireframeLinewidth=n.wireframeLinewidth),n.wireframeLinecap!==void 0&&(d.wireframeLinecap=n.wireframeLinecap),n.wireframeLinejoin!==void 0&&(d.wireframeLinejoin=n.wireframeLinejoin),n.rotation!==void 0&&(d.rotation=n.rotation),n.linewidth!==1&&(d.linewidth=n.linewidth),n.dashSize!==void 0&&(d.dashSize=n.dashSize),n.gapSize!==void 0&&(d.gapSize=n.gapSize),n.scale!==void 0&&(d.scale=n.scale),n.polygonOffset!==void 0&&(d.polygonOffset=n.polygonOffset),n.polygonOffsetFactor!==void 0&&(d.polygonOffsetFactor=n.polygonOffsetFactor),n.polygonOffsetUnits!==void 0&&(d.polygonOffsetUnits=n.polygonOffsetUnits),n.dithering!==void 0&&(d.dithering=n.dithering),n.alphaToCoverage!==void 0&&(d.alphaToCoverage=n.alphaToCoverage),n.premultipliedAlpha!==void 0&&(d.premultipliedAlpha=n.premultipliedAlpha),n.forceSinglePass!==void 0&&(d.forceSinglePass=n.forceSinglePass),n.visible!==void 0&&(d.visible=n.visible),n.toneMapped!==void 0&&(d.toneMapped=n.toneMapped),n.userData!==void 0&&(d.userData=n.userData),n.vertexColors!==void 0&&(typeof n.vertexColors=="number"?d.vertexColors=n.vertexColors>0:d.vertexColors=n.vertexColors),n.uniforms!==void 0)for(const m in n.uniforms){const _=n.uniforms[m];switch(d.uniforms[m]={},_.type){case"t":d.uniforms[m].value=c(_.value);break;case"c":d.uniforms[m].value=new vn().setHex(_.value);break;case"v2":d.uniforms[m].value=new Vt().fromArray(_.value);break;case"v3":d.uniforms[m].value=new Re().fromArray(_.value);break;case"v4":d.uniforms[m].value=new Li().fromArray(_.value);break;case"m3":d.uniforms[m].value=new vi().fromArray(_.value);break;case"m4":d.uniforms[m].value=new li().fromArray(_.value);break;default:d.uniforms[m].value=_.value}}if(n.defines!==void 0&&(d.defines=n.defines),n.vertexShader!==void 0&&(d.vertexShader=n.vertexShader),n.fragmentShader!==void 0&&(d.fragmentShader=n.fragmentShader),n.glslVersion!==void 0&&(d.glslVersion=n.glslVersion),n.extensions!==void 0)for(const m in n.extensions)d.extensions[m]=n.extensions[m];if(n.lights!==void 0&&(d.lights=n.lights),n.clipping!==void 0&&(d.clipping=n.clipping),n.size!==void 0&&(d.size=n.size),n.sizeAttenuation!==void 0&&(d.sizeAttenuation=n.sizeAttenuation),n.map!==void 0&&(d.map=c(n.map)),n.matcap!==void 0&&(d.matcap=c(n.matcap)),n.alphaMap!==void 0&&(d.alphaMap=c(n.alphaMap)),n.bumpMap!==void 0&&(d.bumpMap=c(n.bumpMap)),n.bumpScale!==void 0&&(d.bumpScale=n.bumpScale),n.normalMap!==void 0&&(d.normalMap=c(n.normalMap)),n.normalMapType!==void 0&&(d.normalMapType=n.normalMapType),n.normalScale!==void 0){let m=n.normalScale;Array.isArray(m)===!1&&(m=[m,m]),d.normalScale=new Vt().fromArray(m)}return n.displacementMap!==void 0&&(d.displacementMap=c(n.displacementMap)),n.displacementScale!==void 0&&(d.displacementScale=n.displacementScale),n.displacementBias!==void 0&&(d.displacementBias=n.displacementBias),n.roughnessMap!==void 0&&(d.roughnessMap=c(n.roughnessMap)),n.metalnessMap!==void 0&&(d.metalnessMap=c(n.metalnessMap)),n.emissiveMap!==void 0&&(d.emissiveMap=c(n.emissiveMap)),n.emissiveIntensity!==void 0&&(d.emissiveIntensity=n.emissiveIntensity),n.specularMap!==void 0&&(d.specularMap=c(n.specularMap)),n.specularIntensityMap!==void 0&&(d.specularIntensityMap=c(n.specularIntensityMap)),n.specularColorMap!==void 0&&(d.specularColorMap=c(n.specularColorMap)),n.envMap!==void 0&&(d.envMap=c(n.envMap)),n.envMapIntensity!==void 0&&(d.envMapIntensity=n.envMapIntensity),n.reflectivity!==void 0&&(d.reflectivity=n.reflectivity),n.refractionRatio!==void 0&&(d.refractionRatio=n.refractionRatio),n.lightMap!==void 0&&(d.lightMap=c(n.lightMap)),n.lightMapIntensity!==void 0&&(d.lightMapIntensity=n.lightMapIntensity),n.aoMap!==void 0&&(d.aoMap=c(n.aoMap)),n.aoMapIntensity!==void 0&&(d.aoMapIntensity=n.aoMapIntensity),n.gradientMap!==void 0&&(d.gradientMap=c(n.gradientMap)),n.clearcoatMap!==void 0&&(d.clearcoatMap=c(n.clearcoatMap)),n.clearcoatRoughnessMap!==void 0&&(d.clearcoatRoughnessMap=c(n.clearcoatRoughnessMap)),n.clearcoatNormalMap!==void 0&&(d.clearcoatNormalMap=c(n.clearcoatNormalMap)),n.clearcoatNormalScale!==void 0&&(d.clearcoatNormalScale=new Vt().fromArray(n.clearcoatNormalScale)),n.iridescenceMap!==void 0&&(d.iridescenceMap=c(n.iridescenceMap)),n.iridescenceThicknessMap!==void 0&&(d.iridescenceThicknessMap=c(n.iridescenceThicknessMap)),n.transmissionMap!==void 0&&(d.transmissionMap=c(n.transmissionMap)),n.thicknessMap!==void 0&&(d.thicknessMap=c(n.thicknessMap)),n.sheenColorMap!==void 0&&(d.sheenColorMap=c(n.sheenColorMap)),n.sheenRoughnessMap!==void 0&&(d.sheenRoughnessMap=c(n.sheenRoughnessMap)),d}setTextures(n){return this.textures=n,this}static createMaterialFromType(n){const r={ShadowMaterial:NE,SpriteMaterial:nb,RawShaderMaterial:OE,ShaderMaterial:Uo,PointsMaterial:ob,MeshPhysicalMaterial:DE,MeshStandardMaterial:wb,MeshPhongMaterial:FE,MeshToonMaterial:BE,MeshNormalMaterial:zE,MeshLambertMaterial:$E,MeshDepthMaterial:Qy,MeshDistanceMaterial:eb,MeshBasicMaterial:sl,MeshMatcapMaterial:UE,LineDashedMaterial:VE,LineBasicMaterial:js,Material:Bs};return new r[n]}}class Pb{static decodeText(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let r="";for(let c=0,d=n.length;c<d;c++)r+=String.fromCharCode(n[c]);try{return decodeURIComponent(escape(r))}catch{return r}}static extractUrlBase(n){const r=n.lastIndexOf("/");return r===-1?"./":n.slice(0,r+1)}static resolveURL(n,r){return typeof n!="string"||n===""?"":(/^https?:\/\//i.test(r)&&/^\//.test(n)&&(r=r.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(n)||/^data:.*,.*$/i.test(n)||/^blob:.*$/i.test(n)?n:r+n)}}class sC extends pi{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(n){return super.copy(n),this.instanceCount=n.instanceCount,this}toJSON(){const n=super.toJSON();return n.instanceCount=this.instanceCount,n.isInstancedBufferGeometry=!0,n}}class rC extends Cr{constructor(n){super(n)}load(n,r,c,d){const m=this,_=new ya(m.manager);_.setPath(m.path),_.setRequestHeader(m.requestHeader),_.setWithCredentials(m.withCredentials),_.load(n,function(S){try{r(m.parse(JSON.parse(S)))}catch(T){d?d(T):console.error(T),m.manager.itemError(n)}},c,d)}parse(n){const r={},c={};function d(z,V){if(r[V]!==void 0)return r[V];const K=z.interleavedBuffers[V],$=m(z,K.buffer),oe=au(K.type,$),se=new Em(oe,K.stride);return se.uuid=K.uuid,r[V]=se,se}function m(z,V){if(c[V]!==void 0)return c[V];const K=z.arrayBuffers[V],$=new Uint32Array(K).buffer;return c[V]=$,$}const _=n.isInstancedBufferGeometry?new sC:new pi,S=n.data.index;if(S!==void 0){const z=au(S.type,S.array);_.setIndex(new Wi(z,1))}const T=n.data.attributes;for(const z in T){const V=T[z];let Y;if(V.isInterleavedBufferAttribute){const K=d(n.data,V.data);Y=new ic(K,V.itemSize,V.offset,V.normalized)}else{const K=au(V.type,V.array),$=V.isInstancedBufferAttribute?Du:Wi;Y=new $(K,V.itemSize,V.normalized)}V.name!==void 0&&(Y.name=V.name),V.usage!==void 0&&Y.setUsage(V.usage),V.updateRange!==void 0&&(Y.updateRange.offset=V.updateRange.offset,Y.updateRange.count=V.updateRange.count),_.setAttribute(z,Y)}const A=n.data.morphAttributes;if(A)for(const z in A){const V=A[z],Y=[];for(let K=0,$=V.length;K<$;K++){const oe=V[K];let se;if(oe.isInterleavedBufferAttribute){const le=d(n.data,oe.data);se=new ic(le,oe.itemSize,oe.offset,oe.normalized)}else{const le=au(oe.type,oe.array);se=new Wi(le,oe.itemSize,oe.normalized)}oe.name!==void 0&&(se.name=oe.name),Y.push(se)}_.morphAttributes[z]=Y}n.data.morphTargetsRelative&&(_.morphTargetsRelative=!0);const L=n.data.groups||n.data.drawcalls||n.data.offsets;if(L!==void 0)for(let z=0,V=L.length;z!==V;++z){const Y=L[z];_.addGroup(Y.start,Y.count,Y.materialIndex)}const N=n.data.boundingSphere;if(N!==void 0){const z=new Re;N.center!==void 0&&z.fromArray(N.center),_.boundingSphere=new zo(z,N.radius)}return n.name&&(_.name=n.name),n.userData&&(_.userData=n.userData),_}}class oU extends Cr{constructor(n){super(n)}load(n,r,c,d){const m=this,_=this.path===""?Pb.extractUrlBase(n):this.path;this.resourcePath=this.resourcePath||_;const S=new ya(this.manager);S.setPath(this.path),S.setRequestHeader(this.requestHeader),S.setWithCredentials(this.withCredentials),S.load(n,function(T){let A=null;try{A=JSON.parse(T)}catch(L){d!==void 0&&d(L),console.error("THREE:ObjectLoader: Can't parse "+n+".",L.message);return}const I=A.metadata;if(I===void 0||I.type===void 0||I.type.toLowerCase()==="geometry"){d!==void 0&&d(new Error("THREE.ObjectLoader: Can't load "+n)),console.error("THREE.ObjectLoader: Can't load "+n);return}m.parse(A,r)},c,d)}async loadAsync(n,r){const c=this,d=this.path===""?Pb.extractUrlBase(n):this.path;this.resourcePath=this.resourcePath||d;const m=new ya(this.manager);m.setPath(this.path),m.setRequestHeader(this.requestHeader),m.setWithCredentials(this.withCredentials);const _=await m.loadAsync(n,r),S=JSON.parse(_),T=S.metadata;if(T===void 0||T.type===void 0||T.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+n);return await c.parseAsync(S)}parse(n,r){const c=this.parseAnimations(n.animations),d=this.parseShapes(n.shapes),m=this.parseGeometries(n.geometries,d),_=this.parseImages(n.images,function(){r!==void 0&&r(A)}),S=this.parseTextures(n.textures,_),T=this.parseMaterials(n.materials,S),A=this.parseObject(n.object,m,T,S,c),I=this.parseSkeletons(n.skeletons,A);if(this.bindSkeletons(A,I),r!==void 0){let L=!1;for(const N in _)if(_[N].data instanceof HTMLImageElement){L=!0;break}L===!1&&r(A)}return A}async parseAsync(n){const r=this.parseAnimations(n.animations),c=this.parseShapes(n.shapes),d=this.parseGeometries(n.geometries,c),m=await this.parseImagesAsync(n.images),_=this.parseTextures(n.textures,m),S=this.parseMaterials(n.materials,_),T=this.parseObject(n.object,d,S,_,r),A=this.parseSkeletons(n.skeletons,T);return this.bindSkeletons(T,A),T}parseShapes(n){const r={};if(n!==void 0)for(let c=0,d=n.length;c<d;c++){const m=new rc().fromJSON(n[c]);r[m.uuid]=m}return r}parseSkeletons(n,r){const c={},d={};if(r.traverse(function(m){m.isBone&&(d[m.uuid]=m)}),n!==void 0)for(let m=0,_=n.length;m<_;m++){const S=new km().fromJSON(n[m],d);c[S.uuid]=S}return c}parseGeometries(n,r){const c={};if(n!==void 0){const d=new rC;for(let m=0,_=n.length;m<_;m++){let S;const T=n[m];switch(T.type){case"BufferGeometry":case"InstancedBufferGeometry":S=d.parse(T);break;default:T.type in LE?S=LE[T.type].fromJSON(T,r):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${T.type}"`)}S.uuid=T.uuid,T.name!==void 0&&(S.name=T.name),T.userData!==void 0&&(S.userData=T.userData),c[T.uuid]=S}}return c}parseMaterials(n,r){const c={},d={};if(n!==void 0){const m=new Gm;m.setTextures(r);for(let _=0,S=n.length;_<S;_++){const T=n[_];c[T.uuid]===void 0&&(c[T.uuid]=m.parse(T)),d[T.uuid]=c[T.uuid]}}return d}parseAnimations(n){const r={};if(n!==void 0)for(let c=0;c<n.length;c++){const d=n[c],m=th.parse(d);r[m.uuid]=m}return r}parseImages(n,r){const c=this,d={};let m;function _(T){return c.manager.itemStart(T),m.load(T,function(){c.manager.itemEnd(T)},void 0,function(){c.manager.itemError(T),c.manager.itemEnd(T)})}function S(T){if(typeof T=="string"){const A=T,I=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(A)?A:c.resourcePath+A;return _(I)}else return T.data?{data:au(T.type,T.data),width:T.width,height:T.height}:null}if(n!==void 0&&n.length>0){const T=new Tb(r);m=new nh(T),m.setCrossOrigin(this.crossOrigin);for(let A=0,I=n.length;A<I;A++){const L=n[A],N=L.url;if(Array.isArray(N)){const z=[];for(let V=0,Y=N.length;V<Y;V++){const K=N[V],$=S(K);$!==null&&($ instanceof HTMLImageElement?z.push($):z.push(new Ou($.data,$.width,$.height)))}d[L.uuid]=new Zl(z)}else{const z=S(L.url);d[L.uuid]=new Zl(z)}}}return d}async parseImagesAsync(n){const r=this,c={};let d;async function m(_){if(typeof _=="string"){const S=_,T=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(S)?S:r.resourcePath+S;return await d.loadAsync(T)}else return _.data?{data:au(_.type,_.data),width:_.width,height:_.height}:null}if(n!==void 0&&n.length>0){d=new nh(this.manager),d.setCrossOrigin(this.crossOrigin);for(let _=0,S=n.length;_<S;_++){const T=n[_],A=T.url;if(Array.isArray(A)){const I=[];for(let L=0,N=A.length;L<N;L++){const z=A[L],V=await m(z);V!==null&&(V instanceof HTMLImageElement?I.push(V):I.push(new Ou(V.data,V.width,V.height)))}c[T.uuid]=new Zl(I)}else{const I=await m(T.url);c[T.uuid]=new Zl(I)}}}return c}parseTextures(n,r){function c(m,_){return typeof m=="number"?m:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",m),_[m])}const d={};if(n!==void 0)for(let m=0,_=n.length;m<_;m++){const S=n[m];S.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',S.uuid),r[S.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",S.image);const T=r[S.image],A=T.data;let I;Array.isArray(A)?(I=new Tf,A.length===6&&(I.needsUpdate=!0)):(A&&A.data?I=new Ou:I=new rs,A&&(I.needsUpdate=!0)),I.source=T,I.uuid=S.uuid,S.name!==void 0&&(I.name=S.name),S.mapping!==void 0&&(I.mapping=c(S.mapping,aU)),S.channel!==void 0&&(I.channel=S.channel),S.offset!==void 0&&I.offset.fromArray(S.offset),S.repeat!==void 0&&I.repeat.fromArray(S.repeat),S.center!==void 0&&I.center.fromArray(S.center),S.rotation!==void 0&&(I.rotation=S.rotation),S.wrap!==void 0&&(I.wrapS=c(S.wrap[0],oC),I.wrapT=c(S.wrap[1],oC)),S.format!==void 0&&(I.format=S.format),S.internalFormat!==void 0&&(I.internalFormat=S.internalFormat),S.type!==void 0&&(I.type=S.type),S.colorSpace!==void 0&&(I.colorSpace=S.colorSpace),S.encoding!==void 0&&(I.encoding=S.encoding),S.minFilter!==void 0&&(I.minFilter=c(S.minFilter,aC)),S.magFilter!==void 0&&(I.magFilter=c(S.magFilter,aC)),S.anisotropy!==void 0&&(I.anisotropy=S.anisotropy),S.flipY!==void 0&&(I.flipY=S.flipY),S.generateMipmaps!==void 0&&(I.generateMipmaps=S.generateMipmaps),S.premultiplyAlpha!==void 0&&(I.premultiplyAlpha=S.premultiplyAlpha),S.unpackAlignment!==void 0&&(I.unpackAlignment=S.unpackAlignment),S.userData!==void 0&&(I.userData=S.userData),d[S.uuid]=I}return d}parseObject(n,r,c,d,m){let _;function S(N){return r[N]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",N),r[N]}function T(N){if(N!==void 0){if(Array.isArray(N)){const z=[];for(let V=0,Y=N.length;V<Y;V++){const K=N[V];c[K]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",K),z.push(c[K])}return z}return c[N]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",N),c[N]}}function A(N){return d[N]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",N),d[N]}let I,L;switch(n.type){case"Scene":_=new qM,n.background!==void 0&&(Number.isInteger(n.background)?_.background=new vn(n.background):_.background=A(n.background)),n.environment!==void 0&&(_.environment=A(n.environment)),n.fog!==void 0&&(n.fog.type==="Fog"?_.fog=new Mm(n.fog.color,n.fog.near,n.fog.far):n.fog.type==="FogExp2"&&(_.fog=new xm(n.fog.color,n.fog.density))),n.backgroundBlurriness!==void 0&&(_.backgroundBlurriness=n.backgroundBlurriness),n.backgroundIntensity!==void 0&&(_.backgroundIntensity=n.backgroundIntensity);break;case"PerspectiveCamera":_=new Ps(n.fov,n.aspect,n.near,n.far),n.focus!==void 0&&(_.focus=n.focus),n.zoom!==void 0&&(_.zoom=n.zoom),n.filmGauge!==void 0&&(_.filmGauge=n.filmGauge),n.filmOffset!==void 0&&(_.filmOffset=n.filmOffset),n.view!==void 0&&(_.view=Object.assign({},n.view));break;case"OrthographicCamera":_=new bm(n.left,n.right,n.top,n.bottom,n.near,n.far),n.zoom!==void 0&&(_.zoom=n.zoom),n.view!==void 0&&(_.view=Object.assign({},n.view));break;case"AmbientLight":_=new tC(n.color,n.intensity);break;case"DirectionalLight":_=new eC(n.color,n.intensity);break;case"PointLight":_=new QE(n.color,n.intensity,n.distance,n.decay);break;case"RectAreaLight":_=new nC(n.color,n.intensity,n.width,n.height);break;case"SpotLight":_=new ZE(n.color,n.intensity,n.distance,n.angle,n.penumbra,n.decay);break;case"HemisphereLight":_=new jE(n.color,n.groundColor,n.intensity);break;case"LightProbe":_=new Wm().fromJSON(n);break;case"SkinnedMesh":I=S(n.geometry),L=T(n.material),_=new sE(I,L),n.bindMode!==void 0&&(_.bindMode=n.bindMode),n.bindMatrix!==void 0&&_.bindMatrix.fromArray(n.bindMatrix),n.skeleton!==void 0&&(_.skeleton=n.skeleton);break;case"Mesh":I=S(n.geometry),L=T(n.material),_=new ks(I,L);break;case"InstancedMesh":I=S(n.geometry),L=T(n.material);const N=n.count,z=n.instanceMatrix,V=n.instanceColor;_=new lE(I,L,N),_.instanceMatrix=new Du(new Float32Array(z.array),16),V!==void 0&&(_.instanceColor=new Du(new Float32Array(V.array),V.itemSize));break;case"LOD":_=new QM;break;case"Line":_=new al(S(n.geometry),T(n.material));break;case"LineLoop":_=new pE(S(n.geometry),T(n.material));break;case"LineSegments":_=new Vo(S(n.geometry),T(n.material));break;case"PointCloud":case"Points":_=new gE(S(n.geometry),T(n.material));break;case"Sprite":_=new ZM(T(n.material));break;case"Group":_=new Ru;break;case"Bone":_=new sb;break;default:_=new Ai}if(_.uuid=n.uuid,n.name!==void 0&&(_.name=n.name),n.matrix!==void 0?(_.matrix.fromArray(n.matrix),n.matrixAutoUpdate!==void 0&&(_.matrixAutoUpdate=n.matrixAutoUpdate),_.matrixAutoUpdate&&_.matrix.decompose(_.position,_.quaternion,_.scale)):(n.position!==void 0&&_.position.fromArray(n.position),n.rotation!==void 0&&_.rotation.fromArray(n.rotation),n.quaternion!==void 0&&_.quaternion.fromArray(n.quaternion),n.scale!==void 0&&_.scale.fromArray(n.scale)),n.up!==void 0&&_.up.fromArray(n.up),n.castShadow!==void 0&&(_.castShadow=n.castShadow),n.receiveShadow!==void 0&&(_.receiveShadow=n.receiveShadow),n.shadow&&(n.shadow.bias!==void 0&&(_.shadow.bias=n.shadow.bias),n.shadow.normalBias!==void 0&&(_.shadow.normalBias=n.shadow.normalBias),n.shadow.radius!==void 0&&(_.shadow.radius=n.shadow.radius),n.shadow.mapSize!==void 0&&_.shadow.mapSize.fromArray(n.shadow.mapSize),n.shadow.camera!==void 0&&(_.shadow.camera=this.parseObject(n.shadow.camera))),n.visible!==void 0&&(_.visible=n.visible),n.frustumCulled!==void 0&&(_.frustumCulled=n.frustumCulled),n.renderOrder!==void 0&&(_.renderOrder=n.renderOrder),n.userData!==void 0&&(_.userData=n.userData),n.layers!==void 0&&(_.layers.mask=n.layers),n.children!==void 0){const N=n.children;for(let z=0;z<N.length;z++)_.add(this.parseObject(N[z],r,c,d,m))}if(n.animations!==void 0){const N=n.animations;for(let z=0;z<N.length;z++){const V=N[z];_.animations.push(m[V])}}if(n.type==="LOD"){n.autoUpdate!==void 0&&(_.autoUpdate=n.autoUpdate);const N=n.levels;for(let z=0;z<N.length;z++){const V=N[z],Y=_.getObjectByProperty("uuid",V.object);Y!==void 0&&_.addLevel(Y,V.distance,V.hysteresis)}}return _}bindSkeletons(n,r){Object.keys(r).length!==0&&n.traverse(function(c){if(c.isSkinnedMesh===!0&&c.skeleton!==void 0){const d=r[c.skeleton];d===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",c.skeleton):c.bind(d,c.bindMatrix)}})}}const aU={UVMapping:Qe,CubeReflectionMapping:rt,CubeRefractionMapping:Je,EquirectangularReflectionMapping:Mt,EquirectangularRefractionMapping:yt,CubeUVReflectionMapping:We},oC={RepeatWrapping:_t,ClampToEdgeWrapping:Ut,MirroredRepeatWrapping:fn},aC={NearestFilter:Pe,NearestMipmapNearestFilter:$e,NearestMipmapLinearFilter:Fe,LinearFilter:Se,LinearMipmapNearestFilter:it,LinearMipmapLinearFilter:tn};class lU extends Cr{constructor(n){super(n),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(n){return this.options=n,this}load(n,r,c,d){n===void 0&&(n=""),this.path!==void 0&&(n=this.path+n),n=this.manager.resolveURL(n);const m=this,_=uc.get(n);if(_!==void 0)return m.manager.itemStart(n),setTimeout(function(){r&&r(_),m.manager.itemEnd(n)},0),_;const S={};S.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",S.headers=this.requestHeader,fetch(n,S).then(function(T){return T.blob()}).then(function(T){return createImageBitmap(T,Object.assign(m.options,{colorSpaceConversion:"none"}))}).then(function(T){uc.add(n,T),r&&r(T),m.manager.itemEnd(n)}).catch(function(T){d&&d(T),m.manager.itemError(n),m.manager.itemEnd(n)}),m.manager.itemStart(n)}}let Km;class Ib{static getContext(){return Km===void 0&&(Km=new(window.AudioContext||window.webkitAudioContext)),Km}static setContext(n){Km=n}}class cU extends Cr{constructor(n){super(n)}load(n,r,c,d){const m=this,_=new ya(this.manager);_.setResponseType("arraybuffer"),_.setPath(this.path),_.setRequestHeader(this.requestHeader),_.setWithCredentials(this.withCredentials),_.load(n,function(T){try{const A=T.slice(0);Ib.getContext().decodeAudioData(A,function(L){r(L)},S)}catch(A){S(A)}},c,d);function S(T){d?d(T):console.error(T),m.manager.itemError(n)}}}class uU extends Wm{constructor(n,r,c=1){super(void 0,c),this.isHemisphereLightProbe=!0;const d=new vn().set(n),m=new vn().set(r),_=new Re(d.r,d.g,d.b),S=new Re(m.r,m.g,m.b),T=Math.sqrt(Math.PI),A=T*Math.sqrt(.75);this.sh.coefficients[0].copy(_).add(S).multiplyScalar(T),this.sh.coefficients[1].copy(_).sub(S).multiplyScalar(A)}}class dU extends Wm{constructor(n,r=1){super(void 0,r),this.isAmbientLightProbe=!0;const c=new vn().set(n);this.sh.coefficients[0].set(c.r,c.g,c.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const lC=new li,cC=new li,dc=new li;class fU{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ps,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ps,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(n){const r=this._cache;if(r.focus!==n.focus||r.fov!==n.fov||r.aspect!==n.aspect*this.aspect||r.near!==n.near||r.far!==n.far||r.zoom!==n.zoom||r.eyeSep!==this.eyeSep){r.focus=n.focus,r.fov=n.fov,r.aspect=n.aspect*this.aspect,r.near=n.near,r.far=n.far,r.zoom=n.zoom,r.eyeSep=this.eyeSep,dc.copy(n.projectionMatrix);const d=r.eyeSep/2,m=d*r.near/r.focus,_=r.near*Math.tan(Yl*r.fov*.5)/r.zoom;let S,T;cC.elements[12]=-d,lC.elements[12]=d,S=-_*r.aspect+m,T=_*r.aspect+m,dc.elements[0]=2*r.near/(T-S),dc.elements[8]=(T+S)/(T-S),this.cameraL.projectionMatrix.copy(dc),S=-_*r.aspect-m,T=_*r.aspect-m,dc.elements[0]=2*r.near/(T-S),dc.elements[8]=(T+S)/(T-S),this.cameraR.projectionMatrix.copy(dc)}this.cameraL.matrixWorld.copy(n.matrixWorld).multiply(cC),this.cameraR.matrixWorld.copy(n.matrixWorld).multiply(lC)}}class uC{constructor(n=!0){this.autoStart=n,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=dC(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let n=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const r=dC();n=(r-this.oldTime)/1e3,this.oldTime=r,this.elapsedTime+=n}return n}}function dC(){return(typeof performance>"u"?Date:performance).now()}const fc=new Re,fC=new cr,hU=new Re,hc=new Re;class pU extends Ai{constructor(){super(),this.type="AudioListener",this.context=Ib.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new uC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(n){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=n,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(n){return this.gain.gain.setTargetAtTime(n,this.context.currentTime,.01),this}updateMatrixWorld(n){super.updateMatrixWorld(n);const r=this.context.listener,c=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(fc,fC,hU),hc.set(0,0,-1).applyQuaternion(fC),r.positionX){const d=this.context.currentTime+this.timeDelta;r.positionX.linearRampToValueAtTime(fc.x,d),r.positionY.linearRampToValueAtTime(fc.y,d),r.positionZ.linearRampToValueAtTime(fc.z,d),r.forwardX.linearRampToValueAtTime(hc.x,d),r.forwardY.linearRampToValueAtTime(hc.y,d),r.forwardZ.linearRampToValueAtTime(hc.z,d),r.upX.linearRampToValueAtTime(c.x,d),r.upY.linearRampToValueAtTime(c.y,d),r.upZ.linearRampToValueAtTime(c.z,d)}else r.setPosition(fc.x,fc.y,fc.z),r.setOrientation(hc.x,hc.y,hc.z,c.x,c.y,c.z)}}class hC extends Ai{constructor(n){super(),this.type="Audio",this.listener=n,this.context=n.context,this.gain=this.context.createGain(),this.gain.connect(n.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(n){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=n,this.connect(),this}setMediaElementSource(n){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(n),this.connect(),this}setMediaStreamSource(n){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(n),this.connect(),this}setBuffer(n){return this.buffer=n,this.sourceType="buffer",this.autoplay&&this.play(),this}play(n=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+n;const r=this.context.createBufferSource();return r.buffer=this.buffer,r.loop=this.loop,r.loopStart=this.loopStart,r.loopEnd=this.loopEnd,r.onended=this.onEnded.bind(this),r.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=r,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let n=1,r=this.filters.length;n<r;n++)this.filters[n-1].connect(this.filters[n]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let n=1,r=this.filters.length;n<r;n++)this.filters[n-1].disconnect(this.filters[n]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(n){return n||(n=[]),this._connected===!0?(this.disconnect(),this.filters=n.slice(),this.connect()):this.filters=n.slice(),this}setDetune(n){if(this.detune=n,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(n){return this.setFilters(n?[n]:[])}setPlaybackRate(n){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=n,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(n){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=n,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(n){return this.loopStart=n,this}setLoopEnd(n){return this.loopEnd=n,this}getVolume(){return this.gain.gain.value}setVolume(n){return this.gain.gain.setTargetAtTime(n,this.context.currentTime,.01),this}}const pc=new Re,pC=new cr,mU=new Re,mc=new Re;class gU extends hC{constructor(n){super(n),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(n){return this.panner.refDistance=n,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(n){return this.panner.rolloffFactor=n,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(n){return this.panner.distanceModel=n,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(n){return this.panner.maxDistance=n,this}setDirectionalCone(n,r,c){return this.panner.coneInnerAngle=n,this.panner.coneOuterAngle=r,this.panner.coneOuterGain=c,this}updateMatrixWorld(n){if(super.updateMatrixWorld(n),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(pc,pC,mU),mc.set(0,0,1).applyQuaternion(pC);const r=this.panner;if(r.positionX){const c=this.context.currentTime+this.listener.timeDelta;r.positionX.linearRampToValueAtTime(pc.x,c),r.positionY.linearRampToValueAtTime(pc.y,c),r.positionZ.linearRampToValueAtTime(pc.z,c),r.orientationX.linearRampToValueAtTime(mc.x,c),r.orientationY.linearRampToValueAtTime(mc.y,c),r.orientationZ.linearRampToValueAtTime(mc.z,c)}else r.setPosition(pc.x,pc.y,pc.z),r.setOrientation(mc.x,mc.y,mc.z)}}class vU{constructor(n,r=2048){this.analyser=n.context.createAnalyser(),this.analyser.fftSize=r,this.data=new Uint8Array(this.analyser.frequencyBinCount),n.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let n=0;const r=this.getFrequencyData();for(let c=0;c<r.length;c++)n+=r[c];return n/r.length}}class mC{constructor(n,r,c){this.binding=n,this.valueSize=c;let d,m,_;switch(r){case"quaternion":d=this._slerp,m=this._slerpAdditive,_=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(c*6),this._workIndex=5;break;case"string":case"bool":d=this._select,m=this._select,_=this._setAdditiveIdentityOther,this.buffer=new Array(c*5);break;default:d=this._lerp,m=this._lerpAdditive,_=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(c*5)}this._mixBufferRegion=d,this._mixBufferRegionAdditive=m,this._setIdentity=_,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(n,r){const c=this.buffer,d=this.valueSize,m=n*d+d;let _=this.cumulativeWeight;if(_===0){for(let S=0;S!==d;++S)c[m+S]=c[S];_=r}else{_+=r;const S=r/_;this._mixBufferRegion(c,m,0,S,d)}this.cumulativeWeight=_}accumulateAdditive(n){const r=this.buffer,c=this.valueSize,d=c*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(r,d,0,n,c),this.cumulativeWeightAdditive+=n}apply(n){const r=this.valueSize,c=this.buffer,d=n*r+r,m=this.cumulativeWeight,_=this.cumulativeWeightAdditive,S=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,m<1){const T=r*this._origIndex;this._mixBufferRegion(c,d,T,1-m,r)}_>0&&this._mixBufferRegionAdditive(c,d,this._addIndex*r,1,r);for(let T=r,A=r+r;T!==A;++T)if(c[T]!==c[T+r]){S.setValue(c,d);break}}saveOriginalState(){const n=this.binding,r=this.buffer,c=this.valueSize,d=c*this._origIndex;n.getValue(r,d);for(let m=c,_=d;m!==_;++m)r[m]=r[d+m%c];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const n=this.valueSize*3;this.binding.setValue(this.buffer,n)}_setAdditiveIdentityNumeric(){const n=this._addIndex*this.valueSize,r=n+this.valueSize;for(let c=n;c<r;c++)this.buffer[c]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const n=this._origIndex*this.valueSize,r=this._addIndex*this.valueSize;for(let c=0;c<this.valueSize;c++)this.buffer[r+c]=this.buffer[n+c]}_select(n,r,c,d,m){if(d>=.5)for(let _=0;_!==m;++_)n[r+_]=n[c+_]}_slerp(n,r,c,d){cr.slerpFlat(n,r,n,r,n,c,d)}_slerpAdditive(n,r,c,d,m){const _=this._workIndex*m;cr.multiplyQuaternionsFlat(n,_,n,r,n,c),cr.slerpFlat(n,r,n,r,n,_,d)}_lerp(n,r,c,d,m){const _=1-d;for(let S=0;S!==m;++S){const T=r+S;n[T]=n[T]*_+n[c+S]*d}}_lerpAdditive(n,r,c,d,m){for(let _=0;_!==m;++_){const S=r+_;n[S]=n[S]+n[c+_]*d}}}const Lb="\\[\\]\\.:\\/",yU=new RegExp("["+Lb+"]","g"),Nb="[^"+Lb+"]",bU="[^"+Lb.replace("\\.","")+"]",_U=/((?:WC+[\/:])*)/.source.replace("WC",Nb),wU=/(WCOD+)?/.source.replace("WCOD",bU),SU=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Nb),xU=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Nb),MU=new RegExp("^"+_U+wU+SU+xU+"$"),EU=["material","materials","bones","map"];class CU{constructor(n,r,c){const d=c||Ei.parseTrackName(r);this._targetGroup=n,this._bindings=n.subscribe_(r,d)}getValue(n,r){this.bind();const c=this._targetGroup.nCachedObjects_,d=this._bindings[c];d!==void 0&&d.getValue(n,r)}setValue(n,r){const c=this._bindings;for(let d=this._targetGroup.nCachedObjects_,m=c.length;d!==m;++d)c[d].setValue(n,r)}bind(){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,c=n.length;r!==c;++r)n[r].bind()}unbind(){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,c=n.length;r!==c;++r)n[r].unbind()}}class Ei{constructor(n,r,c){this.path=r,this.parsedPath=c||Ei.parseTrackName(r),this.node=Ei.findNode(n,this.parsedPath.nodeName),this.rootNode=n,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(n,r,c){return n&&n.isAnimationObjectGroup?new Ei.Composite(n,r,c):new Ei(n,r,c)}static sanitizeNodeName(n){return n.replace(/\s/g,"_").replace(yU,"")}static parseTrackName(n){const r=MU.exec(n);if(r===null)throw new Error("PropertyBinding: Cannot parse trackName: "+n);const c={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},d=c.nodeName&&c.nodeName.lastIndexOf(".");if(d!==void 0&&d!==-1){const m=c.nodeName.substring(d+1);EU.indexOf(m)!==-1&&(c.nodeName=c.nodeName.substring(0,d),c.objectName=m)}if(c.propertyName===null||c.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+n);return c}static findNode(n,r){if(r===void 0||r===""||r==="."||r===-1||r===n.name||r===n.uuid)return n;if(n.skeleton){const c=n.skeleton.getBoneByName(r);if(c!==void 0)return c}if(n.children){const c=function(m){for(let _=0;_<m.length;_++){const S=m[_];if(S.name===r||S.uuid===r)return S;const T=c(S.children);if(T)return T}return null},d=c(n.children);if(d)return d}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(n,r){n[r]=this.targetObject[this.propertyName]}_getValue_array(n,r){const c=this.resolvedProperty;for(let d=0,m=c.length;d!==m;++d)n[r++]=c[d]}_getValue_arrayElement(n,r){n[r]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(n,r){this.resolvedProperty.toArray(n,r)}_setValue_direct(n,r){this.targetObject[this.propertyName]=n[r]}_setValue_direct_setNeedsUpdate(n,r){this.targetObject[this.propertyName]=n[r],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(n,r){this.targetObject[this.propertyName]=n[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(n,r){const c=this.resolvedProperty;for(let d=0,m=c.length;d!==m;++d)c[d]=n[r++]}_setValue_array_setNeedsUpdate(n,r){const c=this.resolvedProperty;for(let d=0,m=c.length;d!==m;++d)c[d]=n[r++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(n,r){const c=this.resolvedProperty;for(let d=0,m=c.length;d!==m;++d)c[d]=n[r++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(n,r){this.resolvedProperty[this.propertyIndex]=n[r]}_setValue_arrayElement_setNeedsUpdate(n,r){this.resolvedProperty[this.propertyIndex]=n[r],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(n,r){this.resolvedProperty[this.propertyIndex]=n[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(n,r){this.resolvedProperty.fromArray(n,r)}_setValue_fromArray_setNeedsUpdate(n,r){this.resolvedProperty.fromArray(n,r),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(n,r){this.resolvedProperty.fromArray(n,r),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(n,r){this.bind(),this.getValue(n,r)}_setValue_unbound(n,r){this.bind(),this.setValue(n,r)}bind(){let n=this.node;const r=this.parsedPath,c=r.objectName,d=r.propertyName;let m=r.propertyIndex;if(n||(n=Ei.findNode(this.rootNode,r.nodeName),this.node=n),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!n){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(c){let A=r.objectIndex;switch(c){case"materials":if(!n.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!n.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}n=n.material.materials;break;case"bones":if(!n.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}n=n.skeleton.bones;for(let I=0;I<n.length;I++)if(n[I].name===A){A=I;break}break;case"map":if("map"in n){n=n.map;break}if(!n.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!n.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}n=n.material.map;break;default:if(n[c]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}n=n[c]}if(A!==void 0){if(n[A]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,n);return}n=n[A]}}const _=n[d];if(_===void 0){const A=r.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+A+"."+d+" but it wasn't found.",n);return}let S=this.Versioning.None;this.targetObject=n,n.needsUpdate!==void 0?S=this.Versioning.NeedsUpdate:n.matrixWorldNeedsUpdate!==void 0&&(S=this.Versioning.MatrixWorldNeedsUpdate);let T=this.BindingType.Direct;if(m!==void 0){if(d==="morphTargetInfluences"){if(!n.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!n.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}n.morphTargetDictionary[m]!==void 0&&(m=n.morphTargetDictionary[m])}T=this.BindingType.ArrayElement,this.resolvedProperty=_,this.propertyIndex=m}else _.fromArray!==void 0&&_.toArray!==void 0?(T=this.BindingType.HasFromToArray,this.resolvedProperty=_):Array.isArray(_)?(T=this.BindingType.EntireArray,this.resolvedProperty=_):this.propertyName=d;this.getValue=this.GetterByBindingType[T],this.setValue=this.SetterByBindingTypeAndVersioning[T][S]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ei.Composite=CU,Ei.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Ei.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Ei.prototype.GetterByBindingType=[Ei.prototype._getValue_direct,Ei.prototype._getValue_array,Ei.prototype._getValue_arrayElement,Ei.prototype._getValue_toArray],Ei.prototype.SetterByBindingTypeAndVersioning=[[Ei.prototype._setValue_direct,Ei.prototype._setValue_direct_setNeedsUpdate,Ei.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ei.prototype._setValue_array,Ei.prototype._setValue_array_setNeedsUpdate,Ei.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ei.prototype._setValue_arrayElement,Ei.prototype._setValue_arrayElement_setNeedsUpdate,Ei.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ei.prototype._setValue_fromArray,Ei.prototype._setValue_fromArray_setNeedsUpdate,Ei.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class TU{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Sr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const n={};this._indicesByUUID=n;for(let c=0,d=arguments.length;c!==d;++c)n[arguments[c].uuid]=c;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}add(){const n=this._objects,r=this._indicesByUUID,c=this._paths,d=this._parsedPaths,m=this._bindings,_=m.length;let S,T=n.length,A=this.nCachedObjects_;for(let I=0,L=arguments.length;I!==L;++I){const N=arguments[I],z=N.uuid;let V=r[z];if(V===void 0){V=T++,r[z]=V,n.push(N);for(let Y=0,K=_;Y!==K;++Y)m[Y].push(new Ei(N,c[Y],d[Y]))}else if(V<A){S=n[V];const Y=--A,K=n[Y];r[K.uuid]=V,n[V]=K,r[z]=Y,n[Y]=N;for(let $=0,oe=_;$!==oe;++$){const se=m[$],le=se[Y];let ye=se[V];se[V]=le,ye===void 0&&(ye=new Ei(N,c[$],d[$])),se[Y]=ye}}else n[V]!==S&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=A}remove(){const n=this._objects,r=this._indicesByUUID,c=this._bindings,d=c.length;let m=this.nCachedObjects_;for(let _=0,S=arguments.length;_!==S;++_){const T=arguments[_],A=T.uuid,I=r[A];if(I!==void 0&&I>=m){const L=m++,N=n[L];r[N.uuid]=I,n[I]=N,r[A]=L,n[L]=T;for(let z=0,V=d;z!==V;++z){const Y=c[z],K=Y[L],$=Y[I];Y[I]=K,Y[L]=$}}}this.nCachedObjects_=m}uncache(){const n=this._objects,r=this._indicesByUUID,c=this._bindings,d=c.length;let m=this.nCachedObjects_,_=n.length;for(let S=0,T=arguments.length;S!==T;++S){const A=arguments[S],I=A.uuid,L=r[I];if(L!==void 0)if(delete r[I],L<m){const N=--m,z=n[N],V=--_,Y=n[V];r[z.uuid]=L,n[L]=z,r[Y.uuid]=N,n[N]=Y,n.pop();for(let K=0,$=d;K!==$;++K){const oe=c[K],se=oe[N],le=oe[V];oe[L]=se,oe[N]=le,oe.pop()}}else{const N=--_,z=n[N];N>0&&(r[z.uuid]=L),n[L]=z,n.pop();for(let V=0,Y=d;V!==Y;++V){const K=c[V];K[L]=K[N],K.pop()}}}this.nCachedObjects_=m}subscribe_(n,r){const c=this._bindingsIndicesByPath;let d=c[n];const m=this._bindings;if(d!==void 0)return m[d];const _=this._paths,S=this._parsedPaths,T=this._objects,A=T.length,I=this.nCachedObjects_,L=new Array(A);d=m.length,c[n]=d,_.push(n),S.push(r),m.push(L);for(let N=I,z=T.length;N!==z;++N){const V=T[N];L[N]=new Ei(V,n,r)}return L}unsubscribe_(n){const r=this._bindingsIndicesByPath,c=r[n];if(c!==void 0){const d=this._paths,m=this._parsedPaths,_=this._bindings,S=_.length-1,T=_[S],A=n[S];r[A]=c,_[c]=T,_.pop(),m[c]=m[S],m.pop(),d[c]=d[S],d.pop()}}}class gC{constructor(n,r,c=null,d=r.blendMode){this._mixer=n,this._clip=r,this._localRoot=c,this.blendMode=d;const m=r.tracks,_=m.length,S=new Array(_),T={endingStart:jl,endingEnd:jl};for(let A=0;A!==_;++A){const I=m[A].createInterpolant(null);S[A]=I,I.settings=T}this._interpolantSettings=T,this._interpolants=S,this._propertyBindings=new Array(_),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=$x,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(n){return this._startTime=n,this}setLoop(n,r){return this.loop=n,this.repetitions=r,this}setEffectiveWeight(n){return this.weight=n,this._effectiveWeight=this.enabled?n:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(n){return this._scheduleFading(n,0,1)}fadeOut(n){return this._scheduleFading(n,1,0)}crossFadeFrom(n,r,c){if(n.fadeOut(r),this.fadeIn(r),c){const d=this._clip.duration,m=n._clip.duration,_=m/d,S=d/m;n.warp(1,_,r),this.warp(S,1,r)}return this}crossFadeTo(n,r,c){return n.crossFadeFrom(this,r,c)}stopFading(){const n=this._weightInterpolant;return n!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(n)),this}setEffectiveTimeScale(n){return this.timeScale=n,this._effectiveTimeScale=this.paused?0:n,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(n){return this.timeScale=this._clip.duration/n,this.stopWarping()}syncWith(n){return this.time=n.time,this.timeScale=n.timeScale,this.stopWarping()}halt(n){return this.warp(this._effectiveTimeScale,0,n)}warp(n,r,c){const d=this._mixer,m=d.time,_=this.timeScale;let S=this._timeScaleInterpolant;S===null&&(S=d._lendControlInterpolant(),this._timeScaleInterpolant=S);const T=S.parameterPositions,A=S.sampleValues;return T[0]=m,T[1]=m+c,A[0]=n/_,A[1]=r/_,this}stopWarping(){const n=this._timeScaleInterpolant;return n!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(n)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(n,r,c,d){if(!this.enabled){this._updateWeight(n);return}const m=this._startTime;if(m!==null){const T=(n-m)*c;T<0||c===0?r=0:(this._startTime=null,r=c*T)}r*=this._updateTimeScale(n);const _=this._updateTime(r),S=this._updateWeight(n);if(S>0){const T=this._interpolants,A=this._propertyBindings;switch(this.blendMode){case _y:for(let I=0,L=T.length;I!==L;++I)T[I].evaluate(_),A[I].accumulateAdditive(S);break;case qp:default:for(let I=0,L=T.length;I!==L;++I)T[I].evaluate(_),A[I].accumulate(d,S)}}}_updateWeight(n){let r=0;if(this.enabled){r=this.weight;const c=this._weightInterpolant;if(c!==null){const d=c.evaluate(n)[0];r*=d,n>c.parameterPositions[1]&&(this.stopFading(),d===0&&(this.enabled=!1))}}return this._effectiveWeight=r,r}_updateTimeScale(n){let r=0;if(!this.paused){r=this.timeScale;const c=this._timeScaleInterpolant;if(c!==null){const d=c.evaluate(n)[0];r*=d,n>c.parameterPositions[1]&&(this.stopWarping(),r===0?this.paused=!0:this.timeScale=r)}}return this._effectiveTimeScale=r,r}_updateTime(n){const r=this._clip.duration,c=this.loop;let d=this.time+n,m=this._loopCount;const _=c===Ux;if(n===0)return m===-1?d:_&&(m&1)===1?r-d:d;if(c===zx){m===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(d>=r)d=r;else if(d<0)d=0;else{this.time=d;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=d,this._mixer.dispatchEvent({type:"finished",action:this,direction:n<0?-1:1})}}else{if(m===-1&&(n>=0?(m=0,this._setEndings(!0,this.repetitions===0,_)):this._setEndings(this.repetitions===0,!0,_)),d>=r||d<0){const S=Math.floor(d/r);d-=r*S,m+=Math.abs(S);const T=this.repetitions-m;if(T<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,d=n>0?r:0,this.time=d,this._mixer.dispatchEvent({type:"finished",action:this,direction:n>0?1:-1});else{if(T===1){const A=n<0;this._setEndings(A,!A,_)}else this._setEndings(!1,!1,_);this._loopCount=m,this.time=d,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:S})}}else this.time=d;if(_&&(m&1)===1)return r-d}return d}_setEndings(n,r,c){const d=this._interpolantSettings;c?(d.endingStart=Xl,d.endingEnd=Xl):(n?d.endingStart=this.zeroSlopeAtStart?Xl:jl:d.endingStart=mf,r?d.endingEnd=this.zeroSlopeAtEnd?Xl:jl:d.endingEnd=mf)}_scheduleFading(n,r,c){const d=this._mixer,m=d.time;let _=this._weightInterpolant;_===null&&(_=d._lendControlInterpolant(),this._weightInterpolant=_);const S=_.parameterPositions,T=_.sampleValues;return S[0]=m,T[0]=r,S[1]=m+n,T[1]=c,this}}const AU=new Float32Array(1);class RU extends la{constructor(n){super(),this._root=n,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(n,r){const c=n._localRoot||this._root,d=n._clip.tracks,m=d.length,_=n._propertyBindings,S=n._interpolants,T=c.uuid,A=this._bindingsByRootAndName;let I=A[T];I===void 0&&(I={},A[T]=I);for(let L=0;L!==m;++L){const N=d[L],z=N.name;let V=I[z];if(V!==void 0)++V.referenceCount,_[L]=V;else{if(V=_[L],V!==void 0){V._cacheIndex===null&&(++V.referenceCount,this._addInactiveBinding(V,T,z));continue}const Y=r&&r._propertyBindings[L].binding.parsedPath;V=new mC(Ei.create(c,z,Y),N.ValueTypeName,N.getValueSize()),++V.referenceCount,this._addInactiveBinding(V,T,z),_[L]=V}S[L].resultBuffer=V.buffer}}_activateAction(n){if(!this._isActiveAction(n)){if(n._cacheIndex===null){const c=(n._localRoot||this._root).uuid,d=n._clip.uuid,m=this._actionsByClip[d];this._bindAction(n,m&&m.knownActions[0]),this._addInactiveAction(n,d,c)}const r=n._propertyBindings;for(let c=0,d=r.length;c!==d;++c){const m=r[c];m.useCount++===0&&(this._lendBinding(m),m.saveOriginalState())}this._lendAction(n)}}_deactivateAction(n){if(this._isActiveAction(n)){const r=n._propertyBindings;for(let c=0,d=r.length;c!==d;++c){const m=r[c];--m.useCount===0&&(m.restoreOriginalState(),this._takeBackBinding(m))}this._takeBackAction(n)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const n=this;this.stats={actions:{get total(){return n._actions.length},get inUse(){return n._nActiveActions}},bindings:{get total(){return n._bindings.length},get inUse(){return n._nActiveBindings}},controlInterpolants:{get total(){return n._controlInterpolants.length},get inUse(){return n._nActiveControlInterpolants}}}}_isActiveAction(n){const r=n._cacheIndex;return r!==null&&r<this._nActiveActions}_addInactiveAction(n,r,c){const d=this._actions,m=this._actionsByClip;let _=m[r];if(_===void 0)_={knownActions:[n],actionByRoot:{}},n._byClipCacheIndex=0,m[r]=_;else{const S=_.knownActions;n._byClipCacheIndex=S.length,S.push(n)}n._cacheIndex=d.length,d.push(n),_.actionByRoot[c]=n}_removeInactiveAction(n){const r=this._actions,c=r[r.length-1],d=n._cacheIndex;c._cacheIndex=d,r[d]=c,r.pop(),n._cacheIndex=null;const m=n._clip.uuid,_=this._actionsByClip,S=_[m],T=S.knownActions,A=T[T.length-1],I=n._byClipCacheIndex;A._byClipCacheIndex=I,T[I]=A,T.pop(),n._byClipCacheIndex=null;const L=S.actionByRoot,N=(n._localRoot||this._root).uuid;delete L[N],T.length===0&&delete _[m],this._removeInactiveBindingsForAction(n)}_removeInactiveBindingsForAction(n){const r=n._propertyBindings;for(let c=0,d=r.length;c!==d;++c){const m=r[c];--m.referenceCount===0&&this._removeInactiveBinding(m)}}_lendAction(n){const r=this._actions,c=n._cacheIndex,d=this._nActiveActions++,m=r[d];n._cacheIndex=d,r[d]=n,m._cacheIndex=c,r[c]=m}_takeBackAction(n){const r=this._actions,c=n._cacheIndex,d=--this._nActiveActions,m=r[d];n._cacheIndex=d,r[d]=n,m._cacheIndex=c,r[c]=m}_addInactiveBinding(n,r,c){const d=this._bindingsByRootAndName,m=this._bindings;let _=d[r];_===void 0&&(_={},d[r]=_),_[c]=n,n._cacheIndex=m.length,m.push(n)}_removeInactiveBinding(n){const r=this._bindings,c=n.binding,d=c.rootNode.uuid,m=c.path,_=this._bindingsByRootAndName,S=_[d],T=r[r.length-1],A=n._cacheIndex;T._cacheIndex=A,r[A]=T,r.pop(),delete S[m],Object.keys(S).length===0&&delete _[d]}_lendBinding(n){const r=this._bindings,c=n._cacheIndex,d=this._nActiveBindings++,m=r[d];n._cacheIndex=d,r[d]=n,m._cacheIndex=c,r[c]=m}_takeBackBinding(n){const r=this._bindings,c=n._cacheIndex,d=--this._nActiveBindings,m=r[d];n._cacheIndex=d,r[d]=n,m._cacheIndex=c,r[c]=m}_lendControlInterpolant(){const n=this._controlInterpolants,r=this._nActiveControlInterpolants++;let c=n[r];return c===void 0&&(c=new Eb(new Float32Array(2),new Float32Array(2),1,AU),c.__cacheIndex=r,n[r]=c),c}_takeBackControlInterpolant(n){const r=this._controlInterpolants,c=n.__cacheIndex,d=--this._nActiveControlInterpolants,m=r[d];n.__cacheIndex=d,r[d]=n,m.__cacheIndex=c,r[c]=m}clipAction(n,r,c){const d=r||this._root,m=d.uuid;let _=typeof n=="string"?th.findByName(d,n):n;const S=_!==null?_.uuid:n,T=this._actionsByClip[S];let A=null;if(c===void 0&&(_!==null?c=_.blendMode:c=qp),T!==void 0){const L=T.actionByRoot[m];if(L!==void 0&&L.blendMode===c)return L;A=T.knownActions[0],_===null&&(_=A._clip)}if(_===null)return null;const I=new gC(this,_,r,c);return this._bindAction(I,A),this._addInactiveAction(I,S,m),I}existingAction(n,r){const c=r||this._root,d=c.uuid,m=typeof n=="string"?th.findByName(c,n):n,_=m?m.uuid:n,S=this._actionsByClip[_];return S!==void 0&&S.actionByRoot[d]||null}stopAllAction(){const n=this._actions,r=this._nActiveActions;for(let c=r-1;c>=0;--c)n[c].stop();return this}update(n){n*=this.timeScale;const r=this._actions,c=this._nActiveActions,d=this.time+=n,m=Math.sign(n),_=this._accuIndex^=1;for(let A=0;A!==c;++A)r[A]._update(d,n,m,_);const S=this._bindings,T=this._nActiveBindings;for(let A=0;A!==T;++A)S[A].apply(_);return this}setTime(n){this.time=0;for(let r=0;r<this._actions.length;r++)this._actions[r].time=0;return this.update(n)}getRoot(){return this._root}uncacheClip(n){const r=this._actions,c=n.uuid,d=this._actionsByClip,m=d[c];if(m!==void 0){const _=m.knownActions;for(let S=0,T=_.length;S!==T;++S){const A=_[S];this._deactivateAction(A);const I=A._cacheIndex,L=r[r.length-1];A._cacheIndex=null,A._byClipCacheIndex=null,L._cacheIndex=I,r[I]=L,r.pop(),this._removeInactiveBindingsForAction(A)}delete d[c]}}uncacheRoot(n){const r=n.uuid,c=this._actionsByClip;for(const _ in c){const S=c[_].actionByRoot,T=S[r];T!==void 0&&(this._deactivateAction(T),this._removeInactiveAction(T))}const d=this._bindingsByRootAndName,m=d[r];if(m!==void 0)for(const _ in m){const S=m[_];S.restoreOriginalState(),this._removeInactiveBinding(S)}}uncacheAction(n,r){const c=this.existingAction(n,r);c!==null&&(this._deactivateAction(c),this._removeInactiveAction(c))}}class Ob{constructor(n){this.value=n}clone(){return new Ob(this.value.clone===void 0?this.value:this.value.clone())}}let kU=0;class PU extends la{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:kU++}),this.name="",this.usage=gf,this.uniforms=[]}add(n){return this.uniforms.push(n),this}remove(n){const r=this.uniforms.indexOf(n);return r!==-1&&this.uniforms.splice(r,1),this}setName(n){return this.name=n,this}setUsage(n){return this.usage=n,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(n){this.name=n.name,this.usage=n.usage;const r=n.uniforms;this.uniforms.length=0;for(let c=0,d=r.length;c<d;c++)this.uniforms.push(r[c].clone());return this}clone(){return new this.constructor().copy(this)}}class IU extends Em{constructor(n,r,c=1){super(n,r),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=c}copy(n){return super.copy(n),this.meshPerAttribute=n.meshPerAttribute,this}clone(n){const r=super.clone(n);return r.meshPerAttribute=this.meshPerAttribute,r}toJSON(n){const r=super.toJSON(n);return r.isInstancedInterleavedBuffer=!0,r.meshPerAttribute=this.meshPerAttribute,r}}class LU{constructor(n,r,c,d,m){this.isGLBufferAttribute=!0,this.name="",this.buffer=n,this.type=r,this.itemSize=c,this.elementSize=d,this.count=m,this.version=0}set needsUpdate(n){n===!0&&this.version++}setBuffer(n){return this.buffer=n,this}setType(n,r){return this.type=n,this.elementSize=r,this}setItemSize(n){return this.itemSize=n,this}setCount(n){return this.count=n,this}}class NU{constructor(n,r,c=0,d=1/0){this.ray=new Sf(n,r),this.near=c,this.far=d,this.camera=null,this.layers=new nm,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(n,r){this.ray.set(n,r)}setFromCamera(n,r){r.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(r.matrixWorld),this.ray.direction.set(n.x,n.y,.5).unproject(r).sub(this.ray.origin).normalize(),this.camera=r):r.isOrthographicCamera?(this.ray.origin.set(n.x,n.y,(r.near+r.far)/(r.near-r.far)).unproject(r),this.ray.direction.set(0,0,-1).transformDirection(r.matrixWorld),this.camera=r):console.error("THREE.Raycaster: Unsupported camera type: "+r.type)}intersectObject(n,r=!0,c=[]){return Db(n,this,c,r),c.sort(vC),c}intersectObjects(n,r=!0,c=[]){for(let d=0,m=n.length;d<m;d++)Db(n[d],this,c,r);return c.sort(vC),c}}function vC(y,n){return y.distance-n.distance}function Db(y,n,r,c){if(y.layers.test(n.layers)&&y.raycast(n,r),c===!0){const d=y.children;for(let m=0,_=d.length;m<_;m++)Db(d[m],n,r,!0)}}class OU{constructor(n=1,r=0,c=0){return this.radius=n,this.phi=r,this.theta=c,this}set(n,r,c){return this.radius=n,this.phi=r,this.theta=c,this}copy(n){return this.radius=n.radius,this.phi=n.phi,this.theta=n.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(n){return this.setFromCartesianCoords(n.x,n.y,n.z)}setFromCartesianCoords(n,r,c){return this.radius=Math.sqrt(n*n+r*r+c*c),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(n,c),this.phi=Math.acos(is(r/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class DU{constructor(n=1,r=0,c=0){return this.radius=n,this.theta=r,this.y=c,this}set(n,r,c){return this.radius=n,this.theta=r,this.y=c,this}copy(n){return this.radius=n.radius,this.theta=n.theta,this.y=n.y,this}setFromVector3(n){return this.setFromCartesianCoords(n.x,n.y,n.z)}setFromCartesianCoords(n,r,c){return this.radius=Math.sqrt(n*n+c*c),this.theta=Math.atan2(n,c),this.y=r,this}clone(){return new this.constructor().copy(this)}}const yC=new Vt;class FU{constructor(n=new Vt(1/0,1/0),r=new Vt(-1/0,-1/0)){this.isBox2=!0,this.min=n,this.max=r}set(n,r){return this.min.copy(n),this.max.copy(r),this}setFromPoints(n){this.makeEmpty();for(let r=0,c=n.length;r<c;r++)this.expandByPoint(n[r]);return this}setFromCenterAndSize(n,r){const c=yC.copy(r).multiplyScalar(.5);return this.min.copy(n).sub(c),this.max.copy(n).add(c),this}clone(){return new this.constructor().copy(this)}copy(n){return this.min.copy(n.min),this.max.copy(n.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(n){return this.isEmpty()?n.set(0,0):n.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(n){return this.isEmpty()?n.set(0,0):n.subVectors(this.max,this.min)}expandByPoint(n){return this.min.min(n),this.max.max(n),this}expandByVector(n){return this.min.sub(n),this.max.add(n),this}expandByScalar(n){return this.min.addScalar(-n),this.max.addScalar(n),this}containsPoint(n){return!(n.x<this.min.x||n.x>this.max.x||n.y<this.min.y||n.y>this.max.y)}containsBox(n){return this.min.x<=n.min.x&&n.max.x<=this.max.x&&this.min.y<=n.min.y&&n.max.y<=this.max.y}getParameter(n,r){return r.set((n.x-this.min.x)/(this.max.x-this.min.x),(n.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(n){return!(n.max.x<this.min.x||n.min.x>this.max.x||n.max.y<this.min.y||n.min.y>this.max.y)}clampPoint(n,r){return r.copy(n).clamp(this.min,this.max)}distanceToPoint(n){return this.clampPoint(n,yC).distanceTo(n)}intersect(n){return this.min.max(n.min),this.max.min(n.max),this.isEmpty()&&this.makeEmpty(),this}union(n){return this.min.min(n.min),this.max.max(n.max),this}translate(n){return this.min.add(n),this.max.add(n),this}equals(n){return n.min.equals(this.min)&&n.max.equals(this.max)}}const bC=new Re,qm=new Re;class BU{constructor(n=new Re,r=new Re){this.start=n,this.end=r}set(n,r){return this.start.copy(n),this.end.copy(r),this}copy(n){return this.start.copy(n.start),this.end.copy(n.end),this}getCenter(n){return n.addVectors(this.start,this.end).multiplyScalar(.5)}delta(n){return n.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(n,r){return this.delta(r).multiplyScalar(n).add(this.start)}closestPointToPointParameter(n,r){bC.subVectors(n,this.start),qm.subVectors(this.end,this.start);const c=qm.dot(qm);let m=qm.dot(bC)/c;return r&&(m=is(m,0,1)),m}closestPointToPoint(n,r,c){const d=this.closestPointToPointParameter(n,r);return this.delta(c).multiplyScalar(d).add(this.start)}applyMatrix4(n){return this.start.applyMatrix4(n),this.end.applyMatrix4(n),this}equals(n){return n.start.equals(this.start)&&n.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _C=new Re;class zU extends Ai{constructor(n,r){super(),this.light=n,this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="SpotLightHelper";const c=new pi,d=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let _=0,S=1,T=32;_<T;_++,S++){const A=_/T*Math.PI*2,I=S/T*Math.PI*2;d.push(Math.cos(A),Math.sin(A),1,Math.cos(I),Math.sin(I),1)}c.setAttribute("position",new An(d,3));const m=new js({fog:!1,toneMapped:!1});this.cone=new Vo(c,m),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const n=this.light.distance?this.light.distance:1e3,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),_C.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_C),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const cl=new Re,jm=new li,Fb=new li;class $U extends Vo{constructor(n){const r=wC(n),c=new pi,d=[],m=[],_=new vn(0,0,1),S=new vn(0,1,0);for(let A=0;A<r.length;A++){const I=r[A];I.parent&&I.parent.isBone&&(d.push(0,0,0),d.push(0,0,0),m.push(_.r,_.g,_.b),m.push(S.r,S.g,S.b))}c.setAttribute("position",new An(d,3)),c.setAttribute("color",new An(m,3));const T=new js({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(c,T),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=n,this.bones=r,this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(n){const r=this.bones,c=this.geometry,d=c.getAttribute("position");Fb.copy(this.root.matrixWorld).invert();for(let m=0,_=0;m<r.length;m++){const S=r[m];S.parent&&S.parent.isBone&&(jm.multiplyMatrices(Fb,S.matrixWorld),cl.setFromMatrixPosition(jm),d.setXYZ(_,cl.x,cl.y,cl.z),jm.multiplyMatrices(Fb,S.parent.matrixWorld),cl.setFromMatrixPosition(jm),d.setXYZ(_+1,cl.x,cl.y,cl.z),_+=2)}c.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(n)}dispose(){this.geometry.dispose(),this.material.dispose()}}function wC(y){const n=[];y.isBone===!0&&n.push(y);for(let r=0;r<y.children.length;r++)n.push.apply(n,wC(y.children[r]));return n}class UU extends ks{constructor(n,r,c){const d=new Uu(r,4,2),m=new sl({wireframe:!0,fog:!1,toneMapped:!1});super(d,m),this.light=n,this.color=c,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const VU=new Re,SC=new vn,xC=new vn;class HU extends Ai{constructor(n,r,c){super(),this.light=n,this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.color=c,this.type="HemisphereLightHelper";const d=new $u(r);d.rotateY(Math.PI*.5),this.material=new sl({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const m=d.getAttribute("position"),_=new Float32Array(m.count*3);d.setAttribute("color",new Wi(_,3)),this.add(new ks(d,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const n=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const r=n.geometry.getAttribute("color");SC.copy(this.light.color),xC.copy(this.light.groundColor);for(let c=0,d=r.count;c<d;c++){const m=c<d/2?SC:xC;r.setXYZ(c,m.r,m.g,m.b)}r.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),n.lookAt(VU.setFromMatrixPosition(this.light.matrixWorld).negate())}}class WU extends Vo{constructor(n=10,r=10,c=4473924,d=8947848){c=new vn(c),d=new vn(d);const m=r/2,_=n/r,S=n/2,T=[],A=[];for(let N=0,z=0,V=-S;N<=r;N++,V+=_){T.push(-S,0,V,S,0,V),T.push(V,0,-S,V,0,S);const Y=N===m?c:d;Y.toArray(A,z),z+=3,Y.toArray(A,z),z+=3,Y.toArray(A,z),z+=3,Y.toArray(A,z),z+=3}const I=new pi;I.setAttribute("position",new An(T,3)),I.setAttribute("color",new An(A,3));const L=new js({vertexColors:!0,toneMapped:!1});super(I,L),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class GU extends Vo{constructor(n=10,r=16,c=8,d=64,m=4473924,_=8947848){m=new vn(m),_=new vn(_);const S=[],T=[];if(r>1)for(let L=0;L<r;L++){const N=L/r*(Math.PI*2),z=Math.sin(N)*n,V=Math.cos(N)*n;S.push(0,0,0),S.push(z,0,V);const Y=L&1?m:_;T.push(Y.r,Y.g,Y.b),T.push(Y.r,Y.g,Y.b)}for(let L=0;L<c;L++){const N=L&1?m:_,z=n-n/c*L;for(let V=0;V<d;V++){let Y=V/d*(Math.PI*2),K=Math.sin(Y)*z,$=Math.cos(Y)*z;S.push(K,0,$),T.push(N.r,N.g,N.b),Y=(V+1)/d*(Math.PI*2),K=Math.sin(Y)*z,$=Math.cos(Y)*z,S.push(K,0,$),T.push(N.r,N.g,N.b)}}const A=new pi;A.setAttribute("position",new An(S,3)),A.setAttribute("color",new An(T,3));const I=new js({vertexColors:!0,toneMapped:!1});super(A,I),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const MC=new Re,Xm=new Re,EC=new Re;class KU extends Ai{constructor(n,r,c){super(),this.light=n,this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.color=c,this.type="DirectionalLightHelper",r===void 0&&(r=1);let d=new pi;d.setAttribute("position",new An([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));const m=new js({fog:!1,toneMapped:!1});this.lightPlane=new al(d,m),this.add(this.lightPlane),d=new pi,d.setAttribute("position",new An([0,0,0,0,0,1],3)),this.targetLine=new al(d,m),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),MC.setFromMatrixPosition(this.light.matrixWorld),Xm.setFromMatrixPosition(this.light.target.matrixWorld),EC.subVectors(Xm,MC),this.lightPlane.lookAt(Xm),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Xm),this.targetLine.scale.z=EC.length()}}const Ym=new Re,ss=new mm;class qU extends Vo{constructor(n){const r=new pi,c=new js({color:16777215,vertexColors:!0,toneMapped:!1}),d=[],m=[],_={};S("n1","n2"),S("n2","n4"),S("n4","n3"),S("n3","n1"),S("f1","f2"),S("f2","f4"),S("f4","f3"),S("f3","f1"),S("n1","f1"),S("n2","f2"),S("n3","f3"),S("n4","f4"),S("p","n1"),S("p","n2"),S("p","n3"),S("p","n4"),S("u1","u2"),S("u2","u3"),S("u3","u1"),S("c","t"),S("p","c"),S("cn1","cn2"),S("cn3","cn4"),S("cf1","cf2"),S("cf3","cf4");function S(V,Y){T(V),T(Y)}function T(V){d.push(0,0,0),m.push(0,0,0),_[V]===void 0&&(_[V]=[]),_[V].push(d.length/3-1)}r.setAttribute("position",new An(d,3)),r.setAttribute("color",new An(m,3)),super(r,c),this.type="CameraHelper",this.camera=n,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=_,this.update();const A=new vn(16755200),I=new vn(16711680),L=new vn(43775),N=new vn(16777215),z=new vn(3355443);this.setColors(A,I,L,N,z)}setColors(n,r,c,d,m){const S=this.geometry.getAttribute("color");S.setXYZ(0,n.r,n.g,n.b),S.setXYZ(1,n.r,n.g,n.b),S.setXYZ(2,n.r,n.g,n.b),S.setXYZ(3,n.r,n.g,n.b),S.setXYZ(4,n.r,n.g,n.b),S.setXYZ(5,n.r,n.g,n.b),S.setXYZ(6,n.r,n.g,n.b),S.setXYZ(7,n.r,n.g,n.b),S.setXYZ(8,n.r,n.g,n.b),S.setXYZ(9,n.r,n.g,n.b),S.setXYZ(10,n.r,n.g,n.b),S.setXYZ(11,n.r,n.g,n.b),S.setXYZ(12,n.r,n.g,n.b),S.setXYZ(13,n.r,n.g,n.b),S.setXYZ(14,n.r,n.g,n.b),S.setXYZ(15,n.r,n.g,n.b),S.setXYZ(16,n.r,n.g,n.b),S.setXYZ(17,n.r,n.g,n.b),S.setXYZ(18,n.r,n.g,n.b),S.setXYZ(19,n.r,n.g,n.b),S.setXYZ(20,n.r,n.g,n.b),S.setXYZ(21,n.r,n.g,n.b),S.setXYZ(22,n.r,n.g,n.b),S.setXYZ(23,n.r,n.g,n.b),S.setXYZ(24,r.r,r.g,r.b),S.setXYZ(25,r.r,r.g,r.b),S.setXYZ(26,r.r,r.g,r.b),S.setXYZ(27,r.r,r.g,r.b),S.setXYZ(28,r.r,r.g,r.b),S.setXYZ(29,r.r,r.g,r.b),S.setXYZ(30,r.r,r.g,r.b),S.setXYZ(31,r.r,r.g,r.b),S.setXYZ(32,c.r,c.g,c.b),S.setXYZ(33,c.r,c.g,c.b),S.setXYZ(34,c.r,c.g,c.b),S.setXYZ(35,c.r,c.g,c.b),S.setXYZ(36,c.r,c.g,c.b),S.setXYZ(37,c.r,c.g,c.b),S.setXYZ(38,d.r,d.g,d.b),S.setXYZ(39,d.r,d.g,d.b),S.setXYZ(40,m.r,m.g,m.b),S.setXYZ(41,m.r,m.g,m.b),S.setXYZ(42,m.r,m.g,m.b),S.setXYZ(43,m.r,m.g,m.b),S.setXYZ(44,m.r,m.g,m.b),S.setXYZ(45,m.r,m.g,m.b),S.setXYZ(46,m.r,m.g,m.b),S.setXYZ(47,m.r,m.g,m.b),S.setXYZ(48,m.r,m.g,m.b),S.setXYZ(49,m.r,m.g,m.b),S.needsUpdate=!0}update(){const n=this.geometry,r=this.pointMap,c=1,d=1;ss.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),os("c",r,n,ss,0,0,-1),os("t",r,n,ss,0,0,1),os("n1",r,n,ss,-c,-d,-1),os("n2",r,n,ss,c,-d,-1),os("n3",r,n,ss,-c,d,-1),os("n4",r,n,ss,c,d,-1),os("f1",r,n,ss,-c,-d,1),os("f2",r,n,ss,c,-d,1),os("f3",r,n,ss,-c,d,1),os("f4",r,n,ss,c,d,1),os("u1",r,n,ss,c*.7,d*1.1,-1),os("u2",r,n,ss,-c*.7,d*1.1,-1),os("u3",r,n,ss,0,d*2,-1),os("cf1",r,n,ss,-c,0,1),os("cf2",r,n,ss,c,0,1),os("cf3",r,n,ss,0,-d,1),os("cf4",r,n,ss,0,d,1),os("cn1",r,n,ss,-c,0,-1),os("cn2",r,n,ss,c,0,-1),os("cn3",r,n,ss,0,-d,-1),os("cn4",r,n,ss,0,d,-1),n.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function os(y,n,r,c,d,m,_){Ym.set(d,m,_).unproject(c);const S=n[y];if(S!==void 0){const T=r.getAttribute("position");for(let A=0,I=S.length;A<I;A++)T.setXYZ(S[A],Ym.x,Ym.y,Ym.z)}}const Zm=new Bo;class jU extends Vo{constructor(n,r=16776960){const c=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),d=new Float32Array(8*3),m=new pi;m.setIndex(new Wi(c,1)),m.setAttribute("position",new Wi(d,3)),super(m,new js({color:r,toneMapped:!1})),this.object=n,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(n){if(n!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Zm.setFromObject(this.object),Zm.isEmpty())return;const r=Zm.min,c=Zm.max,d=this.geometry.attributes.position,m=d.array;m[0]=c.x,m[1]=c.y,m[2]=c.z,m[3]=r.x,m[4]=c.y,m[5]=c.z,m[6]=r.x,m[7]=r.y,m[8]=c.z,m[9]=c.x,m[10]=r.y,m[11]=c.z,m[12]=c.x,m[13]=c.y,m[14]=r.z,m[15]=r.x,m[16]=c.y,m[17]=r.z,m[18]=r.x,m[19]=r.y,m[20]=r.z,m[21]=c.x,m[22]=r.y,m[23]=r.z,d.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(n){return this.object=n,this.update(),this}copy(n,r){return super.copy(n,r),this.object=n.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class XU extends Vo{constructor(n,r=16776960){const c=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),d=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],m=new pi;m.setIndex(new Wi(c,1)),m.setAttribute("position",new An(d,3)),super(m,new js({color:r,toneMapped:!1})),this.box=n,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(n){const r=this.box;r.isEmpty()||(r.getCenter(this.position),r.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(n))}dispose(){this.geometry.dispose(),this.material.dispose()}}class YU extends al{constructor(n,r=1,c=16776960){const d=c,m=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],_=new pi;_.setAttribute("position",new An(m,3)),_.computeBoundingSphere(),super(_,new js({color:d,toneMapped:!1})),this.type="PlaneHelper",this.plane=n,this.size=r;const S=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],T=new pi;T.setAttribute("position",new An(S,3)),T.computeBoundingSphere(),this.add(new ks(T,new sl({color:d,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(n){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(n)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const CC=new Re;let Jm,Bb;class ZU extends Ai{constructor(n=new Re(0,0,1),r=new Re(0,0,0),c=1,d=16776960,m=c*.2,_=m*.2){super(),this.type="ArrowHelper",Jm===void 0&&(Jm=new pi,Jm.setAttribute("position",new An([0,0,0,0,1,0],3)),Bb=new sc(0,.5,1,5,1),Bb.translate(0,-.5,0)),this.position.copy(r),this.line=new al(Jm,new js({color:d,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ks(Bb,new sl({color:d,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(n),this.setLength(c,m,_)}setDirection(n){if(n.y>.99999)this.quaternion.set(0,0,0,1);else if(n.y<-.99999)this.quaternion.set(1,0,0,0);else{CC.set(n.z,0,-n.x).normalize();const r=Math.acos(n.y);this.quaternion.setFromAxisAngle(CC,r)}}setLength(n,r=n*.2,c=r*.2){this.line.scale.set(1,Math.max(1e-4,n-r),1),this.line.updateMatrix(),this.cone.scale.set(c,r,c),this.cone.position.y=n,this.cone.updateMatrix()}setColor(n){this.line.material.color.set(n),this.cone.material.color.set(n)}copy(n){return super.copy(n,!1),this.line.copy(n.line),this.cone.copy(n.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class JU extends Vo{constructor(n=1){const r=[0,0,0,n,0,0,0,0,0,0,n,0,0,0,0,0,0,n],c=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],d=new pi;d.setAttribute("position",new An(r,3)),d.setAttribute("color",new An(c,3));const m=new js({vertexColors:!0,toneMapped:!1});super(d,m),this.type="AxesHelper"}setColors(n,r,c){const d=new vn,m=this.geometry.attributes.color.array;return d.set(n),d.toArray(m,0),d.toArray(m,3),d.set(r),d.toArray(m,6),d.toArray(m,9),d.set(c),d.toArray(m,12),d.toArray(m,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class QU{constructor(){this.type="ShapePath",this.color=new vn,this.subPaths=[],this.currentPath=null}moveTo(n,r){return this.currentPath=new Df,this.subPaths.push(this.currentPath),this.currentPath.moveTo(n,r),this}lineTo(n,r){return this.currentPath.lineTo(n,r),this}quadraticCurveTo(n,r,c,d){return this.currentPath.quadraticCurveTo(n,r,c,d),this}bezierCurveTo(n,r,c,d,m,_){return this.currentPath.bezierCurveTo(n,r,c,d,m,_),this}splineThru(n){return this.currentPath.splineThru(n),this}toShapes(n){function r($){const oe=[];for(let se=0,le=$.length;se<le;se++){const ye=$[se],Me=new rc;Me.curves=ye.curves,oe.push(Me)}return oe}function c($,oe){const se=oe.length;let le=!1;for(let ye=se-1,Me=0;Me<se;ye=Me++){let ze=oe[ye],Ke=oe[Me],de=Ke.x-ze.x,ke=Ke.y-ze.y;if(Math.abs(ke)>Number.EPSILON){if(ke<0&&(ze=oe[Me],de=-de,Ke=oe[ye],ke=-ke),$.y<ze.y||$.y>Ke.y)continue;if($.y===ze.y){if($.x===ze.x)return!0}else{const bt=ke*($.x-ze.x)-de*($.y-ze.y);if(bt===0)return!0;if(bt<0)continue;le=!le}}else{if($.y!==ze.y)continue;if(Ke.x<=$.x&&$.x<=ze.x||ze.x<=$.x&&$.x<=Ke.x)return!0}}return le}const d=Ho.isClockWise,m=this.subPaths;if(m.length===0)return[];let _,S,T;const A=[];if(m.length===1)return S=m[0],T=new rc,T.curves=S.curves,A.push(T),A;let I=!d(m[0].getPoints());I=n?!I:I;const L=[],N=[];let z=[],V=0,Y;N[V]=void 0,z[V]=[];for(let $=0,oe=m.length;$<oe;$++)S=m[$],Y=S.getPoints(),_=d(Y),_=n?!_:_,_?(!I&&N[V]&&V++,N[V]={s:new rc,p:Y},N[V].s.curves=S.curves,I&&V++,z[V]=[]):z[V].push({h:S,p:Y[0]});if(!N[0])return r(m);if(N.length>1){let $=!1,oe=0;for(let se=0,le=N.length;se<le;se++)L[se]=[];for(let se=0,le=N.length;se<le;se++){const ye=z[se];for(let Me=0;Me<ye.length;Me++){const ze=ye[Me];let Ke=!0;for(let de=0;de<N.length;de++)c(ze.p,N[de].p)&&(se!==de&&oe++,Ke?(Ke=!1,L[de].push(ze)):$=!0);Ke&&L[se].push(ze)}}oe>0&&$===!1&&(z=L)}let K;for(let $=0,oe=N.length;$<oe;$++){T=N[$].s,A.push(T),K=z[$];for(let se=0,le=K.length;se<le;se++)T.holes.push(K[se].h)}return A}}class e8 extends rl{constructor(n,r,c,d,m,_){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(n,r,c,d,m,_)}}class t8 extends Ff{constructor(n,r,c,d){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(n,r,c,d)}}class n8 extends Bf{constructor(n,r,c,d){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(n,r,c,d)}}class i8 extends zf{constructor(n,r,c,d,m,_,S){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(n,r,c,d,m,_,S)}}class s8 extends sc{constructor(n,r,c,d,m,_,S,T){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(n,r,c,d,m,_,S,T)}}class r8 extends $f{constructor(n,r){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(n,r)}}class o8 extends Wf{constructor(n,r){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(n,r)}}class a8 extends Gf{constructor(n,r){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(n,r)}}class l8 extends Bu{constructor(n,r,c,d){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(n,r,c,d)}}class c8 extends $u{constructor(n,r){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(n,r)}}class u8 extends Eu{constructor(n,r,c,d){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(n,r,c,d)}}class d8 extends ga{constructor(n,r,c,d){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(n,r,c,d)}}class f8 extends Kf{constructor(n,r,c,d,m,_){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(n,r,c,d,m,_)}}class h8 extends qf{constructor(n,r){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(n,r)}}class p8 extends Uu{constructor(n,r,c,d,m,_,S){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(n,r,c,d,m,_,S)}}class m8 extends jf{constructor(n,r){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(n,r)}}class g8 extends Xf{constructor(n,r,c,d,m){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(n,r,c,d,m)}}class v8 extends Yf{constructor(n,r,c,d,m,_){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(n,r,c,d,m,_)}}class y8 extends Zf{constructor(n,r,c,d,m){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(n,r,c,d,m)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:t}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=t),e.ACESFilmicToneMapping=He,e.AddEquation=F,e.AddOperation=ue,e.AdditiveAnimationBlendMode=_y,e.AdditiveBlending=k,e.AlphaFormat=wr,e.AlwaysDepth=Ce,e.AlwaysStencilFunc=Gx,e.AmbientLight=tC,e.AmbientLightProbe=dU,e.AnimationAction=gC,e.AnimationClip=th,e.AnimationLoader=J$,e.AnimationMixer=RU,e.AnimationObjectGroup=TU,e.AnimationUtils=j$,e.ArcCurve=yE,e.ArrayCamera=HM,e.ArrowHelper=ZU,e.Audio=hC,e.AudioAnalyser=vU,e.AudioContext=Ib,e.AudioListener=pU,e.AudioLoader=cU,e.AxesHelper=JU,e.BackSide=w,e.BasicDepthPacking=Vx,e.BasicShadowMap=f,e.Bone=sb,e.BooleanKeyframeTrack=lc,e.Box2=FU,e.Box3=Bo,e.Box3Helper=XU,e.BoxBufferGeometry=e8,e.BoxGeometry=rl,e.BoxHelper=jU,e.BufferAttribute=Wi,e.BufferGeometry=pi,e.BufferGeometryLoader=rC,e.ByteType=bn,e.Cache=uc,e.Camera=mm,e.CameraHelper=qU,e.CanvasTexture=y$,e.CapsuleBufferGeometry=t8,e.CapsuleGeometry=Ff,e.CatmullRomCurve3=bE,e.CineonToneMapping=lt,e.CircleBufferGeometry=n8,e.CircleGeometry=Bf,e.ClampToEdgeWrapping=Ut,e.Clock=uC,e.Color=vn,e.ColorKeyframeTrack=Cb,e.ColorManagement=zr,e.CompressedArrayTexture=v$,e.CompressedTexture=lb,e.CompressedTextureLoader=Q$,e.ConeBufferGeometry=i8,e.ConeGeometry=zf,e.CubeCamera=pM,e.CubeReflectionMapping=rt,e.CubeRefractionMapping=Je,e.CubeTexture=Tf,e.CubeTextureLoader=eU,e.CubeUVReflectionMapping=We,e.CubicBezierCurve=hb,e.CubicBezierCurve3=wE,e.CubicInterpolant=WE,e.CullFaceBack=a,e.CullFaceFront=l,e.CullFaceFrontBack=u,e.CullFaceNone=o,e.Curve=ho,e.CurvePath=xE,e.CustomBlending=O,e.CustomToneMapping=ct,e.CylinderBufferGeometry=s8,e.CylinderGeometry=sc,e.Cylindrical=DU,e.Data3DTexture=ky,e.DataArrayTexture=Yp,e.DataTexture=Ou,e.DataTextureLoader=tU,e.DataUtils=aF,e.DecrementStencilOp=aD,e.DecrementWrapStencilOp=cD,e.DefaultLoadingManager=qE,e.DepthFormat=Ya,e.DepthStencilFormat=ql,e.DepthTexture=WM,e.DirectionalLight=eC,e.DirectionalLightHelper=KU,e.DiscreteInterpolant=GE,e.DisplayP3ColorSpace=Sy,e.DodecahedronBufferGeometry=r8,e.DodecahedronGeometry=$f,e.DoubleSide=M,e.DstAlphaFactor=W,e.DstColorFactor=J,e.DynamicCopyUsage=MD,e.DynamicDrawUsage=yD,e.DynamicReadUsage=wD,e.EdgesGeometry=ME,e.EllipseCurve=Om,e.EqualDepth=xe,e.EqualStencilFunc=hD,e.EquirectangularReflectionMapping=Mt,e.EquirectangularRefractionMapping=yt,e.Euler=xf,e.EventDispatcher=la,e.ExtrudeBufferGeometry=o8,e.ExtrudeGeometry=Wf,e.FileLoader=ya,e.Float16BufferAttribute=hF,e.Float32BufferAttribute=An,e.Float64BufferAttribute=pF,e.FloatType=st,e.Fog=Mm,e.FogExp2=xm,e.FramebufferTexture=g$,e.FrontSide=b,e.Frustum=vm,e.GLBufferAttribute=LU,e.GLSL1=CD,e.GLSL3=xy,e.GreaterDepth=ge,e.GreaterEqualDepth=Ie,e.GreaterEqualStencilFunc=vD,e.GreaterStencilFunc=mD,e.GridHelper=WU,e.Group=Ru,e.HalfFloatType=Kt,e.HemisphereLight=jE,e.HemisphereLightHelper=HU,e.HemisphereLightProbe=uU,e.IcosahedronBufferGeometry=a8,e.IcosahedronGeometry=Gf,e.ImageBitmapLoader=lU,e.ImageLoader=nh,e.ImageUtils=Ay,e.IncrementStencilOp=oD,e.IncrementWrapStencilOp=lD,e.InstancedBufferAttribute=Du,e.InstancedBufferGeometry=sC,e.InstancedInterleavedBuffer=IU,e.InstancedMesh=lE,e.Int16BufferAttribute=dF,e.Int32BufferAttribute=fF,e.Int8BufferAttribute=lF,e.IntType=ui,e.InterleavedBuffer=Em,e.InterleavedBufferAttribute=ic,e.Interpolant=Jf,e.InterpolateDiscrete=hf,e.InterpolateLinear=pf,e.InterpolateSmooth=Kp,e.InvertStencilOp=uD,e.KeepStencilOp=jp,e.KeyframeTrack=po,e.LOD=QM,e.LatheBufferGeometry=l8,e.LatheGeometry=Bu,e.Layers=nm,e.LessDepth=Ge,e.LessEqualDepth=Te,e.LessEqualStencilFunc=pD,e.LessStencilFunc=fD,e.Light=ll,e.LightProbe=Wm,e.Line=al,e.Line3=BU,e.LineBasicMaterial=js,e.LineCurve=Fm,e.LineCurve3=SE,e.LineDashedMaterial=VE,e.LineLoop=pE,e.LineSegments=Vo,e.LinearEncoding=wy,e.LinearFilter=Se,e.LinearInterpolant=Eb,e.LinearMipMapLinearFilter=Xe,e.LinearMipMapNearestFilter=vt,e.LinearMipmapLinearFilter=tn,e.LinearMipmapNearestFilter=it,e.LinearSRGBColorSpace=oo,e.LinearToneMapping=Ve,e.Loader=Cr,e.LoaderUtils=Pb,e.LoadingManager=Tb,e.LoopOnce=zx,e.LoopPingPong=Ux,e.LoopRepeat=$x,e.LuminanceAlphaFormat=Px,e.LuminanceFormat=kx,e.MOUSE=i,e.Material=Bs,e.MaterialLoader=Gm,e.MathUtils=$D,e.Matrix3=vi,e.Matrix4=li,e.MaxEquation=q,e.Mesh=ks,e.MeshBasicMaterial=sl,e.MeshDepthMaterial=Qy,e.MeshDistanceMaterial=eb,e.MeshLambertMaterial=$E,e.MeshMatcapMaterial=UE,e.MeshNormalMaterial=zE,e.MeshPhongMaterial=FE,e.MeshPhysicalMaterial=DE,e.MeshStandardMaterial=wb,e.MeshToonMaterial=BE,e.MinEquation=j,e.MirroredRepeatWrapping=fn,e.MixOperation=ut,e.MultiplyBlending=P,e.MultiplyOperation=Ue,e.NearestFilter=Pe,e.NearestMipMapLinearFilter=me,e.NearestMipMapNearestFilter=tt,e.NearestMipmapLinearFilter=Fe,e.NearestMipmapNearestFilter=$e,e.NeverDepth=he,e.NeverStencilFunc=dD,e.NoBlending=E,e.NoColorSpace=Qa,e.NoToneMapping=we,e.NormalAnimationBlendMode=qp,e.NormalBlending=C,e.NotEqualDepth=Le,e.NotEqualStencilFunc=gD,e.NumberKeyframeTrack=Qf,e.Object3D=Ai,e.ObjectLoader=oU,e.ObjectSpaceNormalMap=Wx,e.OctahedronBufferGeometry=c8,e.OctahedronGeometry=$u,e.OneFactor=Q,e.OneMinusDstAlphaFactor=ee,e.OneMinusDstColorFactor=pe,e.OneMinusSrcAlphaFactor=te,e.OneMinusSrcColorFactor=re,e.OrthographicCamera=bm,e.PCFShadowMap=p,e.PCFSoftShadowMap=g,e.PMREMGenerator=Xy,e.Path=Df,e.PerspectiveCamera=Ps,e.Plane=ol,e.PlaneBufferGeometry=u8,e.PlaneGeometry=Eu,e.PlaneHelper=YU,e.PointLight=QE,e.PointLightHelper=UU,e.Points=gE,e.PointsMaterial=ob,e.PolarGridHelper=GU,e.PolyhedronBufferGeometry=d8,e.PolyhedronGeometry=ga,e.PositionalAudio=gU,e.PropertyBinding=Ei,e.PropertyMixer=mC,e.QuadraticBezierCurve=pb,e.QuadraticBezierCurve3=mb,e.Quaternion=cr,e.QuaternionKeyframeTrack=Vu,e.QuaternionLinearInterpolant=KE,e.RED_GREEN_RGTC2_Format=yy,e.RED_RGTC1_Format=Bx,e.REVISION=t,e.RGBADepthPacking=Hx,e.RGBAFormat=Ss,e.RGBAIntegerFormat=Dx,e.RGBA_ASTC_10x10_Format=py,e.RGBA_ASTC_10x5_Format=dy,e.RGBA_ASTC_10x6_Format=fy,e.RGBA_ASTC_10x8_Format=hy,e.RGBA_ASTC_12x10_Format=my,e.RGBA_ASTC_12x12_Format=gy,e.RGBA_ASTC_4x4_Format=iy,e.RGBA_ASTC_5x4_Format=sy,e.RGBA_ASTC_5x5_Format=ry,e.RGBA_ASTC_6x5_Format=oy,e.RGBA_ASTC_6x6_Format=ay,e.RGBA_ASTC_8x5_Format=ly,e.RGBA_ASTC_8x6_Format=cy,e.RGBA_ASTC_8x8_Format=uy,e.RGBA_BPTC_Format=Gp,e.RGBA_ETC2_EAC_Format=ny,e.RGBA_PVRTC_2BPPV1_Format=ey,e.RGBA_PVRTC_4BPPV1_Format=Q0,e.RGBA_S3TC_DXT1_Format=Vp,e.RGBA_S3TC_DXT3_Format=Hp,e.RGBA_S3TC_DXT5_Format=Wp,e.RGB_ETC1_Format=Fx,e.RGB_ETC2_Format=ty,e.RGB_PVRTC_2BPPV1_Format=J0,e.RGB_PVRTC_4BPPV1_Format=Z0,e.RGB_S3TC_DXT1_Format=Up,e.RGFormat=Nx,e.RGIntegerFormat=Ox,e.RawShaderMaterial=OE,e.Ray=Sf,e.Raycaster=NU,e.RectAreaLight=nC,e.RedFormat=Ix,e.RedIntegerFormat=Lx,e.ReinhardToneMapping=Ye,e.RepeatWrapping=_t,e.ReplaceStencilOp=rD,e.ReverseSubtractEquation=H,e.RingBufferGeometry=f8,e.RingGeometry=Kf,e.SIGNED_RED_GREEN_RGTC2_Format=by,e.SIGNED_RED_RGTC1_Format=vy,e.SRGBColorSpace=ci,e.Scene=qM,e.ShaderChunk=fi,e.ShaderLib=fo,e.ShaderMaterial=Uo,e.ShadowMaterial=NE,e.Shape=rc,e.ShapeBufferGeometry=h8,e.ShapeGeometry=qf,e.ShapePath=QU,e.ShapeUtils=Ho,e.ShortType=wn,e.Skeleton=km,e.SkeletonHelper=$U,e.SkinnedMesh=sE,e.Source=Zl,e.Sphere=zo,e.SphereBufferGeometry=p8,e.SphereGeometry=Uu,e.Spherical=OU,e.SphericalHarmonics3=iC,e.SplineCurve=gb,e.SpotLight=ZE,e.SpotLightHelper=zU,e.Sprite=ZM,e.SpriteMaterial=nb,e.SrcAlphaFactor=ce,e.SrcAlphaSaturateFactor=Ee,e.SrcColorFactor=Z,e.StaticCopyUsage=xD,e.StaticDrawUsage=gf,e.StaticReadUsage=_D,e.StereoCamera=fU,e.StreamCopyUsage=ED,e.StreamDrawUsage=bD,e.StreamReadUsage=SD,e.StringKeyframeTrack=cc,e.SubtractEquation=G,e.SubtractiveBlending=R,e.TOUCH=s,e.TangentSpaceNormalMap=Ja,e.TetrahedronBufferGeometry=m8,e.TetrahedronGeometry=jf,e.Texture=rs,e.TextureLoader=nU,e.TorusBufferGeometry=g8,e.TorusGeometry=Xf,e.TorusKnotBufferGeometry=v8,e.TorusKnotGeometry=Yf,e.Triangle=ur,e.TriangleFanDrawMode=iD,e.TriangleStripDrawMode=nD,e.TrianglesDrawMode=tD,e.TubeBufferGeometry=y8,e.TubeGeometry=Zf,e.TwoPassDoubleSide=x,e.UVMapping=Qe,e.Uint16BufferAttribute=Vy,e.Uint32BufferAttribute=Hy,e.Uint8BufferAttribute=cF,e.Uint8ClampedBufferAttribute=uF,e.Uniform=Ob,e.UniformsGroup=PU,e.UniformsLib=ln,e.UniformsUtils=hM,e.UnsignedByteType=Ct,e.UnsignedInt248Type=qi,e.UnsignedIntType=Fi,e.UnsignedShort4444Type=Yn,e.UnsignedShort5551Type=ti,e.UnsignedShortType=Dn,e.VSMShadowMap=v,e.Vector2=Vt,e.Vector3=Re,e.Vector4=Li,e.VectorKeyframeTrack=eh,e.VideoTexture=m$,e.WebGL1Renderer=KM,e.WebGL3DRenderTarget=YD,e.WebGLArrayRenderTarget=XD,e.WebGLCubeRenderTarget=mM,e.WebGLMultipleRenderTargets=ZD,e.WebGLRenderTarget=ao,e.WebGLRenderer=GM,e.WebGLUtils=VM,e.WireframeGeometry=PE,e.WrapAroundEnding=mf,e.ZeroCurvatureEnding=jl,e.ZeroFactor=ie,e.ZeroSlopeEnding=Xl,e.ZeroStencilOp=sD,e._SRGBAFormat=Xp,e.sRGBEncoding=Za});bP(nxe).use(QSe).use(r3).component("router-view",PP).mount("#app")});export default ixe();
